const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./FilterAutocompleteInput-Dx85F6rx.js","./index-Bd1MzT5k.js","./ListApiDocs-B1zINxzb.js","./FieldsQueryParam-da4S7HfP.js","./ListApiDocs-ByASLUZu.css","./ViewApiDocs-DwPv-1WF.js","./CreateApiDocs-0uoAw-bM.js","./UpdateApiDocs-BpUzqh66.js","./AuthMethodsDocs-DQlXsP0u.js","./AuthWithPasswordDocs-vt5Xr2DZ.js","./AuthWithOAuth2Docs-CS1SFX8n.js","./AuthWithOtpDocs-Ci2_pkgH.js","./AuthRefreshDocs-B4I0yWqw.js","./CodeEditor-Bmd7XMbF.js","./Leaflet-CrPAIdDE.js","./Leaflet-DCQr6yJv.css"])))=>i.map(i=>d[i]);
var GI=Object.defineProperty;var YI=(n,e,t)=>e in n?GI(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Tn=(n,e,t)=>YI(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function t(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(r){if(r.ep)return;r.ep=!0;const l=t(r);fetch(r.href,l)}})();function ge(){}const Yc=n=>n;function kt(n,e){for(const t in e)n[t]=e[t];return n}function XI(n){return!!n&&(typeof n=="object"||typeof n=="function")&&typeof n.then=="function"}function KS(n){return n()}function lv(){return Object.create(null)}function it(n){n.forEach(KS)}function Kn(n){return typeof n=="function"}function We(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}let j1;function hr(n,e){return n===e?!0:(j1||(j1=document.createElement("a")),j1.href=e,n===j1.href)}function $h(n,e){return n!=n?e==e:n!==e}function ZI(n){return Object.keys(n).length===0}function $g(n,...e){if(n==null){for(const i of e)i(void 0);return ge}const t=n.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function VS(n){let e;return $g(n,t=>e=t)(),e}function Wt(n,e,t){n.$$.on_destroy.push($g(e,t))}function Zn(n,e,t,i){if(n){const r=GS(n,e,t,i);return n[0](r)}}function GS(n,e,t,i){return n[1]&&i?kt(t.ctx.slice(),n[1](i(e))):t.ctx}function Qn(n,e,t,i){if(n[2]&&i){const r=n[2](i(t));if(e.dirty===void 0)return r;if(typeof r=="object"){const l=[],s=Math.max(e.dirty.length,r.length);for(let o=0;o<s;o+=1)l[o]=e.dirty[o]|r[o];return l}return e.dirty|r}return e.dirty}function Jn(n,e,t,i,r,l){if(r){const s=GS(e,t,i,l);n.p(s,r)}}function ei(n){if(n.ctx.length>32){const e=[],t=n.ctx.length/32;for(let i=0;i<t;i++)e[i]=-1;return e}return-1}function ui(n){const e={};for(const t in n)t[0]!=="$"&&(e[t]=n[t]);return e}function rn(n,e){const t={};e=new Set(e);for(const i in n)!e.has(i)&&i[0]!=="$"&&(t[i]=n[i]);return t}function Ac(n){return n??""}function Cr(n,e,t){return n.set(t),e}function nt(n){return n&&Kn(n.destroy)?n.destroy:ge}function sv(n){const e=typeof n=="string"&&n.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[n,"px"]}const YS=typeof window<"u";let Hh=YS?()=>window.performance.now():()=>Date.now(),Hg=YS?n=>requestAnimationFrame(n):ge;const Au=new Set;function XS(n){Au.forEach(e=>{e.c(n)||(Au.delete(e),e.f())}),Au.size!==0&&Hg(XS)}function Bh(n){let e;return Au.size===0&&Hg(XS),{promise:new Promise(t=>{Au.add(e={c:n,f:t})}),abort(){Au.delete(e)}}}function T(n,e){n.appendChild(e)}function ZS(n){if(!n)return document;const e=n.getRootNode?n.getRootNode():n.ownerDocument;return e&&e.host?e:n.ownerDocument}function QI(n){const e=k("style");return e.textContent="/* empty */",JI(ZS(n),e),e.sheet}function JI(n,e){return T(n.head||n,e),e.sheet}function S(n,e,t){n.insertBefore(e,t||null)}function E(n){n.parentNode&&n.parentNode.removeChild(n)}function fn(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function k(n){return document.createElement(n)}function le(n){return document.createTextNode(n)}function D(){return le(" ")}function ze(){return le("")}function se(n,e,t,i){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t,i)}function ln(n){return function(e){return e.preventDefault(),n.call(this,e)}}function Ai(n){return function(e){return e.stopPropagation(),n.call(this,e)}}function Fu(n){return function(e){e.target===this&&n.call(this,e)}}function m(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}const eL=["width","height"];function El(n,e){const t=Object.getOwnPropertyDescriptors(n.__proto__);for(const i in e)e[i]==null?n.removeAttribute(i):i==="style"?n.style.cssText=e[i]:i==="__value"?n.value=n[i]=e[i]:t[i]&&t[i].set&&eL.indexOf(i)===-1?n[i]=e[i]:m(n,i,e[i])}function tL(n){let e;return{p(...t){e=t,e.forEach(i=>n.push(i))},r(){e.forEach(t=>n.splice(n.indexOf(t),1))}}}function wn(n){return n===""?null:+n}function nL(n){return Array.from(n.childNodes)}function Se(n,e){e=""+e,n.data!==e&&(n.data=e)}function He(n,e){n.value=e??""}function Bg(n,e,t,i){t==null?n.style.removeProperty(e):n.style.setProperty(e,t,"")}function he(n,e,t){n.classList.toggle(e,!!t)}function QS(n,e,{bubbles:t=!1,cancelable:i=!1}={}){return new CustomEvent(n,{detail:e,bubbles:t,cancelable:i})}function ri(n,e){return new n(e)}const lh=new Map;let sh=0;function iL(n){let e=5381,t=n.length;for(;t--;)e=(e<<5)-e^n.charCodeAt(t);return e>>>0}function rL(n,e){const t={stylesheet:QI(e),rules:{}};return lh.set(n,t),t}function Oc(n,e,t,i,r,l,s,o=0){const a=16.666/i;let u=`{
`;for(let b=0;b<=1;b+=a){const y=e+(t-e)*l(b);u+=b*100+`%{${s(y,1-y)}}
`}const f=u+`100% {${s(t,1-t)}}
}`,c=`__svelte_${iL(f)}_${o}`,h=ZS(n),{stylesheet:p,rules:_}=lh.get(h)||rL(h,n);_[c]||(_[c]=!0,p.insertRule(`@keyframes ${c} ${f}`,p.cssRules.length));const v=n.style.animation||"";return n.style.animation=`${v?`${v}, `:""}${c} ${i}ms linear ${r}ms 1 both`,sh+=1,c}function Nc(n,e){const t=(n.style.animation||"").split(", "),i=t.filter(e?l=>l.indexOf(e)<0:l=>l.indexOf("__svelte")===-1),r=t.length-i.length;r&&(n.style.animation=i.join(", "),sh-=r,sh||lL())}function lL(){Hg(()=>{sh||(lh.forEach(n=>{const{ownerNode:e}=n.stylesheet;e&&E(e)}),lh.clear())})}function sL(n,e,t,i){if(!e)return ge;const r=n.getBoundingClientRect();if(e.left===r.left&&e.right===r.right&&e.top===r.top&&e.bottom===r.bottom)return ge;const{delay:l=0,duration:s=300,easing:o=Yc,start:a=Hh()+l,end:u=a+s,tick:f=ge,css:c}=t(n,{from:e,to:r},i);let h=!0,p=!1,_;function v(){c&&(_=Oc(n,0,1,s,l,o,c)),l||(p=!0)}function b(){c&&Nc(n,_),h=!1}return Bh(y=>{if(!p&&y>=a&&(p=!0),p&&y>=u&&(f(1,0),b()),!h)return!1;if(p){const A=y-a,M=0+1*o(A/s);f(M,1-M)}return!0}),v(),f(0,1),b}function oL(n){const e=getComputedStyle(n);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:i}=e,r=n.getBoundingClientRect();n.style.position="absolute",n.style.width=t,n.style.height=i,JS(n,r)}}function JS(n,e){const t=n.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const i=getComputedStyle(n),r=i.transform==="none"?"":i.transform;n.style.transform=`${r} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}let Mc;function zs(n){Mc=n}function Xc(){if(!Mc)throw new Error("Function called outside component initialization");return Mc}function hi(n){Xc().$$.on_mount.push(n)}function eC(n){Xc().$$.after_update.push(n)}function Na(n){Xc().$$.on_destroy.push(n)}function Sn(){const n=Xc();return(e,t,{cancelable:i=!1}={})=>{const r=n.$$.callbacks[e];if(r){const l=QS(e,t,{cancelable:i});return r.slice().forEach(s=>{s.call(n,l)}),!l.defaultPrevented}return!0}}function ut(n,e){const t=n.$$.callbacks[e.type];t&&t.slice().forEach(i=>i.call(this,e))}const _u=[],ye=[];let Ou=[];const B0=[],tC=Promise.resolve();let x0=!1;function nC(){x0||(x0=!0,tC.then(xg))}function Ni(){return nC(),tC}function tn(n){Ou.push(n)}function Ye(n){B0.push(n)}const um=new Set;let ou=0;function xg(){if(ou!==0)return;const n=Mc;do{try{for(;ou<_u.length;){const e=_u[ou];ou++,zs(e),aL(e.$$)}}catch(e){throw _u.length=0,ou=0,e}for(zs(null),_u.length=0,ou=0;ye.length;)ye.pop()();for(let e=0;e<Ou.length;e+=1){const t=Ou[e];um.has(t)||(um.add(t),t())}Ou.length=0}while(_u.length);for(;B0.length;)B0.pop()();x0=!1,um.clear(),zs(n)}function aL(n){if(n.fragment!==null){n.update(),it(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(tn)}}function uL(n){const e=[],t=[];Ou.forEach(i=>n.indexOf(i)===-1?e.push(i):t.push(i)),t.forEach(i=>i()),Ou=e}let Ff;function Ug(){return Ff||(Ff=Promise.resolve(),Ff.then(()=>{Ff=null})),Ff}function va(n,e,t){n.dispatchEvent(QS(`${e?"intro":"outro"}${t}`))}const Ud=new Set;let ms;function Ne(){ms={r:0,c:[],p:ms}}function Me(){ms.r||it(ms.c),ms=ms.p}function F(n,e){n&&n.i&&(Ud.delete(n),n.i(e))}function x(n,e,t,i){if(n&&n.o){if(Ud.has(n))return;Ud.add(n),ms.c.push(()=>{Ud.delete(n),i&&(t&&n.d(1),i())}),n.o(e)}else i&&i()}const zg={duration:0};function iC(n,e,t){const i={direction:"in"};let r=e(n,t,i),l=!1,s,o,a=0;function u(){s&&Nc(n,s)}function f(){const{delay:h=0,duration:p=300,easing:_=Yc,tick:v=ge,css:b}=r||zg;b&&(s=Oc(n,0,1,p,h,_,b,a++)),v(0,1);const y=Hh()+h,A=y+p;o&&o.abort(),l=!0,tn(()=>va(n,!0,"start")),o=Bh(M=>{if(l){if(M>=A)return v(1,0),va(n,!0,"end"),u(),l=!1;if(M>=y){const N=_((M-y)/p);v(N,1-N)}}return l})}let c=!1;return{start(){c||(c=!0,Nc(n),Kn(r)?(r=r(i),Ug().then(f)):f())},invalidate(){c=!1},end(){l&&(u(),l=!1)}}}function qg(n,e,t){const i={direction:"out"};let r=e(n,t,i),l=!0,s;const o=ms;o.r+=1;let a;function u(){const{delay:f=0,duration:c=300,easing:h=Yc,tick:p=ge,css:_}=r||zg;_&&(s=Oc(n,1,0,c,f,h,_));const v=Hh()+f,b=v+c;tn(()=>va(n,!1,"start")),"inert"in n&&(a=n.inert,n.inert=!0),Bh(y=>{if(l){if(y>=b)return p(0,1),va(n,!1,"end"),--o.r||it(o.c),!1;if(y>=v){const A=h((y-v)/c);p(1-A,A)}}return l})}return Kn(r)?Ug().then(()=>{r=r(i),u()}):u(),{end(f){f&&"inert"in n&&(n.inert=a),f&&r.tick&&r.tick(1,0),l&&(s&&Nc(n,s),l=!1)}}}function Et(n,e,t,i){let l=e(n,t,{direction:"both"}),s=i?0:1,o=null,a=null,u=null,f;function c(){u&&Nc(n,u)}function h(_,v){const b=_.b-s;return v*=Math.abs(b),{a:s,b:_.b,d:b,duration:v,start:_.start,end:_.start+v,group:_.group}}function p(_){const{delay:v=0,duration:b=300,easing:y=Yc,tick:A=ge,css:M}=l||zg,N={start:Hh()+v,b:_};_||(N.group=ms,ms.r+=1),"inert"in n&&(_?f!==void 0&&(n.inert=f):(f=n.inert,n.inert=!0)),o||a?a=N:(M&&(c(),u=Oc(n,s,_,b,v,y,M)),_&&A(0,1),o=h(N,b),tn(()=>va(n,_,"start")),Bh(L=>{if(a&&L>a.start&&(o=h(a,b),a=null,va(n,o.b,"start"),M&&(c(),u=Oc(n,s,o.b,o.duration,0,y,l.css))),o){if(L>=o.end)A(s=o.b,1-s),va(n,o.b,"end"),a||(o.b?c():--o.group.r||it(o.group.c)),o=null;else if(L>=o.start){const I=L-o.start;s=o.a+o.d*y(I/o.duration),A(s,1-s)}}return!!(o||a)}))}return{run(_){Kn(l)?Ug().then(()=>{l=l({direction:_?"in":"out"}),p(_)}):p(_)},end(){c(),o=a=null}}}function ov(n,e){const t=e.token={};function i(r,l,s,o){if(e.token!==t)return;e.resolved=o;let a=e.ctx;s!==void 0&&(a=a.slice(),a[s]=o);const u=r&&(e.current=r)(a);let f=!1;e.block&&(e.blocks?e.blocks.forEach((c,h)=>{h!==l&&c&&(Ne(),x(c,1,1,()=>{e.blocks[h]===c&&(e.blocks[h]=null)}),Me())}):e.block.d(1),u.c(),F(u,1),u.m(e.mount(),e.anchor),f=!0),e.block=u,e.blocks&&(e.blocks[l]=u),f&&xg()}if(XI(n)){const r=Xc();if(n.then(l=>{zs(r),i(e.then,1,e.value,l),zs(null)},l=>{if(zs(r),i(e.catch,2,e.error,l),zs(null),!e.hasCatch)throw l}),e.current!==e.pending)return i(e.pending,0),!0}else{if(e.current!==e.then)return i(e.then,1,e.value,n),!0;e.resolved=n}}function fL(n,e,t){const i=e.slice(),{resolved:r}=n;n.current===n.then&&(i[n.value]=r),n.current===n.catch&&(i[n.error]=r),n.block.p(i,t)}function Re(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function Ol(n,e){n.d(1),e.delete(n.key)}function di(n,e){x(n,1,1,()=>{e.delete(n.key)})}function cL(n,e){n.f(),di(n,e)}function In(n,e,t,i,r,l,s,o,a,u,f,c){let h=n.length,p=l.length,_=h;const v={};for(;_--;)v[n[_].key]=_;const b=[],y=new Map,A=new Map,M=[];for(_=p;_--;){const R=c(r,l,_),$=t(R);let B=s.get($);B?M.push(()=>B.p(R,e)):(B=u($,R),B.c()),y.set($,b[_]=B),$ in v&&A.set($,Math.abs(_-v[$]))}const N=new Set,L=new Set;function I(R){F(R,1),R.m(o,f),s.set(R.key,R),f=R.first,p--}for(;h&&p;){const R=b[p-1],$=n[h-1],B=R.key,H=$.key;R===$?(f=R.first,h--,p--):y.has(H)?!s.has(B)||N.has(B)?I(R):L.has(H)?h--:A.get(B)>A.get(H)?(L.add(B),I(R)):(N.add(H),h--):(a($,s),h--)}for(;h--;){const R=n[h];y.has(R.key)||a(R,s)}for(;p;)I(b[p-1]);return it(M),b}function Ln(n,e){const t={},i={},r={$$scope:1};let l=n.length;for(;l--;){const s=n[l],o=e[l];if(o){for(const a in s)a in o||(i[a]=1);for(const a in o)r[a]||(t[a]=o[a],r[a]=1);n[l]=o}else for(const a in s)r[a]=1}for(const s in i)s in t||(t[s]=void 0);return t}function Wn(n){return typeof n=="object"&&n!==null?n:{}}function Ke(n,e,t){const i=n.$$.props[e];i!==void 0&&(n.$$.bound[i]=t,t(n.$$.ctx[i]))}function ee(n){n&&n.c()}function Q(n,e,t){const{fragment:i,after_update:r}=n.$$;i&&i.m(e,t),tn(()=>{const l=n.$$.on_mount.map(KS).filter(Kn);n.$$.on_destroy?n.$$.on_destroy.push(...l):it(l),n.$$.on_mount=[]}),r.forEach(tn)}function J(n,e){const t=n.$$;t.fragment!==null&&(uL(t.after_update),it(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function dL(n,e){n.$$.dirty[0]===-1&&(_u.push(n),nC(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function qe(n,e,t,i,r,l,s=null,o=[-1]){const a=Mc;zs(n);const u=n.$$={fragment:null,ctx:[],props:l,update:ge,not_equal:r,bound:lv(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:lv(),dirty:o,skip_bound:!1,root:e.target||a.$$.root};s&&s(u.root);let f=!1;if(u.ctx=t?t(n,e.props||{},(c,h,...p)=>{const _=p.length?p[0]:h;return u.ctx&&r(u.ctx[c],u.ctx[c]=_)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](_),f&&dL(n,c)),h}):[],u.update(),f=!0,it(u.before_update),u.fragment=i?i(u.ctx):!1,e.target){if(e.hydrate){const c=nL(e.target);u.fragment&&u.fragment.l(c),c.forEach(E)}else u.fragment&&u.fragment.c();e.intro&&F(n.$$.fragment),Q(n,e.target,e.anchor),xg()}zs(a)}class je{constructor(){Tn(this,"$$");Tn(this,"$$set")}$destroy(){J(this,1),this.$destroy=ge}$on(e,t){if(!Kn(t))return ge;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(t),()=>{const r=i.indexOf(t);r!==-1&&i.splice(r,1)}}$set(e){this.$$set&&!ZI(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const hL="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(hL);class Ma extends Error{}class pL extends Ma{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class mL extends Ma{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class gL extends Ma{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class Tu extends Ma{}class rC extends Ma{constructor(e){super(`Invalid unit ${e}`)}}class lr extends Ma{}class so extends Ma{constructor(){super("Zone is an abstract class")}}const It="numeric",Xl="short",al="long",oh={year:It,month:It,day:It},lC={year:It,month:Xl,day:It},_L={year:It,month:Xl,day:It,weekday:Xl},sC={year:It,month:al,day:It},oC={year:It,month:al,day:It,weekday:al},aC={hour:It,minute:It},uC={hour:It,minute:It,second:It},fC={hour:It,minute:It,second:It,timeZoneName:Xl},cC={hour:It,minute:It,second:It,timeZoneName:al},dC={hour:It,minute:It,hourCycle:"h23"},hC={hour:It,minute:It,second:It,hourCycle:"h23"},pC={hour:It,minute:It,second:It,hourCycle:"h23",timeZoneName:Xl},mC={hour:It,minute:It,second:It,hourCycle:"h23",timeZoneName:al},gC={year:It,month:It,day:It,hour:It,minute:It},_C={year:It,month:It,day:It,hour:It,minute:It,second:It},bC={year:It,month:Xl,day:It,hour:It,minute:It},vC={year:It,month:Xl,day:It,hour:It,minute:It,second:It},bL={year:It,month:Xl,day:It,weekday:Xl,hour:It,minute:It},yC={year:It,month:al,day:It,hour:It,minute:It,timeZoneName:Xl},kC={year:It,month:al,day:It,hour:It,minute:It,second:It,timeZoneName:Xl},TC={year:It,month:al,day:It,weekday:al,hour:It,minute:It,timeZoneName:al},wC={year:It,month:al,day:It,weekday:al,hour:It,minute:It,second:It,timeZoneName:al};class Zc{get type(){throw new so}get name(){throw new so}get ianaName(){return this.name}get isUniversal(){throw new so}offsetName(e,t){throw new so}formatOffset(e,t){throw new so}offset(e){throw new so}equals(e){throw new so}get isValid(){throw new so}}let fm=null;class xh extends Zc{static get instance(){return fm===null&&(fm=new xh),fm}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:t,locale:i}){return RC(e,t,i)}formatOffset(e,t){return sc(this.offset(e),t)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}const U0=new Map;function vL(n){let e=U0.get(n);return e===void 0&&(e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:n,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}),U0.set(n,e)),e}const yL={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function kL(n,e){const t=n.format(e).replace(/\u200E/g,""),i=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(t),[,r,l,s,o,a,u,f]=i;return[s,r,l,o,a,u,f]}function TL(n,e){const t=n.formatToParts(e),i=[];for(let r=0;r<t.length;r++){const{type:l,value:s}=t[r],o=yL[l];l==="era"?i[o]=s:un(o)||(i[o]=parseInt(s,10))}return i}const cm=new Map;class qs extends Zc{static create(e){let t=cm.get(e);return t===void 0&&cm.set(e,t=new qs(e)),t}static resetCache(){cm.clear(),U0.clear()}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=qs.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:t,locale:i}){return RC(e,t,i,this.name)}formatOffset(e,t){return sc(this.offset(e),t)}offset(e){if(!this.valid)return NaN;const t=new Date(e);if(isNaN(t))return NaN;const i=vL(this.name);let[r,l,s,o,a,u,f]=i.formatToParts?TL(i,t):kL(i,t);o==="BC"&&(r=-Math.abs(r)+1);const h=zh({year:r,month:l,day:s,hour:a===24?0:a,minute:u,second:f,millisecond:0});let p=+t;const _=p%1e3;return p-=_>=0?_:1e3+_,(h-p)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let av={};function wL(n,e={}){const t=JSON.stringify([n,e]);let i=av[t];return i||(i=new Intl.ListFormat(n,e),av[t]=i),i}const z0=new Map;function q0(n,e={}){const t=JSON.stringify([n,e]);let i=z0.get(t);return i===void 0&&(i=new Intl.DateTimeFormat(n,e),z0.set(t,i)),i}const j0=new Map;function EL(n,e={}){const t=JSON.stringify([n,e]);let i=j0.get(t);return i===void 0&&(i=new Intl.NumberFormat(n,e),j0.set(t,i)),i}const W0=new Map;function SL(n,e={}){const{base:t,...i}=e,r=JSON.stringify([n,i]);let l=W0.get(r);return l===void 0&&(l=new Intl.RelativeTimeFormat(n,e),W0.set(r,l)),l}let Jf=null;function CL(){return Jf||(Jf=new Intl.DateTimeFormat().resolvedOptions().locale,Jf)}const K0=new Map;function EC(n){let e=K0.get(n);return e===void 0&&(e=new Intl.DateTimeFormat(n).resolvedOptions(),K0.set(n,e)),e}const V0=new Map;function AL(n){let e=V0.get(n);if(!e){const t=new Intl.Locale(n);e="getWeekInfo"in t?t.getWeekInfo():t.weekInfo,"minimalDays"in e||(e={...SC,...e}),V0.set(n,e)}return e}function OL(n){const e=n.indexOf("-x-");e!==-1&&(n=n.substring(0,e));const t=n.indexOf("-u-");if(t===-1)return[n];{let i,r;try{i=q0(n).resolvedOptions(),r=n}catch{const a=n.substring(0,t);i=q0(a).resolvedOptions(),r=a}const{numberingSystem:l,calendar:s}=i;return[r,l,s]}}function NL(n,e,t){return(t||e)&&(n.includes("-u-")||(n+="-u"),t&&(n+=`-ca-${t}`),e&&(n+=`-nu-${e}`)),n}function ML(n){const e=[];for(let t=1;t<=12;t++){const i=Gt.utc(2009,t,1);e.push(n(i))}return e}function IL(n){const e=[];for(let t=1;t<=7;t++){const i=Gt.utc(2016,11,13+t);e.push(n(i))}return e}function W1(n,e,t,i){const r=n.listingMode();return r==="error"?null:r==="en"?t(e):i(e)}function LL(n){return n.numberingSystem&&n.numberingSystem!=="latn"?!1:n.numberingSystem==="latn"||!n.locale||n.locale.startsWith("en")||EC(n.locale).numberingSystem==="latn"}class DL{constructor(e,t,i){this.padTo=i.padTo||0,this.floor=i.floor||!1;const{padTo:r,floor:l,...s}=i;if(!t||Object.keys(s).length>0){const o={useGrouping:!1,...i};i.padTo>0&&(o.minimumIntegerDigits=i.padTo),this.inf=EL(e,o)}}format(e){if(this.inf){const t=this.floor?Math.floor(e):e;return this.inf.format(t)}else{const t=this.floor?Math.floor(e):Gg(e,3);return Ri(t,this.padTo)}}}class RL{constructor(e,t,i){this.opts=i,this.originalZone=void 0;let r;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const s=-1*(e.offset/60),o=s>=0?`Etc/GMT+${s}`:`Etc/GMT${s}`;e.offset!==0&&qs.create(o).valid?(r=o,this.dt=e):(r="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,r=e.zone.name):(r="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const l={...this.opts};l.timeZone=l.timeZone||r,this.dtf=q0(t,l)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(t=>{if(t.type==="timeZoneName"){const i=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...t,value:i}}else return t}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class PL{constructor(e,t,i){this.opts={style:"long",...i},!t&&LC()&&(this.rtf=SL(e,i))}format(e,t){return this.rtf?this.rtf.format(e,t):iD(t,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]}}const SC={firstDay:1,minimalDays:4,weekend:[6,7]};class jn{static fromOpts(e){return jn.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,t,i,r,l=!1){const s=e||Ti.defaultLocale,o=s||(l?"en-US":CL()),a=t||Ti.defaultNumberingSystem,u=i||Ti.defaultOutputCalendar,f=Y0(r)||Ti.defaultWeekSettings;return new jn(o,a,u,f,s)}static resetCache(){Jf=null,z0.clear(),j0.clear(),W0.clear(),K0.clear(),V0.clear()}static fromObject({locale:e,numberingSystem:t,outputCalendar:i,weekSettings:r}={}){return jn.create(e,t,i,r)}constructor(e,t,i,r,l){const[s,o,a]=OL(e);this.locale=s,this.numberingSystem=t||o||null,this.outputCalendar=i||a||null,this.weekSettings=r,this.intl=NL(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=l,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=LL(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),t=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&t?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:jn.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,Y0(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,t=!1){return W1(this,e,$C,()=>{const i=t?{month:e,day:"numeric"}:{month:e},r=t?"format":"standalone";return this.monthsCache[r][e]||(this.monthsCache[r][e]=ML(l=>this.extract(l,i,"month"))),this.monthsCache[r][e]})}weekdays(e,t=!1){return W1(this,e,xC,()=>{const i=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},r=t?"format":"standalone";return this.weekdaysCache[r][e]||(this.weekdaysCache[r][e]=IL(l=>this.extract(l,i,"weekday"))),this.weekdaysCache[r][e]})}meridiems(){return W1(this,void 0,()=>UC,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Gt.utc(2016,11,13,9),Gt.utc(2016,11,13,19)].map(t=>this.extract(t,e,"dayperiod"))}return this.meridiemCache})}eras(e){return W1(this,e,zC,()=>{const t={era:e};return this.eraCache[e]||(this.eraCache[e]=[Gt.utc(-40,1,1),Gt.utc(2017,1,1)].map(i=>this.extract(i,t,"era"))),this.eraCache[e]})}extract(e,t,i){const r=this.dtFormatter(e,t),l=r.formatToParts(),s=l.find(o=>o.type.toLowerCase()===i);return s?s.value:null}numberFormatter(e={}){return new DL(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,t={}){return new RL(e,this.intl,t)}relFormatter(e={}){return new PL(this.intl,this.isEnglish(),e)}listFormatter(e={}){return wL(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||EC(this.intl).locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:DC()?AL(this.locale):SC}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let dm=null;class Sr extends Zc{static get utcInstance(){return dm===null&&(dm=new Sr(0)),dm}static instance(e){return e===0?Sr.utcInstance:new Sr(e)}static parseSpecifier(e){if(e){const t=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(t)return new Sr(qh(t[1],t[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${sc(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${sc(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,t){return sc(this.fixed,t)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class FL extends Zc{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function To(n,e){if(un(n)||n===null)return e;if(n instanceof Zc)return n;if(zL(n)){const t=n.toLowerCase();return t==="default"?e:t==="local"||t==="system"?xh.instance:t==="utc"||t==="gmt"?Sr.utcInstance:Sr.parseSpecifier(t)||qs.create(n)}else return Co(n)?Sr.instance(n):typeof n=="object"&&"offset"in n&&typeof n.offset=="function"?n:new FL(n)}const jg={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},uv={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},$L=jg.hanidec.replace(/[\[|\]]/g,"").split("");function HL(n){let e=parseInt(n,10);if(isNaN(e)){e="";for(let t=0;t<n.length;t++){const i=n.charCodeAt(t);if(n[t].search(jg.hanidec)!==-1)e+=$L.indexOf(n[t]);else for(const r in uv){const[l,s]=uv[r];i>=l&&i<=s&&(e+=i-l)}}return parseInt(e,10)}else return e}const G0=new Map;function BL(){G0.clear()}function Ul({numberingSystem:n},e=""){const t=n||"latn";let i=G0.get(t);i===void 0&&(i=new Map,G0.set(t,i));let r=i.get(e);return r===void 0&&(r=new RegExp(`${jg[t]}${e}`),i.set(e,r)),r}let fv=()=>Date.now(),cv="system",dv=null,hv=null,pv=null,mv=60,gv,_v=null;class Ti{static get now(){return fv}static set now(e){fv=e}static set defaultZone(e){cv=e}static get defaultZone(){return To(cv,xh.instance)}static get defaultLocale(){return dv}static set defaultLocale(e){dv=e}static get defaultNumberingSystem(){return hv}static set defaultNumberingSystem(e){hv=e}static get defaultOutputCalendar(){return pv}static set defaultOutputCalendar(e){pv=e}static get defaultWeekSettings(){return _v}static set defaultWeekSettings(e){_v=Y0(e)}static get twoDigitCutoffYear(){return mv}static set twoDigitCutoffYear(e){mv=e%100}static get throwOnInvalid(){return gv}static set throwOnInvalid(e){gv=e}static resetCaches(){jn.resetCache(),qs.resetCache(),Gt.resetCache(),BL()}}class Kl{constructor(e,t){this.reason=e,this.explanation=t}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const CC=[0,31,59,90,120,151,181,212,243,273,304,334],AC=[0,31,60,91,121,152,182,213,244,274,305,335];function yl(n,e){return new Kl("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${n}, which is invalid`)}function Wg(n,e,t){const i=new Date(Date.UTC(n,e-1,t));n<100&&n>=0&&i.setUTCFullYear(i.getUTCFullYear()-1900);const r=i.getUTCDay();return r===0?7:r}function OC(n,e,t){return t+(Qc(n)?AC:CC)[e-1]}function NC(n,e){const t=Qc(n)?AC:CC,i=t.findIndex(l=>l<e),r=e-t[i];return{month:i+1,day:r}}function Kg(n,e){return(n-e+7)%7+1}function ah(n,e=4,t=1){const{year:i,month:r,day:l}=n,s=OC(i,r,l),o=Kg(Wg(i,r,l),t);let a=Math.floor((s-o+14-e)/7),u;return a<1?(u=i-1,a=Ic(u,e,t)):a>Ic(i,e,t)?(u=i+1,a=1):u=i,{weekYear:u,weekNumber:a,weekday:o,...jh(n)}}function bv(n,e=4,t=1){const{weekYear:i,weekNumber:r,weekday:l}=n,s=Kg(Wg(i,1,e),t),o=Nu(i);let a=r*7+l-s-7+e,u;a<1?(u=i-1,a+=Nu(u)):a>o?(u=i+1,a-=Nu(i)):u=i;const{month:f,day:c}=NC(u,a);return{year:u,month:f,day:c,...jh(n)}}function hm(n){const{year:e,month:t,day:i}=n,r=OC(e,t,i);return{year:e,ordinal:r,...jh(n)}}function vv(n){const{year:e,ordinal:t}=n,{month:i,day:r}=NC(e,t);return{year:e,month:i,day:r,...jh(n)}}function yv(n,e){if(!un(n.localWeekday)||!un(n.localWeekNumber)||!un(n.localWeekYear)){if(!un(n.weekday)||!un(n.weekNumber)||!un(n.weekYear))throw new Tu("Cannot mix locale-based week fields with ISO-based week fields");return un(n.localWeekday)||(n.weekday=n.localWeekday),un(n.localWeekNumber)||(n.weekNumber=n.localWeekNumber),un(n.localWeekYear)||(n.weekYear=n.localWeekYear),delete n.localWeekday,delete n.localWeekNumber,delete n.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function xL(n,e=4,t=1){const i=Uh(n.weekYear),r=kl(n.weekNumber,1,Ic(n.weekYear,e,t)),l=kl(n.weekday,1,7);return i?r?l?!1:yl("weekday",n.weekday):yl("week",n.weekNumber):yl("weekYear",n.weekYear)}function UL(n){const e=Uh(n.year),t=kl(n.ordinal,1,Nu(n.year));return e?t?!1:yl("ordinal",n.ordinal):yl("year",n.year)}function MC(n){const e=Uh(n.year),t=kl(n.month,1,12),i=kl(n.day,1,uh(n.year,n.month));return e?t?i?!1:yl("day",n.day):yl("month",n.month):yl("year",n.year)}function IC(n){const{hour:e,minute:t,second:i,millisecond:r}=n,l=kl(e,0,23)||e===24&&t===0&&i===0&&r===0,s=kl(t,0,59),o=kl(i,0,59),a=kl(r,0,999);return l?s?o?a?!1:yl("millisecond",r):yl("second",i):yl("minute",t):yl("hour",e)}function un(n){return typeof n>"u"}function Co(n){return typeof n=="number"}function Uh(n){return typeof n=="number"&&n%1===0}function zL(n){return typeof n=="string"}function qL(n){return Object.prototype.toString.call(n)==="[object Date]"}function LC(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function DC(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function jL(n){return Array.isArray(n)?n:[n]}function kv(n,e,t){if(n.length!==0)return n.reduce((i,r)=>{const l=[e(r),r];return i&&t(i[0],l[0])===i[0]?i:l},null)[1]}function WL(n,e){return e.reduce((t,i)=>(t[i]=n[i],t),{})}function $u(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Y0(n){if(n==null)return null;if(typeof n!="object")throw new lr("Week settings must be an object");if(!kl(n.firstDay,1,7)||!kl(n.minimalDays,1,7)||!Array.isArray(n.weekend)||n.weekend.some(e=>!kl(e,1,7)))throw new lr("Invalid week settings");return{firstDay:n.firstDay,minimalDays:n.minimalDays,weekend:Array.from(n.weekend)}}function kl(n,e,t){return Uh(n)&&n>=e&&n<=t}function KL(n,e){return n-e*Math.floor(n/e)}function Ri(n,e=2){const t=n<0;let i;return t?i="-"+(""+-n).padStart(e,"0"):i=(""+n).padStart(e,"0"),i}function bo(n){if(!(un(n)||n===null||n===""))return parseInt(n,10)}function Jo(n){if(!(un(n)||n===null||n===""))return parseFloat(n)}function Vg(n){if(!(un(n)||n===null||n==="")){const e=parseFloat("0."+n)*1e3;return Math.floor(e)}}function Gg(n,e,t=!1){const i=10**e;return(t?Math.trunc:Math.round)(n*i)/i}function Qc(n){return n%4===0&&(n%100!==0||n%400===0)}function Nu(n){return Qc(n)?366:365}function uh(n,e){const t=KL(e-1,12)+1,i=n+(e-t)/12;return t===2?Qc(i)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][t-1]}function zh(n){let e=Date.UTC(n.year,n.month-1,n.day,n.hour,n.minute,n.second,n.millisecond);return n.year<100&&n.year>=0&&(e=new Date(e),e.setUTCFullYear(n.year,n.month-1,n.day)),+e}function Tv(n,e,t){return-Kg(Wg(n,1,e),t)+e-1}function Ic(n,e=4,t=1){const i=Tv(n,e,t),r=Tv(n+1,e,t);return(Nu(n)-i+r)/7}function X0(n){return n>99?n:n>Ti.twoDigitCutoffYear?1900+n:2e3+n}function RC(n,e,t,i=null){const r=new Date(n),l={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};i&&(l.timeZone=i);const s={timeZoneName:e,...l},o=new Intl.DateTimeFormat(t,s).formatToParts(r).find(a=>a.type.toLowerCase()==="timezonename");return o?o.value:null}function qh(n,e){let t=parseInt(n,10);Number.isNaN(t)&&(t=0);const i=parseInt(e,10)||0,r=t<0||Object.is(t,-0)?-i:i;return t*60+r}function PC(n){const e=Number(n);if(typeof n=="boolean"||n===""||Number.isNaN(e))throw new lr(`Invalid unit value ${n}`);return e}function fh(n,e){const t={};for(const i in n)if($u(n,i)){const r=n[i];if(r==null)continue;t[e(i)]=PC(r)}return t}function sc(n,e){const t=Math.trunc(Math.abs(n/60)),i=Math.trunc(Math.abs(n%60)),r=n>=0?"+":"-";switch(e){case"short":return`${r}${Ri(t,2)}:${Ri(i,2)}`;case"narrow":return`${r}${t}${i>0?`:${i}`:""}`;case"techie":return`${r}${Ri(t,2)}${Ri(i,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function jh(n){return WL(n,["hour","minute","second","millisecond"])}const VL=["January","February","March","April","May","June","July","August","September","October","November","December"],FC=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],GL=["J","F","M","A","M","J","J","A","S","O","N","D"];function $C(n){switch(n){case"narrow":return[...GL];case"short":return[...FC];case"long":return[...VL];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const HC=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],BC=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],YL=["M","T","W","T","F","S","S"];function xC(n){switch(n){case"narrow":return[...YL];case"short":return[...BC];case"long":return[...HC];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const UC=["AM","PM"],XL=["Before Christ","Anno Domini"],ZL=["BC","AD"],QL=["B","A"];function zC(n){switch(n){case"narrow":return[...QL];case"short":return[...ZL];case"long":return[...XL];default:return null}}function JL(n){return UC[n.hour<12?0:1]}function eD(n,e){return xC(e)[n.weekday-1]}function tD(n,e){return $C(e)[n.month-1]}function nD(n,e){return zC(e)[n.year<0?0:1]}function iD(n,e,t="always",i=!1){const r={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},l=["hours","minutes","seconds"].indexOf(n)===-1;if(t==="auto"&&l){const c=n==="days";switch(e){case 1:return c?"tomorrow":`next ${r[n][0]}`;case-1:return c?"yesterday":`last ${r[n][0]}`;case 0:return c?"today":`this ${r[n][0]}`}}const s=Object.is(e,-0)||e<0,o=Math.abs(e),a=o===1,u=r[n],f=i?a?u[1]:u[2]||u[1]:a?r[n][0]:n;return s?`${o} ${f} ago`:`in ${o} ${f}`}function wv(n,e){let t="";for(const i of n)i.literal?t+=i.val:t+=e(i.val);return t}const rD={D:oh,DD:lC,DDD:sC,DDDD:oC,t:aC,tt:uC,ttt:fC,tttt:cC,T:dC,TT:hC,TTT:pC,TTTT:mC,f:gC,ff:bC,fff:yC,ffff:TC,F:_C,FF:vC,FFF:kC,FFFF:wC};class or{static create(e,t={}){return new or(e,t)}static parseFormat(e){let t=null,i="",r=!1;const l=[];for(let s=0;s<e.length;s++){const o=e.charAt(s);o==="'"?(i.length>0&&l.push({literal:r||/^\s+$/.test(i),val:i}),t=null,i="",r=!r):r||o===t?i+=o:(i.length>0&&l.push({literal:/^\s+$/.test(i),val:i}),i=o,t=o)}return i.length>0&&l.push({literal:r||/^\s+$/.test(i),val:i}),l}static macroTokenToFormatOpts(e){return rD[e]}constructor(e,t){this.opts=t,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,t){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...t}).format()}dtFormatter(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t})}formatDateTime(e,t){return this.dtFormatter(e,t).format()}formatDateTimeParts(e,t){return this.dtFormatter(e,t).formatToParts()}formatInterval(e,t){return this.dtFormatter(e.start,t).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,t){return this.dtFormatter(e,t).resolvedOptions()}num(e,t=0){if(this.opts.forceSimple)return Ri(e,t);const i={...this.opts};return t>0&&(i.padTo=t),this.loc.numberFormatter(i).format(e)}formatDateTimeFromString(e,t){const i=this.loc.listingMode()==="en",r=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",l=(p,_)=>this.loc.extract(e,p,_),s=p=>e.isOffsetFixed&&e.offset===0&&p.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,p.format):"",o=()=>i?JL(e):l({hour:"numeric",hourCycle:"h12"},"dayperiod"),a=(p,_)=>i?tD(e,p):l(_?{month:p}:{month:p,day:"numeric"},"month"),u=(p,_)=>i?eD(e,p):l(_?{weekday:p}:{weekday:p,month:"long",day:"numeric"},"weekday"),f=p=>{const _=or.macroTokenToFormatOpts(p);return _?this.formatWithSystemDefault(e,_):p},c=p=>i?nD(e,p):l({era:p},"era"),h=p=>{switch(p){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return s({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return s({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return s({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return o();case"d":return r?l({day:"numeric"},"day"):this.num(e.day);case"dd":return r?l({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return u("short",!0);case"cccc":return u("long",!0);case"ccccc":return u("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return u("short",!1);case"EEEE":return u("long",!1);case"EEEEE":return u("narrow",!1);case"L":return r?l({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return r?l({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return a("short",!0);case"LLLL":return a("long",!0);case"LLLLL":return a("narrow",!0);case"M":return r?l({month:"numeric"},"month"):this.num(e.month);case"MM":return r?l({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return a("short",!1);case"MMMM":return a("long",!1);case"MMMMM":return a("narrow",!1);case"y":return r?l({year:"numeric"},"year"):this.num(e.year);case"yy":return r?l({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return r?l({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return r?l({year:"numeric"},"year"):this.num(e.year,6);case"G":return c("short");case"GG":return c("long");case"GGGGG":return c("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return f(p)}};return wv(or.parseFormat(t),h)}formatDurationFromString(e,t){const i=a=>{switch(a[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},r=a=>u=>{const f=i(u);return f?this.num(a.get(f),u.length):u},l=or.parseFormat(t),s=l.reduce((a,{literal:u,val:f})=>u?a:a.concat(f),[]),o=e.shiftTo(...s.map(i).filter(a=>a));return wv(l,r(o))}}const qC=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Yu(...n){const e=n.reduce((t,i)=>t+i.source,"");return RegExp(`^${e}$`)}function Xu(...n){return e=>n.reduce(([t,i,r],l)=>{const[s,o,a]=l(e,r);return[{...t,...s},o||i,a]},[{},null,1]).slice(0,2)}function Zu(n,...e){if(n==null)return[null,null];for(const[t,i]of e){const r=t.exec(n);if(r)return i(r)}return[null,null]}function jC(...n){return(e,t)=>{const i={};let r;for(r=0;r<n.length;r++)i[n[r]]=bo(e[t+r]);return[i,null,t+r]}}const WC=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,lD=`(?:${WC.source}?(?:\\[(${qC.source})\\])?)?`,Yg=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,KC=RegExp(`${Yg.source}${lD}`),Xg=RegExp(`(?:T${KC.source})?`),sD=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,oD=/(\d{4})-?W(\d\d)(?:-?(\d))?/,aD=/(\d{4})-?(\d{3})/,uD=jC("weekYear","weekNumber","weekDay"),fD=jC("year","ordinal"),cD=/(\d{4})-(\d\d)-(\d\d)/,VC=RegExp(`${Yg.source} ?(?:${WC.source}|(${qC.source}))?`),dD=RegExp(`(?: ${VC.source})?`);function Mu(n,e,t){const i=n[e];return un(i)?t:bo(i)}function hD(n,e){return[{year:Mu(n,e),month:Mu(n,e+1,1),day:Mu(n,e+2,1)},null,e+3]}function Qu(n,e){return[{hours:Mu(n,e,0),minutes:Mu(n,e+1,0),seconds:Mu(n,e+2,0),milliseconds:Vg(n[e+3])},null,e+4]}function Jc(n,e){const t=!n[e]&&!n[e+1],i=qh(n[e+1],n[e+2]),r=t?null:Sr.instance(i);return[{},r,e+3]}function e1(n,e){const t=n[e]?qs.create(n[e]):null;return[{},t,e+1]}const pD=RegExp(`^T?${Yg.source}$`),mD=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function gD(n){const[e,t,i,r,l,s,o,a,u]=n,f=e[0]==="-",c=a&&a[0]==="-",h=(p,_=!1)=>p!==void 0&&(_||p&&f)?-p:p;return[{years:h(Jo(t)),months:h(Jo(i)),weeks:h(Jo(r)),days:h(Jo(l)),hours:h(Jo(s)),minutes:h(Jo(o)),seconds:h(Jo(a),a==="-0"),milliseconds:h(Vg(u),c)}]}const _D={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Zg(n,e,t,i,r,l,s){const o={year:e.length===2?X0(bo(e)):bo(e),month:FC.indexOf(t)+1,day:bo(i),hour:bo(r),minute:bo(l)};return s&&(o.second=bo(s)),n&&(o.weekday=n.length>3?HC.indexOf(n)+1:BC.indexOf(n)+1),o}const bD=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function vD(n){const[,e,t,i,r,l,s,o,a,u,f,c]=n,h=Zg(e,r,i,t,l,s,o);let p;return a?p=_D[a]:u?p=0:p=qh(f,c),[h,new Sr(p)]}function yD(n){return n.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const kD=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,TD=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,wD=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Ev(n){const[,e,t,i,r,l,s,o]=n;return[Zg(e,r,i,t,l,s,o),Sr.utcInstance]}function ED(n){const[,e,t,i,r,l,s,o]=n;return[Zg(e,o,t,i,r,l,s),Sr.utcInstance]}const SD=Yu(sD,Xg),CD=Yu(oD,Xg),AD=Yu(aD,Xg),OD=Yu(KC),GC=Xu(hD,Qu,Jc,e1),ND=Xu(uD,Qu,Jc,e1),MD=Xu(fD,Qu,Jc,e1),ID=Xu(Qu,Jc,e1);function LD(n){return Zu(n,[SD,GC],[CD,ND],[AD,MD],[OD,ID])}function DD(n){return Zu(yD(n),[bD,vD])}function RD(n){return Zu(n,[kD,Ev],[TD,Ev],[wD,ED])}function PD(n){return Zu(n,[mD,gD])}const FD=Xu(Qu);function $D(n){return Zu(n,[pD,FD])}const HD=Yu(cD,dD),BD=Yu(VC),xD=Xu(Qu,Jc,e1);function UD(n){return Zu(n,[HD,GC],[BD,xD])}const Sv="Invalid Duration",YC={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},zD={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...YC},hl=146097/400,au=146097/4800,qD={years:{quarters:4,months:12,weeks:hl/7,days:hl,hours:hl*24,minutes:hl*24*60,seconds:hl*24*60*60,milliseconds:hl*24*60*60*1e3},quarters:{months:3,weeks:hl/28,days:hl/4,hours:hl*24/4,minutes:hl*24*60/4,seconds:hl*24*60*60/4,milliseconds:hl*24*60*60*1e3/4},months:{weeks:au/7,days:au,hours:au*24,minutes:au*24*60,seconds:au*24*60*60,milliseconds:au*24*60*60*1e3},...YC},ma=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],jD=ma.slice(0).reverse();function oo(n,e,t=!1){const i={values:t?e.values:{...n.values,...e.values||{}},loc:n.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||n.conversionAccuracy,matrix:e.matrix||n.matrix};return new $n(i)}function XC(n,e){let t=e.milliseconds??0;for(const i of jD.slice(1))e[i]&&(t+=e[i]*n[i].milliseconds);return t}function Cv(n,e){const t=XC(n,e)<0?-1:1;ma.reduceRight((i,r)=>{if(un(e[r]))return i;if(i){const l=e[i]*t,s=n[r][i],o=Math.floor(l/s);e[r]+=o*t,e[i]-=o*s*t}return r},null),ma.reduce((i,r)=>{if(un(e[r]))return i;if(i){const l=e[i]%1;e[i]-=l,e[r]+=l*n[i][r]}return r},null)}function WD(n){const e={};for(const[t,i]of Object.entries(n))i!==0&&(e[t]=i);return e}class $n{constructor(e){const t=e.conversionAccuracy==="longterm"||!1;let i=t?qD:zD;e.matrix&&(i=e.matrix),this.values=e.values,this.loc=e.loc||jn.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=i,this.isLuxonDuration=!0}static fromMillis(e,t){return $n.fromObject({milliseconds:e},t)}static fromObject(e,t={}){if(e==null||typeof e!="object")throw new lr(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new $n({values:fh(e,$n.normalizeUnit),loc:jn.fromObject(t),conversionAccuracy:t.conversionAccuracy,matrix:t.matrix})}static fromDurationLike(e){if(Co(e))return $n.fromMillis(e);if($n.isDuration(e))return e;if(typeof e=="object")return $n.fromObject(e);throw new lr(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,t){const[i]=PD(e);return i?$n.fromObject(i,t):$n.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,t){const[i]=$D(e);return i?$n.fromObject(i,t):$n.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,t=null){if(!e)throw new lr("need to specify a reason the Duration is invalid");const i=e instanceof Kl?e:new Kl(e,t);if(Ti.throwOnInvalid)throw new gL(i);return new $n({invalid:i})}static normalizeUnit(e){const t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!t)throw new rC(e);return t}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,t={}){const i={...t,floor:t.round!==!1&&t.floor!==!1};return this.isValid?or.create(this.loc,i).formatDurationFromString(this,e):Sv}toHuman(e={}){if(!this.isValid)return Sv;const t=ma.map(i=>{const r=this.values[i];return un(r)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:i.slice(0,-1)}).format(r)}).filter(i=>i);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(t)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=Gg(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const t=this.toMillis();return t<0||t>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},Gt.fromMillis(t,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?XC(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const t=$n.fromDurationLike(e),i={};for(const r of ma)($u(t.values,r)||$u(this.values,r))&&(i[r]=t.get(r)+this.get(r));return oo(this,{values:i},!0)}minus(e){if(!this.isValid)return this;const t=$n.fromDurationLike(e);return this.plus(t.negate())}mapUnits(e){if(!this.isValid)return this;const t={};for(const i of Object.keys(this.values))t[i]=PC(e(this.values[i],i));return oo(this,{values:t},!0)}get(e){return this[$n.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const t={...this.values,...fh(e,$n.normalizeUnit)};return oo(this,{values:t})}reconfigure({locale:e,numberingSystem:t,conversionAccuracy:i,matrix:r}={}){const s={loc:this.loc.clone({locale:e,numberingSystem:t}),matrix:r,conversionAccuracy:i};return oo(this,s)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return Cv(this.matrix,e),oo(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=WD(this.normalize().shiftToAll().toObject());return oo(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(s=>$n.normalizeUnit(s));const t={},i={},r=this.toObject();let l;for(const s of ma)if(e.indexOf(s)>=0){l=s;let o=0;for(const u in i)o+=this.matrix[u][s]*i[u],i[u]=0;Co(r[s])&&(o+=r[s]);const a=Math.trunc(o);t[s]=a,i[s]=(o*1e3-a*1e3)/1e3}else Co(r[s])&&(i[s]=r[s]);for(const s in i)i[s]!==0&&(t[l]+=s===l?i[s]:i[s]/this.matrix[l][s]);return Cv(this.matrix,t),oo(this,{values:t},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const t of Object.keys(this.values))e[t]=this.values[t]===0?0:-this.values[t];return oo(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function t(i,r){return i===void 0||i===0?r===void 0||r===0:i===r}for(const i of ma)if(!t(this.values[i],e.values[i]))return!1;return!0}}const uu="Invalid Interval";function KD(n,e){return!n||!n.isValid?ki.invalid("missing or invalid start"):!e||!e.isValid?ki.invalid("missing or invalid end"):e<n?ki.invalid("end before start",`The end of an interval must be after its start, but you had start=${n.toISO()} and end=${e.toISO()}`):null}class ki{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,t=null){if(!e)throw new lr("need to specify a reason the Interval is invalid");const i=e instanceof Kl?e:new Kl(e,t);if(Ti.throwOnInvalid)throw new mL(i);return new ki({invalid:i})}static fromDateTimes(e,t){const i=$f(e),r=$f(t),l=KD(i,r);return l??new ki({start:i,end:r})}static after(e,t){const i=$n.fromDurationLike(t),r=$f(e);return ki.fromDateTimes(r,r.plus(i))}static before(e,t){const i=$n.fromDurationLike(t),r=$f(e);return ki.fromDateTimes(r.minus(i),r)}static fromISO(e,t){const[i,r]=(e||"").split("/",2);if(i&&r){let l,s;try{l=Gt.fromISO(i,t),s=l.isValid}catch{s=!1}let o,a;try{o=Gt.fromISO(r,t),a=o.isValid}catch{a=!1}if(s&&a)return ki.fromDateTimes(l,o);if(s){const u=$n.fromISO(r,t);if(u.isValid)return ki.after(l,u)}else if(a){const u=$n.fromISO(i,t);if(u.isValid)return ki.before(o,u)}}return ki.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get lastDateTime(){return this.isValid&&this.e?this.e.minus(1):null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",t){if(!this.isValid)return NaN;const i=this.start.startOf(e,t);let r;return t!=null&&t.useLocaleWeeks?r=this.end.reconfigure({locale:i.locale}):r=this.end,r=r.startOf(e,t),Math.floor(r.diff(i,e).get(e))+(r.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:t}={}){return this.isValid?ki.fromDateTimes(e||this.s,t||this.e):this}splitAt(...e){if(!this.isValid)return[];const t=e.map($f).filter(s=>this.contains(s)).sort((s,o)=>s.toMillis()-o.toMillis()),i=[];let{s:r}=this,l=0;for(;r<this.e;){const s=t[l]||this.e,o=+s>+this.e?this.e:s;i.push(ki.fromDateTimes(r,o)),r=o,l+=1}return i}splitBy(e){const t=$n.fromDurationLike(e);if(!this.isValid||!t.isValid||t.as("milliseconds")===0)return[];let{s:i}=this,r=1,l;const s=[];for(;i<this.e;){const o=this.start.plus(t.mapUnits(a=>a*r));l=+o>+this.e?this.e:o,s.push(ki.fromDateTimes(i,l)),i=l,r+=1}return s}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const t=this.s>e.s?this.s:e.s,i=this.e<e.e?this.e:e.e;return t>=i?null:ki.fromDateTimes(t,i)}union(e){if(!this.isValid)return this;const t=this.s<e.s?this.s:e.s,i=this.e>e.e?this.e:e.e;return ki.fromDateTimes(t,i)}static merge(e){const[t,i]=e.sort((r,l)=>r.s-l.s).reduce(([r,l],s)=>l?l.overlaps(s)||l.abutsStart(s)?[r,l.union(s)]:[r.concat([l]),s]:[r,s],[[],null]);return i&&t.push(i),t}static xor(e){let t=null,i=0;const r=[],l=e.map(a=>[{time:a.s,type:"s"},{time:a.e,type:"e"}]),s=Array.prototype.concat(...l),o=s.sort((a,u)=>a.time-u.time);for(const a of o)i+=a.type==="s"?1:-1,i===1?t=a.time:(t&&+t!=+a.time&&r.push(ki.fromDateTimes(t,a.time)),t=null);return ki.merge(r)}difference(...e){return ki.xor([this].concat(e)).map(t=>this.intersection(t)).filter(t=>t&&!t.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:uu}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=oh,t={}){return this.isValid?or.create(this.s.loc.clone(t),e).formatInterval(this):uu}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:uu}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:uu}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:uu}toFormat(e,{separator:t=" – "}={}){return this.isValid?`${this.s.toFormat(e)}${t}${this.e.toFormat(e)}`:uu}toDuration(e,t){return this.isValid?this.e.diff(this.s,e,t):$n.invalid(this.invalidReason)}mapEndpoints(e){return ki.fromDateTimes(e(this.s),e(this.e))}}let K1=class{static hasDST(e=Ti.defaultZone){const t=Gt.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset}static isValidIANAZone(e){return qs.isValidZone(e)}static normalizeZone(e){return To(e,Ti.defaultZone)}static getStartOfWeek({locale:e=null,locObj:t=null}={}){return(t||jn.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:t=null}={}){return(t||jn.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:t=null}={}){return(t||jn.create(e)).getWeekendDays().slice()}static months(e="long",{locale:t=null,numberingSystem:i=null,locObj:r=null,outputCalendar:l="gregory"}={}){return(r||jn.create(t,i,l)).months(e)}static monthsFormat(e="long",{locale:t=null,numberingSystem:i=null,locObj:r=null,outputCalendar:l="gregory"}={}){return(r||jn.create(t,i,l)).months(e,!0)}static weekdays(e="long",{locale:t=null,numberingSystem:i=null,locObj:r=null}={}){return(r||jn.create(t,i,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:t=null,numberingSystem:i=null,locObj:r=null}={}){return(r||jn.create(t,i,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return jn.create(e).meridiems()}static eras(e="short",{locale:t=null}={}){return jn.create(t,null,"gregory").eras(e)}static features(){return{relative:LC(),localeWeek:DC()}}};function Av(n,e){const t=r=>r.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),i=t(e)-t(n);return Math.floor($n.fromMillis(i).as("days"))}function VD(n,e,t){const i=[["years",(a,u)=>u.year-a.year],["quarters",(a,u)=>u.quarter-a.quarter+(u.year-a.year)*4],["months",(a,u)=>u.month-a.month+(u.year-a.year)*12],["weeks",(a,u)=>{const f=Av(a,u);return(f-f%7)/7}],["days",Av]],r={},l=n;let s,o;for(const[a,u]of i)t.indexOf(a)>=0&&(s=a,r[a]=u(n,e),o=l.plus(r),o>e?(r[a]--,n=l.plus(r),n>e&&(o=n,r[a]--,n=l.plus(r))):n=o);return[n,r,o,s]}function GD(n,e,t,i){let[r,l,s,o]=VD(n,e,t);const a=e-r,u=t.filter(c=>["hours","minutes","seconds","milliseconds"].indexOf(c)>=0);u.length===0&&(s<e&&(s=r.plus({[o]:1})),s!==r&&(l[o]=(l[o]||0)+a/(s-r)));const f=$n.fromObject(l,i);return u.length>0?$n.fromMillis(a,i).shiftTo(...u).plus(f):f}const YD="missing Intl.DateTimeFormat.formatToParts support";function xn(n,e=t=>t){return{regex:n,deser:([t])=>e(HL(t))}}const XD=" ",ZC=`[ ${XD}]`,QC=new RegExp(ZC,"g");function ZD(n){return n.replace(/\./g,"\\.?").replace(QC,ZC)}function Ov(n){return n.replace(/\./g,"").replace(QC," ").toLowerCase()}function zl(n,e){return n===null?null:{regex:RegExp(n.map(ZD).join("|")),deser:([t])=>n.findIndex(i=>Ov(t)===Ov(i))+e}}function Nv(n,e){return{regex:n,deser:([,t,i])=>qh(t,i),groups:e}}function V1(n){return{regex:n,deser:([e])=>e}}function QD(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function JD(n,e){const t=Ul(e),i=Ul(e,"{2}"),r=Ul(e,"{3}"),l=Ul(e,"{4}"),s=Ul(e,"{6}"),o=Ul(e,"{1,2}"),a=Ul(e,"{1,3}"),u=Ul(e,"{1,6}"),f=Ul(e,"{1,9}"),c=Ul(e,"{2,4}"),h=Ul(e,"{4,6}"),p=b=>({regex:RegExp(QD(b.val)),deser:([y])=>y,literal:!0}),v=(b=>{if(n.literal)return p(b);switch(b.val){case"G":return zl(e.eras("short"),0);case"GG":return zl(e.eras("long"),0);case"y":return xn(u);case"yy":return xn(c,X0);case"yyyy":return xn(l);case"yyyyy":return xn(h);case"yyyyyy":return xn(s);case"M":return xn(o);case"MM":return xn(i);case"MMM":return zl(e.months("short",!0),1);case"MMMM":return zl(e.months("long",!0),1);case"L":return xn(o);case"LL":return xn(i);case"LLL":return zl(e.months("short",!1),1);case"LLLL":return zl(e.months("long",!1),1);case"d":return xn(o);case"dd":return xn(i);case"o":return xn(a);case"ooo":return xn(r);case"HH":return xn(i);case"H":return xn(o);case"hh":return xn(i);case"h":return xn(o);case"mm":return xn(i);case"m":return xn(o);case"q":return xn(o);case"qq":return xn(i);case"s":return xn(o);case"ss":return xn(i);case"S":return xn(a);case"SSS":return xn(r);case"u":return V1(f);case"uu":return V1(o);case"uuu":return xn(t);case"a":return zl(e.meridiems(),0);case"kkkk":return xn(l);case"kk":return xn(c,X0);case"W":return xn(o);case"WW":return xn(i);case"E":case"c":return xn(t);case"EEE":return zl(e.weekdays("short",!1),1);case"EEEE":return zl(e.weekdays("long",!1),1);case"ccc":return zl(e.weekdays("short",!0),1);case"cccc":return zl(e.weekdays("long",!0),1);case"Z":case"ZZ":return Nv(new RegExp(`([+-]${o.source})(?::(${i.source}))?`),2);case"ZZZ":return Nv(new RegExp(`([+-]${o.source})(${i.source})?`),2);case"z":return V1(/[a-z_+-/]{1,256}?/i);case" ":return V1(/[^\S\n\r]/);default:return p(b)}})(n)||{invalidReason:YD};return v.token=n,v}const eR={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function tR(n,e,t){const{type:i,value:r}=n;if(i==="literal"){const a=/^\s+$/.test(r);return{literal:!a,val:a?" ":r}}const l=e[i];let s=i;i==="hour"&&(e.hour12!=null?s=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?s="hour12":s="hour24":s=t.hour12?"hour12":"hour24");let o=eR[s];if(typeof o=="object"&&(o=o[l]),o)return{literal:!1,val:o}}function nR(n){return[`^${n.map(t=>t.regex).reduce((t,i)=>`${t}(${i.source})`,"")}$`,n]}function iR(n,e,t){const i=n.match(e);if(i){const r={};let l=1;for(const s in t)if($u(t,s)){const o=t[s],a=o.groups?o.groups+1:1;!o.literal&&o.token&&(r[o.token.val[0]]=o.deser(i.slice(l,l+a))),l+=a}return[i,r]}else return[i,{}]}function rR(n){const e=l=>{switch(l){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let t=null,i;return un(n.z)||(t=qs.create(n.z)),un(n.Z)||(t||(t=new Sr(n.Z)),i=n.Z),un(n.q)||(n.M=(n.q-1)*3+1),un(n.h)||(n.h<12&&n.a===1?n.h+=12:n.h===12&&n.a===0&&(n.h=0)),n.G===0&&n.y&&(n.y=-n.y),un(n.u)||(n.S=Vg(n.u)),[Object.keys(n).reduce((l,s)=>{const o=e(s);return o&&(l[o]=n[s]),l},{}),t,i]}let pm=null;function lR(){return pm||(pm=Gt.fromMillis(1555555555555)),pm}function sR(n,e){if(n.literal)return n;const t=or.macroTokenToFormatOpts(n.val),i=n7(t,e);return i==null||i.includes(void 0)?n:i}function JC(n,e){return Array.prototype.concat(...n.map(t=>sR(t,e)))}class e7{constructor(e,t){if(this.locale=e,this.format=t,this.tokens=JC(or.parseFormat(t),e),this.units=this.tokens.map(i=>JD(i,e)),this.disqualifyingUnit=this.units.find(i=>i.invalidReason),!this.disqualifyingUnit){const[i,r]=nR(this.units);this.regex=RegExp(i,"i"),this.handlers=r}}explainFromTokens(e){if(this.isValid){const[t,i]=iR(e,this.regex,this.handlers),[r,l,s]=i?rR(i):[null,null,void 0];if($u(i,"a")&&$u(i,"H"))throw new Tu("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:t,matches:i,result:r,zone:l,specificOffset:s}}else return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function t7(n,e,t){return new e7(n,t).explainFromTokens(e)}function oR(n,e,t){const{result:i,zone:r,specificOffset:l,invalidReason:s}=t7(n,e,t);return[i,r,l,s]}function n7(n,e){if(!n)return null;const i=or.create(e,n).dtFormatter(lR()),r=i.formatToParts(),l=i.resolvedOptions();return r.map(s=>tR(s,n,l))}const mm="Invalid DateTime",aR=864e13;function ec(n){return new Kl("unsupported zone",`the zone "${n.name}" is not supported`)}function gm(n){return n.weekData===null&&(n.weekData=ah(n.c)),n.weekData}function _m(n){return n.localWeekData===null&&(n.localWeekData=ah(n.c,n.loc.getMinDaysInFirstWeek(),n.loc.getStartOfWeek())),n.localWeekData}function ea(n,e){const t={ts:n.ts,zone:n.zone,c:n.c,o:n.o,loc:n.loc,invalid:n.invalid};return new Gt({...t,...e,old:t})}function i7(n,e,t){let i=n-e*60*1e3;const r=t.offset(i);if(e===r)return[i,e];i-=(r-e)*60*1e3;const l=t.offset(i);return r===l?[i,r]:[n-Math.min(r,l)*60*1e3,Math.max(r,l)]}function G1(n,e){n+=e*60*1e3;const t=new Date(n);return{year:t.getUTCFullYear(),month:t.getUTCMonth()+1,day:t.getUTCDate(),hour:t.getUTCHours(),minute:t.getUTCMinutes(),second:t.getUTCSeconds(),millisecond:t.getUTCMilliseconds()}}function zd(n,e,t){return i7(zh(n),e,t)}function Mv(n,e){const t=n.o,i=n.c.year+Math.trunc(e.years),r=n.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,l={...n.c,year:i,month:r,day:Math.min(n.c.day,uh(i,r))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},s=$n.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),o=zh(l);let[a,u]=i7(o,t,n.zone);return s!==0&&(a+=s,u=n.zone.offset(a)),{ts:a,o:u}}function fu(n,e,t,i,r,l){const{setZone:s,zone:o}=t;if(n&&Object.keys(n).length!==0||e){const a=e||o,u=Gt.fromObject(n,{...t,zone:a,specificOffset:l});return s?u:u.setZone(o)}else return Gt.invalid(new Kl("unparsable",`the input "${r}" can't be parsed as ${i}`))}function Y1(n,e,t=!0){return n.isValid?or.create(jn.create("en-US"),{allowZ:t,forceSimple:!0}).formatDateTimeFromString(n,e):null}function bm(n,e){const t=n.c.year>9999||n.c.year<0;let i="";return t&&n.c.year>=0&&(i+="+"),i+=Ri(n.c.year,t?6:4),e?(i+="-",i+=Ri(n.c.month),i+="-",i+=Ri(n.c.day)):(i+=Ri(n.c.month),i+=Ri(n.c.day)),i}function Iv(n,e,t,i,r,l){let s=Ri(n.c.hour);return e?(s+=":",s+=Ri(n.c.minute),(n.c.millisecond!==0||n.c.second!==0||!t)&&(s+=":")):s+=Ri(n.c.minute),(n.c.millisecond!==0||n.c.second!==0||!t)&&(s+=Ri(n.c.second),(n.c.millisecond!==0||!i)&&(s+=".",s+=Ri(n.c.millisecond,3))),r&&(n.isOffsetFixed&&n.offset===0&&!l?s+="Z":n.o<0?(s+="-",s+=Ri(Math.trunc(-n.o/60)),s+=":",s+=Ri(Math.trunc(-n.o%60))):(s+="+",s+=Ri(Math.trunc(n.o/60)),s+=":",s+=Ri(Math.trunc(n.o%60)))),l&&(s+="["+n.zone.ianaName+"]"),s}const r7={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},uR={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},fR={ordinal:1,hour:0,minute:0,second:0,millisecond:0},l7=["year","month","day","hour","minute","second","millisecond"],cR=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],dR=["year","ordinal","hour","minute","second","millisecond"];function hR(n){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[n.toLowerCase()];if(!e)throw new rC(n);return e}function Lv(n){switch(n.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return hR(n)}}function pR(n){if(tc===void 0&&(tc=Ti.now()),n.type!=="iana")return n.offset(tc);const e=n.name;let t=Z0.get(e);return t===void 0&&(t=n.offset(tc),Z0.set(e,t)),t}function Dv(n,e){const t=To(e.zone,Ti.defaultZone);if(!t.isValid)return Gt.invalid(ec(t));const i=jn.fromObject(e);let r,l;if(un(n.year))r=Ti.now();else{for(const a of l7)un(n[a])&&(n[a]=r7[a]);const s=MC(n)||IC(n);if(s)return Gt.invalid(s);const o=pR(t);[r,l]=zd(n,o,t)}return new Gt({ts:r,zone:t,loc:i,o:l})}function Rv(n,e,t){const i=un(t.round)?!0:t.round,r=(s,o)=>(s=Gg(s,i||t.calendary?0:2,!0),e.loc.clone(t).relFormatter(t).format(s,o)),l=s=>t.calendary?e.hasSame(n,s)?0:e.startOf(s).diff(n.startOf(s),s).get(s):e.diff(n,s).get(s);if(t.unit)return r(l(t.unit),t.unit);for(const s of t.units){const o=l(s);if(Math.abs(o)>=1)return r(o,s)}return r(n>e?-0:0,t.units[t.units.length-1])}function Pv(n){let e={},t;return n.length>0&&typeof n[n.length-1]=="object"?(e=n[n.length-1],t=Array.from(n).slice(0,n.length-1)):t=Array.from(n),[e,t]}let tc;const Z0=new Map;class Gt{constructor(e){const t=e.zone||Ti.defaultZone;let i=e.invalid||(Number.isNaN(e.ts)?new Kl("invalid input"):null)||(t.isValid?null:ec(t));this.ts=un(e.ts)?Ti.now():e.ts;let r=null,l=null;if(!i)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t))[r,l]=[e.old.c,e.old.o];else{const o=Co(e.o)&&!e.old?e.o:t.offset(this.ts);r=G1(this.ts,o),i=Number.isNaN(r.year)?new Kl("invalid input"):null,r=i?null:r,l=i?null:o}this._zone=t,this.loc=e.loc||jn.create(),this.invalid=i,this.weekData=null,this.localWeekData=null,this.c=r,this.o=l,this.isLuxonDateTime=!0}static now(){return new Gt({})}static local(){const[e,t]=Pv(arguments),[i,r,l,s,o,a,u]=t;return Dv({year:i,month:r,day:l,hour:s,minute:o,second:a,millisecond:u},e)}static utc(){const[e,t]=Pv(arguments),[i,r,l,s,o,a,u]=t;return e.zone=Sr.utcInstance,Dv({year:i,month:r,day:l,hour:s,minute:o,second:a,millisecond:u},e)}static fromJSDate(e,t={}){const i=qL(e)?e.valueOf():NaN;if(Number.isNaN(i))return Gt.invalid("invalid input");const r=To(t.zone,Ti.defaultZone);return r.isValid?new Gt({ts:i,zone:r,loc:jn.fromObject(t)}):Gt.invalid(ec(r))}static fromMillis(e,t={}){if(Co(e))return e<-864e13||e>aR?Gt.invalid("Timestamp out of range"):new Gt({ts:e,zone:To(t.zone,Ti.defaultZone),loc:jn.fromObject(t)});throw new lr(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,t={}){if(Co(e))return new Gt({ts:e*1e3,zone:To(t.zone,Ti.defaultZone),loc:jn.fromObject(t)});throw new lr("fromSeconds requires a numerical input")}static fromObject(e,t={}){e=e||{};const i=To(t.zone,Ti.defaultZone);if(!i.isValid)return Gt.invalid(ec(i));const r=jn.fromObject(t),l=fh(e,Lv),{minDaysInFirstWeek:s,startOfWeek:o}=yv(l,r),a=Ti.now(),u=un(t.specificOffset)?i.offset(a):t.specificOffset,f=!un(l.ordinal),c=!un(l.year),h=!un(l.month)||!un(l.day),p=c||h,_=l.weekYear||l.weekNumber;if((p||f)&&_)throw new Tu("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(h&&f)throw new Tu("Can't mix ordinal dates with month/day");const v=_||l.weekday&&!p;let b,y,A=G1(a,u);v?(b=cR,y=uR,A=ah(A,s,o)):f?(b=dR,y=fR,A=hm(A)):(b=l7,y=r7);let M=!1;for(const H of b){const q=l[H];un(q)?M?l[H]=y[H]:l[H]=A[H]:M=!0}const N=v?xL(l,s,o):f?UL(l):MC(l),L=N||IC(l);if(L)return Gt.invalid(L);const I=v?bv(l,s,o):f?vv(l):l,[R,$]=zd(I,u,i),B=new Gt({ts:R,zone:i,o:$,loc:r});return l.weekday&&p&&e.weekday!==B.weekday?Gt.invalid("mismatched weekday",`you can't specify both a weekday of ${l.weekday} and a date of ${B.toISO()}`):B.isValid?B:Gt.invalid(B.invalid)}static fromISO(e,t={}){const[i,r]=LD(e);return fu(i,r,t,"ISO 8601",e)}static fromRFC2822(e,t={}){const[i,r]=DD(e);return fu(i,r,t,"RFC 2822",e)}static fromHTTP(e,t={}){const[i,r]=RD(e);return fu(i,r,t,"HTTP",t)}static fromFormat(e,t,i={}){if(un(e)||un(t))throw new lr("fromFormat requires an input string and a format");const{locale:r=null,numberingSystem:l=null}=i,s=jn.fromOpts({locale:r,numberingSystem:l,defaultToEN:!0}),[o,a,u,f]=oR(s,e,t);return f?Gt.invalid(f):fu(o,a,i,`format ${t}`,e,u)}static fromString(e,t,i={}){return Gt.fromFormat(e,t,i)}static fromSQL(e,t={}){const[i,r]=UD(e);return fu(i,r,t,"SQL",e)}static invalid(e,t=null){if(!e)throw new lr("need to specify a reason the DateTime is invalid");const i=e instanceof Kl?e:new Kl(e,t);if(Ti.throwOnInvalid)throw new pL(i);return new Gt({invalid:i})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,t={}){const i=n7(e,jn.fromObject(t));return i?i.map(r=>r?r.val:null).join(""):null}static expandFormat(e,t={}){return JC(or.parseFormat(e),jn.fromObject(t)).map(r=>r.val).join("")}static resetCache(){tc=void 0,Z0.clear()}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?gm(this).weekYear:NaN}get weekNumber(){return this.isValid?gm(this).weekNumber:NaN}get weekday(){return this.isValid?gm(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?_m(this).weekday:NaN}get localWeekNumber(){return this.isValid?_m(this).weekNumber:NaN}get localWeekYear(){return this.isValid?_m(this).weekYear:NaN}get ordinal(){return this.isValid?hm(this.c).ordinal:NaN}get monthShort(){return this.isValid?K1.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?K1.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?K1.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?K1.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,t=6e4,i=zh(this.c),r=this.zone.offset(i-e),l=this.zone.offset(i+e),s=this.zone.offset(i-r*t),o=this.zone.offset(i-l*t);if(s===o)return[this];const a=i-s*t,u=i-o*t,f=G1(a,s),c=G1(u,o);return f.hour===c.hour&&f.minute===c.minute&&f.second===c.second&&f.millisecond===c.millisecond?[ea(this,{ts:a}),ea(this,{ts:u})]:[this]}get isInLeapYear(){return Qc(this.year)}get daysInMonth(){return uh(this.year,this.month)}get daysInYear(){return this.isValid?Nu(this.year):NaN}get weeksInWeekYear(){return this.isValid?Ic(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?Ic(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:t,numberingSystem:i,calendar:r}=or.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t,numberingSystem:i,outputCalendar:r}}toUTC(e=0,t={}){return this.setZone(Sr.instance(e),t)}toLocal(){return this.setZone(Ti.defaultZone)}setZone(e,{keepLocalTime:t=!1,keepCalendarTime:i=!1}={}){if(e=To(e,Ti.defaultZone),e.equals(this.zone))return this;if(e.isValid){let r=this.ts;if(t||i){const l=e.offset(this.ts),s=this.toObject();[r]=zd(s,l,e)}return ea(this,{ts:r,zone:e})}else return Gt.invalid(ec(e))}reconfigure({locale:e,numberingSystem:t,outputCalendar:i}={}){const r=this.loc.clone({locale:e,numberingSystem:t,outputCalendar:i});return ea(this,{loc:r})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const t=fh(e,Lv),{minDaysInFirstWeek:i,startOfWeek:r}=yv(t,this.loc),l=!un(t.weekYear)||!un(t.weekNumber)||!un(t.weekday),s=!un(t.ordinal),o=!un(t.year),a=!un(t.month)||!un(t.day),u=o||a,f=t.weekYear||t.weekNumber;if((u||s)&&f)throw new Tu("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(a&&s)throw new Tu("Can't mix ordinal dates with month/day");let c;l?c=bv({...ah(this.c,i,r),...t},i,r):un(t.ordinal)?(c={...this.toObject(),...t},un(t.day)&&(c.day=Math.min(uh(c.year,c.month),c.day))):c=vv({...hm(this.c),...t});const[h,p]=zd(c,this.o,this.zone);return ea(this,{ts:h,o:p})}plus(e){if(!this.isValid)return this;const t=$n.fromDurationLike(e);return ea(this,Mv(this,t))}minus(e){if(!this.isValid)return this;const t=$n.fromDurationLike(e).negate();return ea(this,Mv(this,t))}startOf(e,{useLocaleWeeks:t=!1}={}){if(!this.isValid)return this;const i={},r=$n.normalizeUnit(e);switch(r){case"years":i.month=1;case"quarters":case"months":i.day=1;case"weeks":case"days":i.hour=0;case"hours":i.minute=0;case"minutes":i.second=0;case"seconds":i.millisecond=0;break}if(r==="weeks")if(t){const l=this.loc.getStartOfWeek(),{weekday:s}=this;s<l&&(i.weekNumber=this.weekNumber-1),i.weekday=l}else i.weekday=1;if(r==="quarters"){const l=Math.ceil(this.month/3);i.month=(l-1)*3+1}return this.set(i)}endOf(e,t){return this.isValid?this.plus({[e]:1}).startOf(e,t).minus(1):this}toFormat(e,t={}){return this.isValid?or.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):mm}toLocaleString(e=oh,t={}){return this.isValid?or.create(this.loc.clone(t),e).formatDateTime(this):mm}toLocaleParts(e={}){return this.isValid?or.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:t=!1,suppressMilliseconds:i=!1,includeOffset:r=!0,extendedZone:l=!1}={}){if(!this.isValid)return null;const s=e==="extended";let o=bm(this,s);return o+="T",o+=Iv(this,s,t,i,r,l),o}toISODate({format:e="extended"}={}){return this.isValid?bm(this,e==="extended"):null}toISOWeekDate(){return Y1(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:t=!1,includeOffset:i=!0,includePrefix:r=!1,extendedZone:l=!1,format:s="extended"}={}){return this.isValid?(r?"T":"")+Iv(this,s==="extended",t,e,i,l):null}toRFC2822(){return Y1(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Y1(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?bm(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:t=!1,includeOffsetSpace:i=!0}={}){let r="HH:mm:ss.SSS";return(t||e)&&(i&&(r+=" "),t?r+="z":e&&(r+="ZZ")),Y1(this,r,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():mm}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const t={...this.c};return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,t="milliseconds",i={}){if(!this.isValid||!e.isValid)return $n.invalid("created by diffing an invalid DateTime");const r={locale:this.locale,numberingSystem:this.numberingSystem,...i},l=jL(t).map($n.normalizeUnit),s=e.valueOf()>this.valueOf(),o=s?this:e,a=s?e:this,u=GD(o,a,l,r);return s?u.negate():u}diffNow(e="milliseconds",t={}){return this.diff(Gt.now(),e,t)}until(e){return this.isValid?ki.fromDateTimes(this,e):this}hasSame(e,t,i){if(!this.isValid)return!1;const r=e.valueOf(),l=this.setZone(e.zone,{keepLocalTime:!0});return l.startOf(t,i)<=r&&r<=l.endOf(t,i)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const t=e.base||Gt.fromObject({},{zone:this.zone}),i=e.padding?this<t?-e.padding:e.padding:0;let r=["years","months","days","hours","minutes","seconds"],l=e.unit;return Array.isArray(e.unit)&&(r=e.unit,l=void 0),Rv(t,this.plus(i),{...e,numeric:"always",units:r,unit:l})}toRelativeCalendar(e={}){return this.isValid?Rv(e.base||Gt.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(Gt.isDateTime))throw new lr("min requires all arguments be DateTimes");return kv(e,t=>t.valueOf(),Math.min)}static max(...e){if(!e.every(Gt.isDateTime))throw new lr("max requires all arguments be DateTimes");return kv(e,t=>t.valueOf(),Math.max)}static fromFormatExplain(e,t,i={}){const{locale:r=null,numberingSystem:l=null}=i,s=jn.fromOpts({locale:r,numberingSystem:l,defaultToEN:!0});return t7(s,e,t)}static fromStringExplain(e,t,i={}){return Gt.fromFormatExplain(e,t,i)}static buildFormatParser(e,t={}){const{locale:i=null,numberingSystem:r=null}=t,l=jn.fromOpts({locale:i,numberingSystem:r,defaultToEN:!0});return new e7(l,e)}static fromFormatParser(e,t,i={}){if(un(e)||un(t))throw new lr("fromFormatParser requires an input string and a format parser");const{locale:r=null,numberingSystem:l=null}=i,s=jn.fromOpts({locale:r,numberingSystem:l,defaultToEN:!0});if(!s.equals(t.locale))throw new lr(`fromFormatParser called with a locale of ${s}, but the format parser was created for ${t.locale}`);const{result:o,zone:a,specificOffset:u,invalidReason:f}=t.explainFromTokens(e);return f?Gt.invalid(f):fu(o,a,i,`format ${t.format}`,e,u)}static get DATE_SHORT(){return oh}static get DATE_MED(){return lC}static get DATE_MED_WITH_WEEKDAY(){return _L}static get DATE_FULL(){return sC}static get DATE_HUGE(){return oC}static get TIME_SIMPLE(){return aC}static get TIME_WITH_SECONDS(){return uC}static get TIME_WITH_SHORT_OFFSET(){return fC}static get TIME_WITH_LONG_OFFSET(){return cC}static get TIME_24_SIMPLE(){return dC}static get TIME_24_WITH_SECONDS(){return hC}static get TIME_24_WITH_SHORT_OFFSET(){return pC}static get TIME_24_WITH_LONG_OFFSET(){return mC}static get DATETIME_SHORT(){return gC}static get DATETIME_SHORT_WITH_SECONDS(){return _C}static get DATETIME_MED(){return bC}static get DATETIME_MED_WITH_SECONDS(){return vC}static get DATETIME_MED_WITH_WEEKDAY(){return bL}static get DATETIME_FULL(){return yC}static get DATETIME_FULL_WITH_SECONDS(){return kC}static get DATETIME_HUGE(){return TC}static get DATETIME_HUGE_WITH_SECONDS(){return wC}}function $f(n){if(Gt.isDateTime(n))return n;if(n&&n.valueOf&&Co(n.valueOf()))return Gt.fromJSDate(n);if(n&&typeof n=="object")return Gt.fromObject(n);throw new lr(`Unknown datetime argument: ${n}, of type ${typeof n}`)}const mR=[".jpg",".jpeg",".png",".svg",".gif",".jfif",".webp",".avif"],gR=[".mp4",".avi",".mov",".3gp",".wmv"],_R=[".aa",".aac",".m4v",".mp3",".ogg",".oga",".mogg",".amr"],bR=[".pdf",".doc",".docx",".xls",".xlsx",".ppt",".pptx",".odp",".odt",".ods",".txt"],vR=["relation","file","select"],yR=["text","email","url","editor","markdown"],s7=[{level:-4,label:"DEBUG",class:""},{level:0,label:"INFO",class:"label-success"},{level:4,label:"WARN",class:"label-warning"},{level:8,label:"ERROR",class:"label-danger"}];class re{static isObject(e){return e!==null&&typeof e=="object"&&e.constructor===Object}static clone(e){return typeof structuredClone<"u"?structuredClone(e):JSON.parse(JSON.stringify(e))}static zeroValue(e){switch(typeof e){case"string":return"";case"number":return 0;case"boolean":return!1;case"object":return e===null?null:Array.isArray(e)?[]:{};case"undefined":return;default:return null}}static isEmpty(e){return e===""||e===null||typeof e>"u"||Array.isArray(e)&&e.length===0||re.isObject(e)&&Object.keys(e).length===0}static isInput(e){let t=e&&e.tagName?e.tagName.toLowerCase():"";return t==="input"||t==="select"||t==="textarea"||(e==null?void 0:e.isContentEditable)}static isFocusable(e){let t=e&&e.tagName?e.tagName.toLowerCase():"";return re.isInput(e)||t==="button"||t==="a"||t==="details"||(e==null?void 0:e.tabIndex)>=0}static hasNonEmptyProps(e){for(let t in e)if(!re.isEmpty(e[t]))return!0;return!1}static toArray(e,t=!1){return Array.isArray(e)?e.slice():(t||!re.isEmpty(e))&&typeof e<"u"?[e]:[]}static inArray(e,t){e=Array.isArray(e)?e:[];for(let i=e.length-1;i>=0;i--)if(e[i]==t)return!0;return!1}static removeByValue(e,t){e=Array.isArray(e)?e:[];for(let i=e.length-1;i>=0;i--)if(e[i]==t){e.splice(i,1);break}}static pushUnique(e,t){re.inArray(e,t)||e.push(t)}static mergeUnique(e,t){for(let i of t)re.pushUnique(e,i);return e}static findByKey(e,t,i){e=Array.isArray(e)?e:[];for(let r in e)if(e[r][t]==i)return e[r];return null}static groupByKey(e,t){e=Array.isArray(e)?e:[];const i={};for(let r in e)i[e[r][t]]=i[e[r][t]]||[],i[e[r][t]].push(e[r]);return i}static removeByKey(e,t,i){for(let r in e)if(e[r][t]==i){e.splice(r,1);break}}static pushOrReplaceByKey(e,t,i="id"){for(let r=e.length-1;r>=0;r--)if(e[r][i]==t[i]){e[r]=t;return}e.push(t)}static filterDuplicatesByKey(e,t="id"){e=Array.isArray(e)?e:[];const i={};for(const r of e)i[r[t]]=r;return Object.values(i)}static filterRedactedProps(e,t="******"){const i=JSON.parse(JSON.stringify(e||{}));for(let r in i)typeof i[r]=="object"&&i[r]!==null?i[r]=re.filterRedactedProps(i[r],t):i[r]===t&&delete i[r];return i}static getNestedVal(e,t,i=null,r="."){let l=e||{},s=(t||"").split(r);for(const o of s){if(!re.isObject(l)&&!Array.isArray(l)||typeof l[o]>"u")return i;l=l[o]}return l}static setByPath(e,t,i,r="."){if(e===null||typeof e!="object"){console.warn("setByPath: data not an object or array.");return}let l=e,s=t.split(r),o=s.pop();for(const a of s)(!re.isObject(l)&&!Array.isArray(l)||!re.isObject(l[a])&&!Array.isArray(l[a]))&&(l[a]={}),l=l[a];l[o]=i}static deleteByPath(e,t,i="."){let r=e||{},l=(t||"").split(i),s=l.pop();for(const o of l)(!re.isObject(r)&&!Array.isArray(r)||!re.isObject(r[o])&&!Array.isArray(r[o]))&&(r[o]={}),r=r[o];Array.isArray(r)?r.splice(s,1):re.isObject(r)&&delete r[s],l.length>0&&(Array.isArray(r)&&!r.length||re.isObject(r)&&!Object.keys(r).length)&&(Array.isArray(e)&&e.length>0||re.isObject(e)&&Object.keys(e).length>0)&&re.deleteByPath(e,l.join(i),i)}static randomString(e=10){let t="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<e;r++)t+=i.charAt(Math.floor(Math.random()*i.length));return t}static randomSecret(e=15){if(typeof crypto>"u")return re.randomString(e);const t=new Uint8Array(e);crypto.getRandomValues(t);const i="-_0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";let r="";for(let l=0;l<e;l++)r+=i.charAt(t[l]%i.length);return r}static sentenize(e,t=!0){if(typeof e!="string")return"";if(e=e.trim().split("_").join(" "),e==="")return e;if(e=e[0].toUpperCase()+e.substring(1),t){let i=e[e.length-1];i!=="."&&i!=="?"&&i!=="!"&&(e+=".")}return e}static trimQuotedValue(e){return typeof e=="string"&&(e[0]=='"'||e[0]=="'"||e[0]=="`")&&e[0]==e[e.length-1]?e.slice(1,-1):e}static plainText(e){return e?(new DOMParser().parseFromString(e,"text/html").body.innerText||"").trim():""}static truncate(e,t=150,i=!0){return e=""+e,e.length<=t?e:e.substring(0,t)+(i?"...":"")}static truncateObject(e){const t={};for(let i in e){let r=e[i];typeof r=="string"&&(r=re.truncate(r,150,!0)),t[i]=r}return t}static slugify(e,t="_",i=[".","=","-"]){if(e==="")return"";const r={a:/а|à|á|å|â/gi,b:/б/gi,c:/ц|ç/gi,d:/д/gi,e:/е|è|é|ê|ẽ|ë/gi,f:/ф/gi,g:/г/gi,h:/х/gi,i:/й|и|ì|í|î/gi,j:/ж/gi,k:/к/gi,l:/л/gi,m:/м/gi,n:/н|ñ/gi,o:/о|ò|ó|ô|ø/gi,p:/п/gi,q:/я/gi,r:/р/gi,s:/с/gi,t:/т/gi,u:/ю|ù|ú|ů|û/gi,v:/в/gi,w:/в/gi,x:/ь/gi,y:/ъ/gi,z:/з/gi,ae:/ä|æ/gi,oe:/ö/gi,ue:/ü/gi,Ae:/Ä/gi,Ue:/Ü/gi,Oe:/Ö/gi,ss:/ß/gi,and:/&/gi};for(let l in r)e=e.replace(r[l],l);return e.replace(new RegExp("["+i.join("")+"]","g")," ").replace(/[^\w\ ]/gi,"").replace(/\s+/g,t)}static escapeRegExp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}static splitNonEmpty(e,t=","){const i=[],r=(e||"").replaceAll("\\"+t,"{_PB_ESCAPED_}").split(t).map(l=>l.replaceAll("{_PB_ESCAPED_}",t));for(let l of r)l=l.trim(),re.isEmpty(l)||i.push(l);return i}static joinNonEmpty(e,t=", "){e=e||[];const i=[],r=t.length>1?t.trim():t;for(let l of e)l=typeof l=="string"?l.trim():"",re.isEmpty(l)||i.push(l.replaceAll(r,"\\"+r));return i.join(t)}static getInitials(e){if(e=(e||"").split("@")[0].trim(),e.length<=2)return e.toUpperCase();const t=e.split(/[\.\_\-\ ]/);return t.length>=2?(t[0][0]+t[1][0]).toUpperCase():e[0].toUpperCase()}static formattedFileSize(e){const t=e?Math.floor(Math.log(e)/Math.log(1024)):0;return(e/Math.pow(1024,t)).toFixed(2)*1+" "+["B","KB","MB","GB","TB"][t]}static getDateTime(e){if(typeof e=="string"){const t={19:"yyyy-MM-dd HH:mm:ss",23:"yyyy-MM-dd HH:mm:ss.SSS",20:"yyyy-MM-dd HH:mm:ss'Z'",24:"yyyy-MM-dd HH:mm:ss.SSS'Z'"},i=t[e.length]||t[19];return Gt.fromFormat(e,i,{zone:"UTC"})}return typeof e=="number"?Gt.fromMillis(e):Gt.fromJSDate(e)}static formatToUTCDate(e,t="yyyy-MM-dd HH:mm:ss"){return re.getDateTime(e).toUTC().toFormat(t)}static formatToLocalDate(e,t="yyyy-MM-dd HH:mm:ss"){return re.getDateTime(e).toLocal().toFormat(t)}static async copyToClipboard(e){var t;if(typeof e=="object")try{e=JSON.stringify(e,null,2)}catch{}if(e=""+e,!(!e.length||!((t=window==null?void 0:window.navigator)!=null&&t.clipboard)))return window.navigator.clipboard.writeText(e).catch(i=>{console.warn("Failed to copy.",i)})}static download(e,t){const i=document.createElement("a");i.setAttribute("href",e),i.setAttribute("download",t),i.setAttribute("target","_blank"),i.click(),i.remove()}static downloadJson(e,t){t=t.endsWith(".json")?t:t+".json";const i=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),r=window.URL.createObjectURL(i);re.download(r,t)}static getJWTPayload(e){const t=(e||"").split(".")[1]||"";if(t==="")return{};try{const i=decodeURIComponent(atob(t));return JSON.parse(i)||{}}catch(i){console.warn("Failed to parse JWT payload data.",i)}return{}}static hasImageExtension(e){return e=e||"",!!mR.find(t=>e.toLowerCase().endsWith(t))}static hasVideoExtension(e){return e=e||"",!!gR.find(t=>e.toLowerCase().endsWith(t))}static hasAudioExtension(e){return e=e||"",!!_R.find(t=>e.toLowerCase().endsWith(t))}static hasDocumentExtension(e){return e=e||"",!!bR.find(t=>e.toLowerCase().endsWith(t))}static getFileType(e){return re.hasImageExtension(e)?"image":re.hasDocumentExtension(e)?"document":re.hasVideoExtension(e)?"video":re.hasAudioExtension(e)?"audio":"file"}static generateThumb(e,t=100,i=100){return new Promise(r=>{let l=new FileReader;l.onload=function(s){let o=new Image;o.onload=function(){let a=document.createElement("canvas"),u=a.getContext("2d"),f=o.width,c=o.height;return a.width=t,a.height=i,u.drawImage(o,f>c?(f-c)/2:0,0,f>c?c:f,f>c?c:f,0,0,t,i),r(a.toDataURL(e.type))},o.src=s.target.result},l.readAsDataURL(e)})}static addValueToFormData(e,t,i){if(!(typeof i>"u"))if(re.isEmpty(i))e.append(t,"");else if(Array.isArray(i))for(const r of i)re.addValueToFormData(e,t,r);else i instanceof File?e.append(t,i):i instanceof Date?e.append(t,i.toISOString()):re.isObject(i)?e.append(t,JSON.stringify(i)):e.append(t,""+i)}static dummyCollectionRecord(e){return Object.assign({collectionId:e==null?void 0:e.id,collectionName:e==null?void 0:e.name},re.dummyCollectionSchemaData(e))}static dummyCollectionSchemaData(e,t=!1){var l;const i=(e==null?void 0:e.fields)||[],r={};for(const s of i){if(s.hidden||t&&s.primaryKey&&s.autogeneratePattern||t&&s.type==="autodate")continue;let o=null;if(s.type==="number")o=123;else if(s.type==="date"||s.type==="autodate")o="2022-01-01 10:00:00.123Z";else if(s.type=="bool")o=!0;else if(s.type=="email")o="test@example.com";else if(s.type=="url")o="https://example.com";else if(s.type=="json")o="JSON";else if(s.type=="file"){if(t)continue;o="filename.jpg",s.maxSelect!=1&&(o=[o])}else s.type=="select"?(o=(l=s==null?void 0:s.values)==null?void 0:l[0],(s==null?void 0:s.maxSelect)!=1&&(o=[o])):s.type=="relation"?(o="RELATION_RECORD_ID",(s==null?void 0:s.maxSelect)!=1&&(o=[o])):s.type=="geoPoint"?o={lon:0,lat:0}:o="test";r[s.name]=o}return r}static getCollectionTypeIcon(e){switch(e==null?void 0:e.toLowerCase()){case"auth":return"ri-group-line";case"view":return"ri-table-line";default:return"ri-folder-2-line"}}static getFieldTypeIcon(e){switch(e){case"primary":return"ri-key-line";case"text":return"ri-text";case"number":return"ri-hashtag";case"date":return"ri-calendar-line";case"bool":return"ri-toggle-line";case"email":return"ri-mail-line";case"url":return"ri-link";case"editor":return"ri-edit-2-line";case"markdown":return"ri-markdown-line";case"select":return"ri-list-check";case"json":return"ri-braces-line";case"file":return"ri-image-line";case"relation":return"ri-mind-map";case"password":return"ri-lock-password-line";case"autodate":return"ri-calendar-check-line";case"geoPoint":return"ri-map-pin-2-line";default:return"ri-star-s-line"}}static getFieldValueType(e){switch(e==null?void 0:e.type){case"bool":return"Boolean";case"number":return"Number";case"geoPoint":return"Object";case"file":return"File";case"select":case"relation":return(e==null?void 0:e.maxSelect)==1?"String":"Array<String>";default:return"String"}}static zeroDefaultStr(e){return(e==null?void 0:e.type)==="number"?"0":(e==null?void 0:e.type)==="bool"?"false":(e==null?void 0:e.type)==="geoPoint"?'{"lon":0,"lat":0}':(e==null?void 0:e.type)==="json"?'null, "", [], {}':["select","relation","file"].includes(e==null?void 0:e.type)&&(e==null?void 0:e.maxSelect)!=1?"[]":'""'}static getApiExampleUrl(e){return(window.location.href.substring(0,window.location.href.indexOf("/_"))||e||"/").replace("//localhost","//127.0.0.1")}static hasCollectionChanges(e,t,i=!1){if(e=e||{},t=t||{},e.id!=t.id)return!0;for(let u in e)if(u!=="fields"&&JSON.stringify(e[u])!==JSON.stringify(t[u]))return!0;const r=Array.isArray(e.fields)?e.fields:[],l=Array.isArray(t.fields)?t.fields:[],s=r.filter(u=>(u==null?void 0:u.id)&&!re.findByKey(l,"id",u.id)),o=l.filter(u=>(u==null?void 0:u.id)&&!re.findByKey(r,"id",u.id)),a=l.filter(u=>{const f=re.isObject(u)&&re.findByKey(r,"id",u.id);if(!f)return!1;for(let c in f)if(JSON.stringify(u[c])!=JSON.stringify(f[c]))return!0;return!1});return!!(o.length||a.length||i&&s.length)}static sortCollections(e=[]){const t=[],i=[],r=[];for(const s of e)s.type==="auth"?t.push(s):s.type==="base"?i.push(s):r.push(s);function l(s,o){return s.name>o.name?1:s.name<o.name?-1:0}return[].concat(t.sort(l),i.sort(l),r.sort(l))}static getExpandPresentableRelFields(e,t,i=2){let r=[];const l=t.find(s=>s.id==e.collectionId);if(!l)return r;for(const s of l.fields){if(!s.presentable||s.type!="relation"||i<=0)continue;const o=re.getExpandPresentableRelFields(s,t,i-1);for(const a of o)r.push(e.name+"."+a)}return r.length||r.push(e.name),r}static yieldToMain(){return new Promise(e=>{setTimeout(e,0)})}static defaultFlatpickrOptions(){return{dateFormat:"Y-m-d H:i:S",disableMobile:!0,allowInput:!0,enableTime:!0,time_24hr:!0,locale:{firstDayOfWeek:1}}}static defaultEditorOptions(){const e=["DIV","P","A","EM","B","STRONG","H1","H2","H3","H4","H5","H6","TABLE","TR","TD","TH","TBODY","THEAD","TFOOT","BR","HR","Q","SUP","SUB","DEL","IMG","OL","UL","LI","CODE"];function t(r){let l=r.parentNode;for(;r.firstChild;)l.insertBefore(r.firstChild,r);l.removeChild(r)}function i(r){if(r){for(const l of r.children)i(l);e.includes(r.tagName)?(r.removeAttribute("style"),r.removeAttribute("class")):t(r)}}return{branding:!1,promotion:!1,menubar:!1,min_height:270,height:270,max_height:700,autoresize_bottom_margin:30,convert_unsafe_embeds:!0,skin:"pocketbase",content_style:"body { font-size: 14px }",plugins:["autoresize","autolink","lists","link","image","searchreplace","fullscreen","media","table","code","codesample","directionality"],codesample_global_prismjs:!0,codesample_languages:[{text:"HTML/XML",value:"markup"},{text:"CSS",value:"css"},{text:"SQL",value:"sql"},{text:"JavaScript",value:"javascript"},{text:"Go",value:"go"},{text:"Dart",value:"dart"},{text:"Zig",value:"zig"},{text:"Rust",value:"rust"},{text:"Lua",value:"lua"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"},{text:"Markdown",value:"markdown"},{text:"Swift",value:"swift"},{text:"Kotlin",value:"kotlin"},{text:"Elixir",value:"elixir"},{text:"Scala",value:"scala"},{text:"Julia",value:"julia"},{text:"Haskell",value:"haskell"}],toolbar:"styles | alignleft aligncenter alignright | bold italic forecolor backcolor | bullist numlist | link image_picker table codesample direction | code fullscreen",paste_postprocess:(r,l)=>{i(l.node)},file_picker_types:"image",file_picker_callback:(r,l,s)=>{const o=document.createElement("input");o.setAttribute("type","file"),o.setAttribute("accept","image/*"),o.addEventListener("change",a=>{const u=a.target.files[0],f=new FileReader;f.addEventListener("load",()=>{if(!tinymce)return;const c="blobid"+new Date().getTime(),h=tinymce.activeEditor.editorUpload.blobCache,p=f.result.split(",")[1],_=h.create(c,u,p);h.add(_),r(_.blobUri(),{title:u.name})}),f.readAsDataURL(u)}),o.click()},setup:r=>{r.on("keydown",s=>{(s.ctrlKey||s.metaKey)&&s.code=="KeyS"&&r.formElement&&(s.preventDefault(),s.stopPropagation(),r.formElement.dispatchEvent(new KeyboardEvent("keydown",s)))});const l="tinymce_last_direction";r.on("init",()=>{var o;const s=(o=window==null?void 0:window.localStorage)==null?void 0:o.getItem(l);!r.isDirty()&&r.getContent()==""&&s=="rtl"&&r.execCommand("mceDirectionRTL")}),r.ui.registry.addMenuButton("direction",{icon:"visualchars",fetch:s=>{s([{type:"menuitem",text:"LTR content",icon:"ltr",onAction:()=>{var a;(a=window==null?void 0:window.localStorage)==null||a.setItem(l,"ltr"),r.execCommand("mceDirectionLTR")}},{type:"menuitem",text:"RTL content",icon:"rtl",onAction:()=>{var a;(a=window==null?void 0:window.localStorage)==null||a.setItem(l,"rtl"),r.execCommand("mceDirectionRTL")}}])}}),r.ui.registry.addMenuButton("image_picker",{icon:"image",fetch:s=>{s([{type:"menuitem",text:"From collection",icon:"gallery",onAction:()=>{r.dispatch("collections_file_picker",{})}},{type:"menuitem",text:"Inline",icon:"browse",onAction:()=>{r.execCommand("mceImage")}}])}})}}}static displayValue(e,t,i="N/A"){e=e||{},t=t||[];let r=[];for(const s of t){let o=e[s];typeof o>"u"||(o=re.stringifyValue(o,i),r.push(o))}if(r.length>0)return r.join(", ");const l=["title","name","slug","email","username","nickname","label","heading","message","key","identifier","id"];for(const s of l){let o=re.stringifyValue(e[s],"");if(o)return o}return i}static stringifyValue(e,t="N/A",i=150){if(re.isEmpty(e))return t;if(typeof e=="number")return""+e;if(typeof e=="boolean")return e?"True":"False";if(typeof e=="string")return e=e.indexOf("<")>=0?re.plainText(e):e,re.truncate(e,i)||t;if(Array.isArray(e)&&typeof e[0]!="object")return re.truncate(e.join(","),i);if(typeof e=="object")try{return re.truncate(JSON.stringify(e),i)||t}catch{return t}return e}static extractColumnsFromQuery(e){var s;const t="__GROUP__";e=(e||"").replace(/\([\s\S]+?\)/gm,t).replace(/[\t\r\n]|(?:\s\s)+/g," ");const i=e.match(/select\s+([\s\S]+)\s+from/),r=((s=i==null?void 0:i[1])==null?void 0:s.split(","))||[],l=[];for(let o of r){const a=o.trim().split(" ").pop();a!=""&&a!=t&&l.push(a.replace(/[\'\"\`\[\]\s]/g,""))}return l}static getAllCollectionIdentifiers(e,t=""){if(!e)return[];let i=[t+"id"];if(e.type==="view")for(let l of re.extractColumnsFromQuery(e.viewQuery))re.pushUnique(i,t+l);const r=e.fields||[];for(const l of r)l.type=="geoPoint"?(re.pushUnique(i,t+l.name+".lon"),re.pushUnique(i,t+l.name+".lat")):re.pushUnique(i,t+l.name);return i}static getCollectionAutocompleteKeys(e,t,i="",r=0){let l=e.find(o=>o.name==t||o.id==t);if(!l||r>=4)return[];l.fields=l.fields||[];let s=re.getAllCollectionIdentifiers(l,i);for(const o of l.fields){const a=i+o.name;if(o.type=="relation"&&o.collectionId){const u=re.getCollectionAutocompleteKeys(e,o.collectionId,a+".",r+1);u.length&&(s=s.concat(u))}o.maxSelect!=1&&vR.includes(o.type)?(s.push(a+":each"),s.push(a+":length")):yR.includes(o.type)&&s.push(a+":lower")}for(const o of e){o.fields=o.fields||[];for(const a of o.fields)if(a.type=="relation"&&a.collectionId==l.id){const u=i+o.name+"_via_"+a.name,f=re.getCollectionAutocompleteKeys(e,o.id,u+".",r+2);f.length&&(s=s.concat(f))}}return s}static getCollectionJoinAutocompleteKeys(e){const t=[];let i,r;for(const l of e)if(!l.system){i="@collection."+l.name+".",r=re.getCollectionAutocompleteKeys(e,l.name,i);for(const s of r)t.push(s)}return t}static getRequestAutocompleteKeys(e,t){const i=[];i.push("@request.context"),i.push("@request.method"),i.push("@request.query."),i.push("@request.body."),i.push("@request.headers."),i.push("@request.auth.collectionId"),i.push("@request.auth.collectionName");const r=e.filter(l=>l.type==="auth");for(const l of r){if(l.system)continue;const s=re.getCollectionAutocompleteKeys(e,l.id,"@request.auth.");for(const o of s)re.pushUnique(i,o)}if(t){const l=re.getCollectionAutocompleteKeys(e,t,"@request.body.");for(const s of l){i.push(s);const o=s.split(".");o.length===3&&o[2].indexOf(":")===-1&&i.push(s+":isset")}}return i}static parseIndex(e){var a,u,f,c,h;const t={unique:!1,optional:!1,schemaName:"",indexName:"",tableName:"",columns:[],where:""},r=/create\s+(unique\s+)?\s*index\s*(if\s+not\s+exists\s+)?(\S*)\s+on\s+(\S*)\s*\(([\s\S]*)\)(?:\s*where\s+([\s\S]*))?/gmi.exec((e||"").trim());if((r==null?void 0:r.length)!=7)return t;const l=/^[\"\'\`\[\{}]|[\"\'\`\]\}]$/gm;t.unique=((a=r[1])==null?void 0:a.trim().toLowerCase())==="unique",t.optional=!re.isEmpty((u=r[2])==null?void 0:u.trim());const s=(r[3]||"").split(".");s.length==2?(t.schemaName=s[0].replace(l,""),t.indexName=s[1].replace(l,"")):(t.schemaName="",t.indexName=s[0].replace(l,"")),t.tableName=(r[4]||"").replace(l,"");const o=(r[5]||"").replace(/,(?=[^\(]*\))/gmi,"{PB_TEMP}").split(",");for(let p of o){p=p.trim().replaceAll("{PB_TEMP}",",");const v=/^([\s\S]+?)(?:\s+collate\s+([\w]+))?(?:\s+(asc|desc))?$/gmi.exec(p);if((v==null?void 0:v.length)!=4)continue;const b=(c=(f=v[1])==null?void 0:f.trim())==null?void 0:c.replace(l,"");b&&t.columns.push({name:b,collate:v[2]||"",sort:((h=v[3])==null?void 0:h.toUpperCase())||""})}return t.where=r[6]||"",t}static buildIndex(e){let t="CREATE ";e.unique&&(t+="UNIQUE "),t+="INDEX ",e.optional&&(t+="IF NOT EXISTS "),e.schemaName&&(t+=`\`${e.schemaName}\`.`),t+=`\`${e.indexName||"idx_"+re.randomString(10)}\` `,t+=`ON \`${e.tableName}\` (`;const i=e.columns.filter(r=>!!(r!=null&&r.name));return i.length>1&&(t+=`
  `),t+=i.map(r=>{let l="";return r.name.includes("(")||r.name.includes(" ")?l+=r.name:l+="`"+r.name+"`",r.collate&&(l+=" COLLATE "+r.collate),r.sort&&(l+=" "+r.sort.toUpperCase()),l}).join(`,
  `),i.length>1&&(t+=`
`),t+=")",e.where&&(t+=` WHERE ${e.where}`),t}static replaceIndexTableName(e,t){const i=re.parseIndex(e);return i.tableName=t,re.buildIndex(i)}static replaceIndexColumn(e,t,i){if(t===i)return e;const r=re.parseIndex(e);let l=!1;for(let s of r.columns)s.name===t&&(s.name=i,l=!0);return l?re.buildIndex(r):e}static normalizeSearchFilter(e,t){if(e=(e||"").trim(),!e||!t.length)return e;const i=["=","!=","~","!~",">",">=","<","<="];for(const r of i)if(e.includes(r))return e;return e=isNaN(e)&&e!="true"&&e!="false"?`"${e.replace(/^[\"\'\`]|[\"\'\`]$/gm,"")}"`:e,t.map(r=>`${r}~${e}`).join("||")}static normalizeLogsFilter(e,t=[]){return re.normalizeSearchFilter(e,["level","message","data"].concat(t))}static initSchemaField(e){return Object.assign({id:"",name:"",type:"text",system:!1,hidden:!1,required:!1},e)}static triggerResize(){window.dispatchEvent(new Event("resize"))}static getHashQueryParams(){let e="";const t=window.location.hash.indexOf("?");return t>-1&&(e=window.location.hash.substring(t+1)),Object.fromEntries(new URLSearchParams(e))}static replaceHashQueryParams(e){e=e||{};let t="",i=window.location.hash;const r=i.indexOf("?");r>-1&&(t=i.substring(r+1),i=i.substring(0,r));const l=new URLSearchParams(t);for(let a in e){const u=e[a];u===null?l.delete(a):l.set(a,u)}t=l.toString(),t!=""&&(i+="?"+t);let s=window.location.href;const o=s.indexOf("#");o>-1&&(s=s.substring(0,o)),window.location.replace(s+i)}}let Q0,ta;const J0="app-tooltip";function Fv(n){return typeof n=="string"?{text:n,position:"bottom",hideOnClick:null}:n||{}}function Ao(){return ta=ta||document.querySelector("."+J0),ta||(ta=document.createElement("div"),ta.classList.add(J0),document.body.appendChild(ta)),ta}function o7(n,e){let t=Ao();if(!t.classList.contains("active")||!(e!=null&&e.text)){eg();return}t.textContent=e.text,t.className=J0+" active",e.class&&t.classList.add(e.class),e.position&&t.classList.add(e.position),t.style.top="0px",t.style.left="0px";let i=t.offsetHeight,r=t.offsetWidth,l=n.getBoundingClientRect(),s=0,o=0,a=5;e.position=="left"?(s=l.top+l.height/2-i/2,o=l.left-r-a):e.position=="right"?(s=l.top+l.height/2-i/2,o=l.right+a):e.position=="top"?(s=l.top-i-a,o=l.left+l.width/2-r/2):e.position=="top-left"?(s=l.top-i-a,o=l.left):e.position=="top-right"?(s=l.top-i-a,o=l.right-r):e.position=="bottom-left"?(s=l.top+l.height+a,o=l.left):e.position=="bottom-right"?(s=l.top+l.height+a,o=l.right-r):(s=l.top+l.height+a,o=l.left+l.width/2-r/2),o+r>document.documentElement.clientWidth&&(o=document.documentElement.clientWidth-r),o=o>=0?o:0,s+i>document.documentElement.clientHeight&&(s=document.documentElement.clientHeight-i),s=s>=0?s:0,t.style.top=s+"px",t.style.left=o+"px"}function eg(){clearTimeout(Q0),Ao().classList.remove("active"),Ao().activeNode=void 0}function kR(n,e){Ao().activeNode=n,clearTimeout(Q0),Q0=setTimeout(()=>{Ao().classList.add("active"),o7(n,e)},isNaN(e.delay)?0:e.delay)}function _t(n,e){let t=Fv(e);function i(){kR(n,t)}function r(){eg()}return n.addEventListener("mouseenter",i),n.addEventListener("mouseleave",r),n.addEventListener("blur",r),(t.hideOnClick===!0||t.hideOnClick===null&&re.isFocusable(n))&&n.addEventListener("click",r),Ao(),{update(l){var s,o;t=Fv(l),(o=(s=Ao())==null?void 0:s.activeNode)!=null&&o.contains(n)&&o7(n,t)},destroy(){var l,s;(s=(l=Ao())==null?void 0:l.activeNode)!=null&&s.contains(n)&&eg(),n.removeEventListener("mouseenter",i),n.removeEventListener("mouseleave",r),n.removeEventListener("blur",r),n.removeEventListener("click",r)}}}function Wh(n){const e=n-1;return e*e*e+1}function Lc(n,{delay:e=0,duration:t=400,easing:i=Yc}={}){const r=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:i,css:l=>`opacity: ${l*r}`}}function Yr(n,{delay:e=0,duration:t=400,easing:i=Wh,x:r=0,y:l=0,opacity:s=0}={}){const o=getComputedStyle(n),a=+o.opacity,u=o.transform==="none"?"":o.transform,f=a*(1-s),[c,h]=sv(r),[p,_]=sv(l);return{delay:e,duration:t,easing:i,css:(v,b)=>`
			transform: ${u} translate(${(1-v)*c}${h}, ${(1-v)*p}${_});
			opacity: ${a-f*b}`}}function En(n,{delay:e=0,duration:t=400,easing:i=Wh,axis:r="y"}={}){const l=getComputedStyle(n),s=+l.opacity,o=r==="y"?"height":"width",a=parseFloat(l[o]),u=r==="y"?["top","bottom"]:["left","right"],f=u.map(y=>`${y[0].toUpperCase()}${y.slice(1)}`),c=parseFloat(l[`padding${f[0]}`]),h=parseFloat(l[`padding${f[1]}`]),p=parseFloat(l[`margin${f[0]}`]),_=parseFloat(l[`margin${f[1]}`]),v=parseFloat(l[`border${f[0]}Width`]),b=parseFloat(l[`border${f[1]}Width`]);return{delay:e,duration:t,easing:i,css:y=>`overflow: hidden;opacity: ${Math.min(y*20,1)*s};${o}: ${y*a}px;padding-${u[0]}: ${y*c}px;padding-${u[1]}: ${y*h}px;margin-${u[0]}: ${y*p}px;margin-${u[1]}: ${y*_}px;border-${u[0]}-width: ${y*v}px;border-${u[1]}-width: ${y*b}px;`}}function Bn(n,{delay:e=0,duration:t=400,easing:i=Wh,start:r=0,opacity:l=0}={}){const s=getComputedStyle(n),o=+s.opacity,a=s.transform==="none"?"":s.transform,u=1-r,f=o*(1-l);return{delay:e,duration:t,easing:i,css:(c,h)=>`
			transform: ${a} scale(${1-u*h});
			opacity: ${o-f*h}
		`}}const TR=n=>({}),$v=n=>({}),wR=n=>({}),Hv=n=>({});function Bv(n){let e,t,i,r,l,s,o,a,u,f,c,h,p,_,v,b,y,A,M=n[4]&&!n[2]&&xv(n);const N=n[19].header,L=Zn(N,n,n[18],Hv);let I=n[4]&&n[2]&&Uv(n);const R=n[19].default,$=Zn(R,n,n[18],null),B=n[19].footer,H=Zn(B,n,n[18],$v);return{c(){e=k("div"),t=k("div"),r=D(),l=k("div"),s=k("div"),M&&M.c(),o=D(),L&&L.c(),a=D(),I&&I.c(),u=D(),f=k("div"),$&&$.c(),c=D(),h=k("div"),H&&H.c(),m(t,"class","overlay"),m(s,"class","overlay-panel-section panel-header"),m(f,"class","overlay-panel-section panel-content"),m(h,"class","overlay-panel-section panel-footer"),m(l,"class",p="overlay-panel "+n[1]+" "+n[8]),he(l,"popup",n[2]),m(e,"class","overlay-panel-container"),he(e,"padded",n[2]),he(e,"active",n[0])},m(q,z){S(q,e,z),T(e,t),T(e,r),T(e,l),T(l,s),M&&M.m(s,null),T(s,o),L&&L.m(s,null),T(s,a),I&&I.m(s,null),T(l,u),T(l,f),$&&$.m(f,null),n[21](f),T(l,c),T(l,h),H&&H.m(h,null),b=!0,y||(A=[se(t,"click",ln(n[20])),se(f,"scroll",n[22])],y=!0)},p(q,z){n=q,n[4]&&!n[2]?M?(M.p(n,z),z[0]&20&&F(M,1)):(M=xv(n),M.c(),F(M,1),M.m(s,o)):M&&(Ne(),x(M,1,1,()=>{M=null}),Me()),L&&L.p&&(!b||z[0]&262144)&&Jn(L,N,n,n[18],b?Qn(N,n[18],z,wR):ei(n[18]),Hv),n[4]&&n[2]?I?I.p(n,z):(I=Uv(n),I.c(),I.m(s,null)):I&&(I.d(1),I=null),$&&$.p&&(!b||z[0]&262144)&&Jn($,R,n,n[18],b?Qn(R,n[18],z,null):ei(n[18]),null),H&&H.p&&(!b||z[0]&262144)&&Jn(H,B,n,n[18],b?Qn(B,n[18],z,TR):ei(n[18]),$v),(!b||z[0]&258&&p!==(p="overlay-panel "+n[1]+" "+n[8]))&&m(l,"class",p),(!b||z[0]&262)&&he(l,"popup",n[2]),(!b||z[0]&4)&&he(e,"padded",n[2]),(!b||z[0]&1)&&he(e,"active",n[0])},i(q){b||(q&&tn(()=>{b&&(i||(i=Et(t,Lc,{duration:vo,opacity:0},!0)),i.run(1))}),F(M),F(L,q),F($,q),F(H,q),q&&tn(()=>{b&&(v&&v.end(1),_=iC(l,Yr,n[2]?{duration:vo,y:-10}:{duration:vo,x:50}),_.start())}),b=!0)},o(q){q&&(i||(i=Et(t,Lc,{duration:vo,opacity:0},!1)),i.run(0)),x(M),x(L,q),x($,q),x(H,q),_&&_.invalidate(),q&&(v=qg(l,Yr,n[2]?{duration:vo,y:10}:{duration:vo,x:50})),b=!1},d(q){q&&E(e),q&&i&&i.end(),M&&M.d(),L&&L.d(q),I&&I.d(),$&&$.d(q),n[21](null),H&&H.d(q),q&&v&&v.end(),y=!1,it(A)}}}function xv(n){let e,t,i,r,l;return{c(){e=k("button"),e.innerHTML='<i class="ri-close-line" aria-hidden="true"></i>',m(e,"type","button"),m(e,"aria-label","Close"),m(e,"class","overlay-close")},m(s,o){S(s,e,o),i=!0,r||(l=se(e,"click",ln(n[5])),r=!0)},p(s,o){n=s},i(s){i||(s&&tn(()=>{i&&(t||(t=Et(e,Lc,{duration:vo},!0)),t.run(1))}),i=!0)},o(s){s&&(t||(t=Et(e,Lc,{duration:vo},!1)),t.run(0)),i=!1},d(s){s&&E(e),s&&t&&t.end(),r=!1,l()}}}function Uv(n){let e,t,i;return{c(){e=k("button"),e.innerHTML='<i class="ri-close-line txt-lg" aria-hidden="true"></i>',m(e,"type","button"),m(e,"aria-label","Close"),m(e,"class","btn btn-sm btn-circle btn-transparent btn-close m-l-auto")},m(r,l){S(r,e,l),t||(i=se(e,"click",ln(n[5])),t=!0)},p:ge,d(r){r&&E(e),t=!1,i()}}}function ER(n){let e,t,i,r,l=n[0]&&Bv(n);return{c(){e=k("div"),l&&l.c(),m(e,"class","overlay-panel-wrapper"),m(e,"tabindex","-1")},m(s,o){S(s,e,o),l&&l.m(e,null),n[23](e),t=!0,i||(r=[se(window,"resize",n[10]),se(window,"keydown",n[9])],i=!0)},p(s,o){s[0]?l?(l.p(s,o),o[0]&1&&F(l,1)):(l=Bv(s),l.c(),F(l,1),l.m(e,null)):l&&(Ne(),x(l,1,1,()=>{l=null}),Me())},i(s){t||(F(l),t=!0)},o(s){x(l),t=!1},d(s){s&&E(e),l&&l.d(),n[23](null),i=!1,it(r)}}}let na,vm=[];function a7(){return na=na||document.querySelector(".overlays"),na||(na=document.createElement("div"),na.classList.add("overlays"),document.body.appendChild(na)),na}let vo=150;function zv(){return 1e3+a7().querySelectorAll(".overlay-panel-container.active").length}function SR(n,e,t){let{$$slots:i={},$$scope:r}=e,{class:l=""}=e,{active:s=!1}=e,{popup:o=!1}=e,{overlayClose:a=!0}=e,{btnClose:u=!0}=e,{escClose:f=!0}=e,{beforeOpen:c=void 0}=e,{beforeHide:h=void 0}=e;const p=Sn(),_="op_"+re.randomString(10);let v,b,y,A,M="",N=s;function L(){typeof c=="function"&&c()===!1||t(0,s=!0)}function I(){typeof h=="function"&&h()===!1||t(0,s=!1)}function R(){return s}async function $(ue){t(17,N=ue),ue?(y=document.activeElement,p("show"),v==null||v.focus()):(clearTimeout(A),p("hide"),y==null||y.focus()),await Ni(),B()}function B(){v&&(s?t(6,v.style.zIndex=zv(),v):t(6,v.style="",v))}function H(){re.pushUnique(vm,_),document.body.classList.add("overlay-active")}function q(){re.removeByValue(vm,_),vm.length||document.body.classList.remove("overlay-active")}function z(ue){s&&f&&ue.code=="Escape"&&!re.isInput(ue.target)&&v&&v.style.zIndex==zv()&&(ue.preventDefault(),I())}function j(ue){s&&W(b)}function W(ue,K){K&&t(8,M=""),!(!ue||A)&&(A=setTimeout(()=>{if(clearTimeout(A),A=null,!ue)return;if(ue.scrollHeight-ue.offsetHeight>0)t(8,M="scrollable");else{t(8,M="");return}ue.scrollTop==0?t(8,M+=" scroll-top-reached"):ue.scrollTop+ue.offsetHeight==ue.scrollHeight&&t(8,M+=" scroll-bottom-reached")},100))}hi(()=>{a7().appendChild(v);let ue=v;return()=>{clearTimeout(A),q(),ue==null||ue.remove()}});const G=()=>a?I():!0;function ie(ue){ye[ue?"unshift":"push"](()=>{b=ue,t(7,b)})}const te=ue=>W(ue.target);function ae(ue){ye[ue?"unshift":"push"](()=>{v=ue,t(6,v)})}return n.$$set=ue=>{"class"in ue&&t(1,l=ue.class),"active"in ue&&t(0,s=ue.active),"popup"in ue&&t(2,o=ue.popup),"overlayClose"in ue&&t(3,a=ue.overlayClose),"btnClose"in ue&&t(4,u=ue.btnClose),"escClose"in ue&&t(12,f=ue.escClose),"beforeOpen"in ue&&t(13,c=ue.beforeOpen),"beforeHide"in ue&&t(14,h=ue.beforeHide),"$$scope"in ue&&t(18,r=ue.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&131073&&N!=s&&$(s),n.$$.dirty[0]&128&&W(b,!0),n.$$.dirty[0]&64&&v&&B(),n.$$.dirty[0]&1&&(s?H():q())},[s,l,o,a,u,I,v,b,M,z,j,W,f,c,h,L,R,N,r,i,G,ie,te,ae]}class Mi extends je{constructor(e){super(),qe(this,e,SR,ER,We,{class:1,active:0,popup:2,overlayClose:3,btnClose:4,escClose:12,beforeOpen:13,beforeHide:14,show:15,hide:5,isActive:16},null,[-1,-1])}get show(){return this.$$.ctx[15]}get hide(){return this.$$.ctx[5]}get isActive(){return this.$$.ctx[16]}}const cu=[];function u7(n,e){return{subscribe:Xr(n,e).subscribe}}function Xr(n,e=ge){let t;const i=new Set;function r(o){if(We(n,o)&&(n=o,t)){const a=!cu.length;for(const u of i)u[1](),cu.push(u,n);if(a){for(let u=0;u<cu.length;u+=2)cu[u][0](cu[u+1]);cu.length=0}}}function l(o){r(o(n))}function s(o,a=ge){const u=[o,a];return i.add(u),i.size===1&&(t=e(r,l)||ge),o(n),()=>{i.delete(u),i.size===0&&t&&(t(),t=null)}}return{set:r,update:l,subscribe:s}}function f7(n,e,t){const i=!Array.isArray(n),r=i?[n]:n;if(!r.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const l=e.length<2;return u7(t,(s,o)=>{let a=!1;const u=[];let f=0,c=ge;const h=()=>{if(f)return;c();const _=e(i?u[0]:u,s,o);l?s(_):c=Kn(_)?_:ge},p=r.map((_,v)=>$g(_,b=>{u[v]=b,f&=~(1<<v),a&&h()},()=>{f|=1<<v}));return a=!0,h(),function(){it(p),c(),a=!1}})}const Qg=Xr({});function ar(n,e,t){Qg.set({text:n,yesCallback:e,noCallback:t})}function c7(){Qg.set({})}function CR(n){var r;let e,t=((r=n[1])==null?void 0:r.text)+"",i;return{c(){e=k("h4"),i=le(t),m(e,"class","block center txt-break"),m(e,"slot","header")},m(l,s){S(l,e,s),T(e,i)},p(l,s){var o;s&2&&t!==(t=((o=l[1])==null?void 0:o.text)+"")&&Se(i,t)},d(l){l&&E(e)}}}function AR(n){let e,t,i,r,l,s,o;return{c(){e=k("button"),t=k("span"),t.textContent="No",i=D(),r=k("button"),l=k("span"),l.textContent="Yes",m(t,"class","txt"),e.autofocus=!0,m(e,"type","button"),m(e,"class","btn btn-transparent btn-expanded-sm"),e.disabled=n[2],m(l,"class","txt"),m(r,"type","button"),m(r,"class","btn btn-danger btn-expanded"),r.disabled=n[2],he(r,"btn-loading",n[2])},m(a,u){S(a,e,u),T(e,t),S(a,i,u),S(a,r,u),T(r,l),e.focus(),s||(o=[se(e,"click",n[4]),se(r,"click",n[5])],s=!0)},p(a,u){u&4&&(e.disabled=a[2]),u&4&&(r.disabled=a[2]),u&4&&he(r,"btn-loading",a[2])},d(a){a&&(E(e),E(i),E(r)),s=!1,it(o)}}}function OR(n){let e,t,i={class:"confirm-popup hide-content overlay-panel-sm",overlayClose:!n[2],escClose:!n[2],btnClose:!1,popup:!0,$$slots:{footer:[AR],header:[CR]},$$scope:{ctx:n}};return e=new Mi({props:i}),n[6](e),e.$on("hide",n[7]),{c(){ee(e.$$.fragment)},m(r,l){Q(e,r,l),t=!0},p(r,[l]){const s={};l&4&&(s.overlayClose=!r[2]),l&4&&(s.escClose=!r[2]),l&271&&(s.$$scope={dirty:l,ctx:r}),e.$set(s)},i(r){t||(F(e.$$.fragment,r),t=!0)},o(r){x(e.$$.fragment,r),t=!1},d(r){n[6](null),J(e,r)}}}function NR(n,e,t){let i;Wt(n,Qg,c=>t(1,i=c));let r,l=!1,s=!1;const o=()=>{t(3,s=!1),r==null||r.hide()},a=async()=>{i!=null&&i.yesCallback&&(t(2,l=!0),await Promise.resolve(i.yesCallback()),t(2,l=!1)),t(3,s=!0),r==null||r.hide()};function u(c){ye[c?"unshift":"push"](()=>{r=c,t(0,r)})}const f=async()=>{!s&&(i!=null&&i.noCallback)&&i.noCallback(),await Ni(),t(3,s=!1),c7()};return n.$$.update=()=>{n.$$.dirty&3&&i!=null&&i.text&&(t(3,s=!1),r==null||r.show())},[r,i,l,s,o,a,u,f]}class MR extends je{constructor(e){super(),qe(this,e,NR,OR,We,{})}}function IR(n){let e;return{c(){e=k("textarea"),m(e,"id",n[0]),Bg(e,"visibility","hidden")},m(t,i){S(t,e,i),n[15](e)},p(t,i){i&1&&m(e,"id",t[0])},d(t){t&&E(e),n[15](null)}}}function LR(n){let e;return{c(){e=k("div"),m(e,"id",n[0])},m(t,i){S(t,e,i),n[14](e)},p(t,i){i&1&&m(e,"id",t[0])},d(t){t&&E(e),n[14](null)}}}function DR(n){let e;function t(l,s){return l[1]?LR:IR}let i=t(n),r=i(n);return{c(){e=k("div"),r.c(),m(e,"class",n[2])},m(l,s){S(l,e,s),r.m(e,null),n[16](e)},p(l,[s]){i===(i=t(l))&&r?r.p(l,s):(r.d(1),r=i(l),r&&(r.c(),r.m(e,null))),s&4&&m(e,"class",l[2])},i:ge,o:ge,d(l){l&&E(e),r.d(),n[16](null)}}}function RR(){let n={listeners:[],scriptLoaded:!1,injected:!1};function e(i,r,l){n.injected=!0;const s=i.createElement("script");s.referrerPolicy="origin",s.type="application/javascript",s.src=r,s.onload=()=>{l()},i.head&&i.head.appendChild(s)}function t(i,r,l){n.scriptLoaded?l():(n.listeners.push(l),n.injected||e(i,r,()=>{n.listeners.forEach(s=>s()),n.scriptLoaded=!0}))}return{load:t}}let PR=RR();function ym(){return window&&window.tinymce?window.tinymce:null}function FR(n,e,t){let{id:i="tinymce_svelte"+re.randomString(7)}=e,{inline:r=void 0}=e,{disabled:l=!1}=e,{scriptSrc:s="./libs/tinymce/tinymce.min.js"}=e,{conf:o={}}=e,{modelEvents:a="change input undo redo"}=e,{value:u=""}=e,{text:f=""}=e,{cssClass:c="tinymce-wrapper"}=e;const h=["Activate","AddUndo","BeforeAddUndo","BeforeExecCommand","BeforeGetContent","BeforeRenderUI","BeforeSetContent","BeforePaste","Blur","Change","ClearUndos","Click","ContextMenu","Copy","Cut","Dblclick","Deactivate","Dirty","Drag","DragDrop","DragEnd","DragGesture","DragOver","Drop","ExecCommand","Focus","FocusIn","FocusOut","GetContent","Hide","Init","KeyDown","KeyPress","KeyUp","LoadContent","MouseDown","MouseEnter","MouseLeave","MouseMove","MouseOut","MouseOver","MouseUp","NodeChange","ObjectResizeStart","ObjectResized","ObjectSelected","Paste","PostProcess","PostRender","PreProcess","ProgressState","Redo","Remove","Reset","ResizeEditor","SaveContent","SelectionChange","SetAttrib","SetContent","Show","Submit","Undo","VisualAid"],p=($,B)=>{h.forEach(H=>{$.on(H,q=>{B(H.toLowerCase(),{eventName:H,event:q,editor:$})})})};let _,v,b,y=u,A=l;const M=Sn();function N(){const $={...o,target:v,inline:r!==void 0?r:o.inline!==void 0?o.inline:!1,readonly:l,setup:B=>{t(11,b=B),B.on("init",()=>{B.setContent(u),B.on(a,()=>{t(12,y=B.getContent()),y!==u&&(t(5,u=y),t(6,f=B.getContent({format:"text"})))})}),p(B,M),typeof o.setup=="function"&&o.setup(B)}};t(4,v.style.visibility="",v),ym().init($)}hi(()=>(ym()!==null?N():PR.load(_.ownerDocument,s,()=>{_&&N()}),()=>{var $,B;try{b&&(($=b.dom)==null||$.unbind(document),(B=ym())==null||B.remove(b))}catch{}}));function L($){ye[$?"unshift":"push"](()=>{v=$,t(4,v)})}function I($){ye[$?"unshift":"push"](()=>{v=$,t(4,v)})}function R($){ye[$?"unshift":"push"](()=>{_=$,t(3,_)})}return n.$$set=$=>{"id"in $&&t(0,i=$.id),"inline"in $&&t(1,r=$.inline),"disabled"in $&&t(7,l=$.disabled),"scriptSrc"in $&&t(8,s=$.scriptSrc),"conf"in $&&t(9,o=$.conf),"modelEvents"in $&&t(10,a=$.modelEvents),"value"in $&&t(5,u=$.value),"text"in $&&t(6,f=$.text),"cssClass"in $&&t(2,c=$.cssClass)},n.$$.update=()=>{var $;if(n.$$.dirty&14496)try{b&&y!==u&&(b.setContent(u),t(6,f=b.getContent({format:"text"}))),b&&l!==A&&(t(13,A=l),typeof(($=b.mode)==null?void 0:$.set)=="function"?b.mode.set(l?"readonly":"design"):b.setMode(l?"readonly":"design"))}catch(B){console.warn("TinyMCE reactive error:",B)}},[i,r,c,_,v,u,f,l,s,o,a,b,y,A,L,I,R]}class Jg extends je{constructor(e){super(),qe(this,e,FR,DR,We,{id:0,inline:1,disabled:7,scriptSrc:8,conf:9,modelEvents:10,value:5,text:6,cssClass:2})}}function $R(n,{from:e,to:t},i={}){const r=getComputedStyle(n),l=r.transform==="none"?"":r.transform,[s,o]=r.transformOrigin.split(" ").map(parseFloat),a=e.left+e.width*s/t.width-(t.left+s),u=e.top+e.height*o/t.height-(t.top+o),{delay:f=0,duration:c=p=>Math.sqrt(p)*120,easing:h=Wh}=i;return{delay:f,duration:Kn(c)?c(Math.sqrt(a*a+u*u)):c,easing:h,css:(p,_)=>{const v=_*a,b=_*u,y=p+_*e.width/t.width,A=p+_*e.height/t.height;return`transform: ${l} translate(${v}px, ${b}px) scale(${y}, ${A});`}}}const Kh=Xr([]);function Dc(n,e=4e3){return e_(n,"info",e)}function Oi(n,e=3e3){return e_(n,"success",e)}function Ts(n,e=4500){return e_(n,"error",e)}function e_(n,e,t){t=t||4e3;const i={message:n,type:e,duration:t,timeout:setTimeout(()=>{d7(i)},t)};Kh.update(r=>(t_(r,i.message),re.pushOrReplaceByKey(r,i,"message"),r))}function d7(n){Kh.update(e=>(t_(e,n),e))}function oc(){Kh.update(n=>{for(let e of n)t_(n,e);return[]})}function t_(n,e){let t;typeof e=="string"?t=re.findByKey(n,"message",e):t=e,t&&(clearTimeout(t.timeout),re.removeByKey(n,"message",t.message))}function qv(n,e,t){const i=n.slice();return i[2]=e[t],i}function HR(n){let e;return{c(){e=k("i"),m(e,"class","ri-alert-line")},m(t,i){S(t,e,i)},d(t){t&&E(e)}}}function BR(n){let e;return{c(){e=k("i"),m(e,"class","ri-error-warning-line")},m(t,i){S(t,e,i)},d(t){t&&E(e)}}}function xR(n){let e;return{c(){e=k("i"),m(e,"class","ri-checkbox-circle-line")},m(t,i){S(t,e,i)},d(t){t&&E(e)}}}function UR(n){let e;return{c(){e=k("i"),m(e,"class","ri-information-line")},m(t,i){S(t,e,i)},d(t){t&&E(e)}}}function jv(n,e){let t,i,r,l,s=e[2].message+"",o,a,u,f,c,h,p,_=ge,v,b,y;function A(I,R){return I[2].type==="info"?UR:I[2].type==="success"?xR:I[2].type==="warning"?BR:HR}let M=A(e),N=M(e);function L(){return e[1](e[2])}return{key:n,first:null,c(){t=k("div"),i=k("div"),N.c(),r=D(),l=k("div"),o=le(s),a=D(),u=k("button"),u.innerHTML='<i class="ri-close-line"></i>',f=D(),m(i,"class","icon"),m(l,"class","content"),m(u,"type","button"),m(u,"class","close"),m(t,"class","alert txt-break"),he(t,"alert-info",e[2].type=="info"),he(t,"alert-success",e[2].type=="success"),he(t,"alert-danger",e[2].type=="error"),he(t,"alert-warning",e[2].type=="warning"),this.first=t},m(I,R){S(I,t,R),T(t,i),N.m(i,null),T(t,r),T(t,l),T(l,o),T(t,a),T(t,u),T(t,f),v=!0,b||(y=se(u,"click",ln(L)),b=!0)},p(I,R){e=I,M!==(M=A(e))&&(N.d(1),N=M(e),N&&(N.c(),N.m(i,null))),(!v||R&1)&&s!==(s=e[2].message+"")&&Se(o,s),(!v||R&1)&&he(t,"alert-info",e[2].type=="info"),(!v||R&1)&&he(t,"alert-success",e[2].type=="success"),(!v||R&1)&&he(t,"alert-danger",e[2].type=="error"),(!v||R&1)&&he(t,"alert-warning",e[2].type=="warning")},r(){p=t.getBoundingClientRect()},f(){oL(t),_(),JS(t,p)},a(){_(),_=sL(t,p,$R,{duration:150})},i(I){v||(I&&tn(()=>{v&&(h&&h.end(1),c=iC(t,En,{duration:150}),c.start())}),v=!0)},o(I){c&&c.invalidate(),I&&(h=qg(t,Lc,{duration:150})),v=!1},d(I){I&&E(t),N.d(),I&&h&&h.end(),b=!1,y()}}}function zR(n){let e,t=[],i=new Map,r,l=Re(n[0]);const s=o=>o[2].message;for(let o=0;o<l.length;o+=1){let a=qv(n,l,o),u=s(a);i.set(u,t[o]=jv(u,a))}return{c(){e=k("div");for(let o=0;o<t.length;o+=1)t[o].c();m(e,"class","toasts-wrapper")},m(o,a){S(o,e,a);for(let u=0;u<t.length;u+=1)t[u]&&t[u].m(e,null);r=!0},p(o,[a]){if(a&1){l=Re(o[0]),Ne();for(let u=0;u<t.length;u+=1)t[u].r();t=In(t,a,s,1,o,l,i,e,cL,jv,null,qv);for(let u=0;u<t.length;u+=1)t[u].a();Me()}},i(o){if(!r){for(let a=0;a<l.length;a+=1)F(t[a]);r=!0}},o(o){for(let a=0;a<t.length;a+=1)x(t[a]);r=!1},d(o){o&&E(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}function qR(n,e,t){let i;return Wt(n,Kh,l=>t(0,i=l)),[i,l=>d7(l)]}class jR extends je{constructor(e){super(),qe(this,e,qR,zR,We,{})}}function Wv(n){let e,t,i;const r=n[18].default,l=Zn(r,n,n[17],null);return{c(){e=k("div"),l&&l.c(),m(e,"class",n[1]),he(e,"active",n[0])},m(s,o){S(s,e,o),l&&l.m(e,null),n[19](e),i=!0},p(s,o){l&&l.p&&(!i||o[0]&131072)&&Jn(l,r,s,s[17],i?Qn(r,s[17],o,null):ei(s[17]),null),(!i||o[0]&2)&&m(e,"class",s[1]),(!i||o[0]&3)&&he(e,"active",s[0])},i(s){i||(F(l,s),s&&tn(()=>{i&&(t||(t=Et(e,Yr,{duration:150,y:3},!0)),t.run(1))}),i=!0)},o(s){x(l,s),s&&(t||(t=Et(e,Yr,{duration:150,y:3},!1)),t.run(0)),i=!1},d(s){s&&E(e),l&&l.d(s),n[19](null),s&&t&&t.end()}}}function WR(n){let e,t,i,r,l=n[0]&&Wv(n);return{c(){e=k("div"),l&&l.c(),m(e,"class","toggler-container"),m(e,"tabindex","-1"),m(e,"role","menu")},m(s,o){S(s,e,o),l&&l.m(e,null),n[20](e),t=!0,i||(r=[se(window,"click",n[7]),se(window,"mousedown",n[6]),se(window,"keydown",n[5]),se(window,"focusin",n[4])],i=!0)},p(s,o){s[0]?l?(l.p(s,o),o[0]&1&&F(l,1)):(l=Wv(s),l.c(),F(l,1),l.m(e,null)):l&&(Ne(),x(l,1,1,()=>{l=null}),Me())},i(s){t||(F(l),t=!0)},o(s){x(l),t=!1},d(s){s&&E(e),l&&l.d(),n[20](null),i=!1,it(r)}}}function KR(n,e,t){let{$$slots:i={},$$scope:r}=e,{trigger:l=void 0}=e,{active:s=!1}=e,{escClose:o=!0}=e,{autoScroll:a=!0}=e,{closableClass:u="closable"}=e,{class:f=""}=e,c,h,p,_,v,b=!1;const y=Sn();function A(ue=0){s&&(clearTimeout(v),v=setTimeout(M,ue))}function M(){s&&(t(0,s=!1),b=!1,clearTimeout(_),clearTimeout(v))}function N(){clearTimeout(v),clearTimeout(_),!s&&(t(0,s=!0),p!=null&&p.contains(c)||c==null||c.focus(),_=setTimeout(()=>{a&&(h!=null&&h.scrollIntoViewIfNeeded?h==null||h.scrollIntoViewIfNeeded():h!=null&&h.scrollIntoView&&(h==null||h.scrollIntoView({behavior:"smooth",block:"nearest"})))},180))}function L(){s?M():N()}function I(ue){return!c||ue.classList.contains(u)||c.contains(ue)&&ue.closest&&ue.closest("."+u)}function R(ue){$(),c==null||c.addEventListener("click",B),c==null||c.addEventListener("keydown",H),t(16,p=ue||(c==null?void 0:c.parentNode)),p==null||p.addEventListener("click",q),p==null||p.addEventListener("keydown",z)}function $(){clearTimeout(_),clearTimeout(v),c==null||c.removeEventListener("click",B),c==null||c.removeEventListener("keydown",H),p==null||p.removeEventListener("click",q),p==null||p.removeEventListener("keydown",z)}function B(ue){ue.stopPropagation(),I(ue.target)&&M()}function H(ue){(ue.code==="Enter"||ue.code==="Space")&&(ue.stopPropagation(),I(ue.target)&&A(150))}function q(ue){ue.preventDefault(),ue.stopPropagation(),L()}function z(ue){(ue.code==="Enter"||ue.code==="Space")&&(ue.preventDefault(),ue.stopPropagation(),L())}function j(ue){s&&!(p!=null&&p.contains(ue.target))&&!(c!=null&&c.contains(ue.target))&&L()}function W(ue){s&&o&&ue.code==="Escape"&&(ue.preventDefault(),M())}function G(ue){s&&(b=!(c!=null&&c.contains(ue.target)))}function ie(ue){var K;s&&b&&!(c!=null&&c.contains(ue.target))&&!(p!=null&&p.contains(ue.target))&&!((K=ue.target)!=null&&K.closest(".flatpickr-calendar"))&&M()}hi(()=>(R(),()=>$()));function te(ue){ye[ue?"unshift":"push"](()=>{h=ue,t(3,h)})}function ae(ue){ye[ue?"unshift":"push"](()=>{c=ue,t(2,c)})}return n.$$set=ue=>{"trigger"in ue&&t(8,l=ue.trigger),"active"in ue&&t(0,s=ue.active),"escClose"in ue&&t(9,o=ue.escClose),"autoScroll"in ue&&t(10,a=ue.autoScroll),"closableClass"in ue&&t(11,u=ue.closableClass),"class"in ue&&t(1,f=ue.class),"$$scope"in ue&&t(17,r=ue.$$scope)},n.$$.update=()=>{var ue,K;n.$$.dirty[0]&260&&c&&R(l),n.$$.dirty[0]&65537&&(s?((ue=p==null?void 0:p.classList)==null||ue.add("active"),p==null||p.setAttribute("aria-expanded",!0),y("show")):((K=p==null?void 0:p.classList)==null||K.remove("active"),p==null||p.setAttribute("aria-expanded",!1),y("hide")))},[s,f,c,h,j,W,G,ie,l,o,a,u,A,M,N,L,p,r,i,te,ae]}class Ar extends je{constructor(e){super(),qe(this,e,KR,WR,We,{trigger:8,active:0,escClose:9,autoScroll:10,closableClass:11,class:1,hideWithDelay:12,hide:13,show:14,toggle:15},null,[-1,-1])}get hideWithDelay(){return this.$$.ctx[12]}get hide(){return this.$$.ctx[13]}get show(){return this.$$.ctx[14]}get toggle(){return this.$$.ctx[15]}}const Hi=Xr(""),ch=Xr(""),Sa=Xr(!1),mr=Xr({});function mi(n){mr.set(n||{})}function ul(n){mr.update(e=>(re.deleteByPath(e,n),e))}const Vh=Xr({});function Kv(n){Vh.set(n||{})}class Kr extends Error{constructor(e){var t,i,r,l;super("ClientResponseError"),this.url="",this.status=0,this.response={},this.isAbort=!1,this.originalError=null,Object.setPrototypeOf(this,Kr.prototype),e!==null&&typeof e=="object"&&(this.url=typeof e.url=="string"?e.url:"",this.status=typeof e.status=="number"?e.status:0,this.isAbort=!!e.isAbort,this.originalError=e.originalError,e.response!==null&&typeof e.response=="object"?this.response=e.response:e.data!==null&&typeof e.data=="object"?this.response=e.data:this.response={}),this.originalError||e instanceof Kr||(this.originalError=e),typeof DOMException<"u"&&e instanceof DOMException&&(this.isAbort=!0),this.name="ClientResponseError "+this.status,this.message=(t=this.response)==null?void 0:t.message,this.message||(this.isAbort?this.message="The request was autocancelled. You can find more info in https://github.com/pocketbase/js-sdk#auto-cancellation.":(l=(r=(i=this.originalError)==null?void 0:i.cause)==null?void 0:r.message)!=null&&l.includes("ECONNREFUSED ::1")?this.message="Failed to connect to the PocketBase server. Try changing the SDK URL from localhost to 127.0.0.1 (https://github.com/pocketbase/js-sdk/issues/21).":this.message="Something went wrong while processing your request.")}get data(){return this.response}toJSON(){return{...this}}}const X1=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function VR(n,e){const t={};if(typeof n!="string")return t;const i=Object.assign({},{}).decode||GR;let r=0;for(;r<n.length;){const l=n.indexOf("=",r);if(l===-1)break;let s=n.indexOf(";",r);if(s===-1)s=n.length;else if(s<l){r=n.lastIndexOf(";",l-1)+1;continue}const o=n.slice(r,l).trim();if(t[o]===void 0){let a=n.slice(l+1,s).trim();a.charCodeAt(0)===34&&(a=a.slice(1,-1));try{t[o]=i(a)}catch{t[o]=a}}r=s+1}return t}function Vv(n,e,t){const i=Object.assign({},t||{}),r=i.encode||YR;if(!X1.test(n))throw new TypeError("argument name is invalid");const l=r(e);if(l&&!X1.test(l))throw new TypeError("argument val is invalid");let s=n+"="+l;if(i.maxAge!=null){const o=i.maxAge-0;if(isNaN(o)||!isFinite(o))throw new TypeError("option maxAge is invalid");s+="; Max-Age="+Math.floor(o)}if(i.domain){if(!X1.test(i.domain))throw new TypeError("option domain is invalid");s+="; Domain="+i.domain}if(i.path){if(!X1.test(i.path))throw new TypeError("option path is invalid");s+="; Path="+i.path}if(i.expires){if(!function(a){return Object.prototype.toString.call(a)==="[object Date]"||a instanceof Date}(i.expires)||isNaN(i.expires.valueOf()))throw new TypeError("option expires is invalid");s+="; Expires="+i.expires.toUTCString()}if(i.httpOnly&&(s+="; HttpOnly"),i.secure&&(s+="; Secure"),i.priority)switch(typeof i.priority=="string"?i.priority.toLowerCase():i.priority){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(i.sameSite)switch(typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return s}function GR(n){return n.indexOf("%")!==-1?decodeURIComponent(n):n}function YR(n){return encodeURIComponent(n)}const XR=typeof navigator<"u"&&navigator.product==="ReactNative"||typeof global<"u"&&global.HermesInternal;let h7;function Iu(n){if(n)try{const e=decodeURIComponent(h7(n.split(".")[1]).split("").map(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(e)||{}}catch{}return{}}function Gh(n,e=0){let t=Iu(n);return!(Object.keys(t).length>0&&(!t.exp||t.exp-e>Date.now()/1e3))}h7=typeof atob!="function"||XR?n=>{let e=String(n).replace(/=+$/,"");if(e.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var t,i,r=0,l=0,s="";i=e.charAt(l++);~i&&(t=r%4?64*t+i:i,r++%4)?s+=String.fromCharCode(255&t>>(-2*r&6)):0)i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(i);return s}:atob;const Gv="pb_auth";class n_{constructor(){this.baseToken="",this.baseModel=null,this._onChangeCallbacks=[]}get token(){return this.baseToken}get record(){return this.baseModel}get model(){return this.baseModel}get isValid(){return!Gh(this.token)}get isSuperuser(){var t,i;let e=Iu(this.token);return e.type=="auth"&&(((t=this.record)==null?void 0:t.collectionName)=="_superusers"||!((i=this.record)!=null&&i.collectionName)&&e.collectionId=="pbc_3142635823")}get isAdmin(){return console.warn("Please replace pb.authStore.isAdmin with pb.authStore.isSuperuser OR simply check the value of pb.authStore.record?.collectionName"),this.isSuperuser}get isAuthRecord(){return console.warn("Please replace pb.authStore.isAuthRecord with !pb.authStore.isSuperuser OR simply check the value of pb.authStore.record?.collectionName"),Iu(this.token).type=="auth"&&!this.isSuperuser}save(e,t){this.baseToken=e||"",this.baseModel=t||null,this.triggerChange()}clear(){this.baseToken="",this.baseModel=null,this.triggerChange()}loadFromCookie(e,t=Gv){const i=VR(e||"")[t]||"";let r={};try{r=JSON.parse(i),(typeof r===null||typeof r!="object"||Array.isArray(r))&&(r={})}catch{}this.save(r.token||"",r.record||r.model||null)}exportToCookie(e,t=Gv){var a,u;const i={secure:!0,sameSite:!0,httpOnly:!0,path:"/"},r=Iu(this.token);i.expires=r!=null&&r.exp?new Date(1e3*r.exp):new Date("1970-01-01"),e=Object.assign({},i,e);const l={token:this.token,record:this.record?JSON.parse(JSON.stringify(this.record)):null};let s=Vv(t,JSON.stringify(l),e);const o=typeof Blob<"u"?new Blob([s]).size:s.length;if(l.record&&o>4096){l.record={id:(a=l.record)==null?void 0:a.id,email:(u=l.record)==null?void 0:u.email};const f=["collectionId","collectionName","verified"];for(const c in this.record)f.includes(c)&&(l.record[c]=this.record[c]);s=Vv(t,JSON.stringify(l),e)}return s}onChange(e,t=!1){return this._onChangeCallbacks.push(e),t&&e(this.token,this.record),()=>{for(let i=this._onChangeCallbacks.length-1;i>=0;i--)if(this._onChangeCallbacks[i]==e)return delete this._onChangeCallbacks[i],void this._onChangeCallbacks.splice(i,1)}}triggerChange(){for(const e of this._onChangeCallbacks)e&&e(this.token,this.record)}}class p7 extends n_{constructor(e="pocketbase_auth"){super(),this.storageFallback={},this.storageKey=e,this._bindStorageEvent()}get token(){return(this._storageGet(this.storageKey)||{}).token||""}get record(){const e=this._storageGet(this.storageKey)||{};return e.record||e.model||null}get model(){return this.record}save(e,t){this._storageSet(this.storageKey,{token:e,record:t}),super.save(e,t)}clear(){this._storageRemove(this.storageKey),super.clear()}_storageGet(e){if(typeof window<"u"&&(window!=null&&window.localStorage)){const t=window.localStorage.getItem(e)||"";try{return JSON.parse(t)}catch{return t}}return this.storageFallback[e]}_storageSet(e,t){if(typeof window<"u"&&(window!=null&&window.localStorage)){let i=t;typeof t!="string"&&(i=JSON.stringify(t)),window.localStorage.setItem(e,i)}else this.storageFallback[e]=t}_storageRemove(e){var t;typeof window<"u"&&(window!=null&&window.localStorage)&&((t=window.localStorage)==null||t.removeItem(e)),delete this.storageFallback[e]}_bindStorageEvent(){typeof window<"u"&&(window!=null&&window.localStorage)&&window.addEventListener&&window.addEventListener("storage",e=>{if(e.key!=this.storageKey)return;const t=this._storageGet(this.storageKey)||{};super.save(t.token||"",t.record||t.model||null)})}}class Ks{constructor(e){this.client=e}}class ZR extends Ks{async getAll(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/settings",e)}async update(e,t){return t=Object.assign({method:"PATCH",body:e},t),this.client.send("/api/settings",t)}async testS3(e="storage",t){return t=Object.assign({method:"POST",body:{filesystem:e}},t),this.client.send("/api/settings/test/s3",t).then(()=>!0)}async testEmail(e,t,i,r){return r=Object.assign({method:"POST",body:{email:t,template:i,collection:e}},r),this.client.send("/api/settings/test/email",r).then(()=>!0)}async generateAppleClientSecret(e,t,i,r,l,s){return s=Object.assign({method:"POST",body:{clientId:e,teamId:t,keyId:i,privateKey:r,duration:l}},s),this.client.send("/api/settings/apple/generate-client-secret",s)}}const QR=["requestKey","$cancelKey","$autoCancel","fetch","headers","body","query","params","cache","credentials","headers","integrity","keepalive","method","mode","redirect","referrer","referrerPolicy","signal","window"];function i_(n){if(n){n.query=n.query||{};for(let e in n)QR.includes(e)||(n.query[e]=n[e],delete n[e])}}function m7(n){const e=[];for(const t in n){const i=encodeURIComponent(t),r=Array.isArray(n[t])?n[t]:[n[t]];for(let l of r)l=JR(l),l!==null&&e.push(i+"="+l)}return e.join("&")}function JR(n){return n==null?null:n instanceof Date?encodeURIComponent(n.toISOString().replace("T"," ")):encodeURIComponent(typeof n=="object"?JSON.stringify(n):n)}class g7 extends Ks{constructor(){super(...arguments),this.clientId="",this.eventSource=null,this.subscriptions={},this.lastSentSubscriptions=[],this.maxConnectTimeout=15e3,this.reconnectAttempts=0,this.maxReconnectAttempts=1/0,this.predefinedReconnectIntervals=[200,300,500,1e3,1200,1500,2e3],this.pendingConnects=[]}get isConnected(){return!!this.eventSource&&!!this.clientId&&!this.pendingConnects.length}async subscribe(e,t,i){var s;if(!e)throw new Error("topic must be set.");let r=e;if(i){i_(i=Object.assign({},i));const o="options="+encodeURIComponent(JSON.stringify({query:i.query,headers:i.headers}));r+=(r.includes("?")?"&":"?")+o}const l=function(o){const a=o;let u;try{u=JSON.parse(a==null?void 0:a.data)}catch{}t(u||{})};return this.subscriptions[r]||(this.subscriptions[r]=[]),this.subscriptions[r].push(l),this.isConnected?this.subscriptions[r].length===1?await this.submitSubscriptions():(s=this.eventSource)==null||s.addEventListener(r,l):await this.connect(),async()=>this.unsubscribeByTopicAndListener(e,l)}async unsubscribe(e){var i;let t=!1;if(e){const r=this.getSubscriptionsByTopic(e);for(let l in r)if(this.hasSubscriptionListeners(l)){for(let s of this.subscriptions[l])(i=this.eventSource)==null||i.removeEventListener(l,s);delete this.subscriptions[l],t||(t=!0)}}else this.subscriptions={};this.hasSubscriptionListeners()?t&&await this.submitSubscriptions():this.disconnect()}async unsubscribeByPrefix(e){var i;let t=!1;for(let r in this.subscriptions)if((r+"?").startsWith(e)){t=!0;for(let l of this.subscriptions[r])(i=this.eventSource)==null||i.removeEventListener(r,l);delete this.subscriptions[r]}t&&(this.hasSubscriptionListeners()?await this.submitSubscriptions():this.disconnect())}async unsubscribeByTopicAndListener(e,t){var l;let i=!1;const r=this.getSubscriptionsByTopic(e);for(let s in r){if(!Array.isArray(this.subscriptions[s])||!this.subscriptions[s].length)continue;let o=!1;for(let a=this.subscriptions[s].length-1;a>=0;a--)this.subscriptions[s][a]===t&&(o=!0,delete this.subscriptions[s][a],this.subscriptions[s].splice(a,1),(l=this.eventSource)==null||l.removeEventListener(s,t));o&&(this.subscriptions[s].length||delete this.subscriptions[s],i||this.hasSubscriptionListeners(s)||(i=!0))}this.hasSubscriptionListeners()?i&&await this.submitSubscriptions():this.disconnect()}hasSubscriptionListeners(e){var t,i;if(this.subscriptions=this.subscriptions||{},e)return!!((t=this.subscriptions[e])!=null&&t.length);for(let r in this.subscriptions)if((i=this.subscriptions[r])!=null&&i.length)return!0;return!1}async submitSubscriptions(){if(this.clientId)return this.addAllSubscriptionListeners(),this.lastSentSubscriptions=this.getNonEmptySubscriptionKeys(),this.client.send("/api/realtime",{method:"POST",body:{clientId:this.clientId,subscriptions:this.lastSentSubscriptions},requestKey:this.getSubscriptionsCancelKey()}).catch(e=>{if(!(e!=null&&e.isAbort))throw e})}getSubscriptionsCancelKey(){return"realtime_"+this.clientId}getSubscriptionsByTopic(e){const t={};e=e.includes("?")?e:e+"?";for(let i in this.subscriptions)(i+"?").startsWith(e)&&(t[i]=this.subscriptions[i]);return t}getNonEmptySubscriptionKeys(){const e=[];for(let t in this.subscriptions)this.subscriptions[t].length&&e.push(t);return e}addAllSubscriptionListeners(){if(this.eventSource){this.removeAllSubscriptionListeners();for(let e in this.subscriptions)for(let t of this.subscriptions[e])this.eventSource.addEventListener(e,t)}}removeAllSubscriptionListeners(){if(this.eventSource)for(let e in this.subscriptions)for(let t of this.subscriptions[e])this.eventSource.removeEventListener(e,t)}async connect(){if(!(this.reconnectAttempts>0))return new Promise((e,t)=>{this.pendingConnects.push({resolve:e,reject:t}),this.pendingConnects.length>1||this.initConnect()})}initConnect(){this.disconnect(!0),clearTimeout(this.connectTimeoutId),this.connectTimeoutId=setTimeout(()=>{this.connectErrorHandler(new Error("EventSource connect took too long."))},this.maxConnectTimeout),this.eventSource=new EventSource(this.client.buildURL("/api/realtime")),this.eventSource.onerror=e=>{this.connectErrorHandler(new Error("Failed to establish realtime connection."))},this.eventSource.addEventListener("PB_CONNECT",e=>{const t=e;this.clientId=t==null?void 0:t.lastEventId,this.submitSubscriptions().then(async()=>{let i=3;for(;this.hasUnsentSubscriptions()&&i>0;)i--,await this.submitSubscriptions()}).then(()=>{for(let r of this.pendingConnects)r.resolve();this.pendingConnects=[],this.reconnectAttempts=0,clearTimeout(this.reconnectTimeoutId),clearTimeout(this.connectTimeoutId);const i=this.getSubscriptionsByTopic("PB_CONNECT");for(let r in i)for(let l of i[r])l(e)}).catch(i=>{this.clientId="",this.connectErrorHandler(i)})})}hasUnsentSubscriptions(){const e=this.getNonEmptySubscriptionKeys();if(e.length!=this.lastSentSubscriptions.length)return!0;for(const t of e)if(!this.lastSentSubscriptions.includes(t))return!0;return!1}connectErrorHandler(e){if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),!this.clientId&&!this.reconnectAttempts||this.reconnectAttempts>this.maxReconnectAttempts){for(let i of this.pendingConnects)i.reject(new Kr(e));return this.pendingConnects=[],void this.disconnect()}this.disconnect(!0);const t=this.predefinedReconnectIntervals[this.reconnectAttempts]||this.predefinedReconnectIntervals[this.predefinedReconnectIntervals.length-1];this.reconnectAttempts++,this.reconnectTimeoutId=setTimeout(()=>{this.initConnect()},t)}disconnect(e=!1){var t;if(this.clientId&&this.onDisconnect&&this.onDisconnect(Object.keys(this.subscriptions)),clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),this.removeAllSubscriptionListeners(),this.client.cancelRequest(this.getSubscriptionsCancelKey()),(t=this.eventSource)==null||t.close(),this.eventSource=null,this.clientId="",!e){this.reconnectAttempts=0;for(let i of this.pendingConnects)i.resolve();this.pendingConnects=[]}}}class _7 extends Ks{decode(e){return e}async getFullList(e,t){if(typeof e=="number")return this._getFullList(e,t);let i=500;return(t=Object.assign({},e,t)).batch&&(i=t.batch,delete t.batch),this._getFullList(i,t)}async getList(e=1,t=30,i){return(i=Object.assign({method:"GET"},i)).query=Object.assign({page:e,perPage:t},i.query),this.client.send(this.baseCrudPath,i).then(r=>{var l;return r.items=((l=r.items)==null?void 0:l.map(s=>this.decode(s)))||[],r})}async getFirstListItem(e,t){return(t=Object.assign({requestKey:"one_by_filter_"+this.baseCrudPath+"_"+e},t)).query=Object.assign({filter:e,skipTotal:1},t.query),this.getList(1,1,t).then(i=>{var r;if(!((r=i==null?void 0:i.items)!=null&&r.length))throw new Kr({status:404,response:{code:404,message:"The requested resource wasn't found.",data:{}}});return i.items[0]})}async getOne(e,t){if(!e)throw new Kr({url:this.client.buildURL(this.baseCrudPath+"/"),status:404,response:{code:404,message:"Missing required record id.",data:{}}});return t=Object.assign({method:"GET"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),t).then(i=>this.decode(i))}async create(e,t){return t=Object.assign({method:"POST",body:e},t),this.client.send(this.baseCrudPath,t).then(i=>this.decode(i))}async update(e,t,i){return i=Object.assign({method:"PATCH",body:t},i),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),i).then(r=>this.decode(r))}async delete(e,t){return t=Object.assign({method:"DELETE"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),t).then(()=>!0)}_getFullList(e=500,t){(t=t||{}).query=Object.assign({skipTotal:1},t.query);let i=[],r=async l=>this.getList(l,e||500,t).then(s=>{const o=s.items;return i=i.concat(o),o.length==s.perPage?r(l+1):i});return r(1)}}function ao(n,e,t,i){const r=i!==void 0;return r||t!==void 0?r?(console.warn(n),e.body=Object.assign({},e.body,t),e.query=Object.assign({},e.query,i),e):Object.assign(e,t):e}function km(n){var e;(e=n._resetAutoRefresh)==null||e.call(n)}class eP extends _7{constructor(e,t){super(e),this.collectionIdOrName=t}get baseCrudPath(){return this.baseCollectionPath+"/records"}get baseCollectionPath(){return"/api/collections/"+encodeURIComponent(this.collectionIdOrName)}get isSuperusers(){return this.collectionIdOrName=="_superusers"||this.collectionIdOrName=="_pbc_2773867675"}async subscribe(e,t,i){if(!e)throw new Error("Missing topic.");if(!t)throw new Error("Missing subscription callback.");return this.client.realtime.subscribe(this.collectionIdOrName+"/"+e,t,i)}async unsubscribe(e){return e?this.client.realtime.unsubscribe(this.collectionIdOrName+"/"+e):this.client.realtime.unsubscribeByPrefix(this.collectionIdOrName)}async getFullList(e,t){if(typeof e=="number")return super.getFullList(e,t);const i=Object.assign({},e,t);return super.getFullList(i)}async getList(e=1,t=30,i){return super.getList(e,t,i)}async getFirstListItem(e,t){return super.getFirstListItem(e,t)}async getOne(e,t){return super.getOne(e,t)}async create(e,t){return super.create(e,t)}async update(e,t,i){return super.update(e,t,i).then(r=>{var l,s,o;if(((l=this.client.authStore.record)==null?void 0:l.id)===(r==null?void 0:r.id)&&(((s=this.client.authStore.record)==null?void 0:s.collectionId)===this.collectionIdOrName||((o=this.client.authStore.record)==null?void 0:o.collectionName)===this.collectionIdOrName)){let a=Object.assign({},this.client.authStore.record.expand),u=Object.assign({},this.client.authStore.record,r);a&&(u.expand=Object.assign(a,r.expand)),this.client.authStore.save(this.client.authStore.token,u)}return r})}async delete(e,t){return super.delete(e,t).then(i=>{var r,l,s;return!i||((r=this.client.authStore.record)==null?void 0:r.id)!==e||((l=this.client.authStore.record)==null?void 0:l.collectionId)!==this.collectionIdOrName&&((s=this.client.authStore.record)==null?void 0:s.collectionName)!==this.collectionIdOrName||this.client.authStore.clear(),i})}authResponse(e){const t=this.decode((e==null?void 0:e.record)||{});return this.client.authStore.save(e==null?void 0:e.token,t),Object.assign({},e,{token:(e==null?void 0:e.token)||"",record:t})}async listAuthMethods(e){return e=Object.assign({method:"GET",fields:"mfa,otp,password,oauth2"},e),this.client.send(this.baseCollectionPath+"/auth-methods",e)}async authWithPassword(e,t,i){let r;i=Object.assign({method:"POST",body:{identity:e,password:t}},i),this.isSuperusers&&(r=i.autoRefreshThreshold,delete i.autoRefreshThreshold,i.autoRefresh||km(this.client));let l=await this.client.send(this.baseCollectionPath+"/auth-with-password",i);return l=this.authResponse(l),r&&this.isSuperusers&&function(o,a,u,f){km(o);const c=o.beforeSend,h=o.authStore.record,p=o.authStore.onChange((_,v)=>{(!_||(v==null?void 0:v.id)!=(h==null?void 0:h.id)||(v!=null&&v.collectionId||h!=null&&h.collectionId)&&(v==null?void 0:v.collectionId)!=(h==null?void 0:h.collectionId))&&km(o)});o._resetAutoRefresh=function(){p(),o.beforeSend=c,delete o._resetAutoRefresh},o.beforeSend=async(_,v)=>{var M;const b=o.authStore.token;if((M=v.query)!=null&&M.autoRefresh)return c?c(_,v):{url:_,sendOptions:v};let y=o.authStore.isValid;if(y&&Gh(o.authStore.token,a))try{await u()}catch{y=!1}y||await f();const A=v.headers||{};for(let N in A)if(N.toLowerCase()=="authorization"&&b==A[N]&&o.authStore.token){A[N]=o.authStore.token;break}return v.headers=A,c?c(_,v):{url:_,sendOptions:v}}}(this.client,r,()=>this.authRefresh({autoRefresh:!0}),()=>this.authWithPassword(e,t,Object.assign({autoRefresh:!0},i))),l}async authWithOAuth2Code(e,t,i,r,l,s,o){let a={method:"POST",body:{provider:e,code:t,codeVerifier:i,redirectURL:r,createData:l}};return a=ao("This form of authWithOAuth2Code(provider, code, codeVerifier, redirectURL, createData?, body?, query?) is deprecated. Consider replacing it with authWithOAuth2Code(provider, code, codeVerifier, redirectURL, createData?, options?).",a,s,o),this.client.send(this.baseCollectionPath+"/auth-with-oauth2",a).then(u=>this.authResponse(u))}authWithOAuth2(...e){if(e.length>1||typeof(e==null?void 0:e[0])=="string")return console.warn("PocketBase: This form of authWithOAuth2() is deprecated and may get removed in the future. Please replace with authWithOAuth2Code() OR use the authWithOAuth2() realtime form as shown in https://pocketbase.io/docs/authentication/#oauth2-integration."),this.authWithOAuth2Code((e==null?void 0:e[0])||"",(e==null?void 0:e[1])||"",(e==null?void 0:e[2])||"",(e==null?void 0:e[3])||"",(e==null?void 0:e[4])||{},(e==null?void 0:e[5])||{},(e==null?void 0:e[6])||{});const t=(e==null?void 0:e[0])||{};let i=null;t.urlCallback||(i=Yv(void 0));const r=new g7(this.client);function l(){i==null||i.close(),r.unsubscribe()}const s={},o=t.requestKey;return o&&(s.requestKey=o),this.listAuthMethods(s).then(a=>{var h;const u=a.oauth2.providers.find(p=>p.name===t.provider);if(!u)throw new Kr(new Error(`Missing or invalid provider "${t.provider}".`));const f=this.client.buildURL("/api/oauth2-redirect"),c=o?(h=this.client.cancelControllers)==null?void 0:h[o]:void 0;return c&&(c.signal.onabort=()=>{l()}),new Promise(async(p,_)=>{var v;try{await r.subscribe("@oauth2",async M=>{var L;const N=r.clientId;try{if(!M.state||N!==M.state)throw new Error("State parameters don't match.");if(M.error||!M.code)throw new Error("OAuth2 redirect error or missing code: "+M.error);const I=Object.assign({},t);delete I.provider,delete I.scopes,delete I.createData,delete I.urlCallback,(L=c==null?void 0:c.signal)!=null&&L.onabort&&(c.signal.onabort=null);const R=await this.authWithOAuth2Code(u.name,M.code,u.codeVerifier,f,t.createData,I);p(R)}catch(I){_(new Kr(I))}l()});const b={state:r.clientId};(v=t.scopes)!=null&&v.length&&(b.scope=t.scopes.join(" "));const y=this._replaceQueryParams(u.authURL+f,b);await(t.urlCallback||function(M){i?i.location.href=M:i=Yv(M)})(y)}catch(b){l(),_(new Kr(b))}})}).catch(a=>{throw l(),a})}async authRefresh(e,t){let i={method:"POST"};return i=ao("This form of authRefresh(body?, query?) is deprecated. Consider replacing it with authRefresh(options?).",i,e,t),this.client.send(this.baseCollectionPath+"/auth-refresh",i).then(r=>this.authResponse(r))}async requestPasswordReset(e,t,i){let r={method:"POST",body:{email:e}};return r=ao("This form of requestPasswordReset(email, body?, query?) is deprecated. Consider replacing it with requestPasswordReset(email, options?).",r,t,i),this.client.send(this.baseCollectionPath+"/request-password-reset",r).then(()=>!0)}async confirmPasswordReset(e,t,i,r,l){let s={method:"POST",body:{token:e,password:t,passwordConfirm:i}};return s=ao("This form of confirmPasswordReset(token, password, passwordConfirm, body?, query?) is deprecated. Consider replacing it with confirmPasswordReset(token, password, passwordConfirm, options?).",s,r,l),this.client.send(this.baseCollectionPath+"/confirm-password-reset",s).then(()=>!0)}async requestVerification(e,t,i){let r={method:"POST",body:{email:e}};return r=ao("This form of requestVerification(email, body?, query?) is deprecated. Consider replacing it with requestVerification(email, options?).",r,t,i),this.client.send(this.baseCollectionPath+"/request-verification",r).then(()=>!0)}async confirmVerification(e,t,i){let r={method:"POST",body:{token:e}};return r=ao("This form of confirmVerification(token, body?, query?) is deprecated. Consider replacing it with confirmVerification(token, options?).",r,t,i),this.client.send(this.baseCollectionPath+"/confirm-verification",r).then(()=>{const l=Iu(e),s=this.client.authStore.record;return s&&!s.verified&&s.id===l.id&&s.collectionId===l.collectionId&&(s.verified=!0,this.client.authStore.save(this.client.authStore.token,s)),!0})}async requestEmailChange(e,t,i){let r={method:"POST",body:{newEmail:e}};return r=ao("This form of requestEmailChange(newEmail, body?, query?) is deprecated. Consider replacing it with requestEmailChange(newEmail, options?).",r,t,i),this.client.send(this.baseCollectionPath+"/request-email-change",r).then(()=>!0)}async confirmEmailChange(e,t,i,r){let l={method:"POST",body:{token:e,password:t}};return l=ao("This form of confirmEmailChange(token, password, body?, query?) is deprecated. Consider replacing it with confirmEmailChange(token, password, options?).",l,i,r),this.client.send(this.baseCollectionPath+"/confirm-email-change",l).then(()=>{const s=Iu(e),o=this.client.authStore.record;return o&&o.id===s.id&&o.collectionId===s.collectionId&&this.client.authStore.clear(),!0})}async listExternalAuths(e,t){return this.client.collection("_externalAuths").getFullList(Object.assign({},t,{filter:this.client.filter("recordRef = {:id}",{id:e})}))}async unlinkExternalAuth(e,t,i){const r=await this.client.collection("_externalAuths").getFirstListItem(this.client.filter("recordRef = {:recordId} && provider = {:provider}",{recordId:e,provider:t}));return this.client.collection("_externalAuths").delete(r.id,i).then(()=>!0)}async requestOTP(e,t){return t=Object.assign({method:"POST",body:{email:e}},t),this.client.send(this.baseCollectionPath+"/request-otp",t)}async authWithOTP(e,t,i){return i=Object.assign({method:"POST",body:{otpId:e,password:t}},i),this.client.send(this.baseCollectionPath+"/auth-with-otp",i).then(r=>this.authResponse(r))}async impersonate(e,t,i){(i=Object.assign({method:"POST",body:{duration:t}},i)).headers=i.headers||{},i.headers.Authorization||(i.headers.Authorization=this.client.authStore.token);const r=new t1(this.client.baseURL,new n_,this.client.lang),l=await r.send(this.baseCollectionPath+"/impersonate/"+encodeURIComponent(e),i);return r.authStore.save(l==null?void 0:l.token,this.decode((l==null?void 0:l.record)||{})),r}_replaceQueryParams(e,t={}){let i=e,r="";e.indexOf("?")>=0&&(i=e.substring(0,e.indexOf("?")),r=e.substring(e.indexOf("?")+1));const l={},s=r.split("&");for(const o of s){if(o=="")continue;const a=o.split("=");l[decodeURIComponent(a[0].replace(/\+/g," "))]=decodeURIComponent((a[1]||"").replace(/\+/g," "))}for(let o in t)t.hasOwnProperty(o)&&(t[o]==null?delete l[o]:l[o]=t[o]);r="";for(let o in l)l.hasOwnProperty(o)&&(r!=""&&(r+="&"),r+=encodeURIComponent(o.replace(/%20/g,"+"))+"="+encodeURIComponent(l[o].replace(/%20/g,"+")));return r!=""?i+"?"+r:i}}function Yv(n){if(typeof window>"u"||!(window!=null&&window.open))throw new Kr(new Error("Not in a browser context - please pass a custom urlCallback function."));let e=1024,t=768,i=window.innerWidth,r=window.innerHeight;e=e>i?i:e,t=t>r?r:t;let l=i/2-e/2,s=r/2-t/2;return window.open(n,"popup_window","width="+e+",height="+t+",top="+s+",left="+l+",resizable,menubar=no")}class tP extends _7{get baseCrudPath(){return"/api/collections"}async import(e,t=!1,i){return i=Object.assign({method:"PUT",body:{collections:e,deleteMissing:t}},i),this.client.send(this.baseCrudPath+"/import",i).then(()=>!0)}async getScaffolds(e){return e=Object.assign({method:"GET"},e),this.client.send(this.baseCrudPath+"/meta/scaffolds",e)}async truncate(e,t){return t=Object.assign({method:"DELETE"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e)+"/truncate",t).then(()=>!0)}}class nP extends Ks{async getList(e=1,t=30,i){return(i=Object.assign({method:"GET"},i)).query=Object.assign({page:e,perPage:t},i.query),this.client.send("/api/logs",i)}async getOne(e,t){if(!e)throw new Kr({url:this.client.buildURL("/api/logs/"),status:404,response:{code:404,message:"Missing required log id.",data:{}}});return t=Object.assign({method:"GET"},t),this.client.send("/api/logs/"+encodeURIComponent(e),t)}async getStats(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/logs/stats",e)}}class iP extends Ks{async check(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/health",e)}}class rP extends Ks{getUrl(e,t,i={}){return console.warn("Please replace pb.files.getUrl() with pb.files.getURL()"),this.getURL(e,t,i)}getURL(e,t,i={}){if(!t||!(e!=null&&e.id)||!(e!=null&&e.collectionId)&&!(e!=null&&e.collectionName))return"";const r=[];r.push("api"),r.push("files"),r.push(encodeURIComponent(e.collectionId||e.collectionName)),r.push(encodeURIComponent(e.id)),r.push(encodeURIComponent(t));let l=this.client.buildURL(r.join("/"));if(Object.keys(i).length){i.download===!1&&delete i.download;const s=new URLSearchParams(i);l+=(l.includes("?")?"&":"?")+s}return l}async getToken(e){return e=Object.assign({method:"POST"},e),this.client.send("/api/files/token",e).then(t=>(t==null?void 0:t.token)||"")}}class lP extends Ks{async getFullList(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/backups",e)}async create(e,t){return t=Object.assign({method:"POST",body:{name:e}},t),this.client.send("/api/backups",t).then(()=>!0)}async upload(e,t){return t=Object.assign({method:"POST",body:e},t),this.client.send("/api/backups/upload",t).then(()=>!0)}async delete(e,t){return t=Object.assign({method:"DELETE"},t),this.client.send(`/api/backups/${encodeURIComponent(e)}`,t).then(()=>!0)}async restore(e,t){return t=Object.assign({method:"POST"},t),this.client.send(`/api/backups/${encodeURIComponent(e)}/restore`,t).then(()=>!0)}getDownloadUrl(e,t){return console.warn("Please replace pb.backups.getDownloadUrl() with pb.backups.getDownloadURL()"),this.getDownloadURL(e,t)}getDownloadURL(e,t){return this.client.buildURL(`/api/backups/${encodeURIComponent(t)}?token=${encodeURIComponent(e)}`)}}class sP extends Ks{async getFullList(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/crons",e)}async run(e,t){return t=Object.assign({method:"POST"},t),this.client.send(`/api/crons/${encodeURIComponent(e)}`,t).then(()=>!0)}}function tg(n){return typeof Blob<"u"&&n instanceof Blob||typeof File<"u"&&n instanceof File||n!==null&&typeof n=="object"&&n.uri&&(typeof navigator<"u"&&navigator.product==="ReactNative"||typeof global<"u"&&global.HermesInternal)}function ng(n){return n&&(n.constructor.name==="FormData"||typeof FormData<"u"&&n instanceof FormData)}function Xv(n){for(const e in n){const t=Array.isArray(n[e])?n[e]:[n[e]];for(const i of t)if(tg(i))return!0}return!1}const oP=/^[\-\.\d]+$/;function Zv(n){if(typeof n!="string")return n;if(n=="true")return!0;if(n=="false")return!1;if((n[0]==="-"||n[0]>="0"&&n[0]<="9")&&oP.test(n)){let e=+n;if(""+e===n)return e}return n}class aP extends Ks{constructor(){super(...arguments),this.requests=[],this.subs={}}collection(e){return this.subs[e]||(this.subs[e]=new uP(this.requests,e)),this.subs[e]}async send(e){const t=new FormData,i=[];for(let r=0;r<this.requests.length;r++){const l=this.requests[r];if(i.push({method:l.method,url:l.url,headers:l.headers,body:l.json}),l.files)for(let s in l.files){const o=l.files[s]||[];for(let a of o)t.append("requests."+r+"."+s,a)}}return t.append("@jsonPayload",JSON.stringify({requests:i})),e=Object.assign({method:"POST",body:t},e),this.client.send("/api/batch",e)}}class uP{constructor(e,t){this.requests=[],this.requests=e,this.collectionIdOrName=t}upsert(e,t){t=Object.assign({body:e||{}},t);const i={method:"PUT",url:"/api/collections/"+encodeURIComponent(this.collectionIdOrName)+"/records"};this.prepareRequest(i,t),this.requests.push(i)}create(e,t){t=Object.assign({body:e||{}},t);const i={method:"POST",url:"/api/collections/"+encodeURIComponent(this.collectionIdOrName)+"/records"};this.prepareRequest(i,t),this.requests.push(i)}update(e,t,i){i=Object.assign({body:t||{}},i);const r={method:"PATCH",url:"/api/collections/"+encodeURIComponent(this.collectionIdOrName)+"/records/"+encodeURIComponent(e)};this.prepareRequest(r,i),this.requests.push(r)}delete(e,t){t=Object.assign({},t);const i={method:"DELETE",url:"/api/collections/"+encodeURIComponent(this.collectionIdOrName)+"/records/"+encodeURIComponent(e)};this.prepareRequest(i,t),this.requests.push(i)}prepareRequest(e,t){if(i_(t),e.headers=t.headers,e.json={},e.files={},t.query!==void 0){const r=m7(t.query);r&&(e.url+=(e.url.includes("?")?"&":"?")+r)}let i=t.body;ng(i)&&(i=function(l){let s={};return l.forEach((o,a)=>{if(a==="@jsonPayload"&&typeof o=="string")try{let u=JSON.parse(o);Object.assign(s,u)}catch(u){console.warn("@jsonPayload error:",u)}else s[a]!==void 0?(Array.isArray(s[a])||(s[a]=[s[a]]),s[a].push(Zv(o))):s[a]=Zv(o)}),s}(i));for(const r in i){const l=i[r];if(tg(l))e.files[r]=e.files[r]||[],e.files[r].push(l);else if(Array.isArray(l)){const s=[],o=[];for(const a of l)tg(a)?s.push(a):o.push(a);if(s.length>0&&s.length==l.length){e.files[r]=e.files[r]||[];for(let a of s)e.files[r].push(a)}else if(e.json[r]=o,s.length>0){let a=r;r.startsWith("+")||r.endsWith("+")||(a+="+"),e.files[a]=e.files[a]||[];for(let u of s)e.files[a].push(u)}}else e.json[r]=l}}}class t1{get baseUrl(){return this.baseURL}set baseUrl(e){this.baseURL=e}constructor(e="/",t,i="en-US"){this.cancelControllers={},this.recordServices={},this.enableAutoCancellation=!0,this.baseURL=e,this.lang=i,t?this.authStore=t:typeof window<"u"&&window.Deno?this.authStore=new n_:this.authStore=new p7,this.collections=new tP(this),this.files=new rP(this),this.logs=new nP(this),this.settings=new ZR(this),this.realtime=new g7(this),this.health=new iP(this),this.backups=new lP(this),this.crons=new sP(this)}get admins(){return this.collection("_superusers")}createBatch(){return new aP(this)}collection(e){return this.recordServices[e]||(this.recordServices[e]=new eP(this,e)),this.recordServices[e]}autoCancellation(e){return this.enableAutoCancellation=!!e,this}cancelRequest(e){return this.cancelControllers[e]&&(this.cancelControllers[e].abort(),delete this.cancelControllers[e]),this}cancelAllRequests(){for(let e in this.cancelControllers)this.cancelControllers[e].abort();return this.cancelControllers={},this}filter(e,t){if(!t)return e;for(let i in t){let r=t[i];switch(typeof r){case"boolean":case"number":r=""+r;break;case"string":r="'"+r.replace(/'/g,"\\'")+"'";break;default:r=r===null?"null":r instanceof Date?"'"+r.toISOString().replace("T"," ")+"'":"'"+JSON.stringify(r).replace(/'/g,"\\'")+"'"}e=e.replaceAll("{:"+i+"}",r)}return e}getFileUrl(e,t,i={}){return console.warn("Please replace pb.getFileUrl() with pb.files.getURL()"),this.files.getURL(e,t,i)}buildUrl(e){return console.warn("Please replace pb.buildUrl() with pb.buildURL()"),this.buildURL(e)}buildURL(e){var i;let t=this.baseURL;return typeof window>"u"||!window.location||t.startsWith("https://")||t.startsWith("http://")||(t=(i=window.location.origin)!=null&&i.endsWith("/")?window.location.origin.substring(0,window.location.origin.length-1):window.location.origin||"",this.baseURL.startsWith("/")||(t+=window.location.pathname||"/",t+=t.endsWith("/")?"":"/"),t+=this.baseURL),e&&(t+=t.endsWith("/")?"":"/",t+=e.startsWith("/")?e.substring(1):e),t}async send(e,t){t=this.initSendOptions(e,t);let i=this.buildURL(e);if(this.beforeSend){const r=Object.assign({},await this.beforeSend(i,t));r.url!==void 0||r.options!==void 0?(i=r.url||i,t=r.options||t):Object.keys(r).length&&(t=r,console!=null&&console.warn&&console.warn("Deprecated format of beforeSend return: please use `return { url, options }`, instead of `return options`."))}if(t.query!==void 0){const r=m7(t.query);r&&(i+=(i.includes("?")?"&":"?")+r),delete t.query}return this.getHeader(t.headers,"Content-Type")=="application/json"&&t.body&&typeof t.body!="string"&&(t.body=JSON.stringify(t.body)),(t.fetch||fetch)(i,t).then(async r=>{let l={};try{l=await r.json()}catch{}if(this.afterSend&&(l=await this.afterSend(r,l,t)),r.status>=400)throw new Kr({url:r.url,status:r.status,data:l});return l}).catch(r=>{throw new Kr(r)})}initSendOptions(e,t){if((t=Object.assign({method:"GET"},t)).body=function(r){if(typeof FormData>"u"||r===void 0||typeof r!="object"||r===null||ng(r)||!Xv(r))return r;const l=new FormData;for(const s in r){const o=r[s];if(typeof o!="object"||Xv({data:o})){const a=Array.isArray(o)?o:[o];for(let u of a)l.append(s,u)}else{let a={};a[s]=o,l.append("@jsonPayload",JSON.stringify(a))}}return l}(t.body),i_(t),t.query=Object.assign({},t.params,t.query),t.requestKey===void 0&&(t.$autoCancel===!1||t.query.$autoCancel===!1?t.requestKey=null:(t.$cancelKey||t.query.$cancelKey)&&(t.requestKey=t.$cancelKey||t.query.$cancelKey)),delete t.$autoCancel,delete t.query.$autoCancel,delete t.$cancelKey,delete t.query.$cancelKey,this.getHeader(t.headers,"Content-Type")!==null||ng(t.body)||(t.headers=Object.assign({},t.headers,{"Content-Type":"application/json"})),this.getHeader(t.headers,"Accept-Language")===null&&(t.headers=Object.assign({},t.headers,{"Accept-Language":this.lang})),this.authStore.token&&this.getHeader(t.headers,"Authorization")===null&&(t.headers=Object.assign({},t.headers,{Authorization:this.authStore.token})),this.enableAutoCancellation&&t.requestKey!==null){const i=t.requestKey||(t.method||"GET")+e;delete t.requestKey,this.cancelRequest(i);const r=new AbortController;this.cancelControllers[i]=r,t.signal=r.signal}return t}getHeader(e,t){e=e||{},t=t.toLowerCase();for(let i in e)if(i.toLowerCase()==t)return e[i];return null}}const Or=Xr([]),Sl=Xr({}),Rc=Xr(!1),b7=Xr({}),r_=Xr({});let ac;typeof BroadcastChannel<"u"&&(ac=new BroadcastChannel("collections"),ac.onmessage=()=>{var n;l_((n=VS(Sl))==null?void 0:n.id)});function v7(){ac==null||ac.postMessage("reload")}function fP(n){Or.update(e=>{const t=e.find(i=>i.id==n||i.name==n);return t?Sl.set(t):e.length&&Sl.set(e.find(i=>!i.system)||e[0]),e})}function cP(n){Sl.update(e=>re.isEmpty(e==null?void 0:e.id)||e.id===n.id?n:e),Or.update(e=>(re.pushOrReplaceByKey(e,n,"id"),s_(),v7(),re.sortCollections(e)))}function dP(n){Or.update(e=>(re.removeByKey(e,"id",n.id),Sl.update(t=>t.id===n.id?e.find(i=>!i.system)||e[0]:t),s_(),v7(),e))}async function l_(n=null){Rc.set(!0);try{const e=[];e.push(xe.collections.getScaffolds()),e.push(xe.collections.getFullList());let[t,i]=await Promise.all(e);r_.set(t),i=re.sortCollections(i),Or.set(i);const r=n&&i.find(l=>l.id==n||l.name==n);r?Sl.set(r):i.length&&Sl.set(i.find(l=>!l.system)||i[0]),s_()}catch(e){xe.error(e)}Rc.set(!1)}function s_(){b7.update(n=>(Or.update(e=>{var t;for(let i of e)n[i.id]=!!((t=i.fields)!=null&&t.find(r=>r.type=="file"&&r.protected));return e}),n))}function y7(n,e){if(n instanceof RegExp)return{keys:!1,pattern:n};var t,i,r,l,s=[],o="",a=n.split("/");for(a[0]||a.shift();r=a.shift();)t=r[0],t==="*"?(s.push("wild"),o+="/(.*)"):t===":"?(i=r.indexOf("?",1),l=r.indexOf(".",1),s.push(r.substring(1,~i?i:~l?l:r.length)),o+=~i&&!~l?"(?:/([^/]+?))?":"/([^/]+?)",~l&&(o+=(~i?"?":"")+"\\"+r.substring(l))):o+="/"+r;return{keys:s,pattern:new RegExp("^"+o+"/?$","i")}}function hP(n){let e,t,i;const r=[n[2]];var l=n[0];function s(o,a){let u={};for(let f=0;f<r.length;f+=1)u=kt(u,r[f]);return a!==void 0&&a&4&&(u=kt(u,Ln(r,[Wn(o[2])]))),{props:u}}return l&&(e=ri(l,s(n)),e.$on("routeEvent",n[7])),{c(){e&&ee(e.$$.fragment),t=ze()},m(o,a){e&&Q(e,o,a),S(o,t,a),i=!0},p(o,a){if(a&1&&l!==(l=o[0])){if(e){Ne();const u=e;x(u.$$.fragment,1,0,()=>{J(u,1)}),Me()}l?(e=ri(l,s(o,a)),e.$on("routeEvent",o[7]),ee(e.$$.fragment),F(e.$$.fragment,1),Q(e,t.parentNode,t)):e=null}else if(l){const u=a&4?Ln(r,[Wn(o[2])]):{};e.$set(u)}},i(o){i||(e&&F(e.$$.fragment,o),i=!0)},o(o){e&&x(e.$$.fragment,o),i=!1},d(o){o&&E(t),e&&J(e,o)}}}function pP(n){let e,t,i;const r=[{params:n[1]},n[2]];var l=n[0];function s(o,a){let u={};for(let f=0;f<r.length;f+=1)u=kt(u,r[f]);return a!==void 0&&a&6&&(u=kt(u,Ln(r,[a&2&&{params:o[1]},a&4&&Wn(o[2])]))),{props:u}}return l&&(e=ri(l,s(n)),e.$on("routeEvent",n[6])),{c(){e&&ee(e.$$.fragment),t=ze()},m(o,a){e&&Q(e,o,a),S(o,t,a),i=!0},p(o,a){if(a&1&&l!==(l=o[0])){if(e){Ne();const u=e;x(u.$$.fragment,1,0,()=>{J(u,1)}),Me()}l?(e=ri(l,s(o,a)),e.$on("routeEvent",o[6]),ee(e.$$.fragment),F(e.$$.fragment,1),Q(e,t.parentNode,t)):e=null}else if(l){const u=a&6?Ln(r,[a&2&&{params:o[1]},a&4&&Wn(o[2])]):{};e.$set(u)}},i(o){i||(e&&F(e.$$.fragment,o),i=!0)},o(o){e&&x(e.$$.fragment,o),i=!1},d(o){o&&E(t),e&&J(e,o)}}}function mP(n){let e,t,i,r;const l=[pP,hP],s=[];function o(a,u){return a[1]?0:1}return e=o(n),t=s[e]=l[e](n),{c(){t.c(),i=ze()},m(a,u){s[e].m(a,u),S(a,i,u),r=!0},p(a,[u]){let f=e;e=o(a),e===f?s[e].p(a,u):(Ne(),x(s[f],1,1,()=>{s[f]=null}),Me(),t=s[e],t?t.p(a,u):(t=s[e]=l[e](a),t.c()),F(t,1),t.m(i.parentNode,i))},i(a){r||(F(t),r=!0)},o(a){x(t),r=!1},d(a){a&&E(i),s[e].d(a)}}}function Qv(){const n=window.location.href.indexOf("#/");let e=n>-1?window.location.href.substr(n+1):"/";const t=e.indexOf("?");let i="";return t>-1&&(i=e.substr(t+1),e=e.substr(0,t)),{location:e,querystring:i}}const Yh=u7(null,function(e){e(Qv());const t=()=>{e(Qv())};return window.addEventListener("hashchange",t,!1),function(){window.removeEventListener("hashchange",t,!1)}});f7(Yh,n=>n.location);const o_=f7(Yh,n=>n.querystring),Jv=Xr(void 0);async function Hu(n){if(!n||n.length<1||n.charAt(0)!="/"&&n.indexOf("#/")!==0)throw Error("Invalid parameter location");await Ni();const e=(n.charAt(0)=="#"?"":"#")+n;try{const t={...history.state};delete t.__svelte_spa_router_scrollX,delete t.__svelte_spa_router_scrollY,window.history.replaceState(t,void 0,e)}catch{console.warn("Caught exception while replacing the current page. If you're running this in the Svelte REPL, please note that the `replace` method might not work in this environment.")}window.dispatchEvent(new Event("hashchange"))}function qr(n,e){if(e=t5(e),!n||!n.tagName||n.tagName.toLowerCase()!="a")throw Error('Action "link" can only be used with <a> tags');return e5(n,e),{update(t){t=t5(t),e5(n,t)}}}function gP(n){n?window.scrollTo(n.__svelte_spa_router_scrollX,n.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function e5(n,e){let t=e.href||n.getAttribute("href");if(t&&t.charAt(0)=="/")t="#"+t;else if(!t||t.length<2||t.slice(0,2)!="#/")throw Error('Invalid value for "href" attribute: '+t);n.setAttribute("href",t),n.addEventListener("click",i=>{i.preventDefault(),e.disabled||_P(i.currentTarget.getAttribute("href"))})}function t5(n){return n&&typeof n=="string"?{href:n}:n||{}}function _P(n){history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=n}function bP(n,e,t){let{routes:i={}}=e,{prefix:r=""}=e,{restoreScrollState:l=!1}=e;class s{constructor(L,I){if(!I||typeof I!="function"&&(typeof I!="object"||I._sveltesparouter!==!0))throw Error("Invalid component object");if(!L||typeof L=="string"&&(L.length<1||L.charAt(0)!="/"&&L.charAt(0)!="*")||typeof L=="object"&&!(L instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:R,keys:$}=y7(L);this.path=L,typeof I=="object"&&I._sveltesparouter===!0?(this.component=I.component,this.conditions=I.conditions||[],this.userData=I.userData,this.props=I.props||{}):(this.component=()=>Promise.resolve(I),this.conditions=[],this.props={}),this._pattern=R,this._keys=$}match(L){if(r){if(typeof r=="string")if(L.startsWith(r))L=L.substr(r.length)||"/";else return null;else if(r instanceof RegExp){const B=L.match(r);if(B&&B[0])L=L.substr(B[0].length)||"/";else return null}}const I=this._pattern.exec(L);if(I===null)return null;if(this._keys===!1)return I;const R={};let $=0;for(;$<this._keys.length;){try{R[this._keys[$]]=decodeURIComponent(I[$+1]||"")||null}catch{R[this._keys[$]]=null}$++}return R}async checkConditions(L){for(let I=0;I<this.conditions.length;I++)if(!await this.conditions[I](L))return!1;return!0}}const o=[];i instanceof Map?i.forEach((N,L)=>{o.push(new s(L,N))}):Object.keys(i).forEach(N=>{o.push(new s(N,i[N]))});let a=null,u=null,f={};const c=Sn();async function h(N,L){await Ni(),c(N,L)}let p=null,_=null;l&&(_=N=>{N.state&&(N.state.__svelte_spa_router_scrollY||N.state.__svelte_spa_router_scrollX)?p=N.state:p=null},window.addEventListener("popstate",_),eC(()=>{gP(p)}));let v=null,b=null;const y=Yh.subscribe(async N=>{v=N;let L=0;for(;L<o.length;){const I=o[L].match(N.location);if(!I){L++;continue}const R={route:o[L].path,location:N.location,querystring:N.querystring,userData:o[L].userData,params:I&&typeof I=="object"&&Object.keys(I).length?I:null};if(!await o[L].checkConditions(R)){t(0,a=null),b=null,h("conditionsFailed",R);return}h("routeLoading",Object.assign({},R));const $=o[L].component;if(b!=$){$.loading?(t(0,a=$.loading),b=$,t(1,u=$.loadingParams),t(2,f={}),h("routeLoaded",Object.assign({},R,{component:a,name:a.name,params:u}))):(t(0,a=null),b=null);const B=await $();if(N!=v)return;t(0,a=B&&B.default||B),b=$}I&&typeof I=="object"&&Object.keys(I).length?t(1,u=I):t(1,u=null),t(2,f=o[L].props),h("routeLoaded",Object.assign({},R,{component:a,name:a.name,params:u})).then(()=>{Jv.set(u)});return}t(0,a=null),b=null,Jv.set(void 0)});Na(()=>{y(),_&&window.removeEventListener("popstate",_)});function A(N){ut.call(this,n,N)}function M(N){ut.call(this,n,N)}return n.$$set=N=>{"routes"in N&&t(3,i=N.routes),"prefix"in N&&t(4,r=N.prefix),"restoreScrollState"in N&&t(5,l=N.restoreScrollState)},n.$$.update=()=>{n.$$.dirty&32&&(history.scrollRestoration=l?"manual":"auto")},[a,u,f,i,r,l,A,M]}class vP extends je{constructor(e){super(),qe(this,e,bP,mP,We,{routes:3,prefix:4,restoreScrollState:5})}}const Tm="pb_superuser_file_token";t1.prototype.logout=function(n=!0){this.authStore.clear(),n&&Hu("/login")};t1.prototype.error=function(n,e=!0,t=""){if(!n||!(n instanceof Error)||n.isAbort)return;const i=(n==null?void 0:n.status)<<0||400,r=(n==null?void 0:n.data)||{},l=r.message||n.message||t;if(e&&l&&Ts(l),re.isEmpty(r.data)||mi(r.data),i===401)return this.cancelAllRequests(),this.logout();if(i===403)return this.cancelAllRequests(),Hu("/")};t1.prototype.getSuperuserFileToken=async function(n=""){let e=!0;if(n){const i=VS(b7);e=typeof i[n]<"u"?i[n]:!0}if(!e)return"";let t=localStorage.getItem(Tm)||"";return(!t||Gh(t,10))&&(t&&localStorage.removeItem(Tm),this._superuserFileTokenRequest||(this._superuserFileTokenRequest=this.files.getToken()),t=await this._superuserFileTokenRequest,localStorage.setItem(Tm,t),this._superuserFileTokenRequest=null),t};class yP extends p7{constructor(e="__pb_superuser_auth__"){super(e),this.save(this.token,this.record)}save(e,t){super.save(e,t),(t==null?void 0:t.collectionName)=="_superusers"&&Kv(t)}clear(){super.clear(),Kv(null)}}const xe=new t1("../",new yP);xe.authStore.isValid&&xe.collection(xe.authStore.record.collectionName).authRefresh().catch(n=>{console.warn("Failed to refresh the existing auth token:",n);const e=(n==null?void 0:n.status)<<0;(e==401||e==403)&&xe.authStore.clear()});const qd=[];let k7;function T7(n){const e=n.pattern.test(k7);n5(n,n.className,e),n5(n,n.inactiveClassName,!e)}function n5(n,e,t){(e||"").split(" ").forEach(i=>{i&&(n.node.classList.remove(i),t&&n.node.classList.add(i))})}Yh.subscribe(n=>{k7=n.location+(n.querystring?"?"+n.querystring:""),qd.map(T7)});function hs(n,e){if(e&&(typeof e=="string"||typeof e=="object"&&e instanceof RegExp)?e={path:e}:e=e||{},!e.path&&n.hasAttribute("href")&&(e.path=n.getAttribute("href"),e.path&&e.path.length>1&&e.path.charAt(0)=="#"&&(e.path=e.path.substring(1))),e.className||(e.className="active"),!e.path||typeof e.path=="string"&&(e.path.length<1||e.path.charAt(0)!="/"&&e.path.charAt(0)!="*"))throw Error('Invalid value for "path" argument');const{pattern:t}=typeof e.path=="string"?y7(e.path):{pattern:e.path},i={node:n,className:e.className,inactiveClassName:e.inactiveClassName,pattern:t};return qd.push(i),T7(i),{destroy(){qd.splice(qd.indexOf(i),1)}}}const kP="modulepreload",TP=function(n,e){return new URL(n,e).href},i5={},Dn=function(e,t,i){let r=Promise.resolve();if(t&&t.length>0){const s=document.getElementsByTagName("link"),o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.allSettled(t.map(u=>{if(u=TP(u,i),u in i5)return;i5[u]=!0;const f=u.endsWith(".css"),c=f?'[rel="stylesheet"]':"";if(!!i)for(let _=s.length-1;_>=0;_--){const v=s[_];if(v.href===u&&(!f||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${c}`))return;const p=document.createElement("link");if(p.rel=f?"stylesheet":kP,f||(p.as="script"),p.crossOrigin="",p.href=u,a&&p.setAttribute("nonce",a),document.head.appendChild(p),f)return new Promise((_,v)=>{p.addEventListener("load",_),p.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function l(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return r.then(s=>{for(const o of s||[])o.status==="rejected"&&l(o.reason);return e().catch(l)})};function wP(n){e();function e(){xe.authStore.isValid?Hu("/collections"):xe.logout()}return[]}class EP extends je{constructor(e){super(),qe(this,e,wP,null,We,{})}}function r5(n,e,t){const i=n.slice();return i[12]=e[t],i}const SP=n=>({}),l5=n=>({uniqueId:n[4]});function CP(n){let e,t,i=Re(n[3]),r=[];for(let s=0;s<i.length;s+=1)r[s]=s5(r5(n,i,s));const l=s=>x(r[s],1,1,()=>{r[s]=null});return{c(){for(let s=0;s<r.length;s+=1)r[s].c();e=ze()},m(s,o){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(s,o);S(s,e,o),t=!0},p(s,o){if(o&8){i=Re(s[3]);let a;for(a=0;a<i.length;a+=1){const u=r5(s,i,a);r[a]?(r[a].p(u,o),F(r[a],1)):(r[a]=s5(u),r[a].c(),F(r[a],1),r[a].m(e.parentNode,e))}for(Ne(),a=i.length;a<r.length;a+=1)l(a);Me()}},i(s){if(!t){for(let o=0;o<i.length;o+=1)F(r[o]);t=!0}},o(s){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)x(r[o]);t=!1},d(s){s&&E(e),fn(r,s)}}}function AP(n){let e,t,i,r,l,s,o;return{c(){e=k("div"),t=k("i"),m(t,"class","ri-error-warning-fill txt-danger"),m(e,"class","form-field-addon inline-error-icon")},m(a,u){S(a,e,u),T(e,t),l=!0,s||(o=nt(i=_t.call(null,t,{position:"left",text:n[3].map(dh).join(`
`)})),s=!0)},p(a,u){i&&Kn(i.update)&&u&8&&i.update.call(null,{position:"left",text:a[3].map(dh).join(`
`)})},i(a){l||(a&&tn(()=>{l&&(r||(r=Et(t,Bn,{duration:150,start:.7},!0)),r.run(1))}),l=!0)},o(a){a&&(r||(r=Et(t,Bn,{duration:150,start:.7},!1)),r.run(0)),l=!1},d(a){a&&E(e),a&&r&&r.end(),s=!1,o()}}}function s5(n){let e,t,i=dh(n[12])+"",r,l,s,o;return{c(){e=k("div"),t=k("pre"),r=le(i),l=D(),m(e,"class","help-block help-block-error")},m(a,u){S(a,e,u),T(e,t),T(t,r),T(e,l),o=!0},p(a,u){(!o||u&8)&&i!==(i=dh(a[12])+"")&&Se(r,i)},i(a){o||(a&&tn(()=>{o&&(s||(s=Et(e,En,{duration:150},!0)),s.run(1))}),o=!0)},o(a){a&&(s||(s=Et(e,En,{duration:150},!1)),s.run(0)),o=!1},d(a){a&&E(e),a&&s&&s.end()}}}function OP(n){let e,t,i,r,l,s,o;const a=n[9].default,u=Zn(a,n,n[8],l5),f=[AP,CP],c=[];function h(p,_){return p[0]&&p[3].length?0:1}return i=h(n),r=c[i]=f[i](n),{c(){e=k("div"),u&&u.c(),t=D(),r.c(),m(e,"class",n[1]),he(e,"error",n[3].length)},m(p,_){S(p,e,_),u&&u.m(e,null),T(e,t),c[i].m(e,null),n[11](e),l=!0,s||(o=se(e,"click",n[10]),s=!0)},p(p,[_]){u&&u.p&&(!l||_&256)&&Jn(u,a,p,p[8],l?Qn(a,p[8],_,SP):ei(p[8]),l5);let v=i;i=h(p),i===v?c[i].p(p,_):(Ne(),x(c[v],1,1,()=>{c[v]=null}),Me(),r=c[i],r?r.p(p,_):(r=c[i]=f[i](p),r.c()),F(r,1),r.m(e,null)),(!l||_&2)&&m(e,"class",p[1]),(!l||_&10)&&he(e,"error",p[3].length)},i(p){l||(F(u,p),F(r),l=!0)},o(p){x(u,p),x(r),l=!1},d(p){p&&E(e),u&&u.d(p),c[i].d(),n[11](null),s=!1,o()}}}const o5="Invalid value";function dh(n){return typeof n=="object"?(n==null?void 0:n.message)||(n==null?void 0:n.code)||o5:n||o5}function NP(n,e,t){let i;Wt(n,mr,v=>t(7,i=v));let{$$slots:r={},$$scope:l}=e;const s="field_"+re.randomString(7);let{name:o=""}=e,{inlineError:a=!1}=e,{class:u=void 0}=e,f,c=[];function h(){ul(o)}hi(()=>(f.addEventListener("input",h),f.addEventListener("change",h),()=>{f.removeEventListener("input",h),f.removeEventListener("change",h)}));function p(v){ut.call(this,n,v)}function _(v){ye[v?"unshift":"push"](()=>{f=v,t(2,f)})}return n.$$set=v=>{"name"in v&&t(5,o=v.name),"inlineError"in v&&t(0,a=v.inlineError),"class"in v&&t(1,u=v.class),"$$scope"in v&&t(8,l=v.$$scope)},n.$$.update=()=>{n.$$.dirty&160&&t(3,c=re.toArray(re.getNestedVal(i,o)))},[a,u,f,c,s,o,h,i,l,r,p,_]}class Pe extends je{constructor(e){super(),qe(this,e,NP,OP,We,{name:5,inlineError:0,class:1,changed:6})}get changed(){return this.$$.ctx[6]}}const MP=n=>({}),a5=n=>({});function u5(n){let e,t,i,r,l,s;return{c(){e=k("a"),e.innerHTML='<i class="ri-book-open-line txt-sm"></i> <span class="txt">Docs</span>',t=D(),i=k("span"),i.textContent="|",r=D(),l=k("a"),s=k("span"),s.textContent="PocketBase v0.28.0",m(e,"href","https://pocketbase.io/docs"),m(e,"target","_blank"),m(e,"rel","noopener noreferrer"),m(i,"class","delimiter"),m(s,"class","txt"),m(l,"href","https://github.com/pocketbase/pocketbase/releases"),m(l,"target","_blank"),m(l,"rel","noopener noreferrer"),m(l,"title","Releases")},m(o,a){S(o,e,a),S(o,t,a),S(o,i,a),S(o,r,a),S(o,l,a),T(l,s)},d(o){o&&(E(e),E(t),E(i),E(r),E(l))}}}function IP(n){var p;let e,t,i,r,l,s,o;const a=n[4].default,u=Zn(a,n,n[3],null),f=n[4].footer,c=Zn(f,n,n[3],a5);let h=((p=n[2])==null?void 0:p.id)&&u5();return{c(){e=k("div"),t=k("main"),u&&u.c(),i=D(),r=k("footer"),c&&c.c(),l=D(),h&&h.c(),m(t,"class","page-content"),m(r,"class","page-footer"),m(e,"class",s="page-wrapper "+n[1]),he(e,"center-content",n[0])},m(_,v){S(_,e,v),T(e,t),u&&u.m(t,null),T(e,i),T(e,r),c&&c.m(r,null),T(r,l),h&&h.m(r,null),o=!0},p(_,[v]){var b;u&&u.p&&(!o||v&8)&&Jn(u,a,_,_[3],o?Qn(a,_[3],v,null):ei(_[3]),null),c&&c.p&&(!o||v&8)&&Jn(c,f,_,_[3],o?Qn(f,_[3],v,MP):ei(_[3]),a5),(b=_[2])!=null&&b.id?h||(h=u5(),h.c(),h.m(r,null)):h&&(h.d(1),h=null),(!o||v&2&&s!==(s="page-wrapper "+_[1]))&&m(e,"class",s),(!o||v&3)&&he(e,"center-content",_[0])},i(_){o||(F(u,_),F(c,_),o=!0)},o(_){x(u,_),x(c,_),o=!1},d(_){_&&E(e),u&&u.d(_),c&&c.d(_),h&&h.d()}}}function LP(n,e,t){let i;Wt(n,Vh,a=>t(2,i=a));let{$$slots:r={},$$scope:l}=e,{center:s=!1}=e,{class:o=""}=e;return n.$$set=a=>{"center"in a&&t(0,s=a.center),"class"in a&&t(1,o=a.class),"$$scope"in a&&t(3,l=a.$$scope)},[s,o,i,l,r]}class Nl extends je{constructor(e){super(),qe(this,e,LP,IP,We,{center:0,class:1})}}function DP(n){let e,t,i,r;return{c(){e=k("input"),m(e,"type","text"),m(e,"id",n[8]),m(e,"placeholder",t=n[0]||n[1])},m(l,s){S(l,e,s),n[13](e),He(e,n[7]),i||(r=se(e,"input",n[14]),i=!0)},p(l,s){s&3&&t!==(t=l[0]||l[1])&&m(e,"placeholder",t),s&128&&e.value!==l[7]&&He(e,l[7])},i:ge,o:ge,d(l){l&&E(e),n[13](null),i=!1,r()}}}function RP(n){let e,t,i,r;function l(a){n[12](a)}var s=n[4];function o(a,u){let f={id:a[8],singleLine:!0,disableRequestKeys:!0,disableCollectionJoinKeys:!0,extraAutocompleteKeys:a[3],baseCollection:a[2],placeholder:a[0]||a[1]};return a[7]!==void 0&&(f.value=a[7]),{props:f}}return s&&(e=ri(s,o(n)),ye.push(()=>Ke(e,"value",l)),e.$on("submit",n[10])),{c(){e&&ee(e.$$.fragment),i=ze()},m(a,u){e&&Q(e,a,u),S(a,i,u),r=!0},p(a,u){if(u&16&&s!==(s=a[4])){if(e){Ne();const f=e;x(f.$$.fragment,1,0,()=>{J(f,1)}),Me()}s?(e=ri(s,o(a)),ye.push(()=>Ke(e,"value",l)),e.$on("submit",a[10]),ee(e.$$.fragment),F(e.$$.fragment,1),Q(e,i.parentNode,i)):e=null}else if(s){const f={};u&8&&(f.extraAutocompleteKeys=a[3]),u&4&&(f.baseCollection=a[2]),u&3&&(f.placeholder=a[0]||a[1]),!t&&u&128&&(t=!0,f.value=a[7],Ye(()=>t=!1)),e.$set(f)}},i(a){r||(e&&F(e.$$.fragment,a),r=!0)},o(a){e&&x(e.$$.fragment,a),r=!1},d(a){a&&E(i),e&&J(e,a)}}}function f5(n){let e,t,i;return{c(){e=k("button"),e.innerHTML='<span class="txt">Search</span>',m(e,"type","submit"),m(e,"class","btn btn-expanded-sm btn-sm btn-warning")},m(r,l){S(r,e,l),i=!0},i(r){i||(r&&tn(()=>{i&&(t||(t=Et(e,Yr,{duration:150,x:5},!0)),t.run(1))}),i=!0)},o(r){r&&(t||(t=Et(e,Yr,{duration:150,x:5},!1)),t.run(0)),i=!1},d(r){r&&E(e),r&&t&&t.end()}}}function c5(n){let e,t,i,r,l;return{c(){e=k("button"),e.innerHTML='<span class="txt">Clear</span>',m(e,"type","button"),m(e,"class","btn btn-transparent btn-sm btn-hint p-l-xs p-r-xs m-l-10")},m(s,o){S(s,e,o),i=!0,r||(l=se(e,"click",n[15]),r=!0)},p:ge,i(s){i||(s&&tn(()=>{i&&(t||(t=Et(e,Yr,{duration:150,x:5},!0)),t.run(1))}),i=!0)},o(s){s&&(t||(t=Et(e,Yr,{duration:150,x:5},!1)),t.run(0)),i=!1},d(s){s&&E(e),s&&t&&t.end(),r=!1,l()}}}function PP(n){let e,t,i,r,l,s,o,a,u,f,c;const h=[RP,DP],p=[];function _(y,A){return y[4]&&!y[5]?0:1}l=_(n),s=p[l]=h[l](n);let v=(n[0].length||n[7].length)&&n[7]!=n[0]&&f5(),b=(n[0].length||n[7].length)&&c5(n);return{c(){e=k("form"),t=k("label"),i=k("i"),r=D(),s.c(),o=D(),v&&v.c(),a=D(),b&&b.c(),m(i,"class","ri-search-line"),m(t,"for",n[8]),m(t,"class","m-l-10 txt-xl"),m(e,"class","searchbar")},m(y,A){S(y,e,A),T(e,t),T(t,i),T(e,r),p[l].m(e,null),T(e,o),v&&v.m(e,null),T(e,a),b&&b.m(e,null),u=!0,f||(c=[se(e,"click",Ai(n[11])),se(e,"submit",ln(n[10]))],f=!0)},p(y,[A]){let M=l;l=_(y),l===M?p[l].p(y,A):(Ne(),x(p[M],1,1,()=>{p[M]=null}),Me(),s=p[l],s?s.p(y,A):(s=p[l]=h[l](y),s.c()),F(s,1),s.m(e,o)),(y[0].length||y[7].length)&&y[7]!=y[0]?v?A&129&&F(v,1):(v=f5(),v.c(),F(v,1),v.m(e,a)):v&&(Ne(),x(v,1,1,()=>{v=null}),Me()),y[0].length||y[7].length?b?(b.p(y,A),A&129&&F(b,1)):(b=c5(y),b.c(),F(b,1),b.m(e,null)):b&&(Ne(),x(b,1,1,()=>{b=null}),Me())},i(y){u||(F(s),F(v),F(b),u=!0)},o(y){x(s),x(v),x(b),u=!1},d(y){y&&E(e),p[l].d(),v&&v.d(),b&&b.d(),f=!1,it(c)}}}function FP(n,e,t){const i=Sn(),r="search_"+re.randomString(7);let{value:l=""}=e,{placeholder:s='Search term or filter like created > "2022-01-01"...'}=e,{autocompleteCollection:o=null}=e,{extraAutocompleteKeys:a=[]}=e,u,f=!1,c,h="";function p(L=!0){t(7,h=""),L&&(c==null||c.focus()),i("clear")}function _(){t(0,l=h),i("submit",l)}async function v(){u||f||(t(5,f=!0),t(4,u=(await Dn(async()=>{const{default:L}=await import("./FilterAutocompleteInput-Dx85F6rx.js");return{default:L}},__vite__mapDeps([0,1]),import.meta.url)).default),t(5,f=!1))}hi(()=>{v()});function b(L){ut.call(this,n,L)}function y(L){h=L,t(7,h),t(0,l)}function A(L){ye[L?"unshift":"push"](()=>{c=L,t(6,c)})}function M(){h=this.value,t(7,h),t(0,l)}const N=()=>{p(!1),_()};return n.$$set=L=>{"value"in L&&t(0,l=L.value),"placeholder"in L&&t(1,s=L.placeholder),"autocompleteCollection"in L&&t(2,o=L.autocompleteCollection),"extraAutocompleteKeys"in L&&t(3,a=L.extraAutocompleteKeys)},n.$$.update=()=>{n.$$.dirty&1&&typeof l=="string"&&t(7,h=l)},[l,s,o,a,u,f,c,h,r,p,_,b,y,A,M,N]}class Xh extends je{constructor(e){super(),qe(this,e,FP,PP,We,{value:0,placeholder:1,autocompleteCollection:2,extraAutocompleteKeys:3})}}function $P(n){let e,t,i,r,l,s;return{c(){e=k("button"),t=k("i"),m(t,"class","ri-refresh-line svelte-1bvelc2"),m(e,"type","button"),m(e,"aria-label","Refresh"),m(e,"class",i="btn btn-transparent btn-circle "+n[1]+" svelte-1bvelc2"),he(e,"refreshing",n[2])},m(o,a){S(o,e,a),T(e,t),l||(s=[nt(r=_t.call(null,e,n[0])),se(e,"click",n[3])],l=!0)},p(o,[a]){a&2&&i!==(i="btn btn-transparent btn-circle "+o[1]+" svelte-1bvelc2")&&m(e,"class",i),r&&Kn(r.update)&&a&1&&r.update.call(null,o[0]),a&6&&he(e,"refreshing",o[2])},i:ge,o:ge,d(o){o&&E(e),l=!1,it(s)}}}function HP(n,e,t){const i=Sn();let{tooltip:r={text:"Refresh",position:"right"}}=e,{class:l=""}=e,s=null;function o(){i("refresh");const a=r;t(0,r=null),clearTimeout(s),t(2,s=setTimeout(()=>{t(2,s=null),t(0,r=a)},150))}return hi(()=>()=>clearTimeout(s)),n.$$set=a=>{"tooltip"in a&&t(0,r=a.tooltip),"class"in a&&t(1,l=a.class)},[r,l,s,o]}class Zh extends je{constructor(e){super(),qe(this,e,HP,$P,We,{tooltip:0,class:1})}}const BP=n=>({}),d5=n=>({}),xP=n=>({}),h5=n=>({});function UP(n){let e,t,i,r,l,s,o,a;const u=n[11].before,f=Zn(u,n,n[10],h5),c=n[11].default,h=Zn(c,n,n[10],null),p=n[11].after,_=Zn(p,n,n[10],d5);return{c(){e=k("div"),f&&f.c(),t=D(),i=k("div"),h&&h.c(),l=D(),_&&_.c(),m(i,"class",r="scroller "+n[0]+" "+n[3]+" svelte-3a0gfs"),m(e,"class","scroller-wrapper svelte-3a0gfs")},m(v,b){S(v,e,b),f&&f.m(e,null),T(e,t),T(e,i),h&&h.m(i,null),n[12](i),T(e,l),_&&_.m(e,null),s=!0,o||(a=[se(window,"resize",n[1]),se(i,"scroll",n[1])],o=!0)},p(v,[b]){f&&f.p&&(!s||b&1024)&&Jn(f,u,v,v[10],s?Qn(u,v[10],b,xP):ei(v[10]),h5),h&&h.p&&(!s||b&1024)&&Jn(h,c,v,v[10],s?Qn(c,v[10],b,null):ei(v[10]),null),(!s||b&9&&r!==(r="scroller "+v[0]+" "+v[3]+" svelte-3a0gfs"))&&m(i,"class",r),_&&_.p&&(!s||b&1024)&&Jn(_,p,v,v[10],s?Qn(p,v[10],b,BP):ei(v[10]),d5)},i(v){s||(F(f,v),F(h,v),F(_,v),s=!0)},o(v){x(f,v),x(h,v),x(_,v),s=!1},d(v){v&&E(e),f&&f.d(v),h&&h.d(v),n[12](null),_&&_.d(v),o=!1,it(a)}}}function zP(n,e,t){let{$$slots:i={},$$scope:r}=e;const l=Sn();let{class:s=""}=e,{vThreshold:o=0}=e,{hThreshold:a=0}=e,{dispatchOnNoScroll:u=!0}=e,f=null,c="",h=null,p,_,v,b,y;function A(){f&&t(2,f.scrollTop=0,f)}function M(){f&&t(2,f.scrollLeft=0,f)}function N(){f&&(t(3,c=""),v=f.clientWidth+2,b=f.clientHeight+2,p=f.scrollWidth-v,_=f.scrollHeight-b,_>0?(t(3,c+=" v-scroll"),o>=b&&t(4,o=0),f.scrollTop-o<=0&&(t(3,c+=" v-scroll-start"),l("vScrollStart")),f.scrollTop+o>=_&&(t(3,c+=" v-scroll-end"),l("vScrollEnd"))):u&&l("vScrollEnd"),p>0?(t(3,c+=" h-scroll"),a>=v&&t(5,a=0),f.scrollLeft-a<=0&&(t(3,c+=" h-scroll-start"),l("hScrollStart")),f.scrollLeft+a>=p&&(t(3,c+=" h-scroll-end"),l("hScrollEnd"))):u&&l("hScrollEnd"))}function L(){h||(h=setTimeout(()=>{N(),h=null},150))}hi(()=>(L(),y=new MutationObserver(L),y.observe(f,{attributeFilter:["width","height"],childList:!0,subtree:!0}),()=>{y==null||y.disconnect(),clearTimeout(h)}));function I(R){ye[R?"unshift":"push"](()=>{f=R,t(2,f)})}return n.$$set=R=>{"class"in R&&t(0,s=R.class),"vThreshold"in R&&t(4,o=R.vThreshold),"hThreshold"in R&&t(5,a=R.hThreshold),"dispatchOnNoScroll"in R&&t(6,u=R.dispatchOnNoScroll),"$$scope"in R&&t(10,r=R.$$scope)},[s,L,f,c,o,a,u,A,M,N,r,i,I]}class a_ extends je{constructor(e){super(),qe(this,e,zP,UP,We,{class:0,vThreshold:4,hThreshold:5,dispatchOnNoScroll:6,resetVerticalScroll:7,resetHorizontalScroll:8,refresh:9,throttleRefresh:1})}get resetVerticalScroll(){return this.$$.ctx[7]}get resetHorizontalScroll(){return this.$$.ctx[8]}get refresh(){return this.$$.ctx[9]}get throttleRefresh(){return this.$$.ctx[1]}}function qP(n){let e,t,i,r,l;const s=n[6].default,o=Zn(s,n,n[5],null);return{c(){e=k("th"),o&&o.c(),m(e,"tabindex","0"),m(e,"title",n[2]),m(e,"class",t="col-sort "+n[1]),he(e,"col-sort-disabled",n[3]),he(e,"sort-active",n[0]==="-"+n[2]||n[0]==="+"+n[2]),he(e,"sort-desc",n[0]==="-"+n[2]),he(e,"sort-asc",n[0]==="+"+n[2])},m(a,u){S(a,e,u),o&&o.m(e,null),i=!0,r||(l=[se(e,"click",n[7]),se(e,"keydown",n[8])],r=!0)},p(a,[u]){o&&o.p&&(!i||u&32)&&Jn(o,s,a,a[5],i?Qn(s,a[5],u,null):ei(a[5]),null),(!i||u&4)&&m(e,"title",a[2]),(!i||u&2&&t!==(t="col-sort "+a[1]))&&m(e,"class",t),(!i||u&10)&&he(e,"col-sort-disabled",a[3]),(!i||u&7)&&he(e,"sort-active",a[0]==="-"+a[2]||a[0]==="+"+a[2]),(!i||u&7)&&he(e,"sort-desc",a[0]==="-"+a[2]),(!i||u&7)&&he(e,"sort-asc",a[0]==="+"+a[2])},i(a){i||(F(o,a),i=!0)},o(a){x(o,a),i=!1},d(a){a&&E(e),o&&o.d(a),r=!1,it(l)}}}function jP(n,e,t){let{$$slots:i={},$$scope:r}=e,{class:l=""}=e,{name:s}=e,{sort:o=""}=e,{disable:a=!1}=e;function u(){a||("-"+s===o?t(0,o="+"+s):t(0,o="-"+s))}const f=()=>u(),c=h=>{(h.code==="Enter"||h.code==="Space")&&(h.preventDefault(),u())};return n.$$set=h=>{"class"in h&&t(1,l=h.class),"name"in h&&t(2,s=h.name),"sort"in h&&t(0,o=h.sort),"disable"in h&&t(3,a=h.disable),"$$scope"in h&&t(5,r=h.$$scope)},[o,l,s,a,u,r,i,f,c]}class jd extends je{constructor(e){super(),qe(this,e,jP,qP,We,{class:1,name:2,sort:0,disable:3})}}function WP(n){let e,t=n[0].replace("Z"," UTC")+"",i,r,l;return{c(){e=k("span"),i=le(t),m(e,"class","txt-nowrap")},m(s,o){S(s,e,o),T(e,i),r||(l=nt(_t.call(null,e,n[1])),r=!0)},p(s,[o]){o&1&&t!==(t=s[0].replace("Z"," UTC")+"")&&Se(i,t)},i:ge,o:ge,d(s){s&&E(e),r=!1,l()}}}function KP(n,e,t){let{date:i}=e;const r={get text(){return re.formatToLocalDate(i,"yyyy-MM-dd HH:mm:ss.SSS")+" Local"}};return n.$$set=l=>{"date"in l&&t(0,i=l.date)},[i,r]}class w7 extends je{constructor(e){super(),qe(this,e,KP,WP,We,{date:0})}}function VP(n){let e,t,i=(n[1]||"UNKN")+"",r,l,s,o,a;return{c(){e=k("div"),t=k("span"),r=le(i),l=le(" ("),s=le(n[0]),o=le(")"),m(t,"class","txt"),m(e,"class",a="label log-level-label level-"+n[0]+" svelte-ha6hme")},m(u,f){S(u,e,f),T(e,t),T(t,r),T(t,l),T(t,s),T(t,o)},p(u,[f]){f&2&&i!==(i=(u[1]||"UNKN")+"")&&Se(r,i),f&1&&Se(s,u[0]),f&1&&a!==(a="label log-level-label level-"+u[0]+" svelte-ha6hme")&&m(e,"class",a)},i:ge,o:ge,d(u){u&&E(e)}}}function GP(n,e,t){let i,{level:r}=e;return n.$$set=l=>{"level"in l&&t(0,r=l.level)},n.$$.update=()=>{var l;n.$$.dirty&1&&t(1,i=(l=s7.find(s=>s.level==r))==null?void 0:l.label)},[r,i]}class E7 extends je{constructor(e){super(),qe(this,e,GP,VP,We,{level:0})}}function p5(n,e,t){var s;const i=n.slice();i[32]=e[t];const r=((s=i[32].data)==null?void 0:s.type)=="request";i[33]=r;const l=sF(i[32]);return i[34]=l,i}function m5(n,e,t){const i=n.slice();return i[37]=e[t],i}function YP(n){let e,t,i,r,l,s,o;return{c(){e=k("div"),t=k("input"),r=D(),l=k("label"),m(t,"type","checkbox"),m(t,"id","checkbox_0"),t.disabled=i=!n[3].length,t.checked=n[8],m(l,"for","checkbox_0"),m(e,"class","form-field")},m(a,u){S(a,e,u),T(e,t),T(e,r),T(e,l),s||(o=se(t,"change",n[19]),s=!0)},p(a,u){u[0]&8&&i!==(i=!a[3].length)&&(t.disabled=i),u[0]&256&&(t.checked=a[8])},d(a){a&&E(e),s=!1,o()}}}function XP(n){let e;return{c(){e=k("span"),m(e,"class","loader loader-sm")},m(t,i){S(t,e,i)},p:ge,d(t){t&&E(e)}}}function ZP(n){let e;return{c(){e=k("div"),e.innerHTML='<i class="ri-bookmark-line"></i> <span class="txt">level</span>',m(e,"class","col-header-content")},m(t,i){S(t,e,i)},p:ge,d(t){t&&E(e)}}}function QP(n){let e;return{c(){e=k("div"),e.innerHTML='<i class="ri-file-list-2-line"></i> <span class="txt">message</span>',m(e,"class","col-header-content")},m(t,i){S(t,e,i)},p:ge,d(t){t&&E(e)}}}function JP(n){let e;return{c(){e=k("div"),e.innerHTML=`<i class="${re.getFieldTypeIcon("date")} svelte-91v05h"></i> <span class="txt">created</span>`,m(e,"class","col-header-content")},m(t,i){S(t,e,i)},p:ge,d(t){t&&E(e)}}}function g5(n){let e;function t(l,s){return l[7]?tF:eF}let i=t(n),r=i(n);return{c(){r.c(),e=ze()},m(l,s){r.m(l,s),S(l,e,s)},p(l,s){i===(i=t(l))&&r?r.p(l,s):(r.d(1),r=i(l),r&&(r.c(),r.m(e.parentNode,e)))},d(l){l&&E(e),r.d(l)}}}function eF(n){var o;let e,t,i,r,l,s=((o=n[0])==null?void 0:o.length)&&_5(n);return{c(){e=k("tr"),t=k("td"),i=k("h6"),i.textContent="No logs found.",r=D(),s&&s.c(),l=D(),m(t,"colspan","99"),m(t,"class","txt-center txt-hint p-xs")},m(a,u){S(a,e,u),T(e,t),T(t,i),T(t,r),s&&s.m(t,null),T(e,l)},p(a,u){var f;(f=a[0])!=null&&f.length?s?s.p(a,u):(s=_5(a),s.c(),s.m(t,null)):s&&(s.d(1),s=null)},d(a){a&&E(e),s&&s.d()}}}function tF(n){let e;return{c(){e=k("tr"),e.innerHTML='<td colspan="99" class="p-xs"><span class="skeleton-loader m-0"></span></td> '},m(t,i){S(t,e,i)},p:ge,d(t){t&&E(e)}}}function _5(n){let e,t,i;return{c(){e=k("button"),e.innerHTML='<span class="txt">Clear filters</span>',m(e,"type","button"),m(e,"class","btn btn-hint btn-expanded m-t-sm")},m(r,l){S(r,e,l),t||(i=se(e,"click",n[26]),t=!0)},p:ge,d(r){r&&E(e),t=!1,i()}}}function b5(n){let e,t=Re(n[34]),i=[];for(let r=0;r<t.length;r+=1)i[r]=v5(m5(n,t,r));return{c(){e=k("div");for(let r=0;r<i.length;r+=1)i[r].c();m(e,"class","flex flex-wrap flex-gap-10 m-t-10")},m(r,l){S(r,e,l);for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(e,null)},p(r,l){if(l[0]&8){t=Re(r[34]);let s;for(s=0;s<t.length;s+=1){const o=m5(r,t,s);i[s]?i[s].p(o,l):(i[s]=v5(o),i[s].c(),i[s].m(e,null))}for(;s<i.length;s+=1)i[s].d(1);i.length=t.length}},d(r){r&&E(e),fn(i,r)}}}function nF(n){let e=n[37].key+"",t,i,r=re.stringifyValue(n[32].data[n[37].key],"N/A",80)+"",l;return{c(){t=le(e),i=le(": "),l=le(r)},m(s,o){S(s,t,o),S(s,i,o),S(s,l,o)},p(s,o){o[0]&8&&e!==(e=s[37].key+"")&&Se(t,e),o[0]&8&&r!==(r=re.stringifyValue(s[32].data[s[37].key],"N/A",80)+"")&&Se(l,r)},d(s){s&&(E(t),E(i),E(l))}}}function iF(n){let e=n[37].key+"",t,i,r=n[32].data[n[37].key]+"",l,s;return{c(){t=le(e),i=le(": "),l=le(r),s=le("ms")},m(o,a){S(o,t,a),S(o,i,a),S(o,l,a),S(o,s,a)},p(o,a){a[0]&8&&e!==(e=o[37].key+"")&&Se(t,e),a[0]&8&&r!==(r=o[32].data[o[37].key]+"")&&Se(l,r)},d(o){o&&(E(t),E(i),E(l),E(s))}}}function v5(n){let e,t,i;function r(o,a){return o[33]&&o[37].key=="execTime"?iF:nF}let l=r(n),s=l(n);return{c(){e=k("span"),s.c(),t=D(),m(e,"class",i="label label-sm "+(n[37].label||"")+" svelte-91v05h")},m(o,a){S(o,e,a),s.m(e,null),T(e,t)},p(o,a){l===(l=r(o))&&s?s.p(o,a):(s.d(1),s=l(o),s&&(s.c(),s.m(e,t))),a[0]&8&&i!==(i="label label-sm "+(o[37].label||"")+" svelte-91v05h")&&m(e,"class",i)},d(o){o&&E(e),s.d()}}}function y5(n,e){let t,i,r,l,s,o,a,u,f,c,h,p,_,v,b,y,A=e[32].message+"",M,N,L,I,R,$,B,H,q,z,j;function W(){return e[23](e[32])}p=new E7({props:{level:e[32].level}});let G=e[34].length&&b5(e);R=new w7({props:{date:e[32].created}});function ie(){return e[24](e[32])}function te(...ae){return e[25](e[32],...ae)}return{key:n,first:null,c(){t=k("tr"),i=k("td"),r=k("div"),l=k("input"),a=D(),u=k("label"),c=D(),h=k("td"),ee(p.$$.fragment),_=D(),v=k("td"),b=k("div"),y=k("span"),M=le(A),N=D(),G&&G.c(),L=D(),I=k("td"),ee(R.$$.fragment),$=D(),B=k("td"),B.innerHTML='<i class="ri-arrow-right-line"></i>',H=D(),m(l,"type","checkbox"),m(l,"id",s="checkbox_"+e[32].id),l.checked=o=e[4][e[32].id],m(u,"for",f="checkbox_"+e[32].id),m(r,"class","form-field"),m(i,"class","bulk-select-col min-width"),m(h,"class","col-type-text col-field-level min-width svelte-91v05h"),m(y,"class","txt-ellipsis"),m(b,"class","flex flex-gap-10"),m(v,"class","col-type-text col-field-message svelte-91v05h"),m(I,"class","col-type-date col-field-created"),m(B,"class","col-type-action min-width"),m(t,"tabindex","0"),m(t,"class","row-handle"),this.first=t},m(ae,ue){S(ae,t,ue),T(t,i),T(i,r),T(r,l),T(r,a),T(r,u),T(t,c),T(t,h),Q(p,h,null),T(t,_),T(t,v),T(v,b),T(b,y),T(y,M),T(v,N),G&&G.m(v,null),T(t,L),T(t,I),Q(R,I,null),T(t,$),T(t,B),T(t,H),q=!0,z||(j=[se(l,"change",W),se(r,"click",Ai(e[18])),se(t,"click",ie),se(t,"keydown",te)],z=!0)},p(ae,ue){e=ae,(!q||ue[0]&8&&s!==(s="checkbox_"+e[32].id))&&m(l,"id",s),(!q||ue[0]&24&&o!==(o=e[4][e[32].id]))&&(l.checked=o),(!q||ue[0]&8&&f!==(f="checkbox_"+e[32].id))&&m(u,"for",f);const K={};ue[0]&8&&(K.level=e[32].level),p.$set(K),(!q||ue[0]&8)&&A!==(A=e[32].message+"")&&Se(M,A),e[34].length?G?G.p(e,ue):(G=b5(e),G.c(),G.m(v,null)):G&&(G.d(1),G=null);const X={};ue[0]&8&&(X.date=e[32].created),R.$set(X)},i(ae){q||(F(p.$$.fragment,ae),F(R.$$.fragment,ae),q=!0)},o(ae){x(p.$$.fragment,ae),x(R.$$.fragment,ae),q=!1},d(ae){ae&&E(t),J(p),G&&G.d(),J(R),z=!1,it(j)}}}function rF(n){let e,t,i,r,l,s,o,a,u,f,c,h,p,_,v,b,y,A=[],M=new Map,N;function L(te,ae){return te[7]?XP:YP}let I=L(n),R=I(n);function $(te){n[20](te)}let B={disable:!0,class:"col-field-level min-width",name:"level",$$slots:{default:[ZP]},$$scope:{ctx:n}};n[1]!==void 0&&(B.sort=n[1]),s=new jd({props:B}),ye.push(()=>Ke(s,"sort",$));function H(te){n[21](te)}let q={disable:!0,class:"col-type-text col-field-message",name:"data",$$slots:{default:[QP]},$$scope:{ctx:n}};n[1]!==void 0&&(q.sort=n[1]),u=new jd({props:q}),ye.push(()=>Ke(u,"sort",H));function z(te){n[22](te)}let j={disable:!0,class:"col-type-date col-field-created",name:"created",$$slots:{default:[JP]},$$scope:{ctx:n}};n[1]!==void 0&&(j.sort=n[1]),h=new jd({props:j}),ye.push(()=>Ke(h,"sort",z));let W=Re(n[3]);const G=te=>te[32].id;for(let te=0;te<W.length;te+=1){let ae=p5(n,W,te),ue=G(ae);M.set(ue,A[te]=y5(ue,ae))}let ie=null;return W.length||(ie=g5(n)),{c(){e=k("table"),t=k("thead"),i=k("tr"),r=k("th"),R.c(),l=D(),ee(s.$$.fragment),a=D(),ee(u.$$.fragment),c=D(),ee(h.$$.fragment),_=D(),v=k("th"),b=D(),y=k("tbody");for(let te=0;te<A.length;te+=1)A[te].c();ie&&ie.c(),m(r,"class","bulk-select-col min-width"),m(v,"class","col-type-action min-width"),m(e,"class","table"),he(e,"table-loading",n[7])},m(te,ae){S(te,e,ae),T(e,t),T(t,i),T(i,r),R.m(r,null),T(i,l),Q(s,i,null),T(i,a),Q(u,i,null),T(i,c),Q(h,i,null),T(i,_),T(i,v),T(e,b),T(e,y);for(let ue=0;ue<A.length;ue+=1)A[ue]&&A[ue].m(y,null);ie&&ie.m(y,null),N=!0},p(te,ae){I===(I=L(te))&&R?R.p(te,ae):(R.d(1),R=I(te),R&&(R.c(),R.m(r,null)));const ue={};ae[1]&512&&(ue.$$scope={dirty:ae,ctx:te}),!o&&ae[0]&2&&(o=!0,ue.sort=te[1],Ye(()=>o=!1)),s.$set(ue);const K={};ae[1]&512&&(K.$$scope={dirty:ae,ctx:te}),!f&&ae[0]&2&&(f=!0,K.sort=te[1],Ye(()=>f=!1)),u.$set(K);const X={};ae[1]&512&&(X.$$scope={dirty:ae,ctx:te}),!p&&ae[0]&2&&(p=!0,X.sort=te[1],Ye(()=>p=!1)),h.$set(X),ae[0]&9369&&(W=Re(te[3]),Ne(),A=In(A,ae,G,1,te,W,M,y,di,y5,null,p5),Me(),!W.length&&ie?ie.p(te,ae):W.length?ie&&(ie.d(1),ie=null):(ie=g5(te),ie.c(),ie.m(y,null))),(!N||ae[0]&128)&&he(e,"table-loading",te[7])},i(te){if(!N){F(s.$$.fragment,te),F(u.$$.fragment,te),F(h.$$.fragment,te);for(let ae=0;ae<W.length;ae+=1)F(A[ae]);N=!0}},o(te){x(s.$$.fragment,te),x(u.$$.fragment,te),x(h.$$.fragment,te);for(let ae=0;ae<A.length;ae+=1)x(A[ae]);N=!1},d(te){te&&E(e),R.d(),J(s),J(u),J(h);for(let ae=0;ae<A.length;ae+=1)A[ae].d();ie&&ie.d()}}}function k5(n){let e,t,i,r;return{c(){e=k("div"),t=k("button"),t.innerHTML='<span class="txt">Load more</span>',m(t,"type","button"),m(t,"class","btn btn-lg btn-secondary btn-expanded"),he(t,"btn-loading",n[7]),he(t,"btn-disabled",n[7]),m(e,"class","block txt-center m-t-sm")},m(l,s){S(l,e,s),T(e,t),i||(r=se(t,"click",n[27]),i=!0)},p(l,s){s[0]&128&&he(t,"btn-loading",l[7]),s[0]&128&&he(t,"btn-disabled",l[7])},d(l){l&&E(e),i=!1,r()}}}function T5(n){let e,t,i,r,l,s,o=n[5]===1?"log":"logs",a,u,f,c,h,p,_,v,b,y,A;return{c(){e=k("div"),t=k("div"),i=le("Selected "),r=k("strong"),l=le(n[5]),s=D(),a=le(o),u=D(),f=k("button"),f.innerHTML='<span class="txt">Reset</span>',c=D(),h=k("div"),p=D(),_=k("button"),_.innerHTML='<span class="txt">Download as JSON</span>',m(t,"class","txt"),m(f,"type","button"),m(f,"class","btn btn-xs btn-transparent btn-outline p-l-5 p-r-5"),m(h,"class","flex-fill"),m(_,"type","button"),m(_,"class","btn btn-sm"),m(e,"class","bulkbar svelte-91v05h")},m(M,N){S(M,e,N),T(e,t),T(t,i),T(t,r),T(r,l),T(t,s),T(t,a),T(e,u),T(e,f),T(e,c),T(e,h),T(e,p),T(e,_),b=!0,y||(A=[se(f,"click",n[28]),se(_,"click",n[14])],y=!0)},p(M,N){(!b||N[0]&32)&&Se(l,M[5]),(!b||N[0]&32)&&o!==(o=M[5]===1?"log":"logs")&&Se(a,o)},i(M){b||(M&&tn(()=>{b&&(v||(v=Et(e,Yr,{duration:150,y:5},!0)),v.run(1))}),b=!0)},o(M){M&&(v||(v=Et(e,Yr,{duration:150,y:5},!1)),v.run(0)),b=!1},d(M){M&&E(e),M&&v&&v.end(),y=!1,it(A)}}}function lF(n){let e,t,i,r,l;e=new a_({props:{class:"table-wrapper",$$slots:{default:[rF]},$$scope:{ctx:n}}});let s=n[3].length&&n[9]&&k5(n),o=n[5]&&T5(n);return{c(){ee(e.$$.fragment),t=D(),s&&s.c(),i=D(),o&&o.c(),r=ze()},m(a,u){Q(e,a,u),S(a,t,u),s&&s.m(a,u),S(a,i,u),o&&o.m(a,u),S(a,r,u),l=!0},p(a,u){const f={};u[0]&411|u[1]&512&&(f.$$scope={dirty:u,ctx:a}),e.$set(f),a[3].length&&a[9]?s?s.p(a,u):(s=k5(a),s.c(),s.m(i.parentNode,i)):s&&(s.d(1),s=null),a[5]?o?(o.p(a,u),u[0]&32&&F(o,1)):(o=T5(a),o.c(),F(o,1),o.m(r.parentNode,r)):o&&(Ne(),x(o,1,1,()=>{o=null}),Me())},i(a){l||(F(e.$$.fragment,a),F(o),l=!0)},o(a){x(e.$$.fragment,a),x(o),l=!1},d(a){a&&(E(t),E(i),E(r)),J(e,a),s&&s.d(a),o&&o.d(a)}}}const w5=50,wm=/[-:\. ]/gi;function sF(n){let e=[];if(!n.data)return e;if(n.data.type=="request"){const t=["status","execTime","auth","authId","userIP"];for(let i of t)typeof n.data[i]<"u"&&e.push({key:i});n.data.referer&&!n.data.referer.includes(window.location.host)&&e.push({key:"referer"})}else{const t=Object.keys(n.data);for(const i of t)i!="error"&&i!="details"&&e.length<6&&e.push({key:i})}return n.data.error&&e.push({key:"error",label:"label-danger"}),n.data.details&&e.push({key:"details",label:"label-warning"}),e}function oF(n,e,t){let i,r,l;const s=Sn();let{filter:o=""}=e,{presets:a=""}=e,{zoom:u={}}=e,{sort:f="-@rowid"}=e,c=[],h=1,p=0,_=!1,v=0,b={};async function y(ue=1,K=!0){t(7,_=!0);const X=[a,re.normalizeLogsFilter(o)];return u.min&&u.max&&X.push(`created >= "${u.min}" && created <= "${u.max}"`),xe.logs.getList(ue,w5,{sort:f,skipTotal:1,filter:X.filter(Boolean).map(_e=>"("+_e+")").join("&&")}).then(async _e=>{var Le;ue<=1&&A();const oe=re.toArray(_e.items);if(t(7,_=!1),t(6,h=_e.page),t(17,p=((Le=_e.items)==null?void 0:Le.length)||0),s("load",c.concat(oe)),K){const lt=++v;for(;oe.length&&v==lt;){const St=oe.splice(0,10);for(let bt of St)re.pushOrReplaceByKey(c,bt);t(3,c),await re.yieldToMain()}}else{for(let lt of oe)re.pushOrReplaceByKey(c,lt);t(3,c)}}).catch(_e=>{_e!=null&&_e.isAbort||(t(7,_=!1),console.warn(_e),A(),xe.error(_e,!X||(_e==null?void 0:_e.status)!=400))})}function A(){t(3,c=[]),t(4,b={}),t(6,h=1),t(17,p=0)}function M(){l?N():L()}function N(){t(4,b={})}function L(){for(const ue of c)t(4,b[ue.id]=ue,b);t(4,b)}function I(ue){b[ue.id]?delete b[ue.id]:t(4,b[ue.id]=ue,b),t(4,b)}function R(){const ue=Object.values(b).sort((_e,oe)=>_e.created<oe.created?1:_e.created>oe.created?-1:0);if(!ue.length)return;if(ue.length==1)return re.downloadJson(ue[0],"log_"+ue[0].created.replaceAll(wm,"")+".json");const K=ue[0].created.replaceAll(wm,""),X=ue[ue.length-1].created.replaceAll(wm,"");return re.downloadJson(ue,`${ue.length}_logs_${X}_to_${K}.json`)}function $(ue){ut.call(this,n,ue)}const B=()=>M();function H(ue){f=ue,t(1,f)}function q(ue){f=ue,t(1,f)}function z(ue){f=ue,t(1,f)}const j=ue=>I(ue),W=ue=>s("select",ue),G=(ue,K)=>{K.code==="Enter"&&(K.preventDefault(),s("select",ue))},ie=()=>t(0,o=""),te=()=>y(h+1),ae=()=>N();return n.$$set=ue=>{"filter"in ue&&t(0,o=ue.filter),"presets"in ue&&t(15,a=ue.presets),"zoom"in ue&&t(16,u=ue.zoom),"sort"in ue&&t(1,f=ue.sort)},n.$$.update=()=>{n.$$.dirty[0]&98307&&(typeof f<"u"||typeof o<"u"||typeof a<"u"||typeof u<"u")&&(A(),y(1)),n.$$.dirty[0]&131072&&t(9,i=p>=w5),n.$$.dirty[0]&16&&t(5,r=Object.keys(b).length),n.$$.dirty[0]&40&&t(8,l=c.length&&r===c.length)},[o,f,y,c,b,r,h,_,l,i,s,M,N,I,R,a,u,p,$,B,H,q,z,j,W,G,ie,te,ae]}class aF extends je{constructor(e){super(),qe(this,e,oF,lF,We,{filter:0,presets:15,zoom:16,sort:1,load:2},null,[-1,-1])}get load(){return this.$$.ctx[2]}}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function n1(n){return n+.5|0}const wo=(n,e,t)=>Math.max(Math.min(n,t),e);function nc(n){return wo(n1(n*2.55),0,255)}function Oo(n){return wo(n1(n*255),0,255)}function xs(n){return wo(n1(n/2.55)/100,0,1)}function E5(n){return wo(n1(n*100),0,100)}const pl={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ig=[..."0123456789ABCDEF"],uF=n=>ig[n&15],fF=n=>ig[(n&240)>>4]+ig[n&15],Z1=n=>(n&240)>>4===(n&15),cF=n=>Z1(n.r)&&Z1(n.g)&&Z1(n.b)&&Z1(n.a);function dF(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&pl[n[1]]*17,g:255&pl[n[2]]*17,b:255&pl[n[3]]*17,a:e===5?pl[n[4]]*17:255}:(e===7||e===9)&&(t={r:pl[n[1]]<<4|pl[n[2]],g:pl[n[3]]<<4|pl[n[4]],b:pl[n[5]]<<4|pl[n[6]],a:e===9?pl[n[7]]<<4|pl[n[8]]:255})),t}const hF=(n,e)=>n<255?e(n):"";function pF(n){var e=cF(n)?uF:fF;return n?"#"+e(n.r)+e(n.g)+e(n.b)+hF(n.a,e):void 0}const mF=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function S7(n,e,t){const i=e*Math.min(t,1-t),r=(l,s=(l+n/30)%12)=>t-i*Math.max(Math.min(s-3,9-s,1),-1);return[r(0),r(8),r(4)]}function gF(n,e,t){const i=(r,l=(r+n/60)%6)=>t-t*e*Math.max(Math.min(l,4-l,1),0);return[i(5),i(3),i(1)]}function _F(n,e,t){const i=S7(n,1,.5);let r;for(e+t>1&&(r=1/(e+t),e*=r,t*=r),r=0;r<3;r++)i[r]*=1-e-t,i[r]+=e;return i}function bF(n,e,t,i,r){return n===r?(e-t)/i+(e<t?6:0):e===r?(t-n)/i+2:(n-e)/i+4}function u_(n){const t=n.r/255,i=n.g/255,r=n.b/255,l=Math.max(t,i,r),s=Math.min(t,i,r),o=(l+s)/2;let a,u,f;return l!==s&&(f=l-s,u=o>.5?f/(2-l-s):f/(l+s),a=bF(t,i,r,f,l),a=a*60+.5),[a|0,u||0,o]}function f_(n,e,t,i){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,i)).map(Oo)}function c_(n,e,t){return f_(S7,n,e,t)}function vF(n,e,t){return f_(_F,n,e,t)}function yF(n,e,t){return f_(gF,n,e,t)}function C7(n){return(n%360+360)%360}function kF(n){const e=mF.exec(n);let t=255,i;if(!e)return;e[5]!==i&&(t=e[6]?nc(+e[5]):Oo(+e[5]));const r=C7(+e[2]),l=+e[3]/100,s=+e[4]/100;return e[1]==="hwb"?i=vF(r,l,s):e[1]==="hsv"?i=yF(r,l,s):i=c_(r,l,s),{r:i[0],g:i[1],b:i[2],a:t}}function TF(n,e){var t=u_(n);t[0]=C7(t[0]+e),t=c_(t),n.r=t[0],n.g=t[1],n.b=t[2]}function wF(n){if(!n)return;const e=u_(n),t=e[0],i=E5(e[1]),r=E5(e[2]);return n.a<255?`hsla(${t}, ${i}%, ${r}%, ${xs(n.a)})`:`hsl(${t}, ${i}%, ${r}%)`}const S5={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},C5={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function EF(){const n={},e=Object.keys(C5),t=Object.keys(S5);let i,r,l,s,o;for(i=0;i<e.length;i++){for(s=o=e[i],r=0;r<t.length;r++)l=t[r],o=o.replace(l,S5[l]);l=parseInt(C5[s],16),n[o]=[l>>16&255,l>>8&255,l&255]}return n}let Q1;function SF(n){Q1||(Q1=EF(),Q1.transparent=[0,0,0,0]);const e=Q1[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const CF=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function AF(n){const e=CF.exec(n);let t=255,i,r,l;if(e){if(e[7]!==i){const s=+e[7];t=e[8]?nc(s):wo(s*255,0,255)}return i=+e[1],r=+e[3],l=+e[5],i=255&(e[2]?nc(i):wo(i,0,255)),r=255&(e[4]?nc(r):wo(r,0,255)),l=255&(e[6]?nc(l):wo(l,0,255)),{r:i,g:r,b:l,a:t}}}function OF(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${xs(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Em=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,du=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function NF(n,e,t){const i=du(xs(n.r)),r=du(xs(n.g)),l=du(xs(n.b));return{r:Oo(Em(i+t*(du(xs(e.r))-i))),g:Oo(Em(r+t*(du(xs(e.g))-r))),b:Oo(Em(l+t*(du(xs(e.b))-l))),a:n.a+t*(e.a-n.a)}}function J1(n,e,t){if(n){let i=u_(n);i[e]=Math.max(0,Math.min(i[e]+i[e]*t,e===0?360:1)),i=c_(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function A7(n,e){return n&&Object.assign(e||{},n)}function A5(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=Oo(n[3]))):(e=A7(n,{r:0,g:0,b:0,a:1}),e.a=Oo(e.a)),e}function MF(n){return n.charAt(0)==="r"?AF(n):kF(n)}class Pc{constructor(e){if(e instanceof Pc)return e;const t=typeof e;let i;t==="object"?i=A5(e):t==="string"&&(i=dF(e)||SF(e)||MF(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=A7(this._rgb);return e&&(e.a=xs(e.a)),e}set rgb(e){this._rgb=A5(e)}rgbString(){return this._valid?OF(this._rgb):void 0}hexString(){return this._valid?pF(this._rgb):void 0}hslString(){return this._valid?wF(this._rgb):void 0}mix(e,t){if(e){const i=this.rgb,r=e.rgb;let l;const s=t===l?.5:t,o=2*s-1,a=i.a-r.a,u=((o*a===-1?o:(o+a)/(1+o*a))+1)/2;l=1-u,i.r=255&u*i.r+l*r.r+.5,i.g=255&u*i.g+l*r.g+.5,i.b=255&u*i.b+l*r.b+.5,i.a=s*i.a+(1-s)*r.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=NF(this._rgb,e._rgb,t)),this}clone(){return new Pc(this.rgb)}alpha(e){return this._rgb.a=Oo(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=n1(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return J1(this._rgb,2,e),this}darken(e){return J1(this._rgb,2,-e),this}saturate(e){return J1(this._rgb,1,e),this}desaturate(e){return J1(this._rgb,1,-e),this}rotate(e){return TF(this._rgb,e),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Is(){}const IF=(()=>{let n=0;return()=>n++})();function ai(n){return n==null}function Zi(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Rn(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function pr(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function is(n,e){return pr(n)?n:e}function zn(n,e){return typeof n>"u"?e:n}const LF=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function mn(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function On(n,e,t,i){let r,l,s;if(Zi(n))for(l=n.length,r=0;r<l;r++)e.call(t,n[r],r);else if(Rn(n))for(s=Object.keys(n),l=s.length,r=0;r<l;r++)e.call(t,n[s[r]],s[r])}function hh(n,e){let t,i,r,l;if(!n||!e||n.length!==e.length)return!1;for(t=0,i=n.length;t<i;++t)if(r=n[t],l=e[t],r.datasetIndex!==l.datasetIndex||r.index!==l.index)return!1;return!0}function ph(n){if(Zi(n))return n.map(ph);if(Rn(n)){const e=Object.create(null),t=Object.keys(n),i=t.length;let r=0;for(;r<i;++r)e[t[r]]=ph(n[t[r]]);return e}return n}function O7(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function DF(n,e,t,i){if(!O7(n))return;const r=e[n],l=t[n];Rn(r)&&Rn(l)?Fc(r,l,i):e[n]=ph(l)}function Fc(n,e,t){const i=Zi(e)?e:[e],r=i.length;if(!Rn(n))return n;t=t||{};const l=t.merger||DF;let s;for(let o=0;o<r;++o){if(s=i[o],!Rn(s))continue;const a=Object.keys(s);for(let u=0,f=a.length;u<f;++u)l(a[u],n,s,t)}return n}function uc(n,e){return Fc(n,e,{merger:RF})}function RF(n,e,t){if(!O7(n))return;const i=e[n],r=t[n];Rn(i)&&Rn(r)?uc(i,r):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=ph(r))}const O5={"":n=>n,x:n=>n.x,y:n=>n.y};function PF(n){const e=n.split("."),t=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}function FF(n){const e=PF(n);return t=>{for(const i of e){if(i==="")break;t=t&&t[i]}return t}}function mh(n,e){return(O5[e]||(O5[e]=FF(e)))(n)}function d_(n){return n.charAt(0).toUpperCase()+n.slice(1)}const gh=n=>typeof n<"u",Io=n=>typeof n=="function",N5=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function $F(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const cr=Math.PI,_s=2*cr,HF=_s+cr,_h=Number.POSITIVE_INFINITY,BF=cr/180,Vl=cr/2,ia=cr/4,M5=cr*2/3,N7=Math.log10,Lo=Math.sign;function ya(n,e,t){return Math.abs(n-e)<t}function I5(n){const e=Math.round(n);n=ya(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(N7(n))),i=n/t;return(i<=1?1:i<=2?2:i<=5?5:10)*t}function xF(n){const e=[],t=Math.sqrt(n);let i;for(i=1;i<t;i++)n%i===0&&(e.push(i),e.push(n/i));return t===(t|0)&&e.push(t),e.sort((r,l)=>r-l).pop(),e}function UF(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function $c(n){return!UF(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function zF(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function qF(n,e,t){let i,r,l;for(i=0,r=n.length;i<r;i++)l=n[i][t],isNaN(l)||(e.min=Math.min(e.min,l),e.max=Math.max(e.max,l))}function ga(n){return n*(cr/180)}function jF(n){return n*(180/cr)}function L5(n){if(!pr(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function WF(n,e){const t=e.x-n.x,i=e.y-n.y,r=Math.sqrt(t*t+i*i);let l=Math.atan2(i,t);return l<-.5*cr&&(l+=_s),{angle:l,distance:r}}function rg(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function KF(n,e){return(n-e+HF)%_s-cr}function as(n){return(n%_s+_s)%_s}function M7(n,e,t,i){const r=as(n),l=as(e),s=as(t),o=as(l-r),a=as(s-r),u=as(r-l),f=as(r-s);return r===l||r===s||i&&l===s||o>a&&u<f}function Gl(n,e,t){return Math.max(e,Math.min(t,n))}function VF(n){return Gl(n,-32768,32767)}function I7(n,e,t,i=1e-6){return n>=Math.min(e,t)-i&&n<=Math.max(e,t)+i}function h_(n,e,t){t=t||(s=>n[s]<e);let i=n.length-1,r=0,l;for(;i-r>1;)l=r+i>>1,t(l)?r=l:i=l;return{lo:r,hi:i}}const _a=(n,e,t,i)=>h_(n,t,i?r=>{const l=n[r][e];return l<t||l===t&&n[r+1][e]===t}:r=>n[r][e]<t),GF=(n,e,t)=>h_(n,t,i=>n[i][e]>=t);function YF(n,e,t){let i=0,r=n.length;for(;i<r&&n[i]<e;)i++;for(;r>i&&n[r-1]>t;)r--;return i>0||r<n.length?n.slice(i,r):n}const L7=["push","pop","shift","splice","unshift"];function XF(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),L7.forEach(t=>{const i="_onData"+d_(t),r=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...l){const s=r.apply(this,l);return n._chartjs.listeners.forEach(o=>{typeof o[i]=="function"&&o[i](...l)}),s}})})}function D5(n,e){const t=n._chartjs;if(!t)return;const i=t.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(L7.forEach(l=>{delete n[l]}),delete n._chartjs)}function ZF(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const D7=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function R7(n,e){let t=[],i=!1;return function(...r){t=r,i||(i=!0,D7.call(window,()=>{i=!1,n.apply(e,t)}))}}function QF(n,e){let t;return function(...i){return e?(clearTimeout(t),t=setTimeout(n,e,i)):n.apply(this,i),e}}const JF=n=>n==="start"?"left":n==="end"?"right":"center",R5=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2;function e$(n,e,t){const i=e.length;let r=0,l=i;if(n._sorted){const{iScale:s,vScale:o,_parsed:a}=n,u=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,f=s.axis,{min:c,max:h,minDefined:p,maxDefined:_}=s.getUserBounds();if(p){if(r=Math.min(_a(a,f,c).lo,t?i:_a(e,f,s.getPixelForValue(c)).lo),u){const v=a.slice(0,r+1).reverse().findIndex(b=>!ai(b[o.axis]));r-=Math.max(0,v)}r=Gl(r,0,i-1)}if(_){let v=Math.max(_a(a,s.axis,h,!0).hi+1,t?0:_a(e,f,s.getPixelForValue(h),!0).hi+1);if(u){const b=a.slice(v-1).findIndex(y=>!ai(y[o.axis]));v+=Math.max(0,b)}l=Gl(v,r,i)-r}else l=i-r}return{start:r,count:l}}function t$(n){const{xScale:e,yScale:t,_scaleRanges:i}=n,r={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!i)return n._scaleRanges=r,!0;const l=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==t.min||i.ymax!==t.max;return Object.assign(i,r),l}const ed=n=>n===0||n===1,P5=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*_s/t)),F5=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*_s/t)+1,fc={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Vl)+1,easeOutSine:n=>Math.sin(n*Vl),easeInOutSine:n=>-.5*(Math.cos(cr*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>ed(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>ed(n)?n:P5(n,.075,.3),easeOutElastic:n=>ed(n)?n:F5(n,.075,.3),easeInOutElastic(n){return ed(n)?n:n<.5?.5*P5(n*2,.1125,.45):.5+.5*F5(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-fc.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?fc.easeInBounce(n*2)*.5:fc.easeOutBounce(n*2-1)*.5+.5};function p_(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function $5(n){return p_(n)?n:new Pc(n)}function Sm(n){return p_(n)?n:new Pc(n).saturate(.5).darken(.1).hexString()}const n$=["x","y","borderWidth","radius","tension"],i$=["color","borderColor","backgroundColor"];function r$(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:i$},numbers:{type:"number",properties:n$}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function l$(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const H5=new Map;function s$(n,e){e=e||{};const t=n+JSON.stringify(e);let i=H5.get(t);return i||(i=new Intl.NumberFormat(n,e),H5.set(t,i)),i}function P7(n,e,t){return s$(e,t).format(n)}const o$={values(n){return Zi(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const i=this.chart.options.locale;let r,l=n;if(t.length>1){const u=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(u<1e-4||u>1e15)&&(r="scientific"),l=a$(n,t)}const s=N7(Math.abs(l)),o=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),a={notation:r,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(a,this.options.ticks.format),P7(n,i,a)}};function a$(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var F7={formatters:o$};function u$(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:F7.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Ca=Object.create(null),lg=Object.create(null);function cc(n,e){if(!e)return n;const t=e.split(".");for(let i=0,r=t.length;i<r;++i){const l=t[i];n=n[l]||(n[l]=Object.create(null))}return n}function Cm(n,e,t){return typeof e=="string"?Fc(cc(n,e),t):Fc(cc(n,""),e)}class f${constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>Sm(r.backgroundColor),this.hoverBorderColor=(i,r)=>Sm(r.borderColor),this.hoverColor=(i,r)=>Sm(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Cm(this,e,t)}get(e){return cc(this,e)}describe(e,t){return Cm(lg,e,t)}override(e,t){return Cm(Ca,e,t)}route(e,t,i,r){const l=cc(this,e),s=cc(this,i),o="_"+t;Object.defineProperties(l,{[o]:{value:l[t],writable:!0},[t]:{enumerable:!0,get(){const a=this[o],u=s[r];return Rn(a)?Object.assign({},u,a):zn(a,u)},set(a){this[o]=a}}})}apply(e){e.forEach(t=>t(this))}}var $i=new f$({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[r$,l$,u$]);function c$(n){return!n||ai(n.size)||ai(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function B5(n,e,t,i,r){let l=e[r];return l||(l=e[r]=n.measureText(r).width,t.push(r)),l>i&&(i=l),i}function ra(n,e,t){const i=n.currentDevicePixelRatio,r=t!==0?Math.max(t/2,.5):0;return Math.round((e-r)*i)/i+r}function x5(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function sg(n,e,t,i){d$(n,e,t,i)}function d$(n,e,t,i,r){let l,s,o,a,u,f,c,h;const p=e.pointStyle,_=e.rotation,v=e.radius;let b=(_||0)*BF;if(p&&typeof p=="object"&&(l=p.toString(),l==="[object HTMLImageElement]"||l==="[object HTMLCanvasElement]")){n.save(),n.translate(t,i),n.rotate(b),n.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),n.restore();return}if(!(isNaN(v)||v<=0)){switch(n.beginPath(),p){default:n.arc(t,i,v,0,_s),n.closePath();break;case"triangle":f=v,n.moveTo(t+Math.sin(b)*f,i-Math.cos(b)*v),b+=M5,n.lineTo(t+Math.sin(b)*f,i-Math.cos(b)*v),b+=M5,n.lineTo(t+Math.sin(b)*f,i-Math.cos(b)*v),n.closePath();break;case"rectRounded":u=v*.516,a=v-u,s=Math.cos(b+ia)*a,c=Math.cos(b+ia)*a,o=Math.sin(b+ia)*a,h=Math.sin(b+ia)*a,n.arc(t-c,i-o,u,b-cr,b-Vl),n.arc(t+h,i-s,u,b-Vl,b),n.arc(t+c,i+o,u,b,b+Vl),n.arc(t-h,i+s,u,b+Vl,b+cr),n.closePath();break;case"rect":if(!_){a=Math.SQRT1_2*v,f=a,n.rect(t-f,i-a,2*f,2*a);break}b+=ia;case"rectRot":c=Math.cos(b)*v,s=Math.cos(b)*v,o=Math.sin(b)*v,h=Math.sin(b)*v,n.moveTo(t-c,i-o),n.lineTo(t+h,i-s),n.lineTo(t+c,i+o),n.lineTo(t-h,i+s),n.closePath();break;case"crossRot":b+=ia;case"cross":c=Math.cos(b)*v,s=Math.cos(b)*v,o=Math.sin(b)*v,h=Math.sin(b)*v,n.moveTo(t-c,i-o),n.lineTo(t+c,i+o),n.moveTo(t+h,i-s),n.lineTo(t-h,i+s);break;case"star":c=Math.cos(b)*v,s=Math.cos(b)*v,o=Math.sin(b)*v,h=Math.sin(b)*v,n.moveTo(t-c,i-o),n.lineTo(t+c,i+o),n.moveTo(t+h,i-s),n.lineTo(t-h,i+s),b+=ia,c=Math.cos(b)*v,s=Math.cos(b)*v,o=Math.sin(b)*v,h=Math.sin(b)*v,n.moveTo(t-c,i-o),n.lineTo(t+c,i+o),n.moveTo(t+h,i-s),n.lineTo(t-h,i+s);break;case"line":s=Math.cos(b)*v,o=Math.sin(b)*v,n.moveTo(t-s,i-o),n.lineTo(t+s,i+o);break;case"dash":n.moveTo(t,i),n.lineTo(t+Math.cos(b)*v,i+Math.sin(b)*v);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function Bu(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function m_(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function g_(n){n.restore()}function h$(n,e,t,i,r){if(!e)return n.lineTo(t.x,t.y);if(r==="middle"){const l=(e.x+t.x)/2;n.lineTo(l,e.y),n.lineTo(l,t.y)}else r==="after"!=!!i?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function p$(n,e,t,i){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?t.cp2x:t.cp1x,i?t.cp2y:t.cp1y,t.x,t.y)}function m$(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),ai(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function g$(n,e,t,i,r){if(r.strikethrough||r.underline){const l=n.measureText(i),s=e-l.actualBoundingBoxLeft,o=e+l.actualBoundingBoxRight,a=t-l.actualBoundingBoxAscent,u=t+l.actualBoundingBoxDescent,f=r.strikethrough?(a+u)/2:u;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(s,f),n.lineTo(o,f),n.stroke()}}function _$(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function U5(n,e,t,i,r,l={}){const s=Zi(e)?e:[e],o=l.strokeWidth>0&&l.strokeColor!=="";let a,u;for(n.save(),n.font=r.string,m$(n,l),a=0;a<s.length;++a)u=s[a],l.backdrop&&_$(n,l.backdrop),o&&(l.strokeColor&&(n.strokeStyle=l.strokeColor),ai(l.strokeWidth)||(n.lineWidth=l.strokeWidth),n.strokeText(u,t,i,l.maxWidth)),n.fillText(u,t,i,l.maxWidth),g$(n,t,i,u,l),i+=Number(r.lineHeight);n.restore()}function z5(n,e){const{x:t,y:i,w:r,h:l,radius:s}=e;n.arc(t+s.topLeft,i+s.topLeft,s.topLeft,1.5*cr,cr,!0),n.lineTo(t,i+l-s.bottomLeft),n.arc(t+s.bottomLeft,i+l-s.bottomLeft,s.bottomLeft,cr,Vl,!0),n.lineTo(t+r-s.bottomRight,i+l),n.arc(t+r-s.bottomRight,i+l-s.bottomRight,s.bottomRight,Vl,0,!0),n.lineTo(t+r,i+s.topRight),n.arc(t+r-s.topRight,i+s.topRight,s.topRight,0,-Vl,!0),n.lineTo(t+s.topLeft,i)}const b$=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,v$=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function y$(n,e){const t=(""+n).match(b$);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const k$=n=>+n||0;function $7(n,e){const t={},i=Rn(e),r=i?Object.keys(e):e,l=Rn(n)?i?s=>zn(n[s],n[e[s]]):s=>n[s]:()=>n;for(const s of r)t[s]=k$(l(s));return t}function T$(n){return $7(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Wd(n){return $7(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Do(n){const e=T$(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function gs(n,e){n=n||{},e=e||$i.font;let t=zn(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let i=zn(n.style,e.style);i&&!(""+i).match(v$)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:zn(n.family,e.family),lineHeight:y$(zn(n.lineHeight,e.lineHeight),t),size:t,style:i,weight:zn(n.weight,e.weight),string:""};return r.string=c$(r),r}function td(n,e,t,i){let r,l,s;for(r=0,l=n.length;r<l;++r)if(s=n[r],s!==void 0&&s!==void 0)return s}function w$(n,e,t){const{min:i,max:r}=n,l=LF(e,(r-i)/2),s=(o,a)=>t&&o===0?0:o+a;return{min:s(i,-Math.abs(l)),max:s(r,l)}}function Ia(n,e){return Object.assign(Object.create(n),e)}function __(n,e=[""],t,i,r=()=>n[0]){const l=t||n;typeof i>"u"&&(i=U7("_fallback",n));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:l,_fallback:i,_getTarget:r,override:o=>__([o,...n],e,l,i)};return new Proxy(s,{deleteProperty(o,a){return delete o[a],delete o._keys,delete n[0][a],!0},get(o,a){return B7(o,a,()=>I$(a,e,n,o))},getOwnPropertyDescriptor(o,a){return Reflect.getOwnPropertyDescriptor(o._scopes[0],a)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(o,a){return j5(o).includes(a)},ownKeys(o){return j5(o)},set(o,a,u){const f=o._storage||(o._storage=r());return o[a]=f[a]=u,delete o._keys,!0}})}function xu(n,e,t,i){const r={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:H7(n,i),setContext:l=>xu(n,l,t,i),override:l=>xu(n.override(l),e,t,i)};return new Proxy(r,{deleteProperty(l,s){return delete l[s],delete n[s],!0},get(l,s,o){return B7(l,s,()=>S$(l,s,o))},getOwnPropertyDescriptor(l,s){return l._descriptors.allKeys?Reflect.has(n,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,s)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(l,s){return Reflect.has(n,s)},ownKeys(){return Reflect.ownKeys(n)},set(l,s,o){return n[s]=o,delete l[s],!0}})}function H7(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=n;return{allKeys:r,scriptable:t,indexable:i,isScriptable:Io(t)?t:()=>t,isIndexable:Io(i)?i:()=>i}}const E$=(n,e)=>n?n+d_(e):e,b_=(n,e)=>Rn(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function B7(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const i=t();return n[e]=i,i}function S$(n,e,t){const{_proxy:i,_context:r,_subProxy:l,_descriptors:s}=n;let o=i[e];return Io(o)&&s.isScriptable(e)&&(o=C$(e,o,n,t)),Zi(o)&&o.length&&(o=A$(e,o,n,s.isIndexable)),b_(e,o)&&(o=xu(o,r,l&&l[e],s)),o}function C$(n,e,t,i){const{_proxy:r,_context:l,_subProxy:s,_stack:o}=t;if(o.has(n))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+n);o.add(n);let a=e(l,s||i);return o.delete(n),b_(n,a)&&(a=v_(r._scopes,r,n,a)),a}function A$(n,e,t,i){const{_proxy:r,_context:l,_subProxy:s,_descriptors:o}=t;if(typeof l.index<"u"&&i(n))return e[l.index%e.length];if(Rn(e[0])){const a=e,u=r._scopes.filter(f=>f!==a);e=[];for(const f of a){const c=v_(u,r,n,f);e.push(xu(c,l,s&&s[n],o))}}return e}function x7(n,e,t){return Io(n)?n(e,t):n}const O$=(n,e)=>n===!0?e:typeof n=="string"?mh(e,n):void 0;function N$(n,e,t,i,r){for(const l of e){const s=O$(t,l);if(s){n.add(s);const o=x7(s._fallback,t,r);if(typeof o<"u"&&o!==t&&o!==i)return o}else if(s===!1&&typeof i<"u"&&t!==i)return null}return!1}function v_(n,e,t,i){const r=e._rootScopes,l=x7(e._fallback,t,i),s=[...n,...r],o=new Set;o.add(i);let a=q5(o,s,t,l||t,i);return a===null||typeof l<"u"&&l!==t&&(a=q5(o,s,l,a,i),a===null)?!1:__(Array.from(o),[""],r,l,()=>M$(e,t,i))}function q5(n,e,t,i,r){for(;t;)t=N$(n,e,t,i,r);return t}function M$(n,e,t){const i=n._getTarget();e in i||(i[e]={});const r=i[e];return Zi(r)&&Rn(t)?t:r||{}}function I$(n,e,t,i){let r;for(const l of e)if(r=U7(E$(l,n),t),typeof r<"u")return b_(n,r)?v_(t,i,n,r):r}function U7(n,e){for(const t of e){if(!t)continue;const i=t[n];if(typeof i<"u")return i}}function j5(n){let e=n._keys;return e||(e=n._keys=L$(n._scopes)),e}function L$(n){const e=new Set;for(const t of n)for(const i of Object.keys(t).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}const D$=Number.EPSILON||1e-14,Uu=(n,e)=>e<n.length&&!n[e].skip&&n[e],z7=n=>n==="x"?"y":"x";function R$(n,e,t,i){const r=n.skip?e:n,l=e,s=t.skip?e:t,o=rg(l,r),a=rg(s,l);let u=o/(o+a),f=a/(o+a);u=isNaN(u)?0:u,f=isNaN(f)?0:f;const c=i*u,h=i*f;return{previous:{x:l.x-c*(s.x-r.x),y:l.y-c*(s.y-r.y)},next:{x:l.x+h*(s.x-r.x),y:l.y+h*(s.y-r.y)}}}function P$(n,e,t){const i=n.length;let r,l,s,o,a,u=Uu(n,0);for(let f=0;f<i-1;++f)if(a=u,u=Uu(n,f+1),!(!a||!u)){if(ya(e[f],0,D$)){t[f]=t[f+1]=0;continue}r=t[f]/e[f],l=t[f+1]/e[f],o=Math.pow(r,2)+Math.pow(l,2),!(o<=9)&&(s=3/Math.sqrt(o),t[f]=r*s*e[f],t[f+1]=l*s*e[f])}}function F$(n,e,t="x"){const i=z7(t),r=n.length;let l,s,o,a=Uu(n,0);for(let u=0;u<r;++u){if(s=o,o=a,a=Uu(n,u+1),!o)continue;const f=o[t],c=o[i];s&&(l=(f-s[t])/3,o[`cp1${t}`]=f-l,o[`cp1${i}`]=c-l*e[u]),a&&(l=(a[t]-f)/3,o[`cp2${t}`]=f+l,o[`cp2${i}`]=c+l*e[u])}}function $$(n,e="x"){const t=z7(e),i=n.length,r=Array(i).fill(0),l=Array(i);let s,o,a,u=Uu(n,0);for(s=0;s<i;++s)if(o=a,a=u,u=Uu(n,s+1),!!a){if(u){const f=u[e]-a[e];r[s]=f!==0?(u[t]-a[t])/f:0}l[s]=o?u?Lo(r[s-1])!==Lo(r[s])?0:(r[s-1]+r[s])/2:r[s-1]:r[s]}P$(n,r,l),F$(n,l,e)}function nd(n,e,t){return Math.max(Math.min(n,t),e)}function H$(n,e){let t,i,r,l,s,o=Bu(n[0],e);for(t=0,i=n.length;t<i;++t)s=l,l=o,o=t<i-1&&Bu(n[t+1],e),l&&(r=n[t],s&&(r.cp1x=nd(r.cp1x,e.left,e.right),r.cp1y=nd(r.cp1y,e.top,e.bottom)),o&&(r.cp2x=nd(r.cp2x,e.left,e.right),r.cp2y=nd(r.cp2y,e.top,e.bottom)))}function B$(n,e,t,i,r){let l,s,o,a;if(e.spanGaps&&(n=n.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")$$(n,r);else{let u=i?n[n.length-1]:n[0];for(l=0,s=n.length;l<s;++l)o=n[l],a=R$(u,o,n[Math.min(l+1,s-(i?0:1))%s],e.tension),o.cp1x=a.previous.x,o.cp1y=a.previous.y,o.cp2x=a.next.x,o.cp2y=a.next.y,u=o}e.capBezierPoints&&H$(n,t)}function y_(){return typeof window<"u"&&typeof document<"u"}function k_(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function bh(n,e,t){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*e.parentNode[t])):i=n,i}const Qh=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function x$(n,e){return Qh(n).getPropertyValue(e)}const U$=["top","right","bottom","left"];function ka(n,e,t){const i={};t=t?"-"+t:"";for(let r=0;r<4;r++){const l=U$[r];i[l]=parseFloat(n[e+"-"+l+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const z$=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function q$(n,e){const t=n.touches,i=t&&t.length?t[0]:n,{offsetX:r,offsetY:l}=i;let s=!1,o,a;if(z$(r,l,n.target))o=r,a=l;else{const u=e.getBoundingClientRect();o=i.clientX-u.left,a=i.clientY-u.top,s=!0}return{x:o,y:a,box:s}}function us(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:i}=e,r=Qh(t),l=r.boxSizing==="border-box",s=ka(r,"padding"),o=ka(r,"border","width"),{x:a,y:u,box:f}=q$(n,t),c=s.left+(f&&o.left),h=s.top+(f&&o.top);let{width:p,height:_}=e;return l&&(p-=s.width+o.width,_-=s.height+o.height),{x:Math.round((a-c)/p*t.width/i),y:Math.round((u-h)/_*t.height/i)}}function j$(n,e,t){let i,r;if(e===void 0||t===void 0){const l=n&&k_(n);if(!l)e=n.clientWidth,t=n.clientHeight;else{const s=l.getBoundingClientRect(),o=Qh(l),a=ka(o,"border","width"),u=ka(o,"padding");e=s.width-u.width-a.width,t=s.height-u.height-a.height,i=bh(o.maxWidth,l,"clientWidth"),r=bh(o.maxHeight,l,"clientHeight")}}return{width:e,height:t,maxWidth:i||_h,maxHeight:r||_h}}const id=n=>Math.round(n*10)/10;function W$(n,e,t,i){const r=Qh(n),l=ka(r,"margin"),s=bh(r.maxWidth,n,"clientWidth")||_h,o=bh(r.maxHeight,n,"clientHeight")||_h,a=j$(n,e,t);let{width:u,height:f}=a;if(r.boxSizing==="content-box"){const h=ka(r,"border","width"),p=ka(r,"padding");u-=p.width+h.width,f-=p.height+h.height}return u=Math.max(0,u-l.width),f=Math.max(0,i?u/i:f-l.height),u=id(Math.min(u,s,a.maxWidth)),f=id(Math.min(f,o,a.maxHeight)),u&&!f&&(f=id(u/2)),(e!==void 0||t!==void 0)&&i&&a.height&&f>a.height&&(f=a.height,u=id(Math.floor(f*i))),{width:u,height:f}}function W5(n,e,t){const i=e||1,r=Math.floor(n.height*i),l=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const s=n.canvas;return s.style&&(t||!s.style.height&&!s.style.width)&&(s.style.height=`${n.height}px`,s.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||s.height!==r||s.width!==l?(n.currentDevicePixelRatio=i,s.height=r,s.width=l,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const K$=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};y_()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function K5(n,e){const t=x$(n,e),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function ca(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function V$(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:i==="middle"?t<.5?n.y:e.y:i==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function G$(n,e,t,i){const r={x:n.cp2x,y:n.cp2y},l={x:e.cp1x,y:e.cp1y},s=ca(n,r,t),o=ca(r,l,t),a=ca(l,e,t),u=ca(s,o,t),f=ca(o,a,t);return ca(u,f,t)}const Y$=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,i){return t-i},leftForLtr(t,i){return t-i}}},X$=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function Am(n,e,t){return n?Y$(e,t):X$()}function Z$(n,e){let t,i;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=i)}function Q$(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function q7(n){return n==="angle"?{between:M7,compare:KF,normalize:as}:{between:I7,compare:(e,t)=>e-t,normalize:e=>e}}function V5({start:n,end:e,count:t,loop:i,style:r}){return{start:n%t,end:e%t,loop:i&&(e-n+1)%t===0,style:r}}function J$(n,e,t){const{property:i,start:r,end:l}=t,{between:s,normalize:o}=q7(i),a=e.length;let{start:u,end:f,loop:c}=n,h,p;if(c){for(u+=a,f+=a,h=0,p=a;h<p&&s(o(e[u%a][i]),r,l);++h)u--,f--;u%=a,f%=a}return f<u&&(f+=a),{start:u,end:f,loop:c,style:n.style}}function j7(n,e,t){if(!t)return[n];const{property:i,start:r,end:l}=t,s=e.length,{compare:o,between:a,normalize:u}=q7(i),{start:f,end:c,loop:h,style:p}=J$(n,e,t),_=[];let v=!1,b=null,y,A,M;const N=()=>a(r,M,y)&&o(r,M)!==0,L=()=>o(l,y)===0||a(l,M,y),I=()=>v||N(),R=()=>!v||L();for(let $=f,B=f;$<=c;++$)A=e[$%s],!A.skip&&(y=u(A[i]),y!==M&&(v=a(y,r,l),b===null&&I()&&(b=o(y,r)===0?$:B),b!==null&&R()&&(_.push(V5({start:b,end:$,loop:h,count:s,style:p})),b=null),B=$,M=y));return b!==null&&_.push(V5({start:b,end:c,loop:h,count:s,style:p})),_}function W7(n,e){const t=[],i=n.segments;for(let r=0;r<i.length;r++){const l=j7(i[r],n.points,e);l.length&&t.push(...l)}return t}function eH(n,e,t,i){let r=0,l=e-1;if(t&&!i)for(;r<e&&!n[r].skip;)r++;for(;r<e&&n[r].skip;)r++;for(r%=e,t&&(l+=r);l>r&&n[l%e].skip;)l--;return l%=e,{start:r,end:l}}function tH(n,e,t,i){const r=n.length,l=[];let s=e,o=n[e],a;for(a=e+1;a<=t;++a){const u=n[a%r];u.skip||u.stop?o.skip||(i=!1,l.push({start:e%r,end:(a-1)%r,loop:i}),e=s=u.stop?a:null):(s=a,o.skip&&(e=a)),o=u}return s!==null&&l.push({start:e%r,end:s%r,loop:i}),l}function nH(n,e){const t=n.points,i=n.options.spanGaps,r=t.length;if(!r)return[];const l=!!n._loop,{start:s,end:o}=eH(t,r,l,i);if(i===!0)return G5(n,[{start:s,end:o,loop:l}],t,e);const a=o<s?o+r:o,u=!!n._fullLoop&&s===0&&o===r-1;return G5(n,tH(t,s,a,u),t,e)}function G5(n,e,t,i){return!i||!i.setContext||!t?e:iH(n,e,t,i)}function iH(n,e,t,i){const r=n._chart.getContext(),l=Y5(n.options),{_datasetIndex:s,options:{spanGaps:o}}=n,a=t.length,u=[];let f=l,c=e[0].start,h=c;function p(_,v,b,y){const A=o?-1:1;if(_!==v){for(_+=a;t[_%a].skip;)_-=A;for(;t[v%a].skip;)v+=A;_%a!==v%a&&(u.push({start:_%a,end:v%a,loop:b,style:y}),f=y,c=v%a)}}for(const _ of e){c=o?c:_.start;let v=t[c%a],b;for(h=c+1;h<=_.end;h++){const y=t[h%a];b=Y5(i.setContext(Ia(r,{type:"segment",p0:v,p1:y,p0DataIndex:(h-1)%a,p1DataIndex:h%a,datasetIndex:s}))),rH(b,f)&&p(c,h-1,_.loop,f),v=y,f=b}c<h-1&&p(c,h-1,_.loop,f)}return u}function Y5(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function rH(n,e){if(!e)return!1;const t=[],i=function(r,l){return p_(l)?(t.includes(l)||t.push(l),t.indexOf(l)):l};return JSON.stringify(n,i)!==JSON.stringify(e,i)}function rd(n,e,t){return n.options.clip?n[t]:e[t]}function lH(n,e){const{xScale:t,yScale:i}=n;return t&&i?{left:rd(t,e,"left"),right:rd(t,e,"right"),top:rd(i,e,"top"),bottom:rd(i,e,"bottom")}:e}function K7(n,e){const t=e._clip;if(t.disabled)return!1;const i=lH(e,n.chartArea);return{left:t.left===!1?0:i.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:i.right+(t.right===!0?0:t.right),top:t.top===!1?0:i.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:i.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class sH{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,r){const l=t.listeners[r],s=t.duration;l.forEach(o=>o({chart:e,initial:t.initial,numSteps:s,currentStep:Math.min(i-t.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=D7.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const l=i.items;let s=l.length-1,o=!1,a;for(;s>=0;--s)a=l[s],a._active?(a._total>i.duration&&(i.duration=a._total),a.tick(e),o=!0):(l[s]=l[l.length-1],l.pop());o&&(r.draw(),this._notify(r,i,e,"progress")),l.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),t+=l.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const i=t.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var $s=new sH;const X5="transparent",oH={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const i=$5(n||X5),r=i.valid&&$5(e||X5);return r&&r.valid?r.mix(i,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class aH{constructor(e,t,i,r){const l=t[i];r=td([e.to,r,l,e.from]);const s=td([e.from,l,r]);this._active=!0,this._fn=e.fn||oH[e.type||typeof s],this._easing=fc[e.easing]||fc.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=s,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);const r=this._target[this._prop],l=i-this._start,s=this._duration-l;this._start=i,this._duration=Math.floor(Math.max(s,e.duration)),this._total+=l,this._loop=!!e.loop,this._to=td([e.to,t,r,e.from]),this._from=td([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,i=this._duration,r=this._prop,l=this._from,s=this._loop,o=this._to;let a;if(this._active=l!==o&&(s||t<i),!this._active){this._target[r]=o,this._notify(!0);return}if(t<0){this._target[r]=l;return}a=t/i%2,a=s&&a>1?2-a:a,a=this._easing(Math.min(1,Math.max(0,a))),this._target[r]=this._fn(l,o,a)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){const t=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][t]()}}class V7{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Rn(e))return;const t=Object.keys($i.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const l=e[r];if(!Rn(l))return;const s={};for(const o of t)s[o]=l[o];(Zi(l.properties)&&l.properties||[r]).forEach(o=>{(o===r||!i.has(o))&&i.set(o,s)})})}_animateOptions(e,t){const i=t.options,r=fH(e,i);if(!r)return[];const l=this._createAnimations(r,i);return i.$shared&&uH(e.options.$animations,i).then(()=>{e.options=i},()=>{}),l}_createAnimations(e,t){const i=this._properties,r=[],l=e.$animations||(e.$animations={}),s=Object.keys(t),o=Date.now();let a;for(a=s.length-1;a>=0;--a){const u=s[a];if(u.charAt(0)==="$")continue;if(u==="options"){r.push(...this._animateOptions(e,t));continue}const f=t[u];let c=l[u];const h=i.get(u);if(c)if(h&&c.active()){c.update(h,f,o);continue}else c.cancel();if(!h||!h.duration){e[u]=f;continue}l[u]=c=new aH(h,e,u,f),r.push(c)}return r}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const i=this._createAnimations(e,t);if(i.length)return $s.add(this._chart,i),!0}}function uH(n,e){const t=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const l=n[i[r]];l&&l.active()&&t.push(l.wait())}return Promise.all(t)}function fH(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function Z5(n,e){const t=n&&n.options||{},i=t.reverse,r=t.min===void 0?e:0,l=t.max===void 0?e:0;return{start:i?l:r,end:i?r:l}}function cH(n,e,t){if(t===!1)return!1;const i=Z5(n,t),r=Z5(e,t);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function dH(n){let e,t,i,r;return Rn(n)?(e=n.top,t=n.right,i=n.bottom,r=n.left):e=t=i=r=n,{top:e,right:t,bottom:i,left:r,disabled:n===!1}}function G7(n,e){const t=[],i=n._getSortedDatasetMetas(e);let r,l;for(r=0,l=i.length;r<l;++r)t.push(i[r].index);return t}function Q5(n,e,t,i={}){const r=n.keys,l=i.mode==="single";let s,o,a,u;if(e===null)return;let f=!1;for(s=0,o=r.length;s<o;++s){if(a=+r[s],a===t){if(f=!0,i.all)continue;break}u=n.values[a],pr(u)&&(l||e===0||Lo(e)===Lo(u))&&(e+=u)}return!f&&!i.all?0:e}function hH(n,e){const{iScale:t,vScale:i}=e,r=t.axis==="x"?"x":"y",l=i.axis==="x"?"x":"y",s=Object.keys(n),o=new Array(s.length);let a,u,f;for(a=0,u=s.length;a<u;++a)f=s[a],o[a]={[r]:f,[l]:n[f]};return o}function Om(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function pH(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function mH(n){const{min:e,max:t,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?t:Number.POSITIVE_INFINITY}}function gH(n,e,t){const i=n[e]||(n[e]={});return i[t]||(i[t]={})}function J5(n,e,t,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const l=n[r.index];if(t&&l>0||!t&&l<0)return r.index}return null}function ey(n,e){const{chart:t,_cachedMeta:i}=n,r=t._stacks||(t._stacks={}),{iScale:l,vScale:s,index:o}=i,a=l.axis,u=s.axis,f=pH(l,s,i),c=e.length;let h;for(let p=0;p<c;++p){const _=e[p],{[a]:v,[u]:b}=_,y=_._stacks||(_._stacks={});h=y[u]=gH(r,f,v),h[o]=b,h._top=J5(h,s,!0,i.type),h._bottom=J5(h,s,!1,i.type);const A=h._visualValues||(h._visualValues={});A[o]=b}}function Nm(n,e){const t=n.scales;return Object.keys(t).filter(i=>t[i].axis===e).shift()}function _H(n,e){return Ia(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function bH(n,e,t){return Ia(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Hf(n,e){const t=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){e=e||n._parsed;for(const r of e){const l=r._stacks;if(!l||l[i]===void 0||l[i][t]===void 0)return;delete l[i][t],l[i]._visualValues!==void 0&&l[i]._visualValues[t]!==void 0&&delete l[i]._visualValues[t]}}}const Mm=n=>n==="reset"||n==="none",ty=(n,e)=>e?n:Object.assign({},n),vH=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:G7(t,!0),values:null};class dc{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Om(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Hf(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,i=this.getDataset(),r=(c,h,p,_)=>c==="x"?h:c==="r"?_:p,l=t.xAxisID=zn(i.xAxisID,Nm(e,"x")),s=t.yAxisID=zn(i.yAxisID,Nm(e,"y")),o=t.rAxisID=zn(i.rAxisID,Nm(e,"r")),a=t.indexAxis,u=t.iAxisID=r(a,l,s,o),f=t.vAxisID=r(a,s,l,o);t.xScale=this.getScaleForId(l),t.yScale=this.getScaleForId(s),t.rScale=this.getScaleForId(o),t.iScale=this.getScaleForId(u),t.vScale=this.getScaleForId(f)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&D5(this._data,this),e._stacked&&Hf(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),i=this._data;if(Rn(t)){const r=this._cachedMeta;this._data=hH(t,r)}else if(i!==t){if(i){D5(i,this);const r=this._cachedMeta;Hf(r),r._parsed=[]}t&&Object.isExtensible(t)&&XF(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const l=t._stacked;t._stacked=Om(t.vScale,t),t.stack!==i.stack&&(r=!0,Hf(t),t.stack=i.stack),this._resyncElements(e),(r||l!==t._stacked)&&(ey(this,t._parsed),t._stacked=Om(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:i,_data:r}=this,{iScale:l,_stacked:s}=i,o=l.axis;let a=e===0&&t===r.length?!0:i._sorted,u=e>0&&i._parsed[e-1],f,c,h;if(this._parsing===!1)i._parsed=r,i._sorted=!0,h=r;else{Zi(r[e])?h=this.parseArrayData(i,r,e,t):Rn(r[e])?h=this.parseObjectData(i,r,e,t):h=this.parsePrimitiveData(i,r,e,t);const p=()=>c[o]===null||u&&c[o]<u[o];for(f=0;f<t;++f)i._parsed[f+e]=c=h[f],a&&(p()&&(a=!1),u=c);i._sorted=a}s&&ey(this,h)}parsePrimitiveData(e,t,i,r){const{iScale:l,vScale:s}=e,o=l.axis,a=s.axis,u=l.getLabels(),f=l===s,c=new Array(r);let h,p,_;for(h=0,p=r;h<p;++h)_=h+i,c[h]={[o]:f||l.parse(u[_],_),[a]:s.parse(t[_],_)};return c}parseArrayData(e,t,i,r){const{xScale:l,yScale:s}=e,o=new Array(r);let a,u,f,c;for(a=0,u=r;a<u;++a)f=a+i,c=t[f],o[a]={x:l.parse(c[0],f),y:s.parse(c[1],f)};return o}parseObjectData(e,t,i,r){const{xScale:l,yScale:s}=e,{xAxisKey:o="x",yAxisKey:a="y"}=this._parsing,u=new Array(r);let f,c,h,p;for(f=0,c=r;f<c;++f)h=f+i,p=t[h],u[f]={x:l.parse(mh(p,o),h),y:s.parse(mh(p,a),h)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,i){const r=this.chart,l=this._cachedMeta,s=t[e.axis],o={keys:G7(r,!0),values:t._stacks[e.axis]._visualValues};return Q5(o,s,l.index,{mode:i})}updateRangeFromParsed(e,t,i,r){const l=i[t.axis];let s=l===null?NaN:l;const o=r&&i._stacks[t.axis];r&&o&&(r.values=o,s=Q5(r,l,this._cachedMeta.index)),e.min=Math.min(e.min,s),e.max=Math.max(e.max,s)}getMinMax(e,t){const i=this._cachedMeta,r=i._parsed,l=i._sorted&&e===i.iScale,s=r.length,o=this._getOtherScale(e),a=vH(t,i,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:f,max:c}=mH(o);let h,p;function _(){p=r[h];const v=p[o.axis];return!pr(p[e.axis])||f>v||c<v}for(h=0;h<s&&!(!_()&&(this.updateRangeFromParsed(u,e,p,a),l));++h);if(l){for(h=s-1;h>=0;--h)if(!_()){this.updateRangeFromParsed(u,e,p,a);break}}return u}getAllParsedValues(e){const t=this._cachedMeta._parsed,i=[];let r,l,s;for(r=0,l=t.length;r<l;++r)s=t[r][e.axis],pr(s)&&i.push(s);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,i=t.iScale,r=t.vScale,l=this.getParsed(e);return{label:i?""+i.getLabelForValue(l[i.axis]):"",value:r?""+r.getLabelForValue(l[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=dH(zn(this.options.clip,cH(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,i=this._cachedMeta,r=i.data||[],l=t.chartArea,s=[],o=this._drawStart||0,a=this._drawCount||r.length-o,u=this.options.drawActiveElementsOnTop;let f;for(i.dataset&&i.dataset.draw(e,l,o,a),f=o;f<o+a;++f){const c=r[f];c.hidden||(c.active&&u?s.push(c):c.draw(e,l))}for(f=0;f<s.length;++f)s[f].draw(e,l)}getStyle(e,t){const i=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,t,i){const r=this.getDataset();let l;if(e>=0&&e<this._cachedMeta.data.length){const s=this._cachedMeta.data[e];l=s.$context||(s.$context=bH(this.getContext(),e,s)),l.parsed=this.getParsed(e),l.raw=r.data[e],l.index=l.dataIndex=e}else l=this.$context||(this.$context=_H(this.chart.getContext(),this.index)),l.dataset=r,l.index=l.datasetIndex=this.index;return l.active=!!t,l.mode=i,l}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",i){const r=t==="active",l=this._cachedDataOpts,s=e+"-"+t,o=l[s],a=this.enableOptionSharing&&gh(i);if(o)return ty(o,a);const u=this.chart.config,f=u.datasetElementScopeKeys(this._type,e),c=r?[`${e}Hover`,"hover",e,""]:[e,""],h=u.getOptionScopes(this.getDataset(),f),p=Object.keys($i.elements[e]),_=()=>this.getContext(i,r,t),v=u.resolveNamedOptions(h,p,_,c);return v.$shared&&(v.$shared=a,l[s]=Object.freeze(ty(v,a))),v}_resolveAnimations(e,t,i){const r=this.chart,l=this._cachedDataOpts,s=`animation-${t}`,o=l[s];if(o)return o;let a;if(r.options.animation!==!1){const f=this.chart.config,c=f.datasetAnimationScopeKeys(this._type,t),h=f.getOptionScopes(this.getDataset(),c);a=f.createResolver(h,this.getContext(e,i,t))}const u=new V7(r,a&&a.animations);return a&&a._cacheable&&(l[s]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Mm(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const i=this.resolveDataElementOptions(e,t),r=this._sharedOptions,l=this.getSharedOptions(i),s=this.includeOptions(t,l)||l!==r;return this.updateSharedOptions(l,t,i),{sharedOptions:l,includeOptions:s}}updateElement(e,t,i,r){Mm(r)?Object.assign(e,i):this._resolveAnimations(t,r).update(e,i)}updateSharedOptions(e,t,i){e&&!Mm(t)&&this._resolveAnimations(void 0,t).update(e,i)}_setStyle(e,t,i,r){e.active=r;const l=this.getStyle(t,r);this._resolveAnimations(t,i,r).update(e,{options:!r&&this.getSharedOptions(l)||l})}removeHoverStyle(e,t,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,t,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,i=this._cachedMeta.data;for(const[o,a,u]of this._syncList)this[o](a,u);this._syncList=[];const r=i.length,l=t.length,s=Math.min(l,r);s&&this.parse(0,s),l>r?this._insertElements(r,l-r,e):l<r&&this._removeElements(l,r-l)}_insertElements(e,t,i=!0){const r=this._cachedMeta,l=r.data,s=e+t;let o;const a=u=>{for(u.length+=t,o=u.length-1;o>=s;o--)u[o]=u[o-t]};for(a(l),o=e;o<s;++o)l[o]=new this.dataElementType;this._parsing&&a(r._parsed),this.parse(e,t),i&&this.updateElements(l,e,t,"reset")}updateElements(e,t,i,r){}_removeElements(e,t){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,t);i._stacked&&Hf(i,r)}i.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,i,r]=e;this[t](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Tn(dc,"defaults",{}),Tn(dc,"datasetElementType",null),Tn(dc,"dataElementType",null);class Kd extends dc{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:i,data:r=[],_dataset:l}=t,s=this.chart._animationsDisabled;let{start:o,count:a}=e$(t,r,s);this._drawStart=o,this._drawCount=a,t$(t)&&(o=0,a=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!l._decimated,i.points=r;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(i,void 0,{animated:!s,options:u},e),this.updateElements(r,o,a,e)}updateElements(e,t,i,r){const l=r==="reset",{iScale:s,vScale:o,_stacked:a,_dataset:u}=this._cachedMeta,{sharedOptions:f,includeOptions:c}=this._getSharedOptions(t,r),h=s.axis,p=o.axis,{spanGaps:_,segment:v}=this.options,b=$c(_)?_:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||l||r==="none",A=t+i,M=e.length;let N=t>0&&this.getParsed(t-1);for(let L=0;L<M;++L){const I=e[L],R=y?I:{};if(L<t||L>=A){R.skip=!0;continue}const $=this.getParsed(L),B=ai($[p]),H=R[h]=s.getPixelForValue($[h],L),q=R[p]=l||B?o.getBasePixel():o.getPixelForValue(a?this.applyStack(o,$,a):$[p],L);R.skip=isNaN(H)||isNaN(q)||B,R.stop=L>0&&Math.abs($[h]-N[h])>b,v&&(R.parsed=$,R.raw=u.data[L]),c&&(R.options=f||this.resolveDataElementOptions(L,I.active?"active":r)),y||this.updateElement(I,L,R,r),N=$}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,i=t.options&&t.options.borderWidth||0,r=e.data||[];if(!r.length)return i;const l=r[0].size(this.resolveDataElementOptions(0)),s=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,l,s)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Tn(Kd,"id","line"),Tn(Kd,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Tn(Kd,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function la(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class T_{constructor(e){Tn(this,"options");this.options=e||{}}static override(e){Object.assign(T_.prototype,e)}init(){}formats(){return la()}parse(){return la()}format(){return la()}add(){return la()}diff(){return la()}startOf(){return la()}endOf(){return la()}}var Y7={_date:T_};function yH(n,e,t,i){const{controller:r,data:l,_sorted:s}=n,o=r._cachedMeta.iScale,a=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(o&&e===o.axis&&e!=="r"&&s&&l.length){const u=o._reversePixels?GF:_a;if(i){if(r._sharedOptions){const f=l[0],c=typeof f.getRange=="function"&&f.getRange(e);if(c){const h=u(l,e,t-c),p=u(l,e,t+c);return{lo:h.lo,hi:p.hi}}}}else{const f=u(l,e,t);if(a){const{vScale:c}=r._cachedMeta,{_parsed:h}=n,p=h.slice(0,f.lo+1).reverse().findIndex(v=>!ai(v[c.axis]));f.lo-=Math.max(0,p);const _=h.slice(f.hi).findIndex(v=>!ai(v[c.axis]));f.hi+=Math.max(0,_)}return f}}return{lo:0,hi:l.length-1}}function Jh(n,e,t,i,r){const l=n.getSortedVisibleDatasetMetas(),s=t[e];for(let o=0,a=l.length;o<a;++o){const{index:u,data:f}=l[o],{lo:c,hi:h}=yH(l[o],e,s,r);for(let p=c;p<=h;++p){const _=f[p];_.skip||i(_,u,p)}}}function kH(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(i,r){const l=e?Math.abs(i.x-r.x):0,s=t?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(l,2)+Math.pow(s,2))}}function Im(n,e,t,i,r){const l=[];return!r&&!n.isPointInArea(e)||Jh(n,t,e,function(o,a,u){!r&&!Bu(o,n.chartArea,0)||o.inRange(e.x,e.y,i)&&l.push({element:o,datasetIndex:a,index:u})},!0),l}function TH(n,e,t,i){let r=[];function l(s,o,a){const{startAngle:u,endAngle:f}=s.getProps(["startAngle","endAngle"],i),{angle:c}=WF(s,{x:e.x,y:e.y});M7(c,u,f)&&r.push({element:s,datasetIndex:o,index:a})}return Jh(n,t,e,l),r}function wH(n,e,t,i,r,l){let s=[];const o=kH(t);let a=Number.POSITIVE_INFINITY;function u(f,c,h){const p=f.inRange(e.x,e.y,r);if(i&&!p)return;const _=f.getCenterPoint(r);if(!(!!l||n.isPointInArea(_))&&!p)return;const b=o(e,_);b<a?(s=[{element:f,datasetIndex:c,index:h}],a=b):b===a&&s.push({element:f,datasetIndex:c,index:h})}return Jh(n,t,e,u),s}function Lm(n,e,t,i,r,l){return!l&&!n.isPointInArea(e)?[]:t==="r"&&!i?TH(n,e,t,r):wH(n,e,t,i,r,l)}function ny(n,e,t,i,r){const l=[],s=t==="x"?"inXRange":"inYRange";let o=!1;return Jh(n,t,e,(a,u,f)=>{a[s]&&a[s](e[t],r)&&(l.push({element:a,datasetIndex:u,index:f}),o=o||a.inRange(e.x,e.y,r))}),i&&!o?[]:l}var EH={modes:{index(n,e,t,i){const r=us(e,n),l=t.axis||"x",s=t.includeInvisible||!1,o=t.intersect?Im(n,r,l,i,s):Lm(n,r,l,!1,i,s),a=[];return o.length?(n.getSortedVisibleDatasetMetas().forEach(u=>{const f=o[0].index,c=u.data[f];c&&!c.skip&&a.push({element:c,datasetIndex:u.index,index:f})}),a):[]},dataset(n,e,t,i){const r=us(e,n),l=t.axis||"xy",s=t.includeInvisible||!1;let o=t.intersect?Im(n,r,l,i,s):Lm(n,r,l,!1,i,s);if(o.length>0){const a=o[0].datasetIndex,u=n.getDatasetMeta(a).data;o=[];for(let f=0;f<u.length;++f)o.push({element:u[f],datasetIndex:a,index:f})}return o},point(n,e,t,i){const r=us(e,n),l=t.axis||"xy",s=t.includeInvisible||!1;return Im(n,r,l,i,s)},nearest(n,e,t,i){const r=us(e,n),l=t.axis||"xy",s=t.includeInvisible||!1;return Lm(n,r,l,t.intersect,i,s)},x(n,e,t,i){const r=us(e,n);return ny(n,r,"x",t.intersect,i)},y(n,e,t,i){const r=us(e,n);return ny(n,r,"y",t.intersect,i)}}};const X7=["left","top","right","bottom"];function Bf(n,e){return n.filter(t=>t.pos===e)}function iy(n,e){return n.filter(t=>X7.indexOf(t.pos)===-1&&t.box.axis===e)}function xf(n,e){return n.sort((t,i)=>{const r=e?i:t,l=e?t:i;return r.weight===l.weight?r.index-l.index:r.weight-l.weight})}function SH(n){const e=[];let t,i,r,l,s,o;for(t=0,i=(n||[]).length;t<i;++t)r=n[t],{position:l,options:{stack:s,stackWeight:o=1}}=r,e.push({index:t,box:r,pos:l,horizontal:r.isHorizontal(),weight:r.weight,stack:s&&l+s,stackWeight:o});return e}function CH(n){const e={};for(const t of n){const{stack:i,pos:r,stackWeight:l}=t;if(!i||!X7.includes(r))continue;const s=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=l}return e}function AH(n,e){const t=CH(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let l,s,o;for(l=0,s=n.length;l<s;++l){o=n[l];const{fullSize:a}=o.box,u=t[o.stack],f=u&&o.stackWeight/u.weight;o.horizontal?(o.width=f?f*i:a&&e.availableWidth,o.height=r):(o.width=i,o.height=f?f*r:a&&e.availableHeight)}return t}function OH(n){const e=SH(n),t=xf(e.filter(u=>u.box.fullSize),!0),i=xf(Bf(e,"left"),!0),r=xf(Bf(e,"right")),l=xf(Bf(e,"top"),!0),s=xf(Bf(e,"bottom")),o=iy(e,"x"),a=iy(e,"y");return{fullSize:t,leftAndTop:i.concat(l),rightAndBottom:r.concat(a).concat(s).concat(o),chartArea:Bf(e,"chartArea"),vertical:i.concat(r).concat(a),horizontal:l.concat(s).concat(o)}}function ry(n,e,t,i){return Math.max(n[t],e[t])+Math.max(n[i],e[i])}function Z7(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function NH(n,e,t,i){const{pos:r,box:l}=t,s=n.maxPadding;if(!Rn(r)){t.size&&(n[r]-=t.size);const c=i[t.stack]||{size:0,count:1};c.size=Math.max(c.size,t.horizontal?l.height:l.width),t.size=c.size/c.count,n[r]+=t.size}l.getPadding&&Z7(s,l.getPadding());const o=Math.max(0,e.outerWidth-ry(s,n,"left","right")),a=Math.max(0,e.outerHeight-ry(s,n,"top","bottom")),u=o!==n.w,f=a!==n.h;return n.w=o,n.h=a,t.horizontal?{same:u,other:f}:{same:f,other:u}}function MH(n){const e=n.maxPadding;function t(i){const r=Math.max(e[i]-n[i],0);return n[i]+=r,r}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function IH(n,e){const t=e.maxPadding;function i(r){const l={left:0,top:0,right:0,bottom:0};return r.forEach(s=>{l[s]=Math.max(e[s],t[s])}),l}return i(n?["left","right"]:["top","bottom"])}function ic(n,e,t,i){const r=[];let l,s,o,a,u,f;for(l=0,s=n.length,u=0;l<s;++l){o=n[l],a=o.box,a.update(o.width||e.w,o.height||e.h,IH(o.horizontal,e));const{same:c,other:h}=NH(e,t,o,i);u|=c&&r.length,f=f||h,a.fullSize||r.push(o)}return u&&ic(r,e,t,i)||f}function ld(n,e,t,i,r){n.top=t,n.left=e,n.right=e+i,n.bottom=t+r,n.width=i,n.height=r}function ly(n,e,t,i){const r=t.padding;let{x:l,y:s}=e;for(const o of n){const a=o.box,u=i[o.stack]||{placed:0,weight:1},f=o.stackWeight/u.weight||1;if(o.horizontal){const c=e.w*f,h=u.size||a.height;gh(u.start)&&(s=u.start),a.fullSize?ld(a,r.left,s,t.outerWidth-r.right-r.left,h):ld(a,e.left+u.placed,s,c,h),u.start=s,u.placed+=c,s=a.bottom}else{const c=e.h*f,h=u.size||a.width;gh(u.start)&&(l=u.start),a.fullSize?ld(a,l,r.top,h,t.outerHeight-r.bottom-r.top):ld(a,l,e.top+u.placed,h,c),u.start=l,u.placed+=c,l=a.right}}e.x=l,e.y=s}var sd={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,i){if(!n)return;const r=Do(n.options.layout.padding),l=Math.max(e-r.width,0),s=Math.max(t-r.height,0),o=OH(n.boxes),a=o.vertical,u=o.horizontal;On(n.boxes,v=>{typeof v.beforeLayout=="function"&&v.beforeLayout()});const f=a.reduce((v,b)=>b.box.options&&b.box.options.display===!1?v:v+1,0)||1,c=Object.freeze({outerWidth:e,outerHeight:t,padding:r,availableWidth:l,availableHeight:s,vBoxMaxWidth:l/2/f,hBoxMaxHeight:s/2}),h=Object.assign({},r);Z7(h,Do(i));const p=Object.assign({maxPadding:h,w:l,h:s,x:r.left,y:r.top},r),_=AH(a.concat(u),c);ic(o.fullSize,p,c,_),ic(a,p,c,_),ic(u,p,c,_)&&ic(a,p,c,_),MH(p),ly(o.leftAndTop,p,c,_),p.x+=p.w,p.y+=p.h,ly(o.rightAndBottom,p,c,_),n.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},On(o.chartArea,v=>{const b=v.box;Object.assign(b,n.chartArea),b.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class Q7{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,r){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):i)}}isAttached(e){return!0}updateConfig(e){}}class LH extends Q7{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Vd="$chartjs",DH={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},sy=n=>n===null||n==="";function RH(n,e){const t=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[Vd]={initial:{height:i,width:r,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",sy(r)){const l=K5(n,"width");l!==void 0&&(n.width=l)}if(sy(i))if(n.style.height==="")n.height=n.width/(e||2);else{const l=K5(n,"height");l!==void 0&&(n.height=l)}return n}const J7=K$?{passive:!0}:!1;function PH(n,e,t){n&&n.addEventListener(e,t,J7)}function FH(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,J7)}function $H(n,e){const t=DH[n.type]||n.type,{x:i,y:r}=us(n,e);return{type:t,chart:e,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function vh(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function HH(n,e,t){const i=n.canvas,r=new MutationObserver(l=>{let s=!1;for(const o of l)s=s||vh(o.addedNodes,i),s=s&&!vh(o.removedNodes,i);s&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}function BH(n,e,t){const i=n.canvas,r=new MutationObserver(l=>{let s=!1;for(const o of l)s=s||vh(o.removedNodes,i),s=s&&!vh(o.addedNodes,i);s&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}const Hc=new Map;let oy=0;function eA(){const n=window.devicePixelRatio;n!==oy&&(oy=n,Hc.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function xH(n,e){Hc.size||window.addEventListener("resize",eA),Hc.set(n,e)}function UH(n){Hc.delete(n),Hc.size||window.removeEventListener("resize",eA)}function zH(n,e,t){const i=n.canvas,r=i&&k_(i);if(!r)return;const l=R7((o,a)=>{const u=r.clientWidth;t(o,a),u<r.clientWidth&&t()},window),s=new ResizeObserver(o=>{const a=o[0],u=a.contentRect.width,f=a.contentRect.height;u===0&&f===0||l(u,f)});return s.observe(r),xH(n,l),s}function Dm(n,e,t){t&&t.disconnect(),e==="resize"&&UH(n)}function qH(n,e,t){const i=n.canvas,r=R7(l=>{n.ctx!==null&&t($H(l,n))},n);return PH(i,e,r),r}class jH extends Q7{acquireContext(e,t){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(RH(e,t),i):null}releaseContext(e){const t=e.canvas;if(!t[Vd])return!1;const i=t[Vd].initial;["height","width"].forEach(l=>{const s=i[l];ai(s)?t.removeAttribute(l):t.setAttribute(l,s)});const r=i.style||{};return Object.keys(r).forEach(l=>{t.style[l]=r[l]}),t.width=t.width,delete t[Vd],!0}addEventListener(e,t,i){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),s={attach:HH,detach:BH,resize:zH}[t]||qH;r[t]=s(e,t,i)}removeEventListener(e,t){const i=e.$proxies||(e.$proxies={}),r=i[t];if(!r)return;({attach:Dm,detach:Dm,resize:Dm}[t]||FH)(e,t,r),i[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,r){return W$(e,t,i,r)}isAttached(e){const t=e&&k_(e);return!!(t&&t.isConnected)}}function WH(n){return!y_()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?LH:jH}var xd;let i1=(xd=class{constructor(){Tn(this,"x");Tn(this,"y");Tn(this,"active",!1);Tn(this,"options");Tn(this,"$animations")}tooltipPosition(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return $c(this.x)&&$c(this.y)}getProps(e,t){const i=this.$animations;if(!t||!i)return this;const r={};return e.forEach(l=>{r[l]=i[l]&&i[l].active()?i[l]._to:this[l]}),r}},Tn(xd,"defaults",{}),Tn(xd,"defaultRoutes"),xd);function KH(n,e){const t=n.options.ticks,i=VH(n),r=Math.min(t.maxTicksLimit||i,i),l=t.major.enabled?YH(e):[],s=l.length,o=l[0],a=l[s-1],u=[];if(s>r)return XH(e,u,l,s/r),u;const f=GH(l,e,r);if(s>0){let c,h;const p=s>1?Math.round((a-o)/(s-1)):null;for(od(e,u,f,ai(p)?0:o-p,o),c=0,h=s-1;c<h;c++)od(e,u,f,l[c],l[c+1]);return od(e,u,f,a,ai(p)?e.length:a+p),u}return od(e,u,f),u}function VH(n){const e=n.options.offset,t=n._tickSize(),i=n._length/t+(e?0:1),r=n._maxLength/t;return Math.floor(Math.min(i,r))}function GH(n,e,t){const i=ZH(n),r=e.length/t;if(!i)return Math.max(r,1);const l=xF(i);for(let s=0,o=l.length-1;s<o;s++){const a=l[s];if(a>r)return a}return Math.max(r,1)}function YH(n){const e=[];let t,i;for(t=0,i=n.length;t<i;t++)n[t].major&&e.push(t);return e}function XH(n,e,t,i){let r=0,l=t[0],s;for(i=Math.ceil(i),s=0;s<n.length;s++)s===l&&(e.push(n[s]),r++,l=t[r*i])}function od(n,e,t,i,r){const l=zn(i,0),s=Math.min(zn(r,n.length),n.length);let o=0,a,u,f;for(t=Math.ceil(t),r&&(a=r-i,t=a/Math.floor(a/t)),f=l;f<0;)o++,f=Math.round(l+o*t);for(u=Math.max(l,0);u<s;u++)u===f&&(e.push(n[u]),o++,f=Math.round(l+o*t))}function ZH(n){const e=n.length;let t,i;if(e<2)return!1;for(i=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==i)return!1;return i}const QH=n=>n==="left"?"right":n==="right"?"left":n,ay=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,uy=(n,e)=>Math.min(e||n,n);function fy(n,e){const t=[],i=n.length/e,r=n.length;let l=0;for(;l<r;l+=i)t.push(n[Math.floor(l)]);return t}function JH(n,e,t){const i=n.ticks.length,r=Math.min(e,i-1),l=n._startPixel,s=n._endPixel,o=1e-6;let a=n.getPixelForTick(r),u;if(!(t&&(i===1?u=Math.max(a-l,s-a):e===0?u=(n.getPixelForTick(1)-a)/2:u=(a-n.getPixelForTick(r-1))/2,a+=r<e?u:-u,a<l-o||a>s+o)))return a}function eB(n,e){On(n,t=>{const i=t.gc,r=i.length/2;let l;if(r>e){for(l=0;l<r;++l)delete t.data[i[l]];i.splice(0,r)}})}function Uf(n){return n.drawTicks?n.tickLength:0}function cy(n,e){if(!n.display)return 0;const t=gs(n.font,e),i=Do(n.padding);return(Zi(n.text)?n.text.length:1)*t.lineHeight+i.height}function tB(n,e){return Ia(n,{scale:e,type:"scale"})}function nB(n,e,t){return Ia(n,{tick:t,index:e,type:"tick"})}function iB(n,e,t){let i=JF(n);return(t&&e!=="right"||!t&&e==="right")&&(i=QH(i)),i}function rB(n,e,t,i){const{top:r,left:l,bottom:s,right:o,chart:a}=n,{chartArea:u,scales:f}=a;let c=0,h,p,_;const v=s-r,b=o-l;if(n.isHorizontal()){if(p=R5(i,l,o),Rn(t)){const y=Object.keys(t)[0],A=t[y];_=f[y].getPixelForValue(A)+v-e}else t==="center"?_=(u.bottom+u.top)/2+v-e:_=ay(n,t,e);h=o-l}else{if(Rn(t)){const y=Object.keys(t)[0],A=t[y];p=f[y].getPixelForValue(A)-b+e}else t==="center"?p=(u.left+u.right)/2-b+e:p=ay(n,t,e);_=R5(i,s,r),c=t==="left"?-Vl:Vl}return{titleX:p,titleY:_,maxWidth:h,rotation:c}}class r1 extends i1{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:r}=this;return e=is(e,Number.POSITIVE_INFINITY),t=is(t,Number.NEGATIVE_INFINITY),i=is(i,Number.POSITIVE_INFINITY),r=is(r,Number.NEGATIVE_INFINITY),{min:is(e,i),max:is(t,r),minDefined:pr(e),maxDefined:pr(t)}}getMinMax(e){let{min:t,max:i,minDefined:r,maxDefined:l}=this.getUserBounds(),s;if(r&&l)return{min:t,max:i};const o=this.getMatchingVisibleMetas();for(let a=0,u=o.length;a<u;++a)s=o[a].controller.getMinMax(this,e),r||(t=Math.min(t,s.min)),l||(i=Math.max(i,s.max));return t=l&&t>i?i:t,i=r&&t>i?t:i,{min:is(t,is(i,t)),max:is(i,is(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){mn(this.options.beforeUpdate,[this])}update(e,t,i){const{beginAtZero:r,grace:l,ticks:s}=this.options,o=s.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=w$(this,l,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const a=o<this.ticks.length;this._convertTicksToLabels(a?fy(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||s.source==="auto")&&(this.ticks=KH(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),a&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,i;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,e=!e),this._startPixel=t,this._endPixel=i,this._reversePixels=e,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){mn(this.options.afterUpdate,[this])}beforeSetDimensions(){mn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){mn(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),mn(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){mn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let i,r,l;for(i=0,r=e.length;i<r;i++)l=e[i],l.label=mn(t.callback,[l.value,i,e],this)}afterTickToLabelConversion(){mn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){mn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,i=uy(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,l=t.maxRotation;let s=r,o,a,u;if(!this._isVisible()||!t.display||r>=l||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const f=this._getLabelSizes(),c=f.widest.width,h=f.highest.height,p=Gl(this.chart.width-c,0,this.maxWidth);o=e.offset?this.maxWidth/i:p/(i-1),c+6>o&&(o=p/(i-(e.offset?.5:1)),a=this.maxHeight-Uf(e.grid)-t.padding-cy(e.title,this.chart.options.font),u=Math.sqrt(c*c+h*h),s=jF(Math.min(Math.asin(Gl((f.highest.height+6)/o,-1,1)),Math.asin(Gl(a/u,-1,1))-Math.asin(Gl(h/u,-1,1)))),s=Math.max(r,Math.min(l,s))),this.labelRotation=s}afterCalculateLabelRotation(){mn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){mn(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:i,title:r,grid:l}}=this,s=this._isVisible(),o=this.isHorizontal();if(s){const a=cy(r,t.options.font);if(o?(e.width=this.maxWidth,e.height=Uf(l)+a):(e.height=this.maxHeight,e.width=Uf(l)+a),i.display&&this.ticks.length){const{first:u,last:f,widest:c,highest:h}=this._getLabelSizes(),p=i.padding*2,_=ga(this.labelRotation),v=Math.cos(_),b=Math.sin(_);if(o){const y=i.mirror?0:b*c.width+v*h.height;e.height=Math.min(this.maxHeight,e.height+y+p)}else{const y=i.mirror?0:v*c.width+b*h.height;e.width=Math.min(this.maxWidth,e.width+y+p)}this._calculatePadding(u,f,b,v)}}this._handleMargins(),o?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,r){const{ticks:{align:l,padding:s},position:o}=this.options,a=this.labelRotation!==0,u=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const f=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,p=0;a?u?(h=r*e.width,p=i*t.height):(h=i*e.height,p=r*t.width):l==="start"?p=t.width:l==="end"?h=e.width:l!=="inner"&&(h=e.width/2,p=t.width/2),this.paddingLeft=Math.max((h-f+s)*this.width/(this.width-f),0),this.paddingRight=Math.max((p-c+s)*this.width/(this.width-c),0)}else{let f=t.height/2,c=e.height/2;l==="start"?(f=0,c=e.height):l==="end"&&(f=t.height,c=0),this.paddingTop=f+s,this.paddingBottom=c+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){mn(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,i;for(t=0,i=e.length;t<i;t++)ai(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=fy(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){const{ctx:r,_longestTextCache:l}=this,s=[],o=[],a=Math.floor(t/uy(t,i));let u=0,f=0,c,h,p,_,v,b,y,A,M,N,L;for(c=0;c<t;c+=a){if(_=e[c].label,v=this._resolveTickFontOptions(c),r.font=b=v.string,y=l[b]=l[b]||{data:{},gc:[]},A=v.lineHeight,M=N=0,!ai(_)&&!Zi(_))M=B5(r,y.data,y.gc,M,_),N=A;else if(Zi(_))for(h=0,p=_.length;h<p;++h)L=_[h],!ai(L)&&!Zi(L)&&(M=B5(r,y.data,y.gc,M,L),N+=A);s.push(M),o.push(N),u=Math.max(M,u),f=Math.max(N,f)}eB(l,t);const I=s.indexOf(u),R=o.indexOf(f),$=B=>({width:s[B]||0,height:o[B]||0});return{first:$(0),last:$(t-1),widest:$(I),highest:$(R),widths:s,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return VF(this._alignToPixels?ra(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const i=t[e];return i.$context||(i.$context=nB(this.getContext(),e,i))}return this.$context||(this.$context=tB(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=ga(this.labelRotation),i=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),l=this._getLabelSizes(),s=e.autoSkipPadding||0,o=l?l.widest.width+s:0,a=l?l.highest.height+s:0;return this.isHorizontal()?a*i>o*r?o/i:a/r:a*r<o*i?a/i:o/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,i=this.chart,r=this.options,{grid:l,position:s,border:o}=r,a=l.offset,u=this.isHorizontal(),c=this.ticks.length+(a?1:0),h=Uf(l),p=[],_=o.setContext(this.getContext()),v=_.display?_.width:0,b=v/2,y=function(ie){return ra(i,ie,v)};let A,M,N,L,I,R,$,B,H,q,z,j;if(s==="top")A=y(this.bottom),R=this.bottom-h,B=A-b,q=y(e.top)+b,j=e.bottom;else if(s==="bottom")A=y(this.top),q=e.top,j=y(e.bottom)-b,R=A+b,B=this.top+h;else if(s==="left")A=y(this.right),I=this.right-h,$=A-b,H=y(e.left)+b,z=e.right;else if(s==="right")A=y(this.left),H=e.left,z=y(e.right)-b,I=A+b,$=this.left+h;else if(t==="x"){if(s==="center")A=y((e.top+e.bottom)/2+.5);else if(Rn(s)){const ie=Object.keys(s)[0],te=s[ie];A=y(this.chart.scales[ie].getPixelForValue(te))}q=e.top,j=e.bottom,R=A+b,B=R+h}else if(t==="y"){if(s==="center")A=y((e.left+e.right)/2);else if(Rn(s)){const ie=Object.keys(s)[0],te=s[ie];A=y(this.chart.scales[ie].getPixelForValue(te))}I=A-b,$=I-h,H=e.left,z=e.right}const W=zn(r.ticks.maxTicksLimit,c),G=Math.max(1,Math.ceil(c/W));for(M=0;M<c;M+=G){const ie=this.getContext(M),te=l.setContext(ie),ae=o.setContext(ie),ue=te.lineWidth,K=te.color,X=ae.dash||[],_e=ae.dashOffset,oe=te.tickWidth,Le=te.tickColor,lt=te.tickBorderDash||[],St=te.tickBorderDashOffset;N=JH(this,M,a),N!==void 0&&(L=ra(i,N,ue),u?I=$=H=z=L:R=B=q=j=L,p.push({tx1:I,ty1:R,tx2:$,ty2:B,x1:H,y1:q,x2:z,y2:j,width:ue,color:K,borderDash:X,borderDashOffset:_e,tickWidth:oe,tickColor:Le,tickBorderDash:lt,tickBorderDashOffset:St}))}return this._ticksLength=c,this._borderValue=A,p}_computeLabelItems(e){const t=this.axis,i=this.options,{position:r,ticks:l}=i,s=this.isHorizontal(),o=this.ticks,{align:a,crossAlign:u,padding:f,mirror:c}=l,h=Uf(i.grid),p=h+f,_=c?-f:p,v=-ga(this.labelRotation),b=[];let y,A,M,N,L,I,R,$,B,H,q,z,j="middle";if(r==="top")I=this.bottom-_,R=this._getXAxisLabelAlignment();else if(r==="bottom")I=this.top+_,R=this._getXAxisLabelAlignment();else if(r==="left"){const G=this._getYAxisLabelAlignment(h);R=G.textAlign,L=G.x}else if(r==="right"){const G=this._getYAxisLabelAlignment(h);R=G.textAlign,L=G.x}else if(t==="x"){if(r==="center")I=(e.top+e.bottom)/2+p;else if(Rn(r)){const G=Object.keys(r)[0],ie=r[G];I=this.chart.scales[G].getPixelForValue(ie)+p}R=this._getXAxisLabelAlignment()}else if(t==="y"){if(r==="center")L=(e.left+e.right)/2-p;else if(Rn(r)){const G=Object.keys(r)[0],ie=r[G];L=this.chart.scales[G].getPixelForValue(ie)}R=this._getYAxisLabelAlignment(h).textAlign}t==="y"&&(a==="start"?j="top":a==="end"&&(j="bottom"));const W=this._getLabelSizes();for(y=0,A=o.length;y<A;++y){M=o[y],N=M.label;const G=l.setContext(this.getContext(y));$=this.getPixelForTick(y)+l.labelOffset,B=this._resolveTickFontOptions(y),H=B.lineHeight,q=Zi(N)?N.length:1;const ie=q/2,te=G.color,ae=G.textStrokeColor,ue=G.textStrokeWidth;let K=R;s?(L=$,R==="inner"&&(y===A-1?K=this.options.reverse?"left":"right":y===0?K=this.options.reverse?"right":"left":K="center"),r==="top"?u==="near"||v!==0?z=-q*H+H/2:u==="center"?z=-W.highest.height/2-ie*H+H:z=-W.highest.height+H/2:u==="near"||v!==0?z=H/2:u==="center"?z=W.highest.height/2-ie*H:z=W.highest.height-q*H,c&&(z*=-1),v!==0&&!G.showLabelBackdrop&&(L+=H/2*Math.sin(v))):(I=$,z=(1-q)*H/2);let X;if(G.showLabelBackdrop){const _e=Do(G.backdropPadding),oe=W.heights[y],Le=W.widths[y];let lt=z-_e.top,St=0-_e.left;switch(j){case"middle":lt-=oe/2;break;case"bottom":lt-=oe;break}switch(R){case"center":St-=Le/2;break;case"right":St-=Le;break;case"inner":y===A-1?St-=Le:y>0&&(St-=Le/2);break}X={left:St,top:lt,width:Le+_e.width,height:oe+_e.height,color:G.backdropColor}}b.push({label:N,font:B,textOffset:z,options:{rotation:v,color:te,strokeColor:ae,strokeWidth:ue,textAlign:K,textBaseline:j,translation:[L,I],backdrop:X}})}return b}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-ga(this.labelRotation))return e==="top"?"left":"right";let r="center";return t.align==="start"?r="left":t.align==="end"?r="right":t.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:i,mirror:r,padding:l}}=this.options,s=this._getLabelSizes(),o=e+l,a=s.widest.width;let u,f;return t==="left"?r?(f=this.right+l,i==="near"?u="left":i==="center"?(u="center",f+=a/2):(u="right",f+=a)):(f=this.right-o,i==="near"?u="right":i==="center"?(u="center",f-=a/2):(u="left",f=this.left)):t==="right"?r?(f=this.left+l,i==="near"?u="right":i==="center"?(u="center",f-=a/2):(u="left",f-=a)):(f=this.left+o,i==="near"?u="left":i==="center"?(u="center",f+=a/2):(u="right",f=this.right)):u="right",{textAlign:u,x:f}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:i,top:r,width:l,height:s}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,r,l,s),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const r=this.ticks.findIndex(l=>l.value===e);return r>=0?t.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const t=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let l,s;const o=(a,u,f)=>{!f.width||!f.color||(i.save(),i.lineWidth=f.width,i.strokeStyle=f.color,i.setLineDash(f.borderDash||[]),i.lineDashOffset=f.borderDashOffset,i.beginPath(),i.moveTo(a.x,a.y),i.lineTo(u.x,u.y),i.stroke(),i.restore())};if(t.display)for(l=0,s=r.length;l<s;++l){const a=r[l];t.drawOnChartArea&&o({x:a.x1,y:a.y1},{x:a.x2,y:a.y2},a),t.drawTicks&&o({x:a.tx1,y:a.ty1},{x:a.tx2,y:a.ty2},{color:a.tickColor,width:a.tickWidth,borderDash:a.tickBorderDash,borderDashOffset:a.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:i,grid:r}}=this,l=i.setContext(this.getContext()),s=i.display?l.width:0;if(!s)return;const o=r.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let u,f,c,h;this.isHorizontal()?(u=ra(e,this.left,s)-s/2,f=ra(e,this.right,o)+o/2,c=h=a):(c=ra(e,this.top,s)-s/2,h=ra(e,this.bottom,o)+o/2,u=f=a),t.save(),t.lineWidth=l.width,t.strokeStyle=l.color,t.beginPath(),t.moveTo(u,c),t.lineTo(f,h),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&m_(i,r);const l=this.getLabelItems(e);for(const s of l){const o=s.options,a=s.font,u=s.label,f=s.textOffset;U5(i,u,0,f,a,o)}r&&g_(i)}drawTitle(){const{ctx:e,options:{position:t,title:i,reverse:r}}=this;if(!i.display)return;const l=gs(i.font),s=Do(i.padding),o=i.align;let a=l.lineHeight/2;t==="bottom"||t==="center"||Rn(t)?(a+=s.bottom,Zi(i.text)&&(a+=l.lineHeight*(i.text.length-1))):a+=s.top;const{titleX:u,titleY:f,maxWidth:c,rotation:h}=rB(this,a,t,o);U5(e,i.text,0,0,l,{color:i.color,maxWidth:c,rotation:h,textAlign:iB(o,t,r),textBaseline:"middle",translation:[u,f]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,i=zn(e.grid&&e.grid.z,-1),r=zn(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==r1.prototype.draw?[{z:t,draw:l=>{this.draw(l)}}]:[{z:i,draw:l=>{this.drawBackground(),this.drawGrid(l),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:l=>{this.drawLabels(l)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let l,s;for(l=0,s=t.length;l<s;++l){const o=t[l];o[i]===this.id&&(!e||o.type===e)&&r.push(o)}return r}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return gs(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class ad{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let i;oB(t)&&(i=this.register(t));const r=this.items,l=e.id,s=this.scope+"."+l;if(!l)throw new Error("class does not have id: "+e);return l in r||(r[l]=e,lB(e,s,i),this.override&&$i.override(e.id,e.overrides)),s}get(e){return this.items[e]}unregister(e){const t=this.items,i=e.id,r=this.scope;i in t&&delete t[i],r&&i in $i[r]&&(delete $i[r][i],this.override&&delete Ca[i])}}function lB(n,e,t){const i=Fc(Object.create(null),[t?$i.get(t):{},$i.get(e),n.defaults]);$i.set(e,i),n.defaultRoutes&&sB(e,n.defaultRoutes),n.descriptors&&$i.describe(e,n.descriptors)}function sB(n,e){Object.keys(e).forEach(t=>{const i=t.split("."),r=i.pop(),l=[n].concat(i).join("."),s=e[t].split("."),o=s.pop(),a=s.join(".");$i.route(l,r,a,o)})}function oB(n){return"id"in n&&"defaults"in n}class aB{constructor(){this.controllers=new ad(dc,"datasets",!0),this.elements=new ad(i1,"elements"),this.plugins=new ad(Object,"plugins"),this.scales=new ad(r1,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(r=>{const l=i||this._getRegistryForType(r);i||l.isForType(r)||l===this.plugins&&r.id?this._exec(e,l,r):On(r,s=>{const o=i||this._getRegistryForType(s);this._exec(e,o,s)})})}_exec(e,t,i){const r=d_(e);mn(i["before"+r],[],i),t[e](i),mn(i["after"+r],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){const r=t.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var ss=new aB;class uB{constructor(){this._init=[]}notify(e,t,i,r){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const l=r?this._descriptors(e).filter(r):this._descriptors(e),s=this._notify(l,e,t,i);return t==="afterDestroy"&&(this._notify(l,e,"stop"),this._notify(this._init,e,"uninstall")),s}_notify(e,t,i,r){r=r||{};for(const l of e){const s=l.plugin,o=s[i],a=[t,r,l.options];if(mn(o,a,s)===!1&&r.cancelable)return!1}return!0}invalidate(){ai(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const i=e&&e.config,r=zn(i.options&&i.options.plugins,{}),l=fB(i);return r===!1&&!t?[]:dB(e,l,r,t)}_notifyStateChanges(e){const t=this._oldCache||[],i=this._cache,r=(l,s)=>l.filter(o=>!s.some(a=>o.plugin.id===a.plugin.id));this._notify(r(t,i),e,"stop"),this._notify(r(i,t),e,"start")}}function fB(n){const e={},t=[],i=Object.keys(ss.plugins.items);for(let l=0;l<i.length;l++)t.push(ss.getPlugin(i[l]));const r=n.plugins||[];for(let l=0;l<r.length;l++){const s=r[l];t.indexOf(s)===-1&&(t.push(s),e[s.id]=!0)}return{plugins:t,localIds:e}}function cB(n,e){return!e&&n===!1?null:n===!0?{}:n}function dB(n,{plugins:e,localIds:t},i,r){const l=[],s=n.getContext();for(const o of e){const a=o.id,u=cB(i[a],r);u!==null&&l.push({plugin:o,options:hB(n.config,{plugin:o,local:t[a]},u,s)})}return l}function hB(n,{plugin:e,local:t},i,r){const l=n.pluginScopeKeys(e),s=n.getOptionScopes(i,l);return t&&e.defaults&&s.push(e.defaults),n.createResolver(s,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function og(n,e){const t=$i.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function pB(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function mB(n,e){return n===e?"_index_":"_value_"}function dy(n){if(n==="x"||n==="y"||n==="r")return n}function gB(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function ag(n,...e){if(dy(n))return n;for(const t of e){const i=t.axis||gB(t.position)||n.length>1&&dy(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function hy(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function _B(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(t.length)return hy(n,"x",t[0])||hy(n,"y",t[0])}return{}}function bB(n,e){const t=Ca[n.type]||{scales:{}},i=e.scales||{},r=og(n.type,e),l=Object.create(null);return Object.keys(i).forEach(s=>{const o=i[s];if(!Rn(o))return console.error(`Invalid scale configuration for scale: ${s}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${s}`);const a=ag(s,o,_B(s,n),$i.scales[o.type]),u=mB(a,r),f=t.scales||{};l[s]=uc(Object.create(null),[{axis:a},o,f[a],f[u]])}),n.data.datasets.forEach(s=>{const o=s.type||n.type,a=s.indexAxis||og(o,e),f=(Ca[o]||{}).scales||{};Object.keys(f).forEach(c=>{const h=pB(c,a),p=s[h+"AxisID"]||h;l[p]=l[p]||Object.create(null),uc(l[p],[{axis:h},i[p],f[c]])})}),Object.keys(l).forEach(s=>{const o=l[s];uc(o,[$i.scales[o.type],$i.scale])}),l}function tA(n){const e=n.options||(n.options={});e.plugins=zn(e.plugins,{}),e.scales=bB(n,e)}function nA(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function vB(n){return n=n||{},n.data=nA(n.data),tA(n),n}const py=new Map,iA=new Set;function ud(n,e){let t=py.get(n);return t||(t=e(),py.set(n,t),iA.add(t)),t}const zf=(n,e,t)=>{const i=mh(e,t);i!==void 0&&n.add(i)};class yB{constructor(e){this._config=vB(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=nA(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),tA(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return ud(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return ud(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return ud(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,i=this.type;return ud(`${i}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const i=this._scopeCache;let r=i.get(e);return(!r||t)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,t,i){const{options:r,type:l}=this,s=this._cachedScopes(e,i),o=s.get(t);if(o)return o;const a=new Set;t.forEach(f=>{e&&(a.add(e),f.forEach(c=>zf(a,e,c))),f.forEach(c=>zf(a,r,c)),f.forEach(c=>zf(a,Ca[l]||{},c)),f.forEach(c=>zf(a,$i,c)),f.forEach(c=>zf(a,lg,c))});const u=Array.from(a);return u.length===0&&u.push(Object.create(null)),iA.has(t)&&s.set(t,u),u}chartOptionScopes(){const{options:e,type:t}=this;return[e,Ca[t]||{},$i.datasets[t]||{},{type:t},$i,lg]}resolveNamedOptions(e,t,i,r=[""]){const l={$shared:!0},{resolver:s,subPrefixes:o}=my(this._resolverCache,e,r);let a=s;if(TB(s,t)){l.$shared=!1,i=Io(i)?i():i;const u=this.createResolver(e,i,o);a=xu(s,i,u)}for(const u of t)l[u]=a[u];return l}createResolver(e,t,i=[""],r){const{resolver:l}=my(this._resolverCache,e,i);return Rn(t)?xu(l,t,void 0,r):l}}function my(n,e,t){let i=n.get(e);i||(i=new Map,n.set(e,i));const r=t.join();let l=i.get(r);return l||(l={resolver:__(e,t),subPrefixes:t.filter(o=>!o.toLowerCase().includes("hover"))},i.set(r,l)),l}const kB=n=>Rn(n)&&Object.getOwnPropertyNames(n).some(e=>Io(n[e]));function TB(n,e){const{isScriptable:t,isIndexable:i}=H7(n);for(const r of e){const l=t(r),s=i(r),o=(s||l)&&n[r];if(l&&(Io(o)||kB(o))||s&&Zi(o))return!0}return!1}var wB="4.4.9";const EB=["top","bottom","left","right","chartArea"];function gy(n,e){return n==="top"||n==="bottom"||EB.indexOf(n)===-1&&e==="x"}function _y(n,e){return function(t,i){return t[n]===i[n]?t[e]-i[e]:t[n]-i[n]}}function by(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),mn(t&&t.onComplete,[n],e)}function SB(n){const e=n.chart,t=e.options.animation;mn(t&&t.onProgress,[n],e)}function rA(n){return y_()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Gd={},vy=n=>{const e=rA(n);return Object.values(Gd).filter(t=>t.canvas===e).pop()};function CB(n,e,t){const i=Object.keys(n);for(const r of i){const l=+r;if(l>=e){const s=n[r];delete n[r],(t>0||l>e)&&(n[l+t]=s)}}}function AB(n,e,t,i){return!t||n.type==="mouseout"?null:i?e:n}class fs{static register(...e){ss.add(...e),yy()}static unregister(...e){ss.remove(...e),yy()}constructor(e,t){const i=this.config=new yB(t),r=rA(e),l=vy(r);if(l)throw new Error("Canvas is already in use. Chart with ID '"+l.id+"' must be destroyed before the canvas with ID '"+l.canvas.id+"' can be reused.");const s=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||WH(r)),this.platform.updateConfig(i);const o=this.platform.acquireContext(r,s.aspectRatio),a=o&&o.canvas,u=a&&a.height,f=a&&a.width;if(this.id=IF(),this.ctx=o,this.canvas=a,this.width=f,this.height=u,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new uB,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=QF(c=>this.update(c),s.resizeDelay||0),this._dataChanges=[],Gd[this.id]=this,!o||!a){console.error("Failed to create chart: can't acquire context from the given item");return}$s.listen(this,"complete",by),$s.listen(this,"progress",SB),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:r,_aspectRatio:l}=this;return ai(e)?t&&l?l:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ss}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():W5(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return x5(this.canvas,this.ctx),this}stop(){return $s.stop(this),this}resize(e,t){$s.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const i=this.options,r=this.canvas,l=i.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(r,e,t,l),o=i.devicePixelRatio||this.platform.getDevicePixelRatio(),a=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,W5(this,o,!0)&&(this.notifyPlugins("resize",{size:s}),mn(i.onResize,[this,s],this),this.attached&&this._doResize(a)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};On(t,(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,t=e.scales,i=this.scales,r=Object.keys(i).reduce((s,o)=>(s[o]=!1,s),{});let l=[];t&&(l=l.concat(Object.keys(t).map(s=>{const o=t[s],a=ag(s,o),u=a==="r",f=a==="x";return{options:o,dposition:u?"chartArea":f?"bottom":"left",dtype:u?"radialLinear":f?"category":"linear"}}))),On(l,s=>{const o=s.options,a=o.id,u=ag(a,o),f=zn(o.type,s.dtype);(o.position===void 0||gy(o.position,u)!==gy(s.dposition))&&(o.position=s.dposition),r[a]=!0;let c=null;if(a in i&&i[a].type===f)c=i[a];else{const h=ss.getScale(f);c=new h({id:a,type:f,ctx:this.ctx,chart:this}),i[c.id]=c}c.init(o,e)}),On(r,(s,o)=>{s||delete i[o]}),On(i,s=>{sd.configure(this,s,s.options),sd.addBox(this,s)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort((r,l)=>r.index-l.index),i>t){for(let r=t;r<i;++r)this._destroyDatasetMeta(r);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort(_y("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((i,r)=>{t.filter(l=>l===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=t.length;i<r;i++){const l=t[i];let s=this.getDatasetMeta(i);const o=l.type||this.config.type;if(s.type&&s.type!==o&&(this._destroyDatasetMeta(i),s=this.getDatasetMeta(i)),s.type=o,s.indexAxis=l.indexAxis||og(o,this.options),s.order=l.order||0,s.index=i,s.label=""+l.label,s.visible=this.isDatasetVisible(i),s.controller)s.controller.updateIndex(i),s.controller.linkScales();else{const a=ss.getController(o),{datasetElementType:u,dataElementType:f}=$i.datasets[o];Object.assign(a,{dataElementType:ss.getElement(f),datasetElementType:u&&ss.getElement(u)}),s.controller=new a(this,i),e.push(s.controller)}}return this._updateMetasets(),e}_resetElements(){On(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const l=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let u=0,f=this.data.datasets.length;u<f;u++){const{controller:c}=this.getDatasetMeta(u),h=!r&&l.indexOf(c)===-1;c.buildOrUpdateElements(h),s=Math.max(+c.getMaxOverflow(),s)}s=this._minPadding=i.layout.autoPadding?s:0,this._updateLayout(s),r||On(l,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(_y("z","_idx"));const{_active:o,_lastEvent:a}=this;a?this._eventHandler(a,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){On(this.scales,e=>{sd.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!N5(t,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:l}of t){const s=i==="_removeElements"?-l:l;CB(e,r,s)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,i=l=>new Set(e.filter(s=>s[0]===l).map((s,o)=>o+","+s.splice(1).join(","))),r=i(0);for(let l=1;l<t;l++)if(!N5(r,i(l)))return;return Array.from(r).map(l=>l.split(",")).map(l=>({method:l[1],start:+l[2],count:+l[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;sd.update(this,this.width,this.height,e);const t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],On(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,l)=>{r._idx=l}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,i=this.data.datasets.length;t<i;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,Io(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&($s.has(this)?this.attached&&!$s.running(this)&&$s.start(this):(this.draw(),by({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,i=[];let r,l;for(r=0,l=t.length;r<l;++r){const s=t[r];(!e||s.visible)&&i.push(s)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,i={meta:e,index:e.index,cancelable:!0},r=K7(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&m_(t,r),e.controller.draw(),r&&g_(t),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return Bu(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,r){const l=EH.modes[t];return typeof l=="function"?l(this,e,i,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],i=this._metasets;let r=i.filter(l=>l&&l._dataset===t).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Ia(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!t.hidden}setDatasetVisibility(e,t){const i=this.getDatasetMeta(e);i.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){const r=i?"show":"hide",l=this.getDatasetMeta(e),s=l.controller._resolveAnimations(void 0,r);gh(t)?(l.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),s.update(l,{visible:i}),this.update(o=>o.datasetIndex===e?r:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),$s.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),x5(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Gd[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,i=(l,s)=>{t.addEventListener(this,l,s),e[l]=s},r=(l,s,o)=>{l.offsetX=s,l.offsetY=o,this._eventHandler(l)};On(this.options.events,l=>i(l,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,i=(a,u)=>{t.addEventListener(this,a,u),e[a]=u},r=(a,u)=>{e[a]&&(t.removeEventListener(this,a,u),delete e[a])},l=(a,u)=>{this.canvas&&this.resize(a,u)};let s;const o=()=>{r("attach",o),this.attached=!0,this.resize(),i("resize",l),i("detach",s)};s=()=>{this.attached=!1,r("resize",l),this._stop(),this._resize(0,0),i("attach",o)},t.isAttached(this.canvas)?o():s()}unbindEvents(){On(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},On(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){const r=i?"set":"remove";let l,s,o,a;for(t==="dataset"&&(l=this.getDatasetMeta(e[0].datasetIndex),l.controller["_"+r+"DatasetHoverStyle"]()),o=0,a=e.length;o<a;++o){s=e[o];const u=s&&this.getDatasetMeta(s.datasetIndex).controller;u&&u[r+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],i=e.map(({datasetIndex:l,index:s})=>{const o=this.getDatasetMeta(l);if(!o)throw new Error("No dataset found at index "+l);return{datasetIndex:l,element:o.data[s],index:s}});!hh(i,t)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,i){const r=this.options.hover,l=(a,u)=>a.filter(f=>!u.some(c=>f.datasetIndex===c.datasetIndex&&f.index===c.index)),s=l(t,e),o=i?e:l(e,t);s.length&&this.updateHoverStyle(s,r.mode,!1),o.length&&r.mode&&this.updateHoverStyle(o,r.mode,!0)}_eventHandler(e,t){const i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=s=>(s.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const l=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(l||i.changed)&&this.render(),this}_handleEvent(e,t,i){const{_active:r=[],options:l}=this,s=t,o=this._getActiveElements(e,r,i,s),a=$F(e),u=AB(e,this._lastEvent,i,a);i&&(this._lastEvent=null,mn(l.onHover,[e,o,this],this),a&&mn(l.onClick,[e,o,this],this));const f=!hh(o,r);return(f||t)&&(this._active=o,this._updateHoverStyles(o,r,t)),this._lastEvent=u,f}_getActiveElements(e,t,i,r){if(e.type==="mouseout")return[];if(!i)return t;const l=this.options.hover;return this.getElementsAtEventForMode(e,l.mode,l,r)}}Tn(fs,"defaults",$i),Tn(fs,"instances",Gd),Tn(fs,"overrides",Ca),Tn(fs,"registry",ss),Tn(fs,"version",wB),Tn(fs,"getChart",vy);function yy(){return On(fs.instances,n=>n._plugins.invalidate())}function lA(n,e,t=e){n.lineCap=zn(t.borderCapStyle,e.borderCapStyle),n.setLineDash(zn(t.borderDash,e.borderDash)),n.lineDashOffset=zn(t.borderDashOffset,e.borderDashOffset),n.lineJoin=zn(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=zn(t.borderWidth,e.borderWidth),n.strokeStyle=zn(t.borderColor,e.borderColor)}function OB(n,e,t){n.lineTo(t.x,t.y)}function NB(n){return n.stepped?h$:n.tension||n.cubicInterpolationMode==="monotone"?p$:OB}function sA(n,e,t={}){const i=n.length,{start:r=0,end:l=i-1}=t,{start:s,end:o}=e,a=Math.max(r,s),u=Math.min(l,o),f=r<s&&l<s||r>o&&l>o;return{count:i,start:a,loop:e.loop,ilen:u<a&&!f?i+u-a:u-a}}function MB(n,e,t,i){const{points:r,options:l}=e,{count:s,start:o,loop:a,ilen:u}=sA(r,t,i),f=NB(l);let{move:c=!0,reverse:h}=i||{},p,_,v;for(p=0;p<=u;++p)_=r[(o+(h?u-p:p))%s],!_.skip&&(c?(n.moveTo(_.x,_.y),c=!1):f(n,v,_,h,l.stepped),v=_);return a&&(_=r[(o+(h?u:0))%s],f(n,v,_,h,l.stepped)),!!a}function IB(n,e,t,i){const r=e.points,{count:l,start:s,ilen:o}=sA(r,t,i),{move:a=!0,reverse:u}=i||{};let f=0,c=0,h,p,_,v,b,y;const A=N=>(s+(u?o-N:N))%l,M=()=>{v!==b&&(n.lineTo(f,b),n.lineTo(f,v),n.lineTo(f,y))};for(a&&(p=r[A(0)],n.moveTo(p.x,p.y)),h=0;h<=o;++h){if(p=r[A(h)],p.skip)continue;const N=p.x,L=p.y,I=N|0;I===_?(L<v?v=L:L>b&&(b=L),f=(c*f+N)/++c):(M(),n.lineTo(N,L),_=I,c=0,v=b=L),y=L}M()}function ug(n){const e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?IB:MB}function LB(n){return n.stepped?V$:n.tension||n.cubicInterpolationMode==="monotone"?G$:ca}function DB(n,e,t,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,t,i)&&r.closePath()),lA(n,e.options),n.stroke(r)}function RB(n,e,t,i){const{segments:r,options:l}=e,s=ug(e);for(const o of r)lA(n,l,o.style),n.beginPath(),s(n,e,o,{start:t,end:t+i-1})&&n.closePath(),n.stroke()}const PB=typeof Path2D=="function";function FB(n,e,t,i){PB&&!e.options.segment?DB(n,e,t,i):RB(n,e,t,i)}class Eo extends i1{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;B$(this._points,i,e,r,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=nH(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,i=e.length;return i&&t[e[i-1].end]}interpolate(e,t){const i=this.options,r=e[t],l=this.points,s=W7(this,{property:t,start:r,end:r});if(!s.length)return;const o=[],a=LB(i);let u,f;for(u=0,f=s.length;u<f;++u){const{start:c,end:h}=s[u],p=l[c],_=l[h];if(p===_){o.push(p);continue}const v=Math.abs((r-p[t])/(_[t]-p[t])),b=a(p,_,v,i.stepped);b[t]=e[t],o.push(b)}return o.length===1?o[0]:o}pathSegment(e,t,i){return ug(this)(e,this,t,i)}path(e,t,i){const r=this.segments,l=ug(this);let s=this._loop;t=t||0,i=i||this.points.length-t;for(const o of r)s&=l(e,this,o,{start:t,end:t+i-1});return!!s}draw(e,t,i,r){const l=this.options||{};(this.points||[]).length&&l.borderWidth&&(e.save(),FB(e,this,i,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Tn(Eo,"id","line"),Tn(Eo,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Tn(Eo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Tn(Eo,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function ky(n,e,t,i){const r=n.options,{[t]:l}=n.getProps([t],i);return Math.abs(e-l)<r.radius+r.hitRadius}class Yd extends i1{constructor(t){super();Tn(this,"parsed");Tn(this,"skip");Tn(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,i,r){const l=this.options,{x:s,y:o}=this.getProps(["x","y"],r);return Math.pow(t-s,2)+Math.pow(i-o,2)<Math.pow(l.hitRadius+l.radius,2)}inXRange(t,i){return ky(this,t,"x",i)}inYRange(t,i){return ky(this,t,"y",i)}getCenterPoint(t){const{x:i,y:r}=this.getProps(["x","y"],t);return{x:i,y:r}}size(t){t=t||this.options||{};let i=t.radius||0;i=Math.max(i,i&&t.hoverRadius||0);const r=i&&t.borderWidth||0;return(i+r)*2}draw(t,i){const r=this.options;this.skip||r.radius<.1||!Bu(this,i,this.size(r)/2)||(t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.fillStyle=r.backgroundColor,sg(t,r,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}Tn(Yd,"id","point"),Tn(Yd,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Tn(Yd,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function $B(n,e,t){const i=n.segments,r=n.points,l=e.points,s=[];for(const o of i){let{start:a,end:u}=o;u=w_(a,u,r);const f=fg(t,r[a],r[u],o.loop);if(!e.segments){s.push({source:o,target:f,start:r[a],end:r[u]});continue}const c=W7(e,f);for(const h of c){const p=fg(t,l[h.start],l[h.end],h.loop),_=j7(o,r,p);for(const v of _)s.push({source:v,target:h,start:{[t]:Ty(f,p,"start",Math.max)},end:{[t]:Ty(f,p,"end",Math.min)}})}}return s}function fg(n,e,t,i){if(i)return;let r=e[n],l=t[n];return n==="angle"&&(r=as(r),l=as(l)),{property:n,start:r,end:l}}function HB(n,e){const{x:t=null,y:i=null}=n||{},r=e.points,l=[];return e.segments.forEach(({start:s,end:o})=>{o=w_(s,o,r);const a=r[s],u=r[o];i!==null?(l.push({x:a.x,y:i}),l.push({x:u.x,y:i})):t!==null&&(l.push({x:t,y:a.y}),l.push({x:t,y:u.y}))}),l}function w_(n,e,t){for(;e>n;e--){const i=t[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function Ty(n,e,t,i){return n&&e?i(n[t],e[t]):n?n[t]:e?e[t]:0}function oA(n,e){let t=[],i=!1;return Zi(n)?(i=!0,t=n):t=HB(n,e),t.length?new Eo({points:t,options:{tension:0},_loop:i,_fullLoop:i}):null}function wy(n){return n&&n.fill!==!1}function BB(n,e,t){let r=n[e].fill;const l=[e];let s;if(!t)return r;for(;r!==!1&&l.indexOf(r)===-1;){if(!pr(r))return r;if(s=n[r],!s)return!1;if(s.visible)return r;l.push(r),r=s.fill}return!1}function xB(n,e,t){const i=jB(n);if(Rn(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return pr(r)&&Math.floor(r)===r?UB(i[0],e,r,t):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function UB(n,e,t,i){return(n==="-"||n==="+")&&(t=e+t),t===e||t<0||t>=i?!1:t}function zB(n,e){let t=null;return n==="start"?t=e.bottom:n==="end"?t=e.top:Rn(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}function qB(n,e,t){let i;return n==="start"?i=t:n==="end"?i=e.options.reverse?e.min:e.max:Rn(n)?i=n.value:i=e.getBaseValue(),i}function jB(n){const e=n.options,t=e.fill;let i=zn(t&&t.target,t);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function WB(n){const{scale:e,index:t,line:i}=n,r=[],l=i.segments,s=i.points,o=KB(e,t);o.push(oA({x:null,y:e.bottom},i));for(let a=0;a<l.length;a++){const u=l[a];for(let f=u.start;f<=u.end;f++)VB(r,s[f],o)}return new Eo({points:r,options:{}})}function KB(n,e){const t=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const l=i[r];if(l.index===e)break;l.hidden||t.unshift(l.dataset)}return t}function VB(n,e,t){const i=[];for(let r=0;r<t.length;r++){const l=t[r],{first:s,last:o,point:a}=GB(l,e,"x");if(!(!a||s&&o)){if(s)i.unshift(a);else if(n.push(a),!o)break}}n.push(...i)}function GB(n,e,t){const i=n.interpolate(e,t);if(!i)return{};const r=i[t],l=n.segments,s=n.points;let o=!1,a=!1;for(let u=0;u<l.length;u++){const f=l[u],c=s[f.start][t],h=s[f.end][t];if(I7(r,c,h)){o=r===c,a=r===h;break}}return{first:o,last:a,point:i}}class aA{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,i){const{x:r,y:l,radius:s}=this;return t=t||{start:0,end:_s},e.arc(r,l,s,t.end,t.start,!0),!i.bounds}interpolate(e){const{x:t,y:i,radius:r}=this,l=e.angle;return{x:t+Math.cos(l)*r,y:i+Math.sin(l)*r,angle:l}}}function YB(n){const{chart:e,fill:t,line:i}=n;if(pr(t))return XB(e,t);if(t==="stack")return WB(n);if(t==="shape")return!0;const r=ZB(n);return r instanceof aA?r:oA(r,i)}function XB(n,e){const t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}function ZB(n){return(n.scale||{}).getPointPositionForValue?JB(n):QB(n)}function QB(n){const{scale:e={},fill:t}=n,i=zB(t,e);if(pr(i)){const r=e.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function JB(n){const{scale:e,fill:t}=n,i=e.options,r=e.getLabels().length,l=i.reverse?e.max:e.min,s=qB(t,e,l),o=[];if(i.grid.circular){const a=e.getPointPositionForValue(0,l);return new aA({x:a.x,y:a.y,radius:e.getDistanceFromCenterForValue(s)})}for(let a=0;a<r;++a)o.push(e.getPointPositionForValue(a,s));return o}function Rm(n,e,t){const i=YB(e),{chart:r,index:l,line:s,scale:o,axis:a}=e,u=s.options,f=u.fill,c=u.backgroundColor,{above:h=c,below:p=c}=f||{},_=r.getDatasetMeta(l),v=K7(r,_);i&&s.points.length&&(m_(n,t),ex(n,{line:s,target:i,above:h,below:p,area:t,scale:o,axis:a,clip:v}),g_(n))}function ex(n,e){const{line:t,target:i,above:r,below:l,area:s,scale:o,clip:a}=e,u=t._loop?"angle":e.axis;n.save(),u==="x"&&l!==r&&(Ey(n,i,s.top),Sy(n,{line:t,target:i,color:r,scale:o,property:u,clip:a}),n.restore(),n.save(),Ey(n,i,s.bottom)),Sy(n,{line:t,target:i,color:l,scale:o,property:u,clip:a}),n.restore()}function Ey(n,e,t){const{segments:i,points:r}=e;let l=!0,s=!1;n.beginPath();for(const o of i){const{start:a,end:u}=o,f=r[a],c=r[w_(a,u,r)];l?(n.moveTo(f.x,f.y),l=!1):(n.lineTo(f.x,t),n.lineTo(f.x,f.y)),s=!!e.pathSegment(n,o,{move:s}),s?n.closePath():n.lineTo(c.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function Sy(n,e){const{line:t,target:i,property:r,color:l,scale:s,clip:o}=e,a=$B(t,i,r);for(const{source:u,target:f,start:c,end:h}of a){const{style:{backgroundColor:p=l}={}}=u,_=i!==!0;n.save(),n.fillStyle=p,tx(n,s,o,_&&fg(r,c,h)),n.beginPath();const v=!!t.pathSegment(n,u);let b;if(_){v?n.closePath():Cy(n,i,h,r);const y=!!i.pathSegment(n,f,{move:v,reverse:!0});b=v&&y,b||Cy(n,i,c,r)}n.closePath(),n.fill(b?"evenodd":"nonzero"),n.restore()}}function tx(n,e,t,i){const r=e.chart.chartArea,{property:l,start:s,end:o}=i||{};if(l==="x"||l==="y"){let a,u,f,c;l==="x"?(a=s,u=r.top,f=o,c=r.bottom):(a=r.left,u=s,f=r.right,c=o),n.beginPath(),t&&(a=Math.max(a,t.left),f=Math.min(f,t.right),u=Math.max(u,t.top),c=Math.min(c,t.bottom)),n.rect(a,u,f-a,c-u),n.clip()}}function Cy(n,e,t,i){const r=e.interpolate(t,i);r&&n.lineTo(r.x,r.y)}var nx={id:"filler",afterDatasetsUpdate(n,e,t){const i=(n.data.datasets||[]).length,r=[];let l,s,o,a;for(s=0;s<i;++s)l=n.getDatasetMeta(s),o=l.dataset,a=null,o&&o.options&&o instanceof Eo&&(a={visible:n.isDatasetVisible(s),index:s,fill:xB(o,s,i),chart:n,axis:l.controller.options.indexAxis,scale:l.vScale,line:o}),l.$filler=a,r.push(a);for(s=0;s<i;++s)a=r[s],!(!a||a.fill===!1)&&(a.fill=BB(r,s,t.propagate))},beforeDraw(n,e,t){const i=t.drawTime==="beforeDraw",r=n.getSortedVisibleDatasetMetas(),l=n.chartArea;for(let s=r.length-1;s>=0;--s){const o=r[s].$filler;o&&(o.line.updateControlPoints(l,o.axis),i&&o.fill&&Rm(n.ctx,o,l))}},beforeDatasetsDraw(n,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const l=i[r].$filler;wy(l)&&Rm(n.ctx,l,n.chartArea)}},beforeDatasetDraw(n,e,t){const i=e.meta.$filler;!wy(i)||t.drawTime!=="beforeDatasetDraw"||Rm(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const rc={average(n){if(!n.length)return!1;let e,t,i=new Set,r=0,l=0;for(e=0,t=n.length;e<t;++e){const o=n[e].element;if(o&&o.hasValue()){const a=o.tooltipPosition();i.add(a.x),r+=a.y,++l}}return l===0||i.size===0?!1:{x:[...i].reduce((o,a)=>o+a)/i.size,y:r/l}},nearest(n,e){if(!n.length)return!1;let t=e.x,i=e.y,r=Number.POSITIVE_INFINITY,l,s,o;for(l=0,s=n.length;l<s;++l){const a=n[l].element;if(a&&a.hasValue()){const u=a.getCenterPoint(),f=rg(e,u);f<r&&(r=f,o=a)}}if(o){const a=o.tooltipPosition();t=a.x,i=a.y}return{x:t,y:i}}};function ls(n,e){return e&&(Zi(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function Hs(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function ix(n,e){const{element:t,datasetIndex:i,index:r}=e,l=n.getDatasetMeta(i).controller,{label:s,value:o}=l.getLabelAndValue(r);return{chart:n,label:s,parsed:l.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:o,dataset:l.getDataset(),dataIndex:r,datasetIndex:i,element:t}}function Ay(n,e){const t=n.chart.ctx,{body:i,footer:r,title:l}=n,{boxWidth:s,boxHeight:o}=e,a=gs(e.bodyFont),u=gs(e.titleFont),f=gs(e.footerFont),c=l.length,h=r.length,p=i.length,_=Do(e.padding);let v=_.height,b=0,y=i.reduce((N,L)=>N+L.before.length+L.lines.length+L.after.length,0);if(y+=n.beforeBody.length+n.afterBody.length,c&&(v+=c*u.lineHeight+(c-1)*e.titleSpacing+e.titleMarginBottom),y){const N=e.displayColors?Math.max(o,a.lineHeight):a.lineHeight;v+=p*N+(y-p)*a.lineHeight+(y-1)*e.bodySpacing}h&&(v+=e.footerMarginTop+h*f.lineHeight+(h-1)*e.footerSpacing);let A=0;const M=function(N){b=Math.max(b,t.measureText(N).width+A)};return t.save(),t.font=u.string,On(n.title,M),t.font=a.string,On(n.beforeBody.concat(n.afterBody),M),A=e.displayColors?s+2+e.boxPadding:0,On(i,N=>{On(N.before,M),On(N.lines,M),On(N.after,M)}),A=0,t.font=f.string,On(n.footer,M),t.restore(),b+=_.width,{width:b,height:v}}function rx(n,e){const{y:t,height:i}=e;return t<i/2?"top":t>n.height-i/2?"bottom":"center"}function lx(n,e,t,i){const{x:r,width:l}=i,s=t.caretSize+t.caretPadding;if(n==="left"&&r+l+s>e.width||n==="right"&&r-l-s<0)return!0}function sx(n,e,t,i){const{x:r,width:l}=t,{width:s,chartArea:{left:o,right:a}}=n;let u="center";return i==="center"?u=r<=(o+a)/2?"left":"right":r<=l/2?u="left":r>=s-l/2&&(u="right"),lx(u,n,e,t)&&(u="center"),u}function Oy(n,e,t){const i=t.yAlign||e.yAlign||rx(n,t);return{xAlign:t.xAlign||e.xAlign||sx(n,e,t,i),yAlign:i}}function ox(n,e){let{x:t,width:i}=n;return e==="right"?t-=i:e==="center"&&(t-=i/2),t}function ax(n,e,t){let{y:i,height:r}=n;return e==="top"?i+=t:e==="bottom"?i-=r+t:i-=r/2,i}function Ny(n,e,t,i){const{caretSize:r,caretPadding:l,cornerRadius:s}=n,{xAlign:o,yAlign:a}=t,u=r+l,{topLeft:f,topRight:c,bottomLeft:h,bottomRight:p}=Wd(s);let _=ox(e,o);const v=ax(e,a,u);return a==="center"?o==="left"?_+=u:o==="right"&&(_-=u):o==="left"?_-=Math.max(f,h)+r:o==="right"&&(_+=Math.max(c,p)+r),{x:Gl(_,0,i.width-e.width),y:Gl(v,0,i.height-e.height)}}function fd(n,e,t){const i=Do(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-i.right:n.x+i.left}function My(n){return ls([],Hs(n))}function ux(n,e,t){return Ia(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function Iy(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const uA={beforeTitle:Is,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,i=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return t[e.dataIndex]}return""},afterTitle:Is,beforeBody:Is,beforeLabel:Is,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return ai(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Is,afterBody:Is,beforeFooter:Is,footer:Is,afterFooter:Is};function Fr(n,e,t,i){const r=n[e].call(t,i);return typeof r>"u"?uA[e].call(t,i):r}class cg extends i1{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&t.options.animation&&i.animations,l=new V7(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(l)),l}getContext(){return this.$context||(this.$context=ux(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:i}=t,r=Fr(i,"beforeTitle",this,e),l=Fr(i,"title",this,e),s=Fr(i,"afterTitle",this,e);let o=[];return o=ls(o,Hs(r)),o=ls(o,Hs(l)),o=ls(o,Hs(s)),o}getBeforeBody(e,t){return My(Fr(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:i}=t,r=[];return On(e,l=>{const s={before:[],lines:[],after:[]},o=Iy(i,l);ls(s.before,Hs(Fr(o,"beforeLabel",this,l))),ls(s.lines,Fr(o,"label",this,l)),ls(s.after,Hs(Fr(o,"afterLabel",this,l))),r.push(s)}),r}getAfterBody(e,t){return My(Fr(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:i}=t,r=Fr(i,"beforeFooter",this,e),l=Fr(i,"footer",this,e),s=Fr(i,"afterFooter",this,e);let o=[];return o=ls(o,Hs(r)),o=ls(o,Hs(l)),o=ls(o,Hs(s)),o}_createItems(e){const t=this._active,i=this.chart.data,r=[],l=[],s=[];let o=[],a,u;for(a=0,u=t.length;a<u;++a)o.push(ix(this.chart,t[a]));return e.filter&&(o=o.filter((f,c,h)=>e.filter(f,c,h,i))),e.itemSort&&(o=o.sort((f,c)=>e.itemSort(f,c,i))),On(o,f=>{const c=Iy(e.callbacks,f);r.push(Fr(c,"labelColor",this,f)),l.push(Fr(c,"labelPointStyle",this,f)),s.push(Fr(c,"labelTextColor",this,f))}),this.labelColors=r,this.labelPointStyles=l,this.labelTextColors=s,this.dataPoints=o,o}update(e,t){const i=this.options.setContext(this.getContext()),r=this._active;let l,s=[];if(!r.length)this.opacity!==0&&(l={opacity:0});else{const o=rc[i.position].call(this,r,this._eventPosition);s=this._createItems(i),this.title=this.getTitle(s,i),this.beforeBody=this.getBeforeBody(s,i),this.body=this.getBody(s,i),this.afterBody=this.getAfterBody(s,i),this.footer=this.getFooter(s,i);const a=this._size=Ay(this,i),u=Object.assign({},o,a),f=Oy(this.chart,i,u),c=Ny(i,u,f,this.chart);this.xAlign=f.xAlign,this.yAlign=f.yAlign,l={opacity:1,x:c.x,y:c.y,width:a.width,height:a.height,caretX:o.x,caretY:o.y}}this._tooltipItems=s,this.$context=void 0,l&&this._resolveAnimations().update(this,l),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,i,r){const l=this.getCaretPosition(e,i,r);t.lineTo(l.x1,l.y1),t.lineTo(l.x2,l.y2),t.lineTo(l.x3,l.y3)}getCaretPosition(e,t,i){const{xAlign:r,yAlign:l}=this,{caretSize:s,cornerRadius:o}=i,{topLeft:a,topRight:u,bottomLeft:f,bottomRight:c}=Wd(o),{x:h,y:p}=e,{width:_,height:v}=t;let b,y,A,M,N,L;return l==="center"?(N=p+v/2,r==="left"?(b=h,y=b-s,M=N+s,L=N-s):(b=h+_,y=b+s,M=N-s,L=N+s),A=b):(r==="left"?y=h+Math.max(a,f)+s:r==="right"?y=h+_-Math.max(u,c)-s:y=this.caretX,l==="top"?(M=p,N=M-s,b=y-s,A=y+s):(M=p+v,N=M+s,b=y+s,A=y-s),L=M),{x1:b,x2:y,x3:A,y1:M,y2:N,y3:L}}drawTitle(e,t,i){const r=this.title,l=r.length;let s,o,a;if(l){const u=Am(i.rtl,this.x,this.width);for(e.x=fd(this,i.titleAlign,i),t.textAlign=u.textAlign(i.titleAlign),t.textBaseline="middle",s=gs(i.titleFont),o=i.titleSpacing,t.fillStyle=i.titleColor,t.font=s.string,a=0;a<l;++a)t.fillText(r[a],u.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+o,a+1===l&&(e.y+=i.titleMarginBottom-o)}}_drawColorBox(e,t,i,r,l){const s=this.labelColors[i],o=this.labelPointStyles[i],{boxHeight:a,boxWidth:u}=l,f=gs(l.bodyFont),c=fd(this,"left",l),h=r.x(c),p=a<f.lineHeight?(f.lineHeight-a)/2:0,_=t.y+p;if(l.usePointStyle){const v={radius:Math.min(u,a)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},b=r.leftForLtr(h,u)+u/2,y=_+a/2;e.strokeStyle=l.multiKeyBackground,e.fillStyle=l.multiKeyBackground,sg(e,v,b,y),e.strokeStyle=s.borderColor,e.fillStyle=s.backgroundColor,sg(e,v,b,y)}else{e.lineWidth=Rn(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,e.strokeStyle=s.borderColor,e.setLineDash(s.borderDash||[]),e.lineDashOffset=s.borderDashOffset||0;const v=r.leftForLtr(h,u),b=r.leftForLtr(r.xPlus(h,1),u-2),y=Wd(s.borderRadius);Object.values(y).some(A=>A!==0)?(e.beginPath(),e.fillStyle=l.multiKeyBackground,z5(e,{x:v,y:_,w:u,h:a,radius:y}),e.fill(),e.stroke(),e.fillStyle=s.backgroundColor,e.beginPath(),z5(e,{x:b,y:_+1,w:u-2,h:a-2,radius:y}),e.fill()):(e.fillStyle=l.multiKeyBackground,e.fillRect(v,_,u,a),e.strokeRect(v,_,u,a),e.fillStyle=s.backgroundColor,e.fillRect(b,_+1,u-2,a-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,t,i){const{body:r}=this,{bodySpacing:l,bodyAlign:s,displayColors:o,boxHeight:a,boxWidth:u,boxPadding:f}=i,c=gs(i.bodyFont);let h=c.lineHeight,p=0;const _=Am(i.rtl,this.x,this.width),v=function($){t.fillText($,_.x(e.x+p),e.y+h/2),e.y+=h+l},b=_.textAlign(s);let y,A,M,N,L,I,R;for(t.textAlign=s,t.textBaseline="middle",t.font=c.string,e.x=fd(this,b,i),t.fillStyle=i.bodyColor,On(this.beforeBody,v),p=o&&b!=="right"?s==="center"?u/2+f:u+2+f:0,N=0,I=r.length;N<I;++N){for(y=r[N],A=this.labelTextColors[N],t.fillStyle=A,On(y.before,v),M=y.lines,o&&M.length&&(this._drawColorBox(t,e,N,_,i),h=Math.max(c.lineHeight,a)),L=0,R=M.length;L<R;++L)v(M[L]),h=c.lineHeight;On(y.after,v)}p=0,h=c.lineHeight,On(this.afterBody,v),e.y-=l}drawFooter(e,t,i){const r=this.footer,l=r.length;let s,o;if(l){const a=Am(i.rtl,this.x,this.width);for(e.x=fd(this,i.footerAlign,i),e.y+=i.footerMarginTop,t.textAlign=a.textAlign(i.footerAlign),t.textBaseline="middle",s=gs(i.footerFont),t.fillStyle=i.footerColor,t.font=s.string,o=0;o<l;++o)t.fillText(r[o],a.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+i.footerSpacing}}drawBackground(e,t,i,r){const{xAlign:l,yAlign:s}=this,{x:o,y:a}=e,{width:u,height:f}=i,{topLeft:c,topRight:h,bottomLeft:p,bottomRight:_}=Wd(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(o+c,a),s==="top"&&this.drawCaret(e,t,i,r),t.lineTo(o+u-h,a),t.quadraticCurveTo(o+u,a,o+u,a+h),s==="center"&&l==="right"&&this.drawCaret(e,t,i,r),t.lineTo(o+u,a+f-_),t.quadraticCurveTo(o+u,a+f,o+u-_,a+f),s==="bottom"&&this.drawCaret(e,t,i,r),t.lineTo(o+p,a+f),t.quadraticCurveTo(o,a+f,o,a+f-p),s==="center"&&l==="left"&&this.drawCaret(e,t,i,r),t.lineTo(o,a+c),t.quadraticCurveTo(o,a,o+c,a),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,i=this.$animations,r=i&&i.x,l=i&&i.y;if(r||l){const s=rc[e.position].call(this,this._active,this._eventPosition);if(!s)return;const o=this._size=Ay(this,e),a=Object.assign({},s,this._size),u=Oy(t,e,a),f=Ny(e,a,u,t);(r._to!==f.x||l._to!==f.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=o.width,this.height=o.height,this.caretX=s.x,this.caretY=s.y,this._resolveAnimations().update(this,f))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},l={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const s=Do(t.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&o&&(e.save(),e.globalAlpha=i,this.drawBackground(l,e,r,t),Z$(e,t.textDirection),l.y+=s.top,this.drawTitle(l,e,t),this.drawBody(l,e,t),this.drawFooter(l,e,t),Q$(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const i=this._active,r=e.map(({datasetIndex:o,index:a})=>{const u=this.chart.getDatasetMeta(o);if(!u)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:u.data[a],index:a}}),l=!hh(i,r),s=this._positionChanged(r,t);(l||s)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,i=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,l=this._active||[],s=this._getActiveElements(e,l,t,i),o=this._positionChanged(s,e),a=t||!hh(s,l)||o;return a&&(this._active=s,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),a}_getActiveElements(e,t,i,r){const l=this.options;if(e.type==="mouseout")return[];if(!r)return t.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const s=this.chart.getElementsAtEventForMode(e,l.mode,l,i);return l.reverse&&s.reverse(),s}_positionChanged(e,t){const{caretX:i,caretY:r,options:l}=this,s=rc[l.position].call(this,e,t);return s!==!1&&(i!==s.x||r!==s.y)}}Tn(cg,"positioners",rc);var fx={id:"tooltip",_element:cg,positioners:rc,afterInit(n,e,t){t&&(n.tooltip=new cg({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:uA},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function cx(n,e){const t=[],{bounds:r,step:l,min:s,max:o,precision:a,count:u,maxTicks:f,maxDigits:c,includeBounds:h}=n,p=l||1,_=f-1,{min:v,max:b}=e,y=!ai(s),A=!ai(o),M=!ai(u),N=(b-v)/(c+1);let L=I5((b-v)/_/p)*p,I,R,$,B;if(L<1e-14&&!y&&!A)return[{value:v},{value:b}];B=Math.ceil(b/L)-Math.floor(v/L),B>_&&(L=I5(B*L/_/p)*p),ai(a)||(I=Math.pow(10,a),L=Math.ceil(L*I)/I),r==="ticks"?(R=Math.floor(v/L)*L,$=Math.ceil(b/L)*L):(R=v,$=b),y&&A&&l&&zF((o-s)/l,L/1e3)?(B=Math.round(Math.min((o-s)/L,f)),L=(o-s)/B,R=s,$=o):M?(R=y?s:R,$=A?o:$,B=u-1,L=($-R)/B):(B=($-R)/L,ya(B,Math.round(B),L/1e3)?B=Math.round(B):B=Math.ceil(B));const H=Math.max(L5(L),L5(R));I=Math.pow(10,ai(a)?H:a),R=Math.round(R*I)/I,$=Math.round($*I)/I;let q=0;for(y&&(h&&R!==s?(t.push({value:s}),R<s&&q++,ya(Math.round((R+q*L)*I)/I,s,Ly(s,N,n))&&q++):R<s&&q++);q<B;++q){const z=Math.round((R+q*L)*I)/I;if(A&&z>o)break;t.push({value:z})}return A&&h&&$!==o?t.length&&ya(t[t.length-1].value,o,Ly(o,N,n))?t[t.length-1].value=o:t.push({value:o}):(!A||$===o)&&t.push({value:$}),t}function Ly(n,e,{horizontal:t,minRotation:i}){const r=ga(i),l=(t?Math.sin(r):Math.cos(r))||.001,s=.75*e*(""+n).length;return Math.min(e/l,s)}class dx extends r1{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return ai(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:r,max:l}=this;const s=a=>r=t?r:a,o=a=>l=i?l:a;if(e){const a=Lo(r),u=Lo(l);a<0&&u<0?o(0):a>0&&u>0&&s(0)}if(r===l){let a=l===0?1:Math.abs(l*.05);o(l+a),e||s(r-a)}this.min=r,this.max=l}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),t=t||11),t&&(r=Math.min(t,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},l=this._range||this,s=cx(r,l);return e.bounds==="ticks"&&qF(s,this,"value"),e.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){const e=this.ticks;let t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const r=(i-t)/Math.max(e.length-1,1)/2;t-=r,i+=r}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return P7(e,this.chart.options.locale,this.options.ticks.format)}}class dg extends dx{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=pr(e)?e:0,this.max=pr(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,i=ga(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,l=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,l.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Tn(dg,"id","linear"),Tn(dg,"defaults",{ticks:{callback:F7.formatters.numeric}});const ep={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},jr=Object.keys(ep);function Dy(n,e){return n-e}function Ry(n,e){if(ai(e))return null;const t=n._adapter,{parser:i,round:r,isoWeekday:l}=n._parseOpts;let s=e;return typeof i=="function"&&(s=i(s)),pr(s)||(s=typeof i=="string"?t.parse(s,i):t.parse(s)),s===null?null:(r&&(s=r==="week"&&($c(l)||l===!0)?t.startOf(s,"isoWeek",l):t.startOf(s,r)),+s)}function Py(n,e,t,i){const r=jr.length;for(let l=jr.indexOf(n);l<r-1;++l){const s=ep[jr[l]],o=s.steps?s.steps:Number.MAX_SAFE_INTEGER;if(s.common&&Math.ceil((t-e)/(o*s.size))<=i)return jr[l]}return jr[r-1]}function hx(n,e,t,i,r){for(let l=jr.length-1;l>=jr.indexOf(t);l--){const s=jr[l];if(ep[s].common&&n._adapter.diff(r,i,s)>=e-1)return s}return jr[t?jr.indexOf(t):0]}function px(n){for(let e=jr.indexOf(n)+1,t=jr.length;e<t;++e)if(ep[jr[e]].common)return jr[e]}function Fy(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:i,hi:r}=h_(t,e),l=t[i]>=e?t[i]:t[r];n[l]=!0}}function mx(n,e,t,i){const r=n._adapter,l=+r.startOf(e[0].value,i),s=e[e.length-1].value;let o,a;for(o=l;o<=s;o=+r.add(o,1,i))a=t[o],a>=0&&(e[a].major=!0);return e}function $y(n,e,t){const i=[],r={},l=e.length;let s,o;for(s=0;s<l;++s)o=e[s],r[o]=s,i.push({value:o,major:!1});return l===0||!t?i:mx(n,i,r,t)}class Bc extends r1{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const i=e.time||(e.time={}),r=this._adapter=new Y7._date(e.adapters.date);r.init(t),uc(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:Ry(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,i=e.time.unit||"day";let{min:r,max:l,minDefined:s,maxDefined:o}=this.getUserBounds();function a(u){!s&&!isNaN(u.min)&&(r=Math.min(r,u.min)),!o&&!isNaN(u.max)&&(l=Math.max(l,u.max))}(!s||!o)&&(a(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&a(this.getMinMax(!1))),r=pr(r)&&!isNaN(r)?r:+t.startOf(Date.now(),i),l=pr(l)&&!isNaN(l)?l:+t.endOf(Date.now(),i)+1,this.min=Math.min(r,l-1),this.max=Math.max(r+1,l)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],i=e[e.length-1]),{min:t,max:i}}buildTicks(){const e=this.options,t=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const l=this.min,s=this.max,o=YF(r,l,s);return this._unit=t.unit||(i.autoSkip?Py(t.minUnit,this.min,this.max,this._getLabelCapacity(l)):hx(this,o.length,t.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:px(this._unit),this.initOffsets(r),e.reverse&&o.reverse(),$y(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,i=0,r,l;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?t=1-r:t=(this.getDecimalForValue(e[1])-r)/2,l=this.getDecimalForValue(e[e.length-1]),e.length===1?i=l:i=(l-this.getDecimalForValue(e[e.length-2]))/2);const s=e.length<3?.5:.25;t=Gl(t,0,s),i=Gl(i,0,s),this._offsets={start:t,end:i,factor:1/(t+1+i)}}_generate(){const e=this._adapter,t=this.min,i=this.max,r=this.options,l=r.time,s=l.unit||Py(l.minUnit,t,i,this._getLabelCapacity(t)),o=zn(r.ticks.stepSize,1),a=s==="week"?l.isoWeekday:!1,u=$c(a)||a===!0,f={};let c=t,h,p;if(u&&(c=+e.startOf(c,"isoWeek",a)),c=+e.startOf(c,u?"day":s),e.diff(i,t,s)>1e5*o)throw new Error(t+" and "+i+" are too far apart with stepSize of "+o+" "+s);const _=r.ticks.source==="data"&&this.getDataTimestamps();for(h=c,p=0;h<i;h=+e.add(h,o,s),p++)Fy(f,h,_);return(h===i||r.bounds==="ticks"||p===1)&&Fy(f,h,_),Object.keys(f).sort(Dy).map(v=>+v)}getLabelForValue(e){const t=this._adapter,i=this.options.time;return i.tooltipFormat?t.format(e,i.tooltipFormat):t.format(e,i.displayFormats.datetime)}format(e,t){const r=this.options.time.displayFormats,l=this._unit,s=t||r[l];return this._adapter.format(e,s)}_tickFormatFunction(e,t,i,r){const l=this.options,s=l.ticks.callback;if(s)return mn(s,[e,t,i],this);const o=l.time.displayFormats,a=this._unit,u=this._majorUnit,f=a&&o[a],c=u&&o[u],h=i[t],p=u&&c&&h&&h.major;return this._adapter.format(e,r||(p?c:f))}generateTickLabels(e){let t,i,r;for(t=0,i=e.length;t<i;++t)r=e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+i)*t.factor)}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,i=this.ctx.measureText(e).width,r=ga(this.isHorizontal()?t.maxRotation:t.minRotation),l=Math.cos(r),s=Math.sin(r),o=this._resolveTickFontOptions(0).size;return{w:i*l+o*s,h:i*s+o*l}}_getLabelCapacity(e){const t=this.options.time,i=t.displayFormats,r=i[t.unit]||i.millisecond,l=this._tickFormatFunction(e,0,$y(this,[e],this._majorUnit),r),s=this._getLabelSize(l),o=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return o>0?o:1}getDataTimestamps(){let e=this._cache.data||[],t,i;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(t=0,i=r.length;t<i;++t)e=e.concat(r[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,i;if(e.length)return e;const r=this.getLabels();for(t=0,i=r.length;t<i;++t)e.push(Ry(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return ZF(e.sort(Dy))}}Tn(Bc,"id","time"),Tn(Bc,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function cd(n,e,t){let i=0,r=n.length-1,l,s,o,a;t?(e>=n[i].pos&&e<=n[r].pos&&({lo:i,hi:r}=_a(n,"pos",e)),{pos:l,time:o}=n[i],{pos:s,time:a}=n[r]):(e>=n[i].time&&e<=n[r].time&&({lo:i,hi:r}=_a(n,"time",e)),{time:l,pos:o}=n[i],{time:s,pos:a}=n[r]);const u=s-l;return u?o+(a-o)*(e-l)/u:o}class Hy extends Bc{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=cd(t,this.min),this._tableRange=cd(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:i}=this,r=[],l=[];let s,o,a,u,f;for(s=0,o=e.length;s<o;++s)u=e[s],u>=t&&u<=i&&r.push(u);if(r.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(s=0,o=r.length;s<o;++s)f=r[s+1],a=r[s-1],u=r[s],Math.round((f+a)/2)!==u&&l.push({time:u,pos:s/(o-1)});return l}_generate(){const e=this.min,t=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(t)||i.length===1)&&i.push(t),i.sort((r,l)=>r-l)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return t.length&&i.length?e=this.normalize(t.concat(i)):e=t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(cd(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return cd(this._table,i*this._tableRange+this._minPos,!0)}}Tn(Hy,"id","timeseries"),Tn(Hy,"defaults",Bc.defaults);/*!
 * chartjs-adapter-luxon v1.3.1
 * https://www.chartjs.org
 * (c) 2023 chartjs-adapter-luxon Contributors
 * Released under the MIT license
 */const gx={datetime:Gt.DATETIME_MED_WITH_SECONDS,millisecond:"h:mm:ss.SSS a",second:Gt.TIME_WITH_SECONDS,minute:Gt.TIME_SIMPLE,hour:{hour:"numeric"},day:{day:"numeric",month:"short"},week:"DD",month:{month:"short",year:"numeric"},quarter:"'Q'q - yyyy",year:{year:"numeric"}};Y7._date.override({_id:"luxon",_create:function(n){return Gt.fromMillis(n,this.options)},init(n){this.options.locale||(this.options.locale=n.locale)},formats:function(){return gx},parse:function(n,e){const t=this.options,i=typeof n;return n===null||i==="undefined"?null:(i==="number"?n=this._create(n):i==="string"?typeof e=="string"?n=Gt.fromFormat(n,e,t):n=Gt.fromISO(n,t):n instanceof Date?n=Gt.fromJSDate(n,t):i==="object"&&!(n instanceof Gt)&&(n=Gt.fromObject(n,t)),n.isValid?n.valueOf():null)},format:function(n,e){const t=this._create(n);return typeof e=="string"?t.toFormat(e):t.toLocaleString(e)},add:function(n,e,t){const i={};return i[t]=e,this._create(n).plus(i).valueOf()},diff:function(n,e,t){return this._create(n).diff(this._create(e)).as(t).valueOf()},startOf:function(n,e,t){if(e==="isoWeek"){t=Math.trunc(Math.min(Math.max(0,t),6));const i=this._create(n);return i.minus({days:(i.weekday-t+7)%7}).startOf("day").valueOf()}return e?this._create(n).startOf(e).valueOf():n},endOf:function(n,e){return this._create(n).endOf(e).valueOf()}});var s_e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ju(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var fA={exports:{}};/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */(function(n){(function(e,t,i,r){var l=["","webkit","Moz","MS","ms","o"],s=t.createElement("div"),o="function",a=Math.round,u=Math.abs,f=Date.now;function c(fe,de,ke){return setTimeout(M(fe,ke),de)}function h(fe,de,ke){return Array.isArray(fe)?(p(fe,ke[de],ke),!0):!1}function p(fe,de,ke){var Be;if(fe)if(fe.forEach)fe.forEach(de,ke);else if(fe.length!==r)for(Be=0;Be<fe.length;)de.call(ke,fe[Be],Be,fe),Be++;else for(Be in fe)fe.hasOwnProperty(Be)&&de.call(ke,fe[Be],Be,fe)}function _(fe,de,ke){var Be="DEPRECATED METHOD: "+de+`
`+ke+` AT 
`;return function(){var ft=new Error("get-stack-trace"),Mt=ft&&ft.stack?ft.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",Cn=e.console&&(e.console.warn||e.console.log);return Cn&&Cn.call(e.console,Be,Mt),fe.apply(this,arguments)}}var v;typeof Object.assign!="function"?v=function(de){if(de===r||de===null)throw new TypeError("Cannot convert undefined or null to object");for(var ke=Object(de),Be=1;Be<arguments.length;Be++){var ft=arguments[Be];if(ft!==r&&ft!==null)for(var Mt in ft)ft.hasOwnProperty(Mt)&&(ke[Mt]=ft[Mt])}return ke}:v=Object.assign;var b=_(function(de,ke,Be){for(var ft=Object.keys(ke),Mt=0;Mt<ft.length;)(!Be||Be&&de[ft[Mt]]===r)&&(de[ft[Mt]]=ke[ft[Mt]]),Mt++;return de},"extend","Use `assign`."),y=_(function(de,ke){return b(de,ke,!0)},"merge","Use `assign`.");function A(fe,de,ke){var Be=de.prototype,ft;ft=fe.prototype=Object.create(Be),ft.constructor=fe,ft._super=Be,ke&&v(ft,ke)}function M(fe,de){return function(){return fe.apply(de,arguments)}}function N(fe,de){return typeof fe==o?fe.apply(de&&de[0]||r,de):fe}function L(fe,de){return fe===r?de:fe}function I(fe,de,ke){p(H(de),function(Be){fe.addEventListener(Be,ke,!1)})}function R(fe,de,ke){p(H(de),function(Be){fe.removeEventListener(Be,ke,!1)})}function $(fe,de){for(;fe;){if(fe==de)return!0;fe=fe.parentNode}return!1}function B(fe,de){return fe.indexOf(de)>-1}function H(fe){return fe.trim().split(/\s+/g)}function q(fe,de,ke){if(fe.indexOf&&!ke)return fe.indexOf(de);for(var Be=0;Be<fe.length;){if(ke&&fe[Be][ke]==de||!ke&&fe[Be]===de)return Be;Be++}return-1}function z(fe){return Array.prototype.slice.call(fe,0)}function j(fe,de,ke){for(var Be=[],ft=[],Mt=0;Mt<fe.length;){var Cn=fe[Mt][de];q(ft,Cn)<0&&Be.push(fe[Mt]),ft[Mt]=Cn,Mt++}return Be=Be.sort(function(_i,Ei){return _i[de]>Ei[de]}),Be}function W(fe,de){for(var ke,Be,ft=de[0].toUpperCase()+de.slice(1),Mt=0;Mt<l.length;){if(ke=l[Mt],Be=ke?ke+ft:de,Be in fe)return Be;Mt++}return r}var G=1;function ie(){return G++}function te(fe){var de=fe.ownerDocument||fe;return de.defaultView||de.parentWindow||e}var ae=/mobile|tablet|ip(ad|hone|od)|android/i,ue="ontouchstart"in e,K=W(e,"PointerEvent")!==r,X=ue&&ae.test(navigator.userAgent),_e="touch",oe="pen",Le="mouse",lt="kinect",St=25,bt=1,At=2,ot=4,vt=8,zt=1,pt=2,$e=4,Bt=8,Ze=16,dt=pt|$e,Fe=Bt|Ze,Ft=dt|Fe,cn=["x","y"],Ee=["clientX","clientY"];function Ue(fe,de){var ke=this;this.manager=fe,this.callback=de,this.element=fe.element,this.target=fe.options.inputTarget,this.domHandler=function(Be){N(fe.options.enable,[fe])&&ke.handler(Be)},this.init()}Ue.prototype={handler:function(){},init:function(){this.evEl&&I(this.element,this.evEl,this.domHandler),this.evTarget&&I(this.target,this.evTarget,this.domHandler),this.evWin&&I(te(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&R(this.element,this.evEl,this.domHandler),this.evTarget&&R(this.target,this.evTarget,this.domHandler),this.evWin&&R(te(this.element),this.evWin,this.domHandler)}};function sn(fe){var de,ke=fe.options.inputClass;return ke?de=ke:K?de=wi:X?de=Rt:ue?de=st:de=qt,new de(fe,gn)}function gn(fe,de,ke){var Be=ke.pointers.length,ft=ke.changedPointers.length,Mt=de&bt&&Be-ft===0,Cn=de&(ot|vt)&&Be-ft===0;ke.isFirst=!!Mt,ke.isFinal=!!Cn,Mt&&(fe.session={}),ke.eventType=de,Zt(fe,ke),fe.emit("hammer.input",ke),fe.recognize(ke),fe.session.prevInput=ke}function Zt(fe,de){var ke=fe.session,Be=de.pointers,ft=Be.length;ke.firstInput||(ke.firstInput=Ie(de)),ft>1&&!ke.firstMultiple?ke.firstMultiple=Ie(de):ft===1&&(ke.firstMultiple=!1);var Mt=ke.firstInput,Cn=ke.firstMultiple,Ii=Cn?Cn.center:Mt.center,_i=de.center=Je(Be);de.timeStamp=f(),de.deltaTime=de.timeStamp-Mt.timeStamp,de.angle=at(Ii,_i),de.distance=on(Ii,_i),Xe(ke,de),de.offsetDirection=Jt(de.deltaX,de.deltaY);var Ei=Dt(de.deltaTime,de.deltaX,de.deltaY);de.overallVelocityX=Ei.x,de.overallVelocityY=Ei.y,de.overallVelocity=u(Ei.x)>u(Ei.y)?Ei.x:Ei.y,de.scale=Cn?De(Cn.pointers,Be):1,de.rotation=Cn?ti(Cn.pointers,Be):0,de.maxPointers=ke.prevInput?de.pointers.length>ke.prevInput.maxPointers?de.pointers.length:ke.prevInput.maxPointers:de.pointers.length,Kt(ke,de);var dl=fe.element;$(de.srcEvent.target,dl)&&(dl=de.srcEvent.target),de.target=dl}function Xe(fe,de){var ke=de.center,Be=fe.offsetDelta||{},ft=fe.prevDelta||{},Mt=fe.prevInput||{};(de.eventType===bt||Mt.eventType===ot)&&(ft=fe.prevDelta={x:Mt.deltaX||0,y:Mt.deltaY||0},Be=fe.offsetDelta={x:ke.x,y:ke.y}),de.deltaX=ft.x+(ke.x-Be.x),de.deltaY=ft.y+(ke.y-Be.y)}function Kt(fe,de){var ke=fe.lastInterval||de,Be=de.timeStamp-ke.timeStamp,ft,Mt,Cn,Ii;if(de.eventType!=vt&&(Be>St||ke.velocity===r)){var _i=de.deltaX-ke.deltaX,Ei=de.deltaY-ke.deltaY,dl=Dt(Be,_i,Ei);Mt=dl.x,Cn=dl.y,ft=u(dl.x)>u(dl.y)?dl.x:dl.y,Ii=Jt(_i,Ei),fe.lastInterval=de}else ft=ke.velocity,Mt=ke.velocityX,Cn=ke.velocityY,Ii=ke.direction;de.velocity=ft,de.velocityX=Mt,de.velocityY=Cn,de.direction=Ii}function Ie(fe){for(var de=[],ke=0;ke<fe.pointers.length;)de[ke]={clientX:a(fe.pointers[ke].clientX),clientY:a(fe.pointers[ke].clientY)},ke++;return{timeStamp:f(),pointers:de,center:Je(de),deltaX:fe.deltaX,deltaY:fe.deltaY}}function Je(fe){var de=fe.length;if(de===1)return{x:a(fe[0].clientX),y:a(fe[0].clientY)};for(var ke=0,Be=0,ft=0;ft<de;)ke+=fe[ft].clientX,Be+=fe[ft].clientY,ft++;return{x:a(ke/de),y:a(Be/de)}}function Dt(fe,de,ke){return{x:de/fe||0,y:ke/fe||0}}function Jt(fe,de){return fe===de?zt:u(fe)>=u(de)?fe<0?pt:$e:de<0?Bt:Ze}function on(fe,de,ke){ke||(ke=cn);var Be=de[ke[0]]-fe[ke[0]],ft=de[ke[1]]-fe[ke[1]];return Math.sqrt(Be*Be+ft*ft)}function at(fe,de,ke){ke||(ke=cn);var Be=de[ke[0]]-fe[ke[0]],ft=de[ke[1]]-fe[ke[1]];return Math.atan2(ft,Be)*180/Math.PI}function ti(fe,de){return at(de[1],de[0],Ee)+at(fe[1],fe[0],Ee)}function De(fe,de){return on(de[0],de[1],Ee)/on(fe[0],fe[1],Ee)}var et={mousedown:bt,mousemove:At,mouseup:ot},Ot="mousedown",xt="mousemove mouseup";function qt(){this.evEl=Ot,this.evWin=xt,this.pressed=!1,Ue.apply(this,arguments)}A(qt,Ue,{handler:function(de){var ke=et[de.type];ke&bt&&de.button===0&&(this.pressed=!0),ke&At&&de.which!==1&&(ke=ot),this.pressed&&(ke&ot&&(this.pressed=!1),this.callback(this.manager,ke,{pointers:[de],changedPointers:[de],pointerType:Le,srcEvent:de}))}});var yn={pointerdown:bt,pointermove:At,pointerup:ot,pointercancel:vt,pointerout:vt},Nn={2:_e,3:oe,4:Le,5:lt},fi="pointerdown",el="pointermove pointerup pointercancel";e.MSPointerEvent&&!e.PointerEvent&&(fi="MSPointerDown",el="MSPointerMove MSPointerUp MSPointerCancel");function wi(){this.evEl=fi,this.evWin=el,Ue.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}A(wi,Ue,{handler:function(de){var ke=this.store,Be=!1,ft=de.type.toLowerCase().replace("ms",""),Mt=yn[ft],Cn=Nn[de.pointerType]||de.pointerType,Ii=Cn==_e,_i=q(ke,de.pointerId,"pointerId");Mt&bt&&(de.button===0||Ii)?_i<0&&(ke.push(de),_i=ke.length-1):Mt&(ot|vt)&&(Be=!0),!(_i<0)&&(ke[_i]=de,this.callback(this.manager,Mt,{pointers:ke,changedPointers:[de],pointerType:Cn,srcEvent:de}),Be&&ke.splice(_i,1))}});var ce={touchstart:bt,touchmove:At,touchend:ot,touchcancel:vt},me="touchstart",Ce="touchstart touchmove touchend touchcancel";function Ve(){this.evTarget=me,this.evWin=Ce,this.started=!1,Ue.apply(this,arguments)}A(Ve,Ue,{handler:function(de){var ke=ce[de.type];if(ke===bt&&(this.started=!0),!!this.started){var Be=ht.call(this,de,ke);ke&(ot|vt)&&Be[0].length-Be[1].length===0&&(this.started=!1),this.callback(this.manager,ke,{pointers:Be[0],changedPointers:Be[1],pointerType:_e,srcEvent:de})}}});function ht(fe,de){var ke=z(fe.touches),Be=z(fe.changedTouches);return de&(ot|vt)&&(ke=j(ke.concat(Be),"identifier")),[ke,Be]}var Ct={touchstart:bt,touchmove:At,touchend:ot,touchcancel:vt},an="touchstart touchmove touchend touchcancel";function Rt(){this.evTarget=an,this.targetIds={},Ue.apply(this,arguments)}A(Rt,Ue,{handler:function(de){var ke=Ct[de.type],Be=dn.call(this,de,ke);Be&&this.callback(this.manager,ke,{pointers:Be[0],changedPointers:Be[1],pointerType:_e,srcEvent:de})}});function dn(fe,de){var ke=z(fe.touches),Be=this.targetIds;if(de&(bt|At)&&ke.length===1)return Be[ke[0].identifier]=!0,[ke,ke];var ft,Mt,Cn=z(fe.changedTouches),Ii=[],_i=this.target;if(Mt=ke.filter(function(Ei){return $(Ei.target,_i)}),de===bt)for(ft=0;ft<Mt.length;)Be[Mt[ft].identifier]=!0,ft++;for(ft=0;ft<Cn.length;)Be[Cn[ft].identifier]&&Ii.push(Cn[ft]),de&(ot|vt)&&delete Be[Cn[ft].identifier],ft++;if(Ii.length)return[j(Mt.concat(Ii),"identifier"),Ii]}var Pt=2500,Oe=25;function st(){Ue.apply(this,arguments);var fe=M(this.handler,this);this.touch=new Rt(this.manager,fe),this.mouse=new qt(this.manager,fe),this.primaryTouch=null,this.lastTouches=[]}A(st,Ue,{handler:function(de,ke,Be){var ft=Be.pointerType==_e,Mt=Be.pointerType==Le;if(!(Mt&&Be.sourceCapabilities&&Be.sourceCapabilities.firesTouchEvents)){if(ft)_n.call(this,ke,Be);else if(Mt&&nn.call(this,Be))return;this.callback(de,ke,Be)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function _n(fe,de){fe&bt?(this.primaryTouch=de.changedPointers[0].identifier,hn.call(this,de)):fe&(ot|vt)&&hn.call(this,de)}function hn(fe){var de=fe.changedPointers[0];if(de.identifier===this.primaryTouch){var ke={x:de.clientX,y:de.clientY};this.lastTouches.push(ke);var Be=this.lastTouches,ft=function(){var Mt=Be.indexOf(ke);Mt>-1&&Be.splice(Mt,1)};setTimeout(ft,Pt)}}function nn(fe){for(var de=fe.srcEvent.clientX,ke=fe.srcEvent.clientY,Be=0;Be<this.lastTouches.length;Be++){var ft=this.lastTouches[Be],Mt=Math.abs(de-ft.x),Cn=Math.abs(ke-ft.y);if(Mt<=Oe&&Cn<=Oe)return!0}return!1}var xi=W(s.style,"touchAction"),Ui=xi!==r,Gi="compute",Dl="auto",Bo="manipulation",Qi="none",Rl="pan-x",Jl="pan-y",Vn=uf();function $t(fe,de){this.manager=fe,this.set(de)}$t.prototype={set:function(fe){fe==Gi&&(fe=this.compute()),Ui&&this.manager.element.style&&Vn[fe]&&(this.manager.element.style[xi]=fe),this.actions=fe.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var fe=[];return p(this.manager.recognizers,function(de){N(de.options.enable,[de])&&(fe=fe.concat(de.getTouchAction()))}),Pl(fe.join(" "))},preventDefaults:function(fe){var de=fe.srcEvent,ke=fe.offsetDirection;if(this.manager.session.prevented){de.preventDefault();return}var Be=this.actions,ft=B(Be,Qi)&&!Vn[Qi],Mt=B(Be,Jl)&&!Vn[Jl],Cn=B(Be,Rl)&&!Vn[Rl];if(ft){var Ii=fe.pointers.length===1,_i=fe.distance<2,Ei=fe.deltaTime<250;if(Ii&&_i&&Ei)return}if(!(Cn&&Mt)&&(ft||Mt&&ke&dt||Cn&&ke&Fe))return this.preventSrc(de)},preventSrc:function(fe){this.manager.session.prevented=!0,fe.preventDefault()}};function Pl(fe){if(B(fe,Qi))return Qi;var de=B(fe,Rl),ke=B(fe,Jl);return de&&ke?Qi:de||ke?de?Rl:Jl:B(fe,Bo)?Bo:Dl}function uf(){if(!Ui)return!1;var fe={},de=e.CSS&&e.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(ke){fe[ke]=de?e.CSS.supports("touch-action",ke):!0}),fe}var gr=1,pn=2,Mr=4,Ir=8,tl=Ir,rt=16,jt=32;function nl(fe){this.options=v({},this.defaults,fe||{}),this.id=ie(),this.manager=null,this.options.enable=L(this.options.enable,!0),this.state=gr,this.simultaneous={},this.requireFail=[]}nl.prototype={defaults:{},set:function(fe){return v(this.options,fe),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(fe){if(h(fe,"recognizeWith",this))return this;var de=this.simultaneous;return fe=Ss(fe,this),de[fe.id]||(de[fe.id]=fe,fe.recognizeWith(this)),this},dropRecognizeWith:function(fe){return h(fe,"dropRecognizeWith",this)?this:(fe=Ss(fe,this),delete this.simultaneous[fe.id],this)},requireFailure:function(fe){if(h(fe,"requireFailure",this))return this;var de=this.requireFail;return fe=Ss(fe,this),q(de,fe)===-1&&(de.push(fe),fe.requireFailure(this)),this},dropRequireFailure:function(fe){if(h(fe,"dropRequireFailure",this))return this;fe=Ss(fe,this);var de=q(this.requireFail,fe);return de>-1&&this.requireFail.splice(de,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(fe){return!!this.simultaneous[fe.id]},emit:function(fe){var de=this,ke=this.state;function Be(ft){de.manager.emit(ft,fe)}ke<Ir&&Be(de.options.event+$a(ke)),Be(de.options.event),fe.additionalEvent&&Be(fe.additionalEvent),ke>=Ir&&Be(de.options.event+$a(ke))},tryEmit:function(fe){if(this.canEmit())return this.emit(fe);this.state=jt},canEmit:function(){for(var fe=0;fe<this.requireFail.length;){if(!(this.requireFail[fe].state&(jt|gr)))return!1;fe++}return!0},recognize:function(fe){var de=v({},fe);if(!N(this.options.enable,[this,de])){this.reset(),this.state=jt;return}this.state&(tl|rt|jt)&&(this.state=gr),this.state=this.process(de),this.state&(pn|Mr|Ir|rt)&&this.tryEmit(de)},process:function(fe){},getTouchAction:function(){},reset:function(){}};function $a(fe){return fe&rt?"cancel":fe&Ir?"end":fe&Mr?"move":fe&pn?"start":""}function xo(fe){return fe==Ze?"down":fe==Bt?"up":fe==pt?"left":fe==$e?"right":""}function Ss(fe,de){var ke=de.manager;return ke?ke.get(fe):fe}function Lr(){nl.apply(this,arguments)}A(Lr,nl,{defaults:{pointers:1},attrTest:function(fe){var de=this.options.pointers;return de===0||fe.pointers.length===de},process:function(fe){var de=this.state,ke=fe.eventType,Be=de&(pn|Mr),ft=this.attrTest(fe);return Be&&(ke&vt||!ft)?de|rt:Be||ft?ke&ot?de|Ir:de&pn?de|Mr:pn:jt}});function en(){Lr.apply(this,arguments),this.pX=null,this.pY=null}A(en,Lr,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ft},getTouchAction:function(){var fe=this.options.direction,de=[];return fe&dt&&de.push(Jl),fe&Fe&&de.push(Rl),de},directionTest:function(fe){var de=this.options,ke=!0,Be=fe.distance,ft=fe.direction,Mt=fe.deltaX,Cn=fe.deltaY;return ft&de.direction||(de.direction&dt?(ft=Mt===0?zt:Mt<0?pt:$e,ke=Mt!=this.pX,Be=Math.abs(fe.deltaX)):(ft=Cn===0?zt:Cn<0?Bt:Ze,ke=Cn!=this.pY,Be=Math.abs(fe.deltaY))),fe.direction=ft,ke&&Be>de.threshold&&ft&de.direction},attrTest:function(fe){return Lr.prototype.attrTest.call(this,fe)&&(this.state&pn||!(this.state&pn)&&this.directionTest(fe))},emit:function(fe){this.pX=fe.deltaX,this.pY=fe.deltaY;var de=xo(fe.direction);de&&(fe.additionalEvent=this.options.event+de),this._super.emit.call(this,fe)}});function ff(){Lr.apply(this,arguments)}A(ff,Lr,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Qi]},attrTest:function(fe){return this._super.attrTest.call(this,fe)&&(Math.abs(fe.scale-1)>this.options.threshold||this.state&pn)},emit:function(fe){if(fe.scale!==1){var de=fe.scale<1?"in":"out";fe.additionalEvent=this.options.event+de}this._super.emit.call(this,fe)}});function Ha(){nl.apply(this,arguments),this._timer=null,this._input=null}A(Ha,nl,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Dl]},process:function(fe){var de=this.options,ke=fe.pointers.length===de.pointers,Be=fe.distance<de.threshold,ft=fe.deltaTime>de.time;if(this._input=fe,!Be||!ke||fe.eventType&(ot|vt)&&!ft)this.reset();else if(fe.eventType&bt)this.reset(),this._timer=c(function(){this.state=tl,this.tryEmit()},de.time,this);else if(fe.eventType&ot)return tl;return jt},reset:function(){clearTimeout(this._timer)},emit:function(fe){this.state===tl&&(fe&&fe.eventType&ot?this.manager.emit(this.options.event+"up",fe):(this._input.timeStamp=f(),this.manager.emit(this.options.event,this._input)))}});function Xs(){Lr.apply(this,arguments)}A(Xs,Lr,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Qi]},attrTest:function(fe){return this._super.attrTest.call(this,fe)&&(Math.abs(fe.rotation)>this.options.threshold||this.state&pn)}});function Dr(){Lr.apply(this,arguments)}A(Dr,Lr,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:dt|Fe,pointers:1},getTouchAction:function(){return en.prototype.getTouchAction.call(this)},attrTest:function(fe){var de=this.options.direction,ke;return de&(dt|Fe)?ke=fe.overallVelocity:de&dt?ke=fe.overallVelocityX:de&Fe&&(ke=fe.overallVelocityY),this._super.attrTest.call(this,fe)&&de&fe.offsetDirection&&fe.distance>this.options.threshold&&fe.maxPointers==this.options.pointers&&u(ke)>this.options.velocity&&fe.eventType&ot},emit:function(fe){var de=xo(fe.offsetDirection);de&&this.manager.emit(this.options.event+de,fe),this.manager.emit(this.options.event,fe)}});function Uo(){nl.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}A(Uo,nl,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Bo]},process:function(fe){var de=this.options,ke=fe.pointers.length===de.pointers,Be=fe.distance<de.threshold,ft=fe.deltaTime<de.time;if(this.reset(),fe.eventType&bt&&this.count===0)return this.failTimeout();if(Be&&ft&&ke){if(fe.eventType!=ot)return this.failTimeout();var Mt=this.pTime?fe.timeStamp-this.pTime<de.interval:!0,Cn=!this.pCenter||on(this.pCenter,fe.center)<de.posThreshold;this.pTime=fe.timeStamp,this.pCenter=fe.center,!Cn||!Mt?this.count=1:this.count+=1,this._input=fe;var Ii=this.count%de.taps;if(Ii===0)return this.hasRequireFailures()?(this._timer=c(function(){this.state=tl,this.tryEmit()},de.interval,this),pn):tl}return jt},failTimeout:function(){return this._timer=c(function(){this.state=jt},this.options.interval,this),jt},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==tl&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function Fl(fe,de){return de=de||{},de.recognizers=L(de.recognizers,Fl.defaults.preset),new xa(fe,de)}Fl.VERSION="2.0.7",Fl.defaults={domEvents:!1,touchAction:Gi,enable:!0,inputTarget:null,inputClass:null,preset:[[Xs,{enable:!1}],[ff,{enable:!1},["rotate"]],[Dr,{direction:dt}],[en,{direction:dt},["swipe"]],[Uo],[Uo,{event:"doubletap",taps:2},["tap"]],[Ha]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var zo=1,Ba=2;function xa(fe,de){this.options=v({},Fl.defaults,de||{}),this.options.inputTarget=this.options.inputTarget||fe,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=fe,this.input=sn(this),this.touchAction=new $t(this,this.options.touchAction),Ua(this,!0),p(this.options.recognizers,function(ke){var Be=this.add(new ke[0](ke[1]));ke[2]&&Be.recognizeWith(ke[2]),ke[3]&&Be.requireFailure(ke[3])},this)}xa.prototype={set:function(fe){return v(this.options,fe),fe.touchAction&&this.touchAction.update(),fe.inputTarget&&(this.input.destroy(),this.input.target=fe.inputTarget,this.input.init()),this},stop:function(fe){this.session.stopped=fe?Ba:zo},recognize:function(fe){var de=this.session;if(!de.stopped){this.touchAction.preventDefaults(fe);var ke,Be=this.recognizers,ft=de.curRecognizer;(!ft||ft&&ft.state&tl)&&(ft=de.curRecognizer=null);for(var Mt=0;Mt<Be.length;)ke=Be[Mt],de.stopped!==Ba&&(!ft||ke==ft||ke.canRecognizeWith(ft))?ke.recognize(fe):ke.reset(),!ft&&ke.state&(pn|Mr|Ir)&&(ft=de.curRecognizer=ke),Mt++}},get:function(fe){if(fe instanceof nl)return fe;for(var de=this.recognizers,ke=0;ke<de.length;ke++)if(de[ke].options.event==fe)return de[ke];return null},add:function(fe){if(h(fe,"add",this))return this;var de=this.get(fe.options.event);return de&&this.remove(de),this.recognizers.push(fe),fe.manager=this,this.touchAction.update(),fe},remove:function(fe){if(h(fe,"remove",this))return this;if(fe=this.get(fe),fe){var de=this.recognizers,ke=q(de,fe);ke!==-1&&(de.splice(ke,1),this.touchAction.update())}return this},on:function(fe,de){if(fe!==r&&de!==r){var ke=this.handlers;return p(H(fe),function(Be){ke[Be]=ke[Be]||[],ke[Be].push(de)}),this}},off:function(fe,de){if(fe!==r){var ke=this.handlers;return p(H(fe),function(Be){de?ke[Be]&&ke[Be].splice(q(ke[Be],de),1):delete ke[Be]}),this}},emit:function(fe,de){this.options.domEvents&&p1(fe,de);var ke=this.handlers[fe]&&this.handlers[fe].slice();if(!(!ke||!ke.length)){de.type=fe,de.preventDefault=function(){de.srcEvent.preventDefault()};for(var Be=0;Be<ke.length;)ke[Be](de),Be++}},destroy:function(){this.element&&Ua(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function Ua(fe,de){var ke=fe.element;if(ke.style){var Be;p(fe.options.cssProps,function(ft,Mt){Be=W(ke.style,Mt),de?(fe.oldCssProps[Be]=ke.style[Be],ke.style[Be]=ft):ke.style[Be]=fe.oldCssProps[Be]||""}),de||(fe.oldCssProps={})}}function p1(fe,de){var ke=t.createEvent("Event");ke.initEvent(fe,!0,!0),ke.gesture=de,de.target.dispatchEvent(ke)}v(Fl,{INPUT_START:bt,INPUT_MOVE:At,INPUT_END:ot,INPUT_CANCEL:vt,STATE_POSSIBLE:gr,STATE_BEGAN:pn,STATE_CHANGED:Mr,STATE_ENDED:Ir,STATE_RECOGNIZED:tl,STATE_CANCELLED:rt,STATE_FAILED:jt,DIRECTION_NONE:zt,DIRECTION_LEFT:pt,DIRECTION_RIGHT:$e,DIRECTION_UP:Bt,DIRECTION_DOWN:Ze,DIRECTION_HORIZONTAL:dt,DIRECTION_VERTICAL:Fe,DIRECTION_ALL:Ft,Manager:xa,Input:Ue,TouchAction:$t,TouchInput:Rt,MouseInput:qt,PointerEventInput:wi,TouchMouseInput:st,SingleTouchInput:Ve,Recognizer:nl,AttrRecognizer:Lr,Tap:Uo,Pan:en,Swipe:Dr,Pinch:ff,Rotate:Xs,Press:Ha,on:I,off:R,each:p,merge:y,extend:b,assign:v,inherit:A,bindFn:M,prefixed:W});var m1=typeof e<"u"?e:typeof self<"u"?self:{};m1.Hammer=Fl,n.exports?n.exports=Fl:e[i]=Fl})(window,document,"Hammer")})(fA);var _x=fA.exports;const hc=Ju(_x);/*!
* chartjs-plugin-zoom v2.2.0
* https://www.chartjs.org/chartjs-plugin-zoom/2.2.0/
 * (c) 2016-2024 chartjs-plugin-zoom Contributors
 * Released under the MIT License
 */const xc=n=>n&&n.enabled&&n.modifierKey,cA=(n,e)=>n&&e[n+"Key"],E_=(n,e)=>n&&!e[n+"Key"];function Ro(n,e,t){return n===void 0?!0:typeof n=="string"?n.indexOf(e)!==-1:typeof n=="function"?n({chart:t}).indexOf(e)!==-1:!1}function Pm(n,e){return typeof n=="function"&&(n=n({chart:e})),typeof n=="string"?{x:n.indexOf("x")!==-1,y:n.indexOf("y")!==-1}:{x:!1,y:!1}}function bx(n,e){let t;return function(){return clearTimeout(t),t=setTimeout(n,e),e}}function vx({x:n,y:e},t){const i=t.scales,r=Object.keys(i);for(let l=0;l<r.length;l++){const s=i[r[l]];if(e>=s.top&&e<=s.bottom&&n>=s.left&&n<=s.right)return s}return null}function dA(n,e,t){const{mode:i="xy",scaleMode:r,overScaleMode:l}=n||{},s=vx(e,t),o=Pm(i,t),a=Pm(r,t);if(l){const f=Pm(l,t);for(const c of["x","y"])f[c]&&(a[c]=o[c],o[c]=!1)}if(s&&a[s.axis])return[s];const u=[];return On(t.scales,function(f){o[f.axis]&&u.push(f)}),u}const hg=new WeakMap;function gi(n){let e=hg.get(n);return e||(e={originalScaleLimits:{},updatedScaleLimits:{},handlers:{},panDelta:{},dragging:!1,panning:!1},hg.set(n,e)),e}function yx(n){hg.delete(n)}function hA(n,e,t,i){const r=Math.max(0,Math.min(1,(n-e)/t||0)),l=1-r;return{min:i*r,max:i*l}}function pA(n,e){const t=n.isHorizontal()?e.x:e.y;return n.getValueForPixel(t)}function mA(n,e,t){const i=n.max-n.min,r=i*(e-1),l=pA(n,t);return hA(l,n.min,i,r)}function kx(n,e,t){const i=pA(n,t);if(i===void 0)return{min:n.min,max:n.max};const r=Math.log10(n.min),l=Math.log10(n.max),s=Math.log10(i),o=l-r,a=o*(e-1),u=hA(s,r,o,a);return{min:Math.pow(10,r+u.min),max:Math.pow(10,l-u.max)}}function Tx(n,e){return e&&(e[n.id]||e[n.axis])||{}}function By(n,e,t,i,r){let l=t[i];if(l==="original"){const s=n.originalScaleLimits[e.id][i];l=zn(s.options,s.scale)}return zn(l,r)}function wx(n,e,t){const i=n.getValueForPixel(e),r=n.getValueForPixel(t);return{min:Math.min(i,r),max:Math.max(i,r)}}function Ex(n,{min:e,max:t,minLimit:i,maxLimit:r},l){const s=(n-t+e)/2;e-=s,t+=s;const o=l.min.options??l.min.scale,a=l.max.options??l.max.scale,u=n/1e6;return ya(e,o,u)&&(e=o),ya(t,a,u)&&(t=a),e<i?(e=i,t=Math.min(i+n,r)):t>r&&(t=r,e=Math.max(r-n,i)),{min:e,max:t}}function La(n,{min:e,max:t},i,r=!1){const l=gi(n.chart),{options:s}=n,o=Tx(n,i),{minRange:a=0}=o,u=By(l,n,o,"min",-1/0),f=By(l,n,o,"max",1/0);if(r==="pan"&&(e<u||t>f))return!0;const c=n.max-n.min,h=r?Math.max(t-e,a):c;if(r&&h===a&&c<=a)return!0;const p=Ex(h,{min:e,max:t,minLimit:u,maxLimit:f},l.originalScaleLimits[n.id]);return s.min=p.min,s.max=p.max,l.updatedScaleLimits[n.id]=p,n.parse(p.min)!==n.min||n.parse(p.max)!==n.max}function Sx(n,e,t,i){const r=mA(n,e,t),l={min:n.min+r.min,max:n.max-r.max};return La(n,l,i,!0)}function Cx(n,e,t,i){const r=kx(n,e,t);return La(n,r,i,!0)}function Ax(n,e,t,i){La(n,wx(n,e,t),i,!0)}const xy=n=>n===0||isNaN(n)?0:n<0?Math.min(Math.round(n),-1):Math.max(Math.round(n),1);function Ox(n){const t=n.getLabels().length-1;n.min>0&&(n.min-=1),n.max<t&&(n.max+=1)}function Nx(n,e,t,i){const r=mA(n,e,t);n.min===n.max&&e<1&&Ox(n);const l={min:n.min+xy(r.min),max:n.max-xy(r.max)};return La(n,l,i,!0)}function Mx(n){return n.isHorizontal()?n.width:n.height}function Ix(n,e,t){const r=n.getLabels().length-1;let{min:l,max:s}=n;const o=Math.max(s-l,1),a=Math.round(Mx(n)/Math.max(o,10)),u=Math.round(Math.abs(e/a));let f;return e<-a?(s=Math.min(s+u,r),l=o===1?s:s-o,f=s===r):e>a&&(l=Math.max(0,l-u),s=o===1?l:l+o,f=l===0),La(n,{min:l,max:s},t)||f}const Lx={second:500,minute:30*1e3,hour:30*60*1e3,day:12*60*60*1e3,week:3.5*24*60*60*1e3,month:15*24*60*60*1e3,quarter:60*24*60*60*1e3,year:182*24*60*60*1e3};function gA(n,e,t,i=!1){const{min:r,max:l,options:s}=n,o=s.time&&s.time.round,a=Lx[o]||0,u=n.getValueForPixel(n.getPixelForValue(r+a)-e),f=n.getValueForPixel(n.getPixelForValue(l+a)-e);return isNaN(u)||isNaN(f)?!0:La(n,{min:u,max:f},t,i?"pan":!1)}function Uy(n,e,t){return gA(n,e,t,!0)}const pg={category:Nx,default:Sx,logarithmic:Cx},mg={default:Ax},gg={category:Ix,default:gA,logarithmic:Uy,timeseries:Uy};function Dx(n,e,t){const{id:i,options:{min:r,max:l}}=n;if(!e[i]||!t[i])return!0;const s=t[i];return s.min!==r||s.max!==l}function zy(n,e){On(n,(t,i)=>{e[i]||delete n[i]})}function ef(n,e){const{scales:t}=n,{originalScaleLimits:i,updatedScaleLimits:r}=e;return On(t,function(l){Dx(l,i,r)&&(i[l.id]={min:{scale:l.min,options:l.options.min},max:{scale:l.max,options:l.options.max}})}),zy(i,t),zy(r,t),i}function qy(n,e,t,i){const r=pg[n.type]||pg.default;mn(r,[n,e,t,i])}function jy(n,e,t,i){const r=mg[n.type]||mg.default;mn(r,[n,e,t,i])}function Rx(n){const e=n.chartArea;return{x:(e.left+e.right)/2,y:(e.top+e.bottom)/2}}function S_(n,e,t="none",i="api"){const{x:r=1,y:l=1,focalPoint:s=Rx(n)}=typeof e=="number"?{x:e,y:e}:e,o=gi(n),{options:{limits:a,zoom:u}}=o;ef(n,o);const f=r!==1,c=l!==1,h=dA(u,s,n);On(h||n.scales,function(p){p.isHorizontal()&&f?qy(p,r,s,a):!p.isHorizontal()&&c&&qy(p,l,s,a)}),n.update(t),mn(u.onZoom,[{chart:n,trigger:i}])}function _A(n,e,t,i="none",r="api"){const l=gi(n),{options:{limits:s,zoom:o}}=l,{mode:a="xy"}=o;ef(n,l);const u=Ro(a,"x",n),f=Ro(a,"y",n);On(n.scales,function(c){c.isHorizontal()&&u?jy(c,e.x,t.x,s):!c.isHorizontal()&&f&&jy(c,e.y,t.y,s)}),n.update(i),mn(o.onZoom,[{chart:n,trigger:r}])}function Px(n,e,t,i="none",r="api"){var o;const l=gi(n);ef(n,l);const s=n.scales[e];La(s,t,void 0,!0),n.update(i),mn((o=l.options.zoom)==null?void 0:o.onZoom,[{chart:n,trigger:r}])}function Fx(n,e="default"){const t=gi(n),i=ef(n,t);On(n.scales,function(r){const l=r.options;i[r.id]?(l.min=i[r.id].min.options,l.max=i[r.id].max.options):(delete l.min,delete l.max),delete t.updatedScaleLimits[r.id]}),n.update(e),mn(t.options.zoom.onZoomComplete,[{chart:n}])}function $x(n,e){const t=n.originalScaleLimits[e];if(!t)return;const{min:i,max:r}=t;return zn(r.options,r.scale)-zn(i.options,i.scale)}function Hx(n){const e=gi(n);let t=1,i=1;return On(n.scales,function(r){const l=$x(e,r.id);if(l){const s=Math.round(l/(r.max-r.min)*100)/100;t=Math.min(t,s),i=Math.max(i,s)}}),t<1?t:i}function Wy(n,e,t,i){const{panDelta:r}=i,l=r[n.id]||0;Lo(l)===Lo(e)&&(e+=l);const s=gg[n.type]||gg.default;mn(s,[n,e,t])?r[n.id]=0:r[n.id]=e}function bA(n,e,t,i="none"){const{x:r=0,y:l=0}=typeof e=="number"?{x:e,y:e}:e,s=gi(n),{options:{pan:o,limits:a}}=s,{onPan:u}=o||{};ef(n,s);const f=r!==0,c=l!==0;On(t||n.scales,function(h){h.isHorizontal()&&f?Wy(h,r,a,s):!h.isHorizontal()&&c&&Wy(h,l,a,s)}),n.update(i),mn(u,[{chart:n}])}function vA(n){const e=gi(n);ef(n,e);const t={};for(const i of Object.keys(n.scales)){const{min:r,max:l}=e.originalScaleLimits[i]||{min:{},max:{}};t[i]={min:r.scale,max:l.scale}}return t}function Bx(n){const e=gi(n),t={};for(const i of Object.keys(n.scales))t[i]=e.updatedScaleLimits[i];return t}function xx(n){const e=vA(n);for(const t of Object.keys(n.scales)){const{min:i,max:r}=e[t];if(i!==void 0&&n.scales[t].min!==i||r!==void 0&&n.scales[t].max!==r)return!0}return!1}function Ky(n){const e=gi(n);return e.panning||e.dragging}const Vy=(n,e,t)=>Math.min(t,Math.max(e,n));function Ur(n,e){const{handlers:t}=gi(n),i=t[e];i&&i.target&&(i.target.removeEventListener(e,i),delete t[e])}function pc(n,e,t,i){const{handlers:r,options:l}=gi(n),s=r[t];if(s&&s.target===e)return;Ur(n,t),r[t]=a=>i(n,a,l),r[t].target=e;const o=t==="wheel"?!1:void 0;e.addEventListener(t,r[t],{passive:o})}function Ux(n,e){const t=gi(n);t.dragStart&&(t.dragging=!0,t.dragEnd=e,n.update("none"))}function zx(n,e){const t=gi(n);!t.dragStart||e.key!=="Escape"||(Ur(n,"keydown"),t.dragging=!1,t.dragStart=t.dragEnd=null,n.update("none"))}function _g(n,e){if(n.target!==e.canvas){const t=e.canvas.getBoundingClientRect();return{x:n.clientX-t.left,y:n.clientY-t.top}}return us(n,e)}function yA(n,e,t){const{onZoomStart:i,onZoomRejected:r}=t;if(i){const l=_g(e,n);if(mn(i,[{chart:n,event:e,point:l}])===!1)return mn(r,[{chart:n,event:e}]),!1}}function qx(n,e){if(n.legend){const l=us(e,n);if(Bu(l,n.legend))return}const t=gi(n),{pan:i,zoom:r={}}=t.options;if(e.button!==0||cA(xc(i),e)||E_(xc(r.drag),e))return mn(r.onZoomRejected,[{chart:n,event:e}]);yA(n,e,r)!==!1&&(t.dragStart=e,pc(n,n.canvas.ownerDocument,"mousemove",Ux),pc(n,window.document,"keydown",zx))}function jx({begin:n,end:e},t){let i=e.x-n.x,r=e.y-n.y;const l=Math.abs(i/r);l>t?i=Math.sign(i)*Math.abs(r*t):l<t&&(r=Math.sign(r)*Math.abs(i/t)),e.x=n.x+i,e.y=n.y+r}function Gy(n,e,t,{min:i,max:r,prop:l}){n[i]=Vy(Math.min(t.begin[l],t.end[l]),e[i],e[r]),n[r]=Vy(Math.max(t.begin[l],t.end[l]),e[i],e[r])}function Wx(n,e,t){const i={begin:_g(e.dragStart,n),end:_g(e.dragEnd,n)};if(t){const r=n.chartArea.width/n.chartArea.height;jx(i,r)}return i}function kA(n,e,t,i){const r=Ro(e,"x",n),l=Ro(e,"y",n),{top:s,left:o,right:a,bottom:u,width:f,height:c}=n.chartArea,h={top:s,left:o,right:a,bottom:u},p=Wx(n,t,i&&r&&l);r&&Gy(h,n.chartArea,p,{min:"left",max:"right",prop:"x"}),l&&Gy(h,n.chartArea,p,{min:"top",max:"bottom",prop:"y"});const _=h.right-h.left,v=h.bottom-h.top;return{...h,width:_,height:v,zoomX:r&&_?1+(f-_)/f:1,zoomY:l&&v?1+(c-v)/c:1}}function Kx(n,e){const t=gi(n);if(!t.dragStart)return;Ur(n,"mousemove");const{mode:i,onZoomComplete:r,drag:{threshold:l=0,maintainAspectRatio:s}}=t.options.zoom,o=kA(n,i,{dragStart:t.dragStart,dragEnd:e},s),a=Ro(i,"x",n)?o.width:0,u=Ro(i,"y",n)?o.height:0,f=Math.sqrt(a*a+u*u);if(t.dragStart=t.dragEnd=null,f<=l){t.dragging=!1,n.update("none");return}_A(n,{x:o.left,y:o.top},{x:o.right,y:o.bottom},"zoom","drag"),t.dragging=!1,t.filterNextClick=!0,mn(r,[{chart:n}])}function Vx(n,e,t){if(E_(xc(t.wheel),e)){mn(t.onZoomRejected,[{chart:n,event:e}]);return}if(yA(n,e,t)!==!1&&(e.cancelable&&e.preventDefault(),e.deltaY!==void 0))return!0}function Gx(n,e){const{handlers:{onZoomComplete:t},options:{zoom:i}}=gi(n);if(!Vx(n,e,i))return;const r=e.target.getBoundingClientRect(),l=i.wheel.speed,s=e.deltaY>=0?2-1/(1-l):1+l,o={x:s,y:s,focalPoint:{x:e.clientX-r.left,y:e.clientY-r.top}};S_(n,o,"zoom","wheel"),mn(t,[{chart:n}])}function Yx(n,e,t,i){t&&(gi(n).handlers[e]=bx(()=>mn(t,[{chart:n}]),i))}function Xx(n,e){const t=n.canvas,{wheel:i,drag:r,onZoomComplete:l}=e.zoom;i.enabled?(pc(n,t,"wheel",Gx),Yx(n,"onZoomComplete",l,250)):Ur(n,"wheel"),r.enabled?(pc(n,t,"mousedown",qx),pc(n,t.ownerDocument,"mouseup",Kx)):(Ur(n,"mousedown"),Ur(n,"mousemove"),Ur(n,"mouseup"),Ur(n,"keydown"))}function Zx(n){Ur(n,"mousedown"),Ur(n,"mousemove"),Ur(n,"mouseup"),Ur(n,"wheel"),Ur(n,"click"),Ur(n,"keydown")}function Qx(n,e){return function(t,i){const{pan:r,zoom:l={}}=e.options;if(!r||!r.enabled)return!1;const s=i&&i.srcEvent;return s&&!e.panning&&i.pointerType==="mouse"&&(E_(xc(r),s)||cA(xc(l.drag),s))?(mn(r.onPanRejected,[{chart:n,event:i}]),!1):!0}}function Jx(n,e){const t=Math.abs(n.clientX-e.clientX),i=Math.abs(n.clientY-e.clientY),r=t/i;let l,s;return r>.3&&r<1.7?l=s=!0:t>i?l=!0:s=!0,{x:l,y:s}}function TA(n,e,t){if(e.scale){const{center:i,pointers:r}=t,l=1/e.scale*t.scale,s=t.target.getBoundingClientRect(),o=Jx(r[0],r[1]),a=e.options.zoom.mode,u={x:o.x&&Ro(a,"x",n)?l:1,y:o.y&&Ro(a,"y",n)?l:1,focalPoint:{x:i.x-s.left,y:i.y-s.top}};S_(n,u,"zoom","pinch"),e.scale=t.scale}}function eU(n,e,t){if(e.options.zoom.pinch.enabled){const i=us(t,n);mn(e.options.zoom.onZoomStart,[{chart:n,event:t,point:i}])===!1?(e.scale=null,mn(e.options.zoom.onZoomRejected,[{chart:n,event:t}])):e.scale=1}}function tU(n,e,t){e.scale&&(TA(n,e,t),e.scale=null,mn(e.options.zoom.onZoomComplete,[{chart:n}]))}function wA(n,e,t){const i=e.delta;i&&(e.panning=!0,bA(n,{x:t.deltaX-i.x,y:t.deltaY-i.y},e.panScales),e.delta={x:t.deltaX,y:t.deltaY})}function nU(n,e,t){const{enabled:i,onPanStart:r,onPanRejected:l}=e.options.pan;if(!i)return;const s=t.target.getBoundingClientRect(),o={x:t.center.x-s.left,y:t.center.y-s.top};if(mn(r,[{chart:n,event:t,point:o}])===!1)return mn(l,[{chart:n,event:t}]);e.panScales=dA(e.options.pan,o,n),e.delta={x:0,y:0},wA(n,e,t)}function iU(n,e){e.delta=null,e.panning&&(e.panning=!1,e.filterNextClick=!0,mn(e.options.pan.onPanComplete,[{chart:n}]))}const bg=new WeakMap;function Yy(n,e){const t=gi(n),i=n.canvas,{pan:r,zoom:l}=e,s=new hc.Manager(i);l&&l.pinch.enabled&&(s.add(new hc.Pinch),s.on("pinchstart",o=>eU(n,t,o)),s.on("pinch",o=>TA(n,t,o)),s.on("pinchend",o=>tU(n,t,o))),r&&r.enabled&&(s.add(new hc.Pan({threshold:r.threshold,enable:Qx(n,t)})),s.on("panstart",o=>nU(n,t,o)),s.on("panmove",o=>wA(n,t,o)),s.on("panend",()=>iU(n,t))),bg.set(n,s)}function Xy(n){const e=bg.get(n);e&&(e.remove("pinchstart"),e.remove("pinch"),e.remove("pinchend"),e.remove("panstart"),e.remove("pan"),e.remove("panend"),e.destroy(),bg.delete(n))}function rU(n,e){var s,o,a,u;const{pan:t,zoom:i}=n,{pan:r,zoom:l}=e;return((o=(s=i==null?void 0:i.zoom)==null?void 0:s.pinch)==null?void 0:o.enabled)!==((u=(a=l==null?void 0:l.zoom)==null?void 0:a.pinch)==null?void 0:u.enabled)||(t==null?void 0:t.enabled)!==(r==null?void 0:r.enabled)||(t==null?void 0:t.threshold)!==(r==null?void 0:r.threshold)}var lU="2.2.0";function dd(n,e,t){const i=t.zoom.drag,{dragStart:r,dragEnd:l}=gi(n);if(i.drawTime!==e||!l)return;const{left:s,top:o,width:a,height:u}=kA(n,t.zoom.mode,{dragStart:r,dragEnd:l},i.maintainAspectRatio),f=n.ctx;f.save(),f.beginPath(),f.fillStyle=i.backgroundColor||"rgba(225,225,225,0.3)",f.fillRect(s,o,a,u),i.borderWidth>0&&(f.lineWidth=i.borderWidth,f.strokeStyle=i.borderColor||"rgba(225,225,225)",f.strokeRect(s,o,a,u)),f.restore()}var sU={id:"zoom",version:lU,defaults:{pan:{enabled:!1,mode:"xy",threshold:10,modifierKey:null},zoom:{wheel:{enabled:!1,speed:.1,modifierKey:null},drag:{enabled:!1,drawTime:"beforeDatasetsDraw",modifierKey:null},pinch:{enabled:!1},mode:"xy"}},start:function(n,e,t){const i=gi(n);i.options=t,Object.prototype.hasOwnProperty.call(t.zoom,"enabled")&&console.warn("The option `zoom.enabled` is no longer supported. Please use `zoom.wheel.enabled`, `zoom.drag.enabled`, or `zoom.pinch.enabled`."),(Object.prototype.hasOwnProperty.call(t.zoom,"overScaleMode")||Object.prototype.hasOwnProperty.call(t.pan,"overScaleMode"))&&console.warn("The option `overScaleMode` is deprecated. Please use `scaleMode` instead (and update `mode` as desired)."),hc&&Yy(n,t),n.pan=(r,l,s)=>bA(n,r,l,s),n.zoom=(r,l)=>S_(n,r,l),n.zoomRect=(r,l,s)=>_A(n,r,l,s),n.zoomScale=(r,l,s)=>Px(n,r,l,s),n.resetZoom=r=>Fx(n,r),n.getZoomLevel=()=>Hx(n),n.getInitialScaleBounds=()=>vA(n),n.getZoomedScaleBounds=()=>Bx(n),n.isZoomedOrPanned=()=>xx(n),n.isZoomingOrPanning=()=>Ky(n)},beforeEvent(n,{event:e}){if(Ky(n))return!1;if(e.type==="click"||e.type==="mouseup"){const t=gi(n);if(t.filterNextClick)return t.filterNextClick=!1,!1}},beforeUpdate:function(n,e,t){const i=gi(n),r=i.options;i.options=t,rU(r,t)&&(Xy(n),Yy(n,t)),Xx(n,t)},beforeDatasetsDraw(n,e,t){dd(n,"beforeDatasetsDraw",t)},afterDatasetsDraw(n,e,t){dd(n,"afterDatasetsDraw",t)},beforeDraw(n,e,t){dd(n,"beforeDraw",t)},afterDraw(n,e,t){dd(n,"afterDraw",t)},stop:function(n){Zx(n),hc&&Xy(n),yx(n)},panFunctions:gg,zoomFunctions:pg,zoomRectFunctions:mg};function Zy(n){let e,t,i;return{c(){e=k("div"),m(e,"class","chart-loader loader svelte-kfnurg")},m(r,l){S(r,e,l),i=!0},i(r){i||(r&&tn(()=>{i&&(t||(t=Et(e,Bn,{duration:150},!0)),t.run(1))}),i=!0)},o(r){r&&(t||(t=Et(e,Bn,{duration:150},!1)),t.run(0)),i=!1},d(r){r&&E(e),r&&t&&t.end()}}}function Qy(n){let e,t,i;return{c(){e=k("button"),e.textContent="Reset zoom",m(e,"type","button"),m(e,"class","btn btn-secondary btn-sm btn-chart-zoom svelte-kfnurg")},m(r,l){S(r,e,l),t||(i=se(e,"click",n[4]),t=!0)},p:ge,d(r){r&&E(e),t=!1,i()}}}function oU(n){let e,t,i,r,l,s=n[1]==1?"log":"logs",o,a,u,f,c,h,p,_=n[2]&&Zy(),v=n[3]&&Qy(n);return{c(){e=k("div"),t=k("div"),i=le("Found "),r=le(n[1]),l=D(),o=le(s),a=D(),_&&_.c(),u=D(),f=k("canvas"),c=D(),v&&v.c(),m(t,"class","total-logs entrance-right svelte-kfnurg"),he(t,"hidden",n[2]),m(f,"class","chart-canvas svelte-kfnurg"),m(e,"class","chart-wrapper svelte-kfnurg"),he(e,"loading",n[2])},m(b,y){S(b,e,y),T(e,t),T(t,i),T(t,r),T(t,l),T(t,o),T(e,a),_&&_.m(e,null),T(e,u),T(e,f),n[11](f),T(e,c),v&&v.m(e,null),h||(p=se(f,"dblclick",n[4]),h=!0)},p(b,[y]){y&2&&Se(r,b[1]),y&2&&s!==(s=b[1]==1?"log":"logs")&&Se(o,s),y&4&&he(t,"hidden",b[2]),b[2]?_?y&4&&F(_,1):(_=Zy(),_.c(),F(_,1),_.m(e,u)):_&&(Ne(),x(_,1,1,()=>{_=null}),Me()),b[3]?v?v.p(b,y):(v=Qy(b),v.c(),v.m(e,null)):v&&(v.d(1),v=null),y&4&&he(e,"loading",b[2])},i(b){F(_)},o(b){x(_)},d(b){b&&E(e),_&&_.d(),n[11](null),v&&v.d(),h=!1,p()}}}function aU(n,e,t){let{filter:i=""}=e,{zoom:r={}}=e,{presets:l=""}=e,s,o,a=[],u=0,f=!1,c=!1;async function h(){t(2,f=!0);const b=[l,re.normalizeLogsFilter(i)].filter(Boolean).map(y=>"("+y+")").join("&&");return xe.logs.getStats({filter:b}).then(y=>{p(),y=re.toArray(y);for(let A of y)a.push({x:new Date(A.date),y:A.total}),t(1,u+=A.total)}).catch(y=>{y!=null&&y.isAbort||(p(),console.warn(y),xe.error(y,!b||(y==null?void 0:y.status)!=400))}).finally(()=>{t(2,f=!1)})}function p(){t(10,a=[]),t(1,u=0)}function _(){o==null||o.resetZoom()}hi(()=>(fs.register(Eo,Yd,Kd,dg,Bc,nx,fx),fs.register(sU),t(9,o=new fs(s,{type:"line",data:{datasets:[{label:"Total requests",data:a,borderColor:"#e34562",pointBackgroundColor:"#e34562",backgroundColor:"rgb(239,69,101,0.05)",borderWidth:2,pointRadius:1,pointBorderWidth:0,fill:!0}]},options:{resizeDelay:250,maintainAspectRatio:!1,animation:!1,interaction:{intersect:!1,mode:"index"},scales:{y:{beginAtZero:!0,grid:{color:"#edf0f3"},border:{color:"#e4e9ec"},ticks:{precision:0,maxTicksLimit:4,autoSkip:!0,color:"#666f75"}},x:{type:"time",time:{unit:"hour",tooltipFormat:"DD h a"},grid:{color:b=>{var y;return(y=b.tick)!=null&&y.major?"#edf0f3":""}},color:"#e4e9ec",ticks:{maxTicksLimit:15,autoSkip:!0,maxRotation:0,major:{enabled:!0},color:b=>{var y;return(y=b.tick)!=null&&y.major?"#16161a":"#666f75"}}}},plugins:{legend:{display:!1},zoom:{enabled:!0,zoom:{mode:"x",pinch:{enabled:!0},drag:{enabled:!0,backgroundColor:"rgba(255, 99, 132, 0.2)",borderWidth:0,threshold:10},limits:{x:{minRange:1e8},y:{minRange:1e8}},onZoomComplete:({chart:b})=>{t(3,c=b.isZoomedOrPanned()),c?(t(5,r.min=re.formatToUTCDate(b.scales.x.min,"yyyy-MM-dd HH")+":00:00.000Z",r),t(5,r.max=re.formatToUTCDate(b.scales.x.max,"yyyy-MM-dd HH")+":59:59.999Z",r)):(r.min||r.max)&&t(5,r={})}}}}}})),()=>o==null?void 0:o.destroy()));function v(b){ye[b?"unshift":"push"](()=>{s=b,t(0,s)})}return n.$$set=b=>{"filter"in b&&t(6,i=b.filter),"zoom"in b&&t(5,r=b.zoom),"presets"in b&&t(7,l=b.presets)},n.$$.update=()=>{n.$$.dirty&192&&(typeof i<"u"||typeof l<"u")&&h(),n.$$.dirty&1536&&typeof a<"u"&&o&&(t(9,o.data.datasets[0].data=a,o),o.update())},[s,u,f,c,_,r,i,l,h,o,a,v]}class uU extends je{constructor(e){super(),qe(this,e,aU,oU,We,{filter:6,zoom:5,presets:7,load:8})}get load(){return this.$$.ctx[8]}}function fU(n){let e,t,i;return{c(){e=k("div"),t=k("code"),m(t,"class","svelte-s3jkbp"),m(e,"class",i="code-wrapper prism-light "+n[0]+" svelte-s3jkbp")},m(r,l){S(r,e,l),T(e,t),t.innerHTML=n[1]},p(r,[l]){l&2&&(t.innerHTML=r[1]),l&1&&i!==(i="code-wrapper prism-light "+r[0]+" svelte-s3jkbp")&&m(e,"class",i)},i:ge,o:ge,d(r){r&&E(e)}}}function cU(n,e,t){let{content:i=""}=e,{language:r="javascript"}=e,{class:l=""}=e,s="";function o(a){return a=typeof a=="string"?a:"",a=Prism.plugins.NormalizeWhitespace.normalize(a,{"remove-trailing":!0,"remove-indent":!0,"left-trim":!0,"right-trim":!0}),Prism.highlight(a,Prism.languages[r]||Prism.languages.javascript,r)}return n.$$set=a=>{"content"in a&&t(2,i=a.content),"language"in a&&t(3,r=a.language),"class"in a&&t(0,l=a.class)},n.$$.update=()=>{n.$$.dirty&4&&typeof Prism<"u"&&i&&t(1,s=o(i))},[l,s,i,r]}class C_ extends je{constructor(e){super(),qe(this,e,cU,fU,We,{content:2,language:3,class:0})}}function dU(n){let e,t,i,r,l;return{c(){e=k("i"),m(e,"tabindex","-1"),m(e,"role","button"),m(e,"class",t=n[3]?n[2]:n[1]),m(e,"aria-label","Copy to clipboard")},m(s,o){S(s,e,o),r||(l=[nt(i=_t.call(null,e,n[3]?void 0:n[0])),se(e,"click",Ai(n[4]))],r=!0)},p(s,[o]){o&14&&t!==(t=s[3]?s[2]:s[1])&&m(e,"class",t),i&&Kn(i.update)&&o&9&&i.update.call(null,s[3]?void 0:s[0])},i:ge,o:ge,d(s){s&&E(e),r=!1,it(l)}}}function hU(n,e,t){let{value:i=""}=e,{tooltip:r="Copy"}=e,{idleClasses:l="ri-file-copy-line txt-sm link-hint"}=e,{successClasses:s="ri-check-line txt-sm txt-success"}=e,{successDuration:o=500}=e,a;function u(){re.isEmpty(i)||(re.copyToClipboard(i),clearTimeout(a),t(3,a=setTimeout(()=>{clearTimeout(a),t(3,a=null)},o)))}return hi(()=>()=>{a&&clearTimeout(a)}),n.$$set=f=>{"value"in f&&t(5,i=f.value),"tooltip"in f&&t(0,r=f.tooltip),"idleClasses"in f&&t(1,l=f.idleClasses),"successClasses"in f&&t(2,s=f.successClasses),"successDuration"in f&&t(6,o=f.successDuration)},[r,l,s,a,u,i,o]}class bs extends je{constructor(e){super(),qe(this,e,hU,dU,We,{value:5,tooltip:0,idleClasses:1,successClasses:2,successDuration:6})}}function Jy(n,e,t){const i=n.slice();i[16]=e[t];const r=i[1].data[i[16]];i[17]=r;const l=re.isEmpty(i[17]);i[18]=l;const s=!i[18]&&i[17]!==null&&typeof i[17]=="object";return i[19]=s,i}function pU(n){let e,t,i,r,l,s,o,a=n[1].id+"",u,f,c,h,p,_,v,b,y,A,M,N,L,I,R,$,B,H,q,z,j,W,G,ie,te;h=new bs({props:{value:n[1].id}}),A=new E7({props:{level:n[1].level}}),L=new bs({props:{value:n[1].level}}),q=new w7({props:{date:n[1].created}}),W=new bs({props:{value:n[1].created}});let ae=!n[4]&&e9(n),ue=Re(n[5](n[1].data)),K=[];for(let _e=0;_e<ue.length;_e+=1)K[_e]=n9(Jy(n,ue,_e));const X=_e=>x(K[_e],1,1,()=>{K[_e]=null});return{c(){e=k("table"),t=k("tbody"),i=k("tr"),r=k("td"),r.textContent="id",l=D(),s=k("td"),o=k("span"),u=le(a),f=D(),c=k("div"),ee(h.$$.fragment),p=D(),_=k("tr"),v=k("td"),v.textContent="level",b=D(),y=k("td"),ee(A.$$.fragment),M=D(),N=k("div"),ee(L.$$.fragment),I=D(),R=k("tr"),$=k("td"),$.textContent="created",B=D(),H=k("td"),ee(q.$$.fragment),z=D(),j=k("div"),ee(W.$$.fragment),G=D(),ae&&ae.c(),ie=D();for(let _e=0;_e<K.length;_e+=1)K[_e].c();m(r,"class","min-width txt-hint txt-bold svelte-1c23bpt"),m(o,"class","txt"),m(c,"class","copy-icon-wrapper svelte-1c23bpt"),m(s,"class","svelte-1c23bpt"),m(i,"class","svelte-1c23bpt"),m(v,"class","min-width txt-hint txt-bold svelte-1c23bpt"),m(N,"class","copy-icon-wrapper svelte-1c23bpt"),m(y,"class","svelte-1c23bpt"),m(_,"class","svelte-1c23bpt"),m($,"class","min-width txt-hint txt-bold svelte-1c23bpt"),m(j,"class","copy-icon-wrapper svelte-1c23bpt"),m(H,"class","svelte-1c23bpt"),m(R,"class","svelte-1c23bpt"),m(e,"class","table-border")},m(_e,oe){S(_e,e,oe),T(e,t),T(t,i),T(i,r),T(i,l),T(i,s),T(s,o),T(o,u),T(s,f),T(s,c),Q(h,c,null),T(t,p),T(t,_),T(_,v),T(_,b),T(_,y),Q(A,y,null),T(y,M),T(y,N),Q(L,N,null),T(t,I),T(t,R),T(R,$),T(R,B),T(R,H),Q(q,H,null),T(H,z),T(H,j),Q(W,j,null),T(t,G),ae&&ae.m(t,null),T(t,ie);for(let Le=0;Le<K.length;Le+=1)K[Le]&&K[Le].m(t,null);te=!0},p(_e,oe){(!te||oe&2)&&a!==(a=_e[1].id+"")&&Se(u,a);const Le={};oe&2&&(Le.value=_e[1].id),h.$set(Le);const lt={};oe&2&&(lt.level=_e[1].level),A.$set(lt);const St={};oe&2&&(St.value=_e[1].level),L.$set(St);const bt={};oe&2&&(bt.date=_e[1].created),q.$set(bt);const At={};if(oe&2&&(At.value=_e[1].created),W.$set(At),_e[4]?ae&&(Ne(),x(ae,1,1,()=>{ae=null}),Me()):ae?(ae.p(_e,oe),oe&16&&F(ae,1)):(ae=e9(_e),ae.c(),F(ae,1),ae.m(t,ie)),oe&50){ue=Re(_e[5](_e[1].data));let ot;for(ot=0;ot<ue.length;ot+=1){const vt=Jy(_e,ue,ot);K[ot]?(K[ot].p(vt,oe),F(K[ot],1)):(K[ot]=n9(vt),K[ot].c(),F(K[ot],1),K[ot].m(t,null))}for(Ne(),ot=ue.length;ot<K.length;ot+=1)X(ot);Me()}},i(_e){if(!te){F(h.$$.fragment,_e),F(A.$$.fragment,_e),F(L.$$.fragment,_e),F(q.$$.fragment,_e),F(W.$$.fragment,_e),F(ae);for(let oe=0;oe<ue.length;oe+=1)F(K[oe]);te=!0}},o(_e){x(h.$$.fragment,_e),x(A.$$.fragment,_e),x(L.$$.fragment,_e),x(q.$$.fragment,_e),x(W.$$.fragment,_e),x(ae),K=K.filter(Boolean);for(let oe=0;oe<K.length;oe+=1)x(K[oe]);te=!1},d(_e){_e&&E(e),J(h),J(A),J(L),J(q),J(W),ae&&ae.d(),fn(K,_e)}}}function mU(n){let e;return{c(){e=k("div"),e.innerHTML='<span class="loader"></span>',m(e,"class","block txt-center")},m(t,i){S(t,e,i)},p:ge,i:ge,o:ge,d(t){t&&E(e)}}}function e9(n){let e,t,i,r,l,s,o;const a=[_U,gU],u=[];function f(c,h){return c[1].message?0:1}return l=f(n),s=u[l]=a[l](n),{c(){e=k("tr"),t=k("td"),t.textContent="message",i=D(),r=k("td"),s.c(),m(t,"class","min-width txt-hint txt-bold svelte-1c23bpt"),m(r,"class","svelte-1c23bpt"),m(e,"class","svelte-1c23bpt")},m(c,h){S(c,e,h),T(e,t),T(e,i),T(e,r),u[l].m(r,null),o=!0},p(c,h){let p=l;l=f(c),l===p?u[l].p(c,h):(Ne(),x(u[p],1,1,()=>{u[p]=null}),Me(),s=u[l],s?s.p(c,h):(s=u[l]=a[l](c),s.c()),F(s,1),s.m(r,null))},i(c){o||(F(s),o=!0)},o(c){x(s),o=!1},d(c){c&&E(e),u[l].d()}}}function gU(n){let e;return{c(){e=k("span"),e.textContent="N/A",m(e,"class","txt txt-hint")},m(t,i){S(t,e,i)},p:ge,i:ge,o:ge,d(t){t&&E(e)}}}function _U(n){let e,t=n[1].message+"",i,r,l,s,o;return s=new bs({props:{value:n[1].message}}),{c(){e=k("span"),i=le(t),r=D(),l=k("div"),ee(s.$$.fragment),m(e,"class","txt"),m(l,"class","copy-icon-wrapper svelte-1c23bpt")},m(a,u){S(a,e,u),T(e,i),S(a,r,u),S(a,l,u),Q(s,l,null),o=!0},p(a,u){(!o||u&2)&&t!==(t=a[1].message+"")&&Se(i,t);const f={};u&2&&(f.value=a[1].message),s.$set(f)},i(a){o||(F(s.$$.fragment,a),o=!0)},o(a){x(s.$$.fragment,a),o=!1},d(a){a&&(E(e),E(r),E(l)),J(s)}}}function bU(n){let e,t=n[17]+"",i,r=n[4]&&n[16]=="execTime"?"ms":"",l;return{c(){e=k("span"),i=le(t),l=le(r),m(e,"class","txt")},m(s,o){S(s,e,o),T(e,i),T(e,l)},p(s,o){o&2&&t!==(t=s[17]+"")&&Se(i,t),o&18&&r!==(r=s[4]&&s[16]=="execTime"?"ms":"")&&Se(l,r)},i:ge,o:ge,d(s){s&&E(e)}}}function vU(n){let e,t;return e=new C_({props:{content:n[17],language:"html"}}),{c(){ee(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,r){const l={};r&2&&(l.content=i[17]),e.$set(l)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){x(e.$$.fragment,i),t=!1},d(i){J(e,i)}}}function yU(n){let e,t=n[17]+"",i;return{c(){e=k("span"),i=le(t),m(e,"class","label label-danger log-error-label svelte-1c23bpt")},m(r,l){S(r,e,l),T(e,i)},p(r,l){l&2&&t!==(t=r[17]+"")&&Se(i,t)},i:ge,o:ge,d(r){r&&E(e)}}}function kU(n){let e,t;return e=new C_({props:{content:JSON.stringify(n[17],null,2)}}),{c(){ee(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,r){const l={};r&2&&(l.content=JSON.stringify(i[17],null,2)),e.$set(l)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){x(e.$$.fragment,i),t=!1},d(i){J(e,i)}}}function TU(n){let e;return{c(){e=k("span"),e.textContent="N/A",m(e,"class","txt txt-hint")},m(t,i){S(t,e,i)},p:ge,i:ge,o:ge,d(t){t&&E(e)}}}function t9(n){let e,t,i;return t=new bs({props:{value:n[17]}}),{c(){e=k("div"),ee(t.$$.fragment),m(e,"class","copy-icon-wrapper svelte-1c23bpt")},m(r,l){S(r,e,l),Q(t,e,null),i=!0},p(r,l){const s={};l&2&&(s.value=r[17]),t.$set(s)},i(r){i||(F(t.$$.fragment,r),i=!0)},o(r){x(t.$$.fragment,r),i=!1},d(r){r&&E(e),J(t)}}}function n9(n){let e,t,i,r=n[16]+"",l,s,o,a,u,f,c,h;const p=[TU,kU,yU,vU,bU],_=[];function v(y,A){return y[18]?0:y[19]?1:y[16]=="error"?2:y[16]=="details"?3:4}a=v(n),u=_[a]=p[a](n);let b=!n[18]&&t9(n);return{c(){e=k("tr"),t=k("td"),i=le("data."),l=le(r),s=D(),o=k("td"),u.c(),f=D(),b&&b.c(),c=D(),m(t,"class","min-width txt-hint txt-bold svelte-1c23bpt"),he(t,"v-align-top",n[19]),m(o,"class","svelte-1c23bpt"),m(e,"class","svelte-1c23bpt")},m(y,A){S(y,e,A),T(e,t),T(t,i),T(t,l),T(e,s),T(e,o),_[a].m(o,null),T(o,f),b&&b.m(o,null),T(e,c),h=!0},p(y,A){(!h||A&2)&&r!==(r=y[16]+"")&&Se(l,r),(!h||A&34)&&he(t,"v-align-top",y[19]);let M=a;a=v(y),a===M?_[a].p(y,A):(Ne(),x(_[M],1,1,()=>{_[M]=null}),Me(),u=_[a],u?u.p(y,A):(u=_[a]=p[a](y),u.c()),F(u,1),u.m(o,f)),y[18]?b&&(Ne(),x(b,1,1,()=>{b=null}),Me()):b?(b.p(y,A),A&2&&F(b,1)):(b=t9(y),b.c(),F(b,1),b.m(o,null))},i(y){h||(F(u),F(b),h=!0)},o(y){x(u),x(b),h=!1},d(y){y&&E(e),_[a].d(),b&&b.d()}}}function wU(n){let e,t,i,r;const l=[mU,pU],s=[];function o(a,u){var f;return a[3]?0:(f=a[1])!=null&&f.id?1:-1}return~(e=o(n))&&(t=s[e]=l[e](n)),{c(){t&&t.c(),i=ze()},m(a,u){~e&&s[e].m(a,u),S(a,i,u),r=!0},p(a,u){let f=e;e=o(a),e===f?~e&&s[e].p(a,u):(t&&(Ne(),x(s[f],1,1,()=>{s[f]=null}),Me()),~e?(t=s[e],t?t.p(a,u):(t=s[e]=l[e](a),t.c()),F(t,1),t.m(i.parentNode,i)):t=null)},i(a){r||(F(t),r=!0)},o(a){x(t),r=!1},d(a){a&&E(i),~e&&s[e].d(a)}}}function EU(n){let e;return{c(){e=k("h4"),e.textContent="Log details"},m(t,i){S(t,e,i)},p:ge,d(t){t&&E(e)}}}function SU(n){let e,t,i,r,l,s,o,a;return{c(){e=k("button"),e.innerHTML='<span class="txt">Close</span>',t=D(),i=k("button"),r=k("i"),l=D(),s=k("span"),s.textContent="Download as JSON",m(e,"type","button"),m(e,"class","btn btn-transparent"),m(r,"class","ri-download-line"),m(s,"class","txt"),m(i,"type","button"),m(i,"class","btn btn-primary"),i.disabled=n[3]},m(u,f){S(u,e,f),S(u,t,f),S(u,i,f),T(i,r),T(i,l),T(i,s),o||(a=[se(e,"click",n[9]),se(i,"click",n[10])],o=!0)},p(u,f){f&8&&(i.disabled=u[3])},d(u){u&&(E(e),E(t),E(i)),o=!1,it(a)}}}function CU(n){let e,t,i={class:"overlay-panel-lg log-panel",$$slots:{footer:[SU],header:[EU],default:[wU]},$$scope:{ctx:n}};return e=new Mi({props:i}),n[11](e),e.$on("hide",n[7]),{c(){ee(e.$$.fragment)},m(r,l){Q(e,r,l),t=!0},p(r,[l]){const s={};l&4194330&&(s.$$scope={dirty:l,ctx:r}),e.$set(s)},i(r){t||(F(e.$$.fragment,r),t=!0)},o(r){x(e.$$.fragment,r),t=!1},d(r){n[11](null),J(e,r)}}}const i9="log_view";function AU(n,e,t){let i;const r=Sn();let l,s={},o=!1;function a(M){return f(M).then(N=>{t(1,s=N),_()}),l==null?void 0:l.show()}function u(){return xe.cancelRequest(i9),l==null?void 0:l.hide()}async function f(M){if(M&&typeof M!="string")return t(3,o=!1),M;t(3,o=!0);let N={};try{N=await xe.logs.getOne(M,{requestKey:i9})}catch(L){L.isAbort||(u(),console.warn("resolveModel:",L),Ts(`Unable to load log with id "${M}"`))}return t(3,o=!1),N}const c=["execTime","type","auth","authId","status","method","url","referer","remoteIP","userIP","userAgent","error","details"];function h(M){if(!M)return[];let N=[];for(let I of c)typeof M[I]<"u"&&N.push(I);const L=Object.keys(M);for(let I of L)N.includes(I)||N.push(I);return N}function p(){re.downloadJson(s,"log_"+s.created.replaceAll(/[-:\. ]/gi,"")+".json")}function _(){r("show",s)}function v(){r("hide",s),t(1,s={})}const b=()=>u(),y=()=>p();function A(M){ye[M?"unshift":"push"](()=>{l=M,t(2,l)})}return n.$$.update=()=>{var M;n.$$.dirty&2&&t(4,i=((M=s.data)==null?void 0:M.type)=="request")},[u,s,l,o,i,h,p,v,a,b,y,A]}class OU extends je{constructor(e){super(),qe(this,e,AU,CU,We,{show:8,hide:0})}get show(){return this.$$.ctx[8]}get hide(){return this.$$.ctx[0]}}function NU(n,e,t){const i=n.slice();return i[1]=e[t],i}function MU(n){let e;return{c(){e=k("code"),e.textContent=`${n[1].level}:${n[1].label}`,m(e,"class","txt-xs")},m(t,i){S(t,e,i)},p:ge,d(t){t&&E(e)}}}function IU(n){let e,t,i,r=Re(s7),l=[];for(let s=0;s<r.length;s+=1)l[s]=MU(NU(n,r,s));return{c(){e=k("div"),t=le(`Default log levels:
    `),i=k("div");for(let s=0;s<l.length;s+=1)l[s].c();m(i,"class","inline-flex flex-gap-5"),m(e,"class",n[0])},m(s,o){S(s,e,o),T(e,t),T(e,i);for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(i,null)},p(s,[o]){o&1&&m(e,"class",s[0])},i:ge,o:ge,d(s){s&&E(e),fn(l,s)}}}function LU(n,e,t){let{class:i=""}=e;return n.$$set=r=>{"class"in r&&t(0,i=r.class)},[i]}class EA extends je{constructor(e){super(),qe(this,e,LU,IU,We,{class:0})}}function DU(n){let e,t,i,r,l,s,o,a,u,f,c;return t=new Pe({props:{class:"form-field required",name:"logs.maxDays",$$slots:{default:[PU,({uniqueId:h})=>({23:h}),({uniqueId:h})=>h?8388608:0]},$$scope:{ctx:n}}}),r=new Pe({props:{class:"form-field",name:"logs.minLevel",$$slots:{default:[FU,({uniqueId:h})=>({23:h}),({uniqueId:h})=>h?8388608:0]},$$scope:{ctx:n}}}),s=new Pe({props:{class:"form-field form-field-toggle",name:"logs.logIP",$$slots:{default:[$U,({uniqueId:h})=>({23:h}),({uniqueId:h})=>h?8388608:0]},$$scope:{ctx:n}}}),a=new Pe({props:{class:"form-field form-field-toggle",name:"logs.logAuthId",$$slots:{default:[HU,({uniqueId:h})=>({23:h}),({uniqueId:h})=>h?8388608:0]},$$scope:{ctx:n}}}),{c(){e=k("form"),ee(t.$$.fragment),i=D(),ee(r.$$.fragment),l=D(),ee(s.$$.fragment),o=D(),ee(a.$$.fragment),m(e,"id",n[6]),m(e,"class","grid"),m(e,"autocomplete","off")},m(h,p){S(h,e,p),Q(t,e,null),T(e,i),Q(r,e,null),T(e,l),Q(s,e,null),T(e,o),Q(a,e,null),u=!0,f||(c=se(e,"submit",ln(n[7])),f=!0)},p(h,p){const _={};p&25165826&&(_.$$scope={dirty:p,ctx:h}),t.$set(_);const v={};p&25165826&&(v.$$scope={dirty:p,ctx:h}),r.$set(v);const b={};p&25165826&&(b.$$scope={dirty:p,ctx:h}),s.$set(b);const y={};p&25165826&&(y.$$scope={dirty:p,ctx:h}),a.$set(y)},i(h){u||(F(t.$$.fragment,h),F(r.$$.fragment,h),F(s.$$.fragment,h),F(a.$$.fragment,h),u=!0)},o(h){x(t.$$.fragment,h),x(r.$$.fragment,h),x(s.$$.fragment,h),x(a.$$.fragment,h),u=!1},d(h){h&&E(e),J(t),J(r),J(s),J(a),f=!1,c()}}}function RU(n){let e;return{c(){e=k("div"),e.innerHTML='<div class="loader"></div>',m(e,"class","block txt-center")},m(t,i){S(t,e,i)},p:ge,i:ge,o:ge,d(t){t&&E(e)}}}function PU(n){let e,t,i,r,l,s,o,a,u,f;return{c(){e=k("label"),t=le("Max days retention"),r=D(),l=k("input"),o=D(),a=k("div"),a.innerHTML="Set to <code>0</code> to disable logs persistence.",m(e,"for",i=n[23]),m(l,"type","number"),m(l,"id",s=n[23]),l.required=!0,m(a,"class","help-block")},m(c,h){S(c,e,h),T(e,t),S(c,r,h),S(c,l,h),He(l,n[1].logs.maxDays),S(c,o,h),S(c,a,h),u||(f=se(l,"input",n[11]),u=!0)},p(c,h){h&8388608&&i!==(i=c[23])&&m(e,"for",i),h&8388608&&s!==(s=c[23])&&m(l,"id",s),h&2&&wn(l.value)!==c[1].logs.maxDays&&He(l,c[1].logs.maxDays)},d(c){c&&(E(e),E(r),E(l),E(o),E(a)),u=!1,f()}}}function FU(n){let e,t,i,r,l,s,o,a,u,f,c,h,p;return f=new EA({}),{c(){e=k("label"),t=le("Min log level"),r=D(),l=k("input"),s=D(),o=k("div"),a=k("p"),a.textContent="Logs with level below the minimum will be ignored.",u=D(),ee(f.$$.fragment),m(e,"for",i=n[23]),m(l,"type","number"),l.required=!0,m(l,"min","-100"),m(l,"max","100"),m(o,"class","help-block")},m(_,v){S(_,e,v),T(e,t),S(_,r,v),S(_,l,v),He(l,n[1].logs.minLevel),S(_,s,v),S(_,o,v),T(o,a),T(o,u),Q(f,o,null),c=!0,h||(p=se(l,"input",n[12]),h=!0)},p(_,v){(!c||v&8388608&&i!==(i=_[23]))&&m(e,"for",i),v&2&&wn(l.value)!==_[1].logs.minLevel&&He(l,_[1].logs.minLevel)},i(_){c||(F(f.$$.fragment,_),c=!0)},o(_){x(f.$$.fragment,_),c=!1},d(_){_&&(E(e),E(r),E(l),E(s),E(o)),J(f),h=!1,p()}}}function $U(n){let e,t,i,r,l,s,o,a;return{c(){e=k("input"),i=D(),r=k("label"),l=le("Enable IP logging"),m(e,"type","checkbox"),m(e,"id",t=n[23]),m(r,"for",s=n[23])},m(u,f){S(u,e,f),e.checked=n[1].logs.logIP,S(u,i,f),S(u,r,f),T(r,l),o||(a=se(e,"change",n[13]),o=!0)},p(u,f){f&8388608&&t!==(t=u[23])&&m(e,"id",t),f&2&&(e.checked=u[1].logs.logIP),f&8388608&&s!==(s=u[23])&&m(r,"for",s)},d(u){u&&(E(e),E(i),E(r)),o=!1,a()}}}function HU(n){let e,t,i,r,l,s,o,a;return{c(){e=k("input"),i=D(),r=k("label"),l=le("Enable Auth Id logging"),m(e,"type","checkbox"),m(e,"id",t=n[23]),m(r,"for",s=n[23])},m(u,f){S(u,e,f),e.checked=n[1].logs.logAuthId,S(u,i,f),S(u,r,f),T(r,l),o||(a=se(e,"change",n[14]),o=!0)},p(u,f){f&8388608&&t!==(t=u[23])&&m(e,"id",t),f&2&&(e.checked=u[1].logs.logAuthId),f&8388608&&s!==(s=u[23])&&m(r,"for",s)},d(u){u&&(E(e),E(i),E(r)),o=!1,a()}}}function BU(n){let e,t,i,r;const l=[RU,DU],s=[];function o(a,u){return a[4]?0:1}return e=o(n),t=s[e]=l[e](n),{c(){t.c(),i=ze()},m(a,u){s[e].m(a,u),S(a,i,u),r=!0},p(a,u){let f=e;e=o(a),e===f?s[e].p(a,u):(Ne(),x(s[f],1,1,()=>{s[f]=null}),Me(),t=s[e],t?t.p(a,u):(t=s[e]=l[e](a),t.c()),F(t,1),t.m(i.parentNode,i))},i(a){r||(F(t),r=!0)},o(a){x(t),r=!1},d(a){a&&E(i),s[e].d(a)}}}function xU(n){let e;return{c(){e=k("h4"),e.textContent="Logs settings"},m(t,i){S(t,e,i)},p:ge,d(t){t&&E(e)}}}function UU(n){let e,t,i,r,l,s,o,a;return{c(){e=k("button"),t=k("span"),t.textContent="Cancel",i=D(),r=k("button"),l=k("span"),l.textContent="Save changes",m(t,"class","txt"),m(e,"type","button"),m(e,"class","btn btn-transparent"),e.disabled=n[3],m(l,"class","txt"),m(r,"type","submit"),m(r,"form",n[6]),m(r,"class","btn btn-expanded"),r.disabled=s=!n[5]||n[3],he(r,"btn-loading",n[3])},m(u,f){S(u,e,f),T(e,t),S(u,i,f),S(u,r,f),T(r,l),o||(a=se(e,"click",n[0]),o=!0)},p(u,f){f&8&&(e.disabled=u[3]),f&40&&s!==(s=!u[5]||u[3])&&(r.disabled=s),f&8&&he(r,"btn-loading",u[3])},d(u){u&&(E(e),E(i),E(r)),o=!1,a()}}}function zU(n){let e,t,i={popup:!0,class:"superuser-panel",beforeHide:n[15],$$slots:{footer:[UU],header:[xU],default:[BU]},$$scope:{ctx:n}};return e=new Mi({props:i}),n[16](e),e.$on("hide",n[17]),e.$on("show",n[18]),{c(){ee(e.$$.fragment)},m(r,l){Q(e,r,l),t=!0},p(r,[l]){const s={};l&8&&(s.beforeHide=r[15]),l&16777274&&(s.$$scope={dirty:l,ctx:r}),e.$set(s)},i(r){t||(F(e.$$.fragment,r),t=!0)},o(r){x(e.$$.fragment,r),t=!1},d(r){n[16](null),J(e,r)}}}function qU(n,e,t){let i,r;const l=Sn(),s="logs_settings_"+re.randomString(3);let o,a=!1,u=!1,f={},c={};function h(){return _(),v(),o==null?void 0:o.show()}function p(){return o==null?void 0:o.hide()}function _(){mi(),t(9,f={}),t(1,c=JSON.parse(JSON.stringify(f||{})))}async function v(){t(4,u=!0);try{const H=await xe.settings.getAll()||{};y(H)}catch(H){xe.error(H)}t(4,u=!1)}async function b(){if(r){t(3,a=!0);try{const H=await xe.settings.update(re.filterRedactedProps(c));y(H),t(3,a=!1),p(),Oi("Successfully saved logs settings."),l("save",H)}catch(H){t(3,a=!1),xe.error(H)}}}function y(H={}){t(1,c={logs:(H==null?void 0:H.logs)||{}}),t(9,f=JSON.parse(JSON.stringify(c)))}function A(){c.logs.maxDays=wn(this.value),t(1,c)}function M(){c.logs.minLevel=wn(this.value),t(1,c)}function N(){c.logs.logIP=this.checked,t(1,c)}function L(){c.logs.logAuthId=this.checked,t(1,c)}const I=()=>!a;function R(H){ye[H?"unshift":"push"](()=>{o=H,t(2,o)})}function $(H){ut.call(this,n,H)}function B(H){ut.call(this,n,H)}return n.$$.update=()=>{n.$$.dirty&512&&t(10,i=JSON.stringify(f)),n.$$.dirty&1026&&t(5,r=i!=JSON.stringify(c))},[p,c,o,a,u,r,s,b,h,f,i,A,M,N,L,I,R,$,B]}class jU extends je{constructor(e){super(),qe(this,e,qU,zU,We,{show:8,hide:0})}get show(){return this.$$.ctx[8]}get hide(){return this.$$.ctx[0]}}function WU(n){let e,t,i,r,l,s,o,a;return{c(){e=k("input"),i=D(),r=k("label"),l=le("Include requests by superusers"),m(e,"type","checkbox"),m(e,"id",t=n[25]),m(r,"for",s=n[25])},m(u,f){S(u,e,f),e.checked=n[2],S(u,i,f),S(u,r,f),T(r,l),o||(a=se(e,"change",n[12]),o=!0)},p(u,f){f&33554432&&t!==(t=u[25])&&m(e,"id",t),f&4&&(e.checked=u[2]),f&33554432&&s!==(s=u[25])&&m(r,"for",s)},d(u){u&&(E(e),E(i),E(r)),o=!1,a()}}}function r9(n){let e,t,i;function r(s){n[14](s)}let l={filter:n[1],presets:n[6]};return n[5]!==void 0&&(l.zoom=n[5]),e=new uU({props:l}),ye.push(()=>Ke(e,"zoom",r)),{c(){ee(e.$$.fragment)},m(s,o){Q(e,s,o),i=!0},p(s,o){const a={};o&2&&(a.filter=s[1]),o&64&&(a.presets=s[6]),!t&&o&32&&(t=!0,a.zoom=s[5],Ye(()=>t=!1)),e.$set(a)},i(s){i||(F(e.$$.fragment,s),i=!0)},o(s){x(e.$$.fragment,s),i=!1},d(s){J(e,s)}}}function l9(n){let e,t,i,r;function l(a){n[15](a)}function s(a){n[16](a)}let o={presets:n[6]};return n[1]!==void 0&&(o.filter=n[1]),n[5]!==void 0&&(o.zoom=n[5]),e=new aF({props:o}),ye.push(()=>Ke(e,"filter",l)),ye.push(()=>Ke(e,"zoom",s)),e.$on("select",n[17]),{c(){ee(e.$$.fragment)},m(a,u){Q(e,a,u),r=!0},p(a,u){const f={};u&64&&(f.presets=a[6]),!t&&u&2&&(t=!0,f.filter=a[1],Ye(()=>t=!1)),!i&&u&32&&(i=!0,f.zoom=a[5],Ye(()=>i=!1)),e.$set(f)},i(a){r||(F(e.$$.fragment,a),r=!0)},o(a){x(e.$$.fragment,a),r=!1},d(a){J(e,a)}}}function KU(n){let e,t,i,r,l,s,o,a,u,f,c,h,p,_,v,b,y,A,M,N=n[4],L,I=n[4],R,$,B,H;u=new Zh({}),u.$on("refresh",n[11]),_=new Pe({props:{class:"form-field form-field-toggle m-0",$$slots:{default:[WU,({uniqueId:j})=>({25:j}),({uniqueId:j})=>j?33554432:0]},$$scope:{ctx:n}}}),b=new Xh({props:{value:n[1],placeholder:"Search term or filter like `level > 0 && data.auth = 'guest'`",extraAutocompleteKeys:["level","message","data."]}}),b.$on("submit",n[13]),A=new EA({props:{class:"block txt-sm txt-hint m-t-xs m-b-base"}});let q=r9(n),z=l9(n);return{c(){e=k("div"),t=k("header"),i=k("nav"),r=k("div"),l=le(n[7]),s=D(),o=k("button"),o.innerHTML='<i class="ri-settings-4-line"></i>',a=D(),ee(u.$$.fragment),f=D(),c=k("div"),h=D(),p=k("div"),ee(_.$$.fragment),v=D(),ee(b.$$.fragment),y=D(),ee(A.$$.fragment),M=D(),q.c(),L=D(),z.c(),R=ze(),m(r,"class","breadcrumb-item"),m(i,"class","breadcrumbs"),m(o,"type","button"),m(o,"aria-label","Logs settings"),m(o,"class","btn btn-transparent btn-circle"),m(c,"class","flex-fill"),m(p,"class","inline-flex"),m(t,"class","page-header"),m(e,"class","page-header-wrapper m-b-0")},m(j,W){S(j,e,W),T(e,t),T(t,i),T(i,r),T(r,l),T(t,s),T(t,o),T(t,a),Q(u,t,null),T(t,f),T(t,c),T(t,h),T(t,p),Q(_,p,null),T(e,v),Q(b,e,null),T(e,y),Q(A,e,null),T(e,M),q.m(e,null),S(j,L,W),z.m(j,W),S(j,R,W),$=!0,B||(H=[nt(_t.call(null,o,{text:"Logs settings",position:"right"})),se(o,"click",n[10])],B=!0)},p(j,W){(!$||W&128)&&Se(l,j[7]);const G={};W&100663300&&(G.$$scope={dirty:W,ctx:j}),_.$set(G);const ie={};W&2&&(ie.value=j[1]),b.$set(ie),W&16&&We(N,N=j[4])?(Ne(),x(q,1,1,ge),Me(),q=r9(j),q.c(),F(q,1),q.m(e,null)):q.p(j,W),W&16&&We(I,I=j[4])?(Ne(),x(z,1,1,ge),Me(),z=l9(j),z.c(),F(z,1),z.m(R.parentNode,R)):z.p(j,W)},i(j){$||(F(u.$$.fragment,j),F(_.$$.fragment,j),F(b.$$.fragment,j),F(A.$$.fragment,j),F(q),F(z),$=!0)},o(j){x(u.$$.fragment,j),x(_.$$.fragment,j),x(b.$$.fragment,j),x(A.$$.fragment,j),x(q),x(z),$=!1},d(j){j&&(E(e),E(L),E(R)),J(u),J(_),J(b),J(A),q.d(j),z.d(j),B=!1,it(H)}}}function VU(n){let e,t,i,r,l,s;e=new Nl({props:{$$slots:{default:[KU]},$$scope:{ctx:n}}});let o={};i=new OU({props:o}),n[18](i),i.$on("show",n[19]),i.$on("hide",n[20]);let a={};return l=new jU({props:a}),n[21](l),l.$on("save",n[8]),{c(){ee(e.$$.fragment),t=D(),ee(i.$$.fragment),r=D(),ee(l.$$.fragment)},m(u,f){Q(e,u,f),S(u,t,f),Q(i,u,f),S(u,r,f),Q(l,u,f),s=!0},p(u,[f]){const c={};f&67109119&&(c.$$scope={dirty:f,ctx:u}),e.$set(c);const h={};i.$set(h);const p={};l.$set(p)},i(u){s||(F(e.$$.fragment,u),F(i.$$.fragment,u),F(l.$$.fragment,u),s=!0)},o(u){x(e.$$.fragment,u),x(i.$$.fragment,u),x(l.$$.fragment,u),s=!1},d(u){u&&(E(t),E(r)),J(e,u),n[18](null),J(i,u),n[21](null),J(l,u)}}}const hd="logId",s9="superuserRequests",o9="superuserLogRequests";function GU(n,e,t){var z;let i,r,l;Wt(n,o_,j=>t(22,r=j)),Wt(n,Hi,j=>t(7,l=j)),Cr(Hi,l="Logs",l);const s=new URLSearchParams(r);let o,a,u=1,f=s.get("filter")||"",c={},h=(s.get(s9)||((z=window.localStorage)==null?void 0:z.getItem(o9)))<<0,p=h;function _(){t(4,u++,u)}function v(j={}){let W={};W.filter=f||null,W[s9]=h<<0||null,re.replaceHashQueryParams(Object.assign(W,j))}const b=()=>a==null?void 0:a.show(),y=()=>_();function A(){h=this.checked,t(2,h)}const M=j=>t(1,f=j.detail);function N(j){c=j,t(5,c)}function L(j){f=j,t(1,f)}function I(j){c=j,t(5,c)}const R=j=>o==null?void 0:o.show(j==null?void 0:j.detail);function $(j){ye[j?"unshift":"push"](()=>{o=j,t(0,o)})}const B=j=>{var G;let W={};W[hd]=((G=j.detail)==null?void 0:G.id)||null,re.replaceHashQueryParams(W)},H=()=>{let j={};j[hd]=null,re.replaceHashQueryParams(j)};function q(j){ye[j?"unshift":"push"](()=>{a=j,t(3,a)})}return n.$$.update=()=>{var j;n.$$.dirty&1&&s.get(hd)&&o&&o.show(s.get(hd)),n.$$.dirty&4&&t(6,i=h?"":'data.auth!="_superusers"'),n.$$.dirty&516&&p!=h&&(t(9,p=h),(j=window.localStorage)==null||j.setItem(o9,h<<0),v()),n.$$.dirty&2&&typeof f<"u"&&v()},[o,f,h,a,u,c,i,l,_,p,b,y,A,M,N,L,I,R,$,B,H,q]}class YU extends je{constructor(e){super(),qe(this,e,GU,VU,We,{})}}function a9(n,e,t){const i=n.slice();return i[14]=e[t][0],i[15]=e[t][1],i}function u9(n){n[18]=n[19].default}function f9(n,e,t){const i=n.slice();return i[14]=e[t][0],i[15]=e[t][1],i[21]=t,i}function c9(n){let e;return{c(){e=k("hr"),m(e,"class","m-t-sm m-b-sm")},m(t,i){S(t,e,i)},d(t){t&&E(e)}}}function XU(n){let e,t=n[15].label+"",i,r,l,s;function o(){return n[9](n[14])}return{c(){e=k("button"),i=le(t),r=D(),m(e,"type","button"),m(e,"class","sidebar-item"),he(e,"active",n[5]===n[14])},m(a,u){S(a,e,u),T(e,i),T(e,r),l||(s=se(e,"click",o),l=!0)},p(a,u){n=a,u&8&&t!==(t=n[15].label+"")&&Se(i,t),u&40&&he(e,"active",n[5]===n[14])},d(a){a&&E(e),l=!1,s()}}}function ZU(n){let e,t=n[15].label+"",i,r,l,s;return{c(){e=k("div"),i=le(t),r=D(),m(e,"class","sidebar-item disabled")},m(o,a){S(o,e,a),T(e,i),T(e,r),l||(s=nt(_t.call(null,e,{position:"left",text:"Not enabled for the collection"})),l=!0)},p(o,a){a&8&&t!==(t=o[15].label+"")&&Se(i,t)},d(o){o&&E(e),l=!1,s()}}}function d9(n,e){let t,i=e[21]===Object.keys(e[6]).length,r,l,s=i&&c9();function o(f,c){return f[15].disabled?ZU:XU}let a=o(e),u=a(e);return{key:n,first:null,c(){t=ze(),s&&s.c(),r=D(),u.c(),l=ze(),this.first=t},m(f,c){S(f,t,c),s&&s.m(f,c),S(f,r,c),u.m(f,c),S(f,l,c)},p(f,c){e=f,c&8&&(i=e[21]===Object.keys(e[6]).length),i?s||(s=c9(),s.c(),s.m(r.parentNode,r)):s&&(s.d(1),s=null),a===(a=o(e))&&u?u.p(e,c):(u.d(1),u=a(e),u&&(u.c(),u.m(l.parentNode,l)))},d(f){f&&(E(t),E(r),E(l)),s&&s.d(f),u.d(f)}}}function h9(n){let e,t,i,r={ctx:n,current:null,token:null,hasCatch:!1,pending:ez,then:JU,catch:QU,value:19,blocks:[,,,]};return ov(t=n[15].component,r),{c(){e=ze(),r.block.c()},m(l,s){S(l,e,s),r.block.m(l,r.anchor=s),r.mount=()=>e.parentNode,r.anchor=e,i=!0},p(l,s){n=l,r.ctx=n,s&8&&t!==(t=n[15].component)&&ov(t,r)||fL(r,n,s)},i(l){i||(F(r.block),i=!0)},o(l){for(let s=0;s<3;s+=1){const o=r.blocks[s];x(o)}i=!1},d(l){l&&E(e),r.block.d(l),r.token=null,r=null}}}function QU(n){return{c:ge,m:ge,p:ge,i:ge,o:ge,d:ge}}function JU(n){u9(n);let e,t,i;return e=new n[18]({props:{collection:n[2]}}),{c(){ee(e.$$.fragment),t=D()},m(r,l){Q(e,r,l),S(r,t,l),i=!0},p(r,l){u9(r);const s={};l&4&&(s.collection=r[2]),e.$set(s)},i(r){i||(F(e.$$.fragment,r),i=!0)},o(r){x(e.$$.fragment,r),i=!1},d(r){r&&E(t),J(e,r)}}}function ez(n){return{c:ge,m:ge,p:ge,i:ge,o:ge,d:ge}}function p9(n,e){let t,i,r,l=e[5]===e[14]&&h9(e);return{key:n,first:null,c(){t=ze(),l&&l.c(),i=ze(),this.first=t},m(s,o){S(s,t,o),l&&l.m(s,o),S(s,i,o),r=!0},p(s,o){e=s,e[5]===e[14]?l?(l.p(e,o),o&40&&F(l,1)):(l=h9(e),l.c(),F(l,1),l.m(i.parentNode,i)):l&&(Ne(),x(l,1,1,()=>{l=null}),Me())},i(s){r||(F(l),r=!0)},o(s){x(l),r=!1},d(s){s&&(E(t),E(i)),l&&l.d(s)}}}function tz(n){let e,t,i,r=[],l=new Map,s,o,a=[],u=new Map,f,c=Re(Object.entries(n[3]));const h=v=>v[14];for(let v=0;v<c.length;v+=1){let b=f9(n,c,v),y=h(b);l.set(y,r[v]=d9(y,b))}let p=Re(Object.entries(n[3]));const _=v=>v[14];for(let v=0;v<p.length;v+=1){let b=a9(n,p,v),y=_(b);u.set(y,a[v]=p9(y,b))}return{c(){var v;e=k("div"),t=k("aside"),i=k("nav");for(let b=0;b<r.length;b+=1)r[b].c();s=D(),o=k("div");for(let b=0;b<a.length;b+=1)a[b].c();m(i,"class","sidebar-content"),m(t,"class","docs-sidebar"),he(t,"compact",((v=n[2])==null?void 0:v.type)==="auth"),m(o,"class","docs-content"),m(e,"class","docs-content-wrapper")},m(v,b){S(v,e,b),T(e,t),T(t,i);for(let y=0;y<r.length;y+=1)r[y]&&r[y].m(i,null);T(e,s),T(e,o);for(let y=0;y<a.length;y+=1)a[y]&&a[y].m(o,null);f=!0},p(v,b){var y;b&106&&(c=Re(Object.entries(v[3])),r=In(r,b,h,1,v,c,l,i,Ol,d9,null,f9)),(!f||b&4)&&he(t,"compact",((y=v[2])==null?void 0:y.type)==="auth"),b&44&&(p=Re(Object.entries(v[3])),Ne(),a=In(a,b,_,1,v,p,u,o,di,p9,null,a9),Me())},i(v){if(!f){for(let b=0;b<p.length;b+=1)F(a[b]);f=!0}},o(v){for(let b=0;b<a.length;b+=1)x(a[b]);f=!1},d(v){v&&E(e);for(let b=0;b<r.length;b+=1)r[b].d();for(let b=0;b<a.length;b+=1)a[b].d()}}}function nz(n){let e,t,i;return{c(){e=k("button"),e.innerHTML='<span class="txt">Close</span>',m(e,"type","button"),m(e,"class","btn btn-transparent")},m(r,l){S(r,e,l),t||(i=se(e,"click",n[8]),t=!0)},p:ge,d(r){r&&E(e),t=!1,i()}}}function iz(n){let e,t,i={class:"docs-panel",$$slots:{footer:[nz],default:[tz]},$$scope:{ctx:n}};return e=new Mi({props:i}),n[10](e),e.$on("hide",n[11]),e.$on("show",n[12]),{c(){ee(e.$$.fragment)},m(r,l){Q(e,r,l),t=!0},p(r,[l]){const s={};l&4194348&&(s.$$scope={dirty:l,ctx:r}),e.$set(s)},i(r){t||(F(e.$$.fragment,r),t=!0)},o(r){x(e.$$.fragment,r),t=!1},d(r){n[10](null),J(e,r)}}}function rz(n,e,t){const i={list:{label:"List/Search",component:Dn(()=>import("./ListApiDocs-B1zINxzb.js"),__vite__mapDeps([2,3,4]),import.meta.url)},view:{label:"View",component:Dn(()=>import("./ViewApiDocs-DwPv-1WF.js"),__vite__mapDeps([5,3]),import.meta.url)},create:{label:"Create",component:Dn(()=>import("./CreateApiDocs-0uoAw-bM.js"),__vite__mapDeps([6,3]),import.meta.url)},update:{label:"Update",component:Dn(()=>import("./UpdateApiDocs-BpUzqh66.js"),__vite__mapDeps([7,3]),import.meta.url)},delete:{label:"Delete",component:Dn(()=>import("./DeleteApiDocs-DXiziQcU.js"),[],import.meta.url)},realtime:{label:"Realtime",component:Dn(()=>import("./RealtimeApiDocs-DpoJkE-e.js"),[],import.meta.url)},batch:{label:"Batch",component:Dn(()=>import("./BatchApiDocs-D2eluaBr.js"),[],import.meta.url)}},r={"list-auth-methods":{label:"List auth methods",component:Dn(()=>import("./AuthMethodsDocs-DQlXsP0u.js"),__vite__mapDeps([8,3]),import.meta.url)},"auth-with-password":{label:"Auth with password",component:Dn(()=>import("./AuthWithPasswordDocs-vt5Xr2DZ.js"),__vite__mapDeps([9,3]),import.meta.url)},"auth-with-oauth2":{label:"Auth with OAuth2",component:Dn(()=>import("./AuthWithOAuth2Docs-CS1SFX8n.js"),__vite__mapDeps([10,3]),import.meta.url)},"auth-with-otp":{label:"Auth with OTP",component:Dn(()=>import("./AuthWithOtpDocs-Ci2_pkgH.js"),__vite__mapDeps([11,3]),import.meta.url)},refresh:{label:"Auth refresh",component:Dn(()=>import("./AuthRefreshDocs-B4I0yWqw.js"),__vite__mapDeps([12,3]),import.meta.url)},verification:{label:"Verification",component:Dn(()=>import("./VerificationDocs-DMgtAskC.js"),[],import.meta.url)},"password-reset":{label:"Password reset",component:Dn(()=>import("./PasswordResetDocs-CsaKhnKJ.js"),[],import.meta.url)},"email-change":{label:"Email change",component:Dn(()=>import("./EmailChangeDocs-DYm5ERww.js"),[],import.meta.url)}};let l,s={},o,a=[];a.length&&(o=Object.keys(a)[0]);function u(y){return t(2,s=y),c(Object.keys(a)[0]),l==null?void 0:l.show()}function f(){return l==null?void 0:l.hide()}function c(y){t(5,o=y)}const h=()=>f(),p=y=>c(y);function _(y){ye[y?"unshift":"push"](()=>{l=y,t(4,l)})}function v(y){ut.call(this,n,y)}function b(y){ut.call(this,n,y)}return n.$$.update=()=>{n.$$.dirty&12&&(s.type==="auth"?(t(3,a=Object.assign({},i,r)),t(3,a["auth-with-password"].disabled=!s.passwordAuth.enabled,a),t(3,a["auth-with-oauth2"].disabled=!s.oauth2.enabled,a),t(3,a["auth-with-otp"].disabled=!s.otp.enabled,a)):s.type==="view"?(t(3,a=Object.assign({},i)),delete a.create,delete a.update,delete a.delete,delete a.realtime,delete a.batch):t(3,a=Object.assign({},i)))},[f,c,s,a,l,o,i,u,h,p,_,v,b]}class lz extends je{constructor(e){super(),qe(this,e,rz,iz,We,{show:7,hide:0,changeTab:1})}get show(){return this.$$.ctx[7]}get hide(){return this.$$.ctx[0]}get changeTab(){return this.$$.ctx[1]}}const sz=n=>({active:n&1}),m9=n=>({active:n[0]});function g9(n){let e,t,i;const r=n[15].default,l=Zn(r,n,n[14],null);return{c(){e=k("div"),l&&l.c(),m(e,"class","accordion-content")},m(s,o){S(s,e,o),l&&l.m(e,null),i=!0},p(s,o){l&&l.p&&(!i||o&16384)&&Jn(l,r,s,s[14],i?Qn(r,s[14],o,null):ei(s[14]),null)},i(s){i||(F(l,s),s&&tn(()=>{i&&(t||(t=Et(e,En,{delay:10,duration:150},!0)),t.run(1))}),i=!0)},o(s){x(l,s),s&&(t||(t=Et(e,En,{delay:10,duration:150},!1)),t.run(0)),i=!1},d(s){s&&E(e),l&&l.d(s),s&&t&&t.end()}}}function oz(n){let e,t,i,r,l,s,o;const a=n[15].header,u=Zn(a,n,n[14],m9);let f=n[0]&&g9(n);return{c(){e=k("div"),t=k("button"),u&&u.c(),i=D(),f&&f.c(),m(t,"type","button"),m(t,"class","accordion-header"),m(t,"draggable",n[2]),m(t,"aria-expanded",n[0]),he(t,"interactive",n[3]),m(e,"class",r="accordion "+(n[7]?"drag-over":"")+" "+n[1]),he(e,"active",n[0])},m(c,h){S(c,e,h),T(e,t),u&&u.m(t,null),T(e,i),f&&f.m(e,null),n[22](e),l=!0,s||(o=[se(t,"click",ln(n[17])),se(t,"drop",ln(n[18])),se(t,"dragstart",n[19]),se(t,"dragenter",n[20]),se(t,"dragleave",n[21]),se(t,"dragover",ln(n[16]))],s=!0)},p(c,[h]){u&&u.p&&(!l||h&16385)&&Jn(u,a,c,c[14],l?Qn(a,c[14],h,sz):ei(c[14]),m9),(!l||h&4)&&m(t,"draggable",c[2]),(!l||h&1)&&m(t,"aria-expanded",c[0]),(!l||h&8)&&he(t,"interactive",c[3]),c[0]?f?(f.p(c,h),h&1&&F(f,1)):(f=g9(c),f.c(),F(f,1),f.m(e,null)):f&&(Ne(),x(f,1,1,()=>{f=null}),Me()),(!l||h&130&&r!==(r="accordion "+(c[7]?"drag-over":"")+" "+c[1]))&&m(e,"class",r),(!l||h&131)&&he(e,"active",c[0])},i(c){l||(F(u,c),F(f),l=!0)},o(c){x(u,c),x(f),l=!1},d(c){c&&E(e),u&&u.d(c),f&&f.d(),n[22](null),s=!1,it(o)}}}function az(n,e,t){let{$$slots:i={},$$scope:r}=e;const l=Sn();let s,o,{class:a=""}=e,{draggable:u=!1}=e,{active:f=!1}=e,{interactive:c=!0}=e,{single:h=!1}=e,p=!1;function _(){return!!f}function v(){A(),t(0,f=!0),l("expand")}function b(){t(0,f=!1),clearTimeout(o),l("collapse")}function y(){l("toggle"),f?b():v()}function A(){if(h&&s.closest(".accordions")){const H=s.closest(".accordions").querySelectorAll(".accordion.active .accordion-header.interactive");for(const q of H)q.click()}}hi(()=>()=>clearTimeout(o));function M(H){ut.call(this,n,H)}const N=()=>c&&y(),L=H=>{u&&(t(7,p=!1),A(),l("drop",H))},I=H=>u&&l("dragstart",H),R=H=>{u&&(t(7,p=!0),l("dragenter",H))},$=H=>{u&&(t(7,p=!1),l("dragleave",H))};function B(H){ye[H?"unshift":"push"](()=>{s=H,t(6,s)})}return n.$$set=H=>{"class"in H&&t(1,a=H.class),"draggable"in H&&t(2,u=H.draggable),"active"in H&&t(0,f=H.active),"interactive"in H&&t(3,c=H.interactive),"single"in H&&t(9,h=H.single),"$$scope"in H&&t(14,r=H.$$scope)},n.$$.update=()=>{n.$$.dirty&8257&&f&&(clearTimeout(o),t(13,o=setTimeout(()=>{s!=null&&s.scrollIntoViewIfNeeded?s.scrollIntoViewIfNeeded():s!=null&&s.scrollIntoView&&s.scrollIntoView({behavior:"smooth",block:"nearest"})},200)))},[f,a,u,c,y,A,s,p,l,h,_,v,b,o,r,i,M,N,L,I,R,$,B]}class Vs extends je{constructor(e){super(),qe(this,e,az,oz,We,{class:1,draggable:2,active:0,interactive:3,single:9,isExpanded:10,expand:11,collapse:12,toggle:4,collapseSiblings:5})}get isExpanded(){return this.$$.ctx[10]}get expand(){return this.$$.ctx[11]}get collapse(){return this.$$.ctx[12]}get toggle(){return this.$$.ctx[4]}get collapseSiblings(){return this.$$.ctx[5]}}function _9(n,e,t){const i=n.slice();return i[25]=e[t],i}function b9(n,e,t){const i=n.slice();return i[25]=e[t],i}function v9(n){let e,t,i=Re(n[3]),r=[];for(let l=0;l<i.length;l+=1)r[l]=y9(b9(n,i,l));return{c(){e=k("div"),t=le(`Available placeholder parameters:
                `);for(let l=0;l<r.length;l+=1)r[l].c();m(e,"class","help-block")},m(l,s){S(l,e,s),T(e,t);for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(e,null)},p(l,s){if(s&264){i=Re(l[3]);let o;for(o=0;o<i.length;o+=1){const a=b9(l,i,o);r[o]?r[o].p(a,s):(r[o]=y9(a),r[o].c(),r[o].m(e,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=i.length}},d(l){l&&E(e),fn(r,l)}}}function y9(n){let e,t="{"+n[25]+"}",i,r,l,s;function o(){return n[15](n[25])}return{c(){e=k("button"),i=le(t),r=le(" "),m(e,"type","button"),m(e,"class","label label-sm link-primary txt-mono")},m(a,u){S(a,e,u),T(e,i),S(a,r,u),l||(s=se(e,"click",o),l=!0)},p(a,u){n=a,u&8&&t!==(t="{"+n[25]+"}")&&Se(i,t)},d(a){a&&(E(e),E(r)),l=!1,s()}}}function uz(n){var h;let e,t,i,r,l,s,o,a,u,f,c=((h=n[3])==null?void 0:h.length)>0&&v9(n);return{c(){e=k("label"),t=le("Subject"),r=D(),l=k("input"),o=D(),c&&c.c(),a=ze(),m(e,"for",i=n[24]),m(l,"type","text"),m(l,"id",s=n[24]),m(l,"spellcheck","false"),l.required=!0},m(p,_){S(p,e,_),T(e,t),S(p,r,_),S(p,l,_),He(l,n[0].subject),S(p,o,_),c&&c.m(p,_),S(p,a,_),u||(f=se(l,"input",n[14]),u=!0)},p(p,_){var v;_&16777216&&i!==(i=p[24])&&m(e,"for",i),_&16777216&&s!==(s=p[24])&&m(l,"id",s),_&1&&l.value!==p[0].subject&&He(l,p[0].subject),((v=p[3])==null?void 0:v.length)>0?c?c.p(p,_):(c=v9(p),c.c(),c.m(a.parentNode,a)):c&&(c.d(1),c=null)},d(p){p&&(E(e),E(r),E(l),E(o),E(a)),c&&c.d(p),u=!1,f()}}}function fz(n){let e,t,i,r;return{c(){e=k("textarea"),m(e,"id",t=n[24]),m(e,"class","txt-mono"),m(e,"spellcheck","false"),m(e,"rows","14"),e.required=!0},m(l,s){S(l,e,s),He(e,n[0].body),i||(r=se(e,"input",n[17]),i=!0)},p(l,s){s&16777216&&t!==(t=l[24])&&m(e,"id",t),s&1&&He(e,l[0].body)},i:ge,o:ge,d(l){l&&E(e),i=!1,r()}}}function cz(n){let e,t,i,r;function l(a){n[16](a)}var s=n[5];function o(a,u){let f={id:a[24],language:"html"};return a[0].body!==void 0&&(f.value=a[0].body),{props:f}}return s&&(e=ri(s,o(n)),ye.push(()=>Ke(e,"value",l))),{c(){e&&ee(e.$$.fragment),i=ze()},m(a,u){e&&Q(e,a,u),S(a,i,u),r=!0},p(a,u){if(u&32&&s!==(s=a[5])){if(e){Ne();const f=e;x(f.$$.fragment,1,0,()=>{J(f,1)}),Me()}s?(e=ri(s,o(a)),ye.push(()=>Ke(e,"value",l)),ee(e.$$.fragment),F(e.$$.fragment,1),Q(e,i.parentNode,i)):e=null}else if(s){const f={};u&16777216&&(f.id=a[24]),!t&&u&1&&(t=!0,f.value=a[0].body,Ye(()=>t=!1)),e.$set(f)}},i(a){r||(e&&F(e.$$.fragment,a),r=!0)},o(a){e&&x(e.$$.fragment,a),r=!1},d(a){a&&E(i),e&&J(e,a)}}}function k9(n){let e,t,i=Re(n[3]),r=[];for(let l=0;l<i.length;l+=1)r[l]=T9(_9(n,i,l));return{c(){e=k("div"),t=le(`Available placeholder parameters:
                `);for(let l=0;l<r.length;l+=1)r[l].c();m(e,"class","help-block")},m(l,s){S(l,e,s),T(e,t);for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(e,null)},p(l,s){if(s&264){i=Re(l[3]);let o;for(o=0;o<i.length;o+=1){const a=_9(l,i,o);r[o]?r[o].p(a,s):(r[o]=T9(a),r[o].c(),r[o].m(e,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=i.length}},d(l){l&&E(e),fn(r,l)}}}function T9(n){let e,t="{"+n[25]+"}",i,r,l,s;function o(){return n[18](n[25])}return{c(){e=k("button"),i=le(t),r=le(" "),m(e,"type","button"),m(e,"class","label label-sm link-primary txt-mono")},m(a,u){S(a,e,u),T(e,i),S(a,r,u),l||(s=se(e,"click",o),l=!0)},p(a,u){n=a,u&8&&t!==(t="{"+n[25]+"}")&&Se(i,t)},d(a){a&&(E(e),E(r)),l=!1,s()}}}function dz(n){var _;let e,t,i,r,l,s,o,a,u;const f=[cz,fz],c=[];function h(v,b){return v[5]&&!v[6]?0:1}l=h(n),s=c[l]=f[l](n);let p=((_=n[3])==null?void 0:_.length)>0&&k9(n);return{c(){e=k("label"),t=le("Body (HTML)"),r=D(),s.c(),o=D(),p&&p.c(),a=ze(),m(e,"for",i=n[24])},m(v,b){S(v,e,b),T(e,t),S(v,r,b),c[l].m(v,b),S(v,o,b),p&&p.m(v,b),S(v,a,b),u=!0},p(v,b){var A;(!u||b&16777216&&i!==(i=v[24]))&&m(e,"for",i);let y=l;l=h(v),l===y?c[l].p(v,b):(Ne(),x(c[y],1,1,()=>{c[y]=null}),Me(),s=c[l],s?s.p(v,b):(s=c[l]=f[l](v),s.c()),F(s,1),s.m(o.parentNode,o)),((A=v[3])==null?void 0:A.length)>0?p?p.p(v,b):(p=k9(v),p.c(),p.m(a.parentNode,a)):p&&(p.d(1),p=null)},i(v){u||(F(s),u=!0)},o(v){x(s),u=!1},d(v){v&&(E(e),E(r),E(o),E(a)),c[l].d(v),p&&p.d(v)}}}function hz(n){let e,t,i,r;return e=new Pe({props:{class:"form-field required",name:n[1]+".subject",$$slots:{default:[uz,({uniqueId:l})=>({24:l}),({uniqueId:l})=>l?16777216:0]},$$scope:{ctx:n}}}),i=new Pe({props:{class:"form-field m-0 required",name:n[1]+".body",$$slots:{default:[dz,({uniqueId:l})=>({24:l}),({uniqueId:l})=>l?16777216:0]},$$scope:{ctx:n}}}),{c(){ee(e.$$.fragment),t=D(),ee(i.$$.fragment)},m(l,s){Q(e,l,s),S(l,t,s),Q(i,l,s),r=!0},p(l,s){const o={};s&2&&(o.name=l[1]+".subject"),s&1090519049&&(o.$$scope={dirty:s,ctx:l}),e.$set(o);const a={};s&2&&(a.name=l[1]+".body"),s&1090519145&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){r||(F(e.$$.fragment,l),F(i.$$.fragment,l),r=!0)},o(l){x(e.$$.fragment,l),x(i.$$.fragment,l),r=!1},d(l){l&&E(t),J(e,l),J(i,l)}}}function w9(n){let e,t,i,r,l;return{c(){e=k("i"),m(e,"class","ri-error-warning-fill txt-danger")},m(s,o){S(s,e,o),i=!0,r||(l=nt(_t.call(null,e,{text:"Has errors",position:"left"})),r=!0)},i(s){i||(s&&tn(()=>{i&&(t||(t=Et(e,Bn,{duration:150,start:.7},!0)),t.run(1))}),i=!0)},o(s){s&&(t||(t=Et(e,Bn,{duration:150,start:.7},!1)),t.run(0)),i=!1},d(s){s&&E(e),s&&t&&t.end(),r=!1,l()}}}function pz(n){let e,t,i,r,l,s,o,a,u,f=n[7]&&w9();return{c(){e=k("div"),t=k("i"),i=D(),r=k("span"),l=le(n[2]),s=D(),o=k("div"),a=D(),f&&f.c(),u=ze(),m(t,"class","ri-draft-line"),m(r,"class","txt"),m(e,"class","inline-flex"),m(o,"class","flex-fill")},m(c,h){S(c,e,h),T(e,t),T(e,i),T(e,r),T(r,l),S(c,s,h),S(c,o,h),S(c,a,h),f&&f.m(c,h),S(c,u,h)},p(c,h){h&4&&Se(l,c[2]),c[7]?f?h&128&&F(f,1):(f=w9(),f.c(),F(f,1),f.m(u.parentNode,u)):f&&(Ne(),x(f,1,1,()=>{f=null}),Me())},d(c){c&&(E(e),E(s),E(o),E(a),E(u)),f&&f.d(c)}}}function mz(n){let e,t;const i=[n[9]];let r={$$slots:{header:[pz],default:[hz]},$$scope:{ctx:n}};for(let l=0;l<i.length;l+=1)r=kt(r,i[l]);return e=new Vs({props:r}),n[19](e),e.$on("expand",n[20]),e.$on("collapse",n[21]),e.$on("toggle",n[22]),{c(){ee(e.$$.fragment)},m(l,s){Q(e,l,s),t=!0},p(l,[s]){const o=s&512?Ln(i,[Wn(l[9])]):{};s&1073742063&&(o.$$scope={dirty:s,ctx:l}),e.$set(o)},i(l){t||(F(e.$$.fragment,l),t=!0)},o(l){x(e.$$.fragment,l),t=!1},d(l){n[19](null),J(e,l)}}}let E9;function gz(n,e,t){let i;const r=["key","title","config","placeholders","expand","collapse","collapseSiblings"];let l=rn(e,r),s;Wt(n,mr,z=>t(13,s=z));let{key:o}=e,{title:a}=e,{config:u={}}=e,{placeholders:f=[]}=e,c,h=E9,p=!1;function _(){c==null||c.expand()}function v(){c==null||c.collapse()}function b(){c==null||c.collapseSiblings()}async function y(){h||p||(t(6,p=!0),t(5,h=(await Dn(async()=>{const{default:z}=await import("./CodeEditor-Bmd7XMbF.js");return{default:z}},__vite__mapDeps([13,1]),import.meta.url)).default),E9=h,t(6,p=!1))}function A(z){z=z.replace("*",""),re.copyToClipboard(z),Dc(`Copied ${z} to clipboard`,2e3)}y();function M(){u.subject=this.value,t(0,u)}const N=z=>A("{"+z+"}");function L(z){n.$$.not_equal(u.body,z)&&(u.body=z,t(0,u))}function I(){u.body=this.value,t(0,u)}const R=z=>A("{"+z+"}");function $(z){ye[z?"unshift":"push"](()=>{c=z,t(4,c)})}function B(z){ut.call(this,n,z)}function H(z){ut.call(this,n,z)}function q(z){ut.call(this,n,z)}return n.$$set=z=>{e=kt(kt({},e),ui(z)),t(9,l=rn(e,r)),"key"in z&&t(1,o=z.key),"title"in z&&t(2,a=z.title),"config"in z&&t(0,u=z.config),"placeholders"in z&&t(3,f=z.placeholders)},n.$$.update=()=>{n.$$.dirty&8194&&t(7,i=!re.isEmpty(re.getNestedVal(s,o))),n.$$.dirty&3&&(u.enabled||ul(o))},[u,o,a,f,c,h,p,i,A,l,_,v,b,s,M,N,L,I,R,$,B,H,q]}class _z extends je{constructor(e){super(),qe(this,e,gz,mz,We,{key:1,title:2,config:0,placeholders:3,expand:10,collapse:11,collapseSiblings:12})}get expand(){return this.$$.ctx[10]}get collapse(){return this.$$.ctx[11]}get collapseSiblings(){return this.$$.ctx[12]}}function bz(n){let e,t,i,r,l,s,o,a,u,f,c,h;return{c(){e=k("label"),t=le(n[3]),i=le(" duration (in seconds)"),l=D(),s=k("input"),a=D(),u=k("div"),f=k("span"),f.textContent="Invalidate all previously issued tokens",m(e,"for",r=n[6]),m(s,"type","number"),m(s,"id",o=n[6]),s.required=!0,m(s,"placeholder","No change"),m(f,"class","link-primary"),he(f,"txt-success",!!n[1]),m(u,"class","help-block")},m(p,_){S(p,e,_),T(e,t),T(e,i),S(p,l,_),S(p,s,_),He(s,n[0]),S(p,a,_),S(p,u,_),T(u,f),c||(h=[se(s,"input",n[4]),se(f,"click",n[5])],c=!0)},p(p,_){_&8&&Se(t,p[3]),_&64&&r!==(r=p[6])&&m(e,"for",r),_&64&&o!==(o=p[6])&&m(s,"id",o),_&1&&wn(s.value)!==p[0]&&He(s,p[0]),_&2&&he(f,"txt-success",!!p[1])},d(p){p&&(E(e),E(l),E(s),E(a),E(u)),c=!1,it(h)}}}function vz(n){let e,t;return e=new Pe({props:{class:"form-field required",name:n[2]+".duration",$$slots:{default:[bz,({uniqueId:i})=>({6:i}),({uniqueId:i})=>i?64:0]},$$scope:{ctx:n}}}),{c(){ee(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,[r]){const l={};r&4&&(l.name=i[2]+".duration"),r&203&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){x(e.$$.fragment,i),t=!1},d(i){J(e,i)}}}function yz(n,e,t){let{key:i}=e,{label:r}=e,{duration:l}=e,{secret:s}=e;function o(){l=wn(this.value),t(0,l)}const a=()=>{s?t(1,s=void 0):t(1,s=re.randomSecret(50))};return n.$$set=u=>{"key"in u&&t(2,i=u.key),"label"in u&&t(3,r=u.label),"duration"in u&&t(0,l=u.duration),"secret"in u&&t(1,s=u.secret)},[l,s,i,r,o,a]}class kz extends je{constructor(e){super(),qe(this,e,yz,vz,We,{key:2,label:3,duration:0,secret:1})}}function S9(n,e,t){const i=n.slice();return i[8]=e[t],i[9]=e,i[10]=t,i}function C9(n,e){let t,i,r,l,s,o;function a(c){e[5](c,e[8])}function u(c){e[6](c,e[8])}let f={key:e[8].key,label:e[8].label};return e[0][e[8].key].duration!==void 0&&(f.duration=e[0][e[8].key].duration),e[0][e[8].key].secret!==void 0&&(f.secret=e[0][e[8].key].secret),i=new kz({props:f}),ye.push(()=>Ke(i,"duration",a)),ye.push(()=>Ke(i,"secret",u)),{key:n,first:null,c(){t=k("div"),ee(i.$$.fragment),s=D(),m(t,"class","col-sm-6"),this.first=t},m(c,h){S(c,t,h),Q(i,t,null),T(t,s),o=!0},p(c,h){e=c;const p={};h&2&&(p.key=e[8].key),h&2&&(p.label=e[8].label),!r&&h&3&&(r=!0,p.duration=e[0][e[8].key].duration,Ye(()=>r=!1)),!l&&h&3&&(l=!0,p.secret=e[0][e[8].key].secret,Ye(()=>l=!1)),i.$set(p)},i(c){o||(F(i.$$.fragment,c),o=!0)},o(c){x(i.$$.fragment,c),o=!1},d(c){c&&E(t),J(i)}}}function Tz(n){let e,t=[],i=new Map,r,l=Re(n[1]);const s=o=>o[8].key;for(let o=0;o<l.length;o+=1){let a=S9(n,l,o),u=s(a);i.set(u,t[o]=C9(u,a))}return{c(){e=k("div");for(let o=0;o<t.length;o+=1)t[o].c();m(e,"class","grid")},m(o,a){S(o,e,a);for(let u=0;u<t.length;u+=1)t[u]&&t[u].m(e,null);r=!0},p(o,a){a&3&&(l=Re(o[1]),Ne(),t=In(t,a,s,1,o,l,i,e,di,C9,null,S9),Me())},i(o){if(!r){for(let a=0;a<l.length;a+=1)F(t[a]);r=!0}},o(o){for(let a=0;a<t.length;a+=1)x(t[a]);r=!1},d(o){o&&E(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}function A9(n){let e,t,i,r,l;return{c(){e=k("i"),m(e,"class","ri-error-warning-fill txt-danger")},m(s,o){S(s,e,o),i=!0,r||(l=nt(_t.call(null,e,{text:"Has errors",position:"left"})),r=!0)},i(s){i||(s&&tn(()=>{i&&(t||(t=Et(e,Bn,{duration:150,start:.7},!0)),t.run(1))}),i=!0)},o(s){s&&(t||(t=Et(e,Bn,{duration:150,start:.7},!1)),t.run(0)),i=!1},d(s){s&&E(e),s&&t&&t.end(),r=!1,l()}}}function wz(n){let e,t,i,r,l,s=n[2]&&A9();return{c(){e=k("div"),e.innerHTML='<i class="ri-key-2-line"></i> <span class="txt">Tokens options (invalidate, duration)</span>',t=D(),i=k("div"),r=D(),s&&s.c(),l=ze(),m(e,"class","inline-flex"),m(i,"class","flex-fill")},m(o,a){S(o,e,a),S(o,t,a),S(o,i,a),S(o,r,a),s&&s.m(o,a),S(o,l,a)},p(o,a){o[2]?s?a&4&&F(s,1):(s=A9(),s.c(),F(s,1),s.m(l.parentNode,l)):s&&(Ne(),x(s,1,1,()=>{s=null}),Me())},d(o){o&&(E(e),E(t),E(i),E(r),E(l)),s&&s.d(o)}}}function Ez(n){let e,t;return e=new Vs({props:{single:!0,$$slots:{header:[wz],default:[Tz]},$$scope:{ctx:n}}}),{c(){ee(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,[r]){const l={};r&2055&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){x(e.$$.fragment,i),t=!1},d(i){J(e,i)}}}function Sz(n,e,t){let i,r,l;Wt(n,mr,c=>t(4,l=c));let{collection:s}=e,o=[];function a(c){if(re.isEmpty(c))return!1;for(let h of o)if(c[h.key])return!0;return!1}function u(c,h){n.$$.not_equal(s[h.key].duration,c)&&(s[h.key].duration=c,t(0,s))}function f(c,h){n.$$.not_equal(s[h.key].secret,c)&&(s[h.key].secret=c,t(0,s))}return n.$$set=c=>{"collection"in c&&t(0,s=c.collection)},n.$$.update=()=>{n.$$.dirty&1&&t(3,i=(s==null?void 0:s.system)&&(s==null?void 0:s.name)==="_superusers"),n.$$.dirty&8&&t(1,o=i?[{key:"authToken",label:"Auth"},{key:"passwordResetToken",label:"Password reset"},{key:"fileToken",label:"Protected file access"}]:[{key:"authToken",label:"Auth"},{key:"verificationToken",label:"Email verification"},{key:"passwordResetToken",label:"Password reset"},{key:"emailChangeToken",label:"Email change"},{key:"fileToken",label:"Protected file access"}]),n.$$.dirty&16&&t(2,r=a(l))},[s,o,r,i,l,u,f]}class Cz extends je{constructor(e){super(),qe(this,e,Sz,Ez,We,{collection:0})}}const Az=n=>({isSuperuserOnly:n&2048}),O9=n=>({isSuperuserOnly:n[11]}),Oz=n=>({isSuperuserOnly:n&2048}),N9=n=>({isSuperuserOnly:n[11]}),Nz=n=>({isSuperuserOnly:n&2048}),M9=n=>({isSuperuserOnly:n[11]});function Mz(n){let e,t;return e=new Pe({props:{class:"form-field rule-field "+(n[4]?"requied":"")+" "+(n[11]?"disabled":""),name:n[3],$$slots:{default:[Lz,({uniqueId:i})=>({21:i}),({uniqueId:i})=>i?2097152:0]},$$scope:{ctx:n}}}),{c(){ee(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,r){const l={};r&2064&&(l.class="form-field rule-field "+(i[4]?"requied":"")+" "+(i[11]?"disabled":"")),r&8&&(l.name=i[3]),r&2362855&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){x(e.$$.fragment,i),t=!1},d(i){J(e,i)}}}function Iz(n){let e;return{c(){e=k("div"),e.innerHTML='<span class="loader"></span>',m(e,"class","txt-center")},m(t,i){S(t,e,i)},p:ge,i:ge,o:ge,d(t){t&&E(e)}}}function I9(n){let e,t,i,r,l,s;return{c(){e=k("button"),t=k("i"),i=D(),r=k("span"),r.textContent="Set Superusers only",m(t,"class","ri-lock-line"),m(t,"aria-hidden","true"),m(r,"class","txt"),m(e,"type","button"),m(e,"class","btn btn-sm btn-transparent btn-hint lock-toggle svelte-dnx4io"),m(e,"aria-hidden",n[10]),e.disabled=n[10]},m(o,a){S(o,e,a),T(e,t),T(e,i),T(e,r),l||(s=se(e,"click",n[13]),l=!0)},p(o,a){a&1024&&m(e,"aria-hidden",o[10]),a&1024&&(e.disabled=o[10])},d(o){o&&E(e),l=!1,s()}}}function L9(n){let e,t,i,r,l,s,o,a=!n[10]&&D9();return{c(){e=k("button"),a&&a.c(),t=D(),i=k("div"),i.innerHTML='<i class="ri-lock-unlock-line svelte-dnx4io"></i>',m(i,"class","icon svelte-dnx4io"),m(i,"aria-hidden","true"),m(e,"type","button"),m(e,"class","unlock-overlay svelte-dnx4io"),e.disabled=n[10],m(e,"aria-hidden",n[10])},m(u,f){S(u,e,f),a&&a.m(e,null),T(e,t),T(e,i),l=!0,s||(o=se(e,"click",n[12]),s=!0)},p(u,f){u[10]?a&&(a.d(1),a=null):a||(a=D9(),a.c(),a.m(e,t)),(!l||f&1024)&&(e.disabled=u[10]),(!l||f&1024)&&m(e,"aria-hidden",u[10])},i(u){l||(u&&tn(()=>{l&&(r||(r=Et(e,Bn,{duration:150,start:.98},!0)),r.run(1))}),l=!0)},o(u){u&&(r||(r=Et(e,Bn,{duration:150,start:.98},!1)),r.run(0)),l=!1},d(u){u&&E(e),a&&a.d(),u&&r&&r.end(),s=!1,o()}}}function D9(n){let e;return{c(){e=k("small"),e.textContent="Unlock and set custom rule",m(e,"class","txt svelte-dnx4io")},m(t,i){S(t,e,i)},d(t){t&&E(e)}}}function Lz(n){let e,t,i,r,l,s,o=n[11]?"- Superusers only":"",a,u,f,c,h,p,_,v,b,y,A,M,N,L;const I=n[15].beforeLabel,R=Zn(I,n,n[18],M9),$=n[15].afterLabel,B=Zn($,n,n[18],N9);let H=n[5]&&!n[11]&&I9(n);function q(te){n[17](te)}var z=n[8];function j(te,ae){let ue={id:te[21],baseCollection:te[1],disabled:te[10]||te[11],placeholder:te[11]?"":te[6]};return te[0]!==void 0&&(ue.value=te[0]),{props:ue}}z&&(p=ri(z,j(n)),n[16](p),ye.push(()=>Ke(p,"value",q)));let W=n[5]&&n[11]&&L9(n);const G=n[15].default,ie=Zn(G,n,n[18],O9);return{c(){e=k("div"),t=k("label"),R&&R.c(),i=D(),r=k("span"),l=le(n[2]),s=D(),a=le(o),u=D(),B&&B.c(),f=D(),H&&H.c(),h=D(),p&&ee(p.$$.fragment),v=D(),W&&W.c(),y=D(),A=k("div"),ie&&ie.c(),m(r,"class","txt"),he(r,"txt-hint",n[11]),m(t,"for",c=n[21]),m(e,"class","input-wrapper svelte-dnx4io"),m(A,"class","help-block")},m(te,ae){S(te,e,ae),T(e,t),R&&R.m(t,null),T(t,i),T(t,r),T(r,l),T(r,s),T(r,a),T(t,u),B&&B.m(t,null),T(t,f),H&&H.m(t,null),T(e,h),p&&Q(p,e,null),T(e,v),W&&W.m(e,null),S(te,y,ae),S(te,A,ae),ie&&ie.m(A,null),M=!0,N||(L=nt(b=_t.call(null,e,n[1].system?{text:"System collection rule cannot be changed.",position:"top"}:void 0)),N=!0)},p(te,ae){if(R&&R.p&&(!M||ae&264192)&&Jn(R,I,te,te[18],M?Qn(I,te[18],ae,Nz):ei(te[18]),M9),(!M||ae&4)&&Se(l,te[2]),(!M||ae&2048)&&o!==(o=te[11]?"- Superusers only":"")&&Se(a,o),(!M||ae&2048)&&he(r,"txt-hint",te[11]),B&&B.p&&(!M||ae&264192)&&Jn(B,$,te,te[18],M?Qn($,te[18],ae,Oz):ei(te[18]),N9),te[5]&&!te[11]?H?H.p(te,ae):(H=I9(te),H.c(),H.m(t,null)):H&&(H.d(1),H=null),(!M||ae&2097152&&c!==(c=te[21]))&&m(t,"for",c),ae&256&&z!==(z=te[8])){if(p){Ne();const ue=p;x(ue.$$.fragment,1,0,()=>{J(ue,1)}),Me()}z?(p=ri(z,j(te)),te[16](p),ye.push(()=>Ke(p,"value",q)),ee(p.$$.fragment),F(p.$$.fragment,1),Q(p,e,v)):p=null}else if(z){const ue={};ae&2097152&&(ue.id=te[21]),ae&2&&(ue.baseCollection=te[1]),ae&3072&&(ue.disabled=te[10]||te[11]),ae&2112&&(ue.placeholder=te[11]?"":te[6]),!_&&ae&1&&(_=!0,ue.value=te[0],Ye(()=>_=!1)),p.$set(ue)}te[5]&&te[11]?W?(W.p(te,ae),ae&2080&&F(W,1)):(W=L9(te),W.c(),F(W,1),W.m(e,null)):W&&(Ne(),x(W,1,1,()=>{W=null}),Me()),b&&Kn(b.update)&&ae&2&&b.update.call(null,te[1].system?{text:"System collection rule cannot be changed.",position:"top"}:void 0),ie&&ie.p&&(!M||ae&264192)&&Jn(ie,G,te,te[18],M?Qn(G,te[18],ae,Az):ei(te[18]),O9)},i(te){M||(F(R,te),F(B,te),p&&F(p.$$.fragment,te),F(W),F(ie,te),M=!0)},o(te){x(R,te),x(B,te),p&&x(p.$$.fragment,te),x(W),x(ie,te),M=!1},d(te){te&&(E(e),E(y),E(A)),R&&R.d(te),B&&B.d(te),H&&H.d(),n[16](null),p&&J(p),W&&W.d(),ie&&ie.d(te),N=!1,L()}}}function Dz(n){let e,t,i,r;const l=[Iz,Mz],s=[];function o(a,u){return a[9]?0:1}return e=o(n),t=s[e]=l[e](n),{c(){t.c(),i=ze()},m(a,u){s[e].m(a,u),S(a,i,u),r=!0},p(a,[u]){let f=e;e=o(a),e===f?s[e].p(a,u):(Ne(),x(s[f],1,1,()=>{s[f]=null}),Me(),t=s[e],t?t.p(a,u):(t=s[e]=l[e](a),t.c()),F(t,1),t.m(i.parentNode,i))},i(a){r||(F(t),r=!0)},o(a){x(t),r=!1},d(a){a&&E(i),s[e].d(a)}}}let R9;function Rz(n,e,t){let i,r,{$$slots:l={},$$scope:s}=e,{collection:o=null}=e,{rule:a=null}=e,{label:u="Rule"}=e,{formKey:f="rule"}=e,{required:c=!1}=e,{disabled:h=!1}=e,{superuserToggle:p=!0}=e,{placeholder:_="Leave empty to grant everyone access..."}=e,v=null,b=null,y=R9,A=!1;M();async function M(){y||A||(t(9,A=!0),t(8,y=(await Dn(async()=>{const{default:$}=await import("./FilterAutocompleteInput-Dx85F6rx.js");return{default:$}},__vite__mapDeps([0,1]),import.meta.url)).default),R9=y,t(9,A=!1))}async function N(){t(0,a=b||""),await Ni(),v==null||v.focus()}function L(){b=a,t(0,a=null)}function I($){ye[$?"unshift":"push"](()=>{v=$,t(7,v)})}function R($){a=$,t(0,a)}return n.$$set=$=>{"collection"in $&&t(1,o=$.collection),"rule"in $&&t(0,a=$.rule),"label"in $&&t(2,u=$.label),"formKey"in $&&t(3,f=$.formKey),"required"in $&&t(4,c=$.required),"disabled"in $&&t(14,h=$.disabled),"superuserToggle"in $&&t(5,p=$.superuserToggle),"placeholder"in $&&t(6,_=$.placeholder),"$$scope"in $&&t(18,s=$.$$scope)},n.$$.update=()=>{n.$$.dirty&33&&t(11,i=p&&a===null),n.$$.dirty&16386&&t(10,r=h||o.system)},[a,o,u,f,c,p,_,v,y,A,r,i,N,L,h,l,I,R,s]}class No extends je{constructor(e){super(),qe(this,e,Rz,Dz,We,{collection:1,rule:0,label:2,formKey:3,required:4,disabled:14,superuserToggle:5,placeholder:6})}}function Pz(n){let e,t,i,r,l,s,o,a;return{c(){e=k("input"),i=D(),r=k("label"),l=k("span"),l.textContent="Enable",m(e,"type","checkbox"),m(e,"id",t=n[5]),m(l,"class","txt"),m(r,"for",s=n[5])},m(u,f){S(u,e,f),e.checked=n[0].mfa.enabled,S(u,i,f),S(u,r,f),T(r,l),o||(a=se(e,"change",n[3]),o=!0)},p(u,f){f&32&&t!==(t=u[5])&&m(e,"id",t),f&1&&(e.checked=u[0].mfa.enabled),f&32&&s!==(s=u[5])&&m(r,"for",s)},d(u){u&&(E(e),E(i),E(r)),o=!1,a()}}}function Fz(n){let e,t,i,r,l;return{c(){e=k("p"),e.textContent="This optional rule could be used to enable/disable MFA per account basis.",t=D(),i=k("p"),i.innerHTML=`For example, to require MFA only for accounts with non-empty email you can set it to
                        <code>email != &#39;&#39;</code>.`,r=D(),l=k("p"),l.textContent="Leave the rule empty to require MFA for everyone."},m(s,o){S(s,e,o),S(s,t,o),S(s,i,o),S(s,r,o),S(s,l,o)},p:ge,d(s){s&&(E(e),E(t),E(i),E(r),E(l))}}}function $z(n){let e,t,i,r,l,s,o,a,u;r=new Pe({props:{class:"form-field form-field-toggle",name:"mfa.enabled",$$slots:{default:[Pz,({uniqueId:h})=>({5:h}),({uniqueId:h})=>h?32:0]},$$scope:{ctx:n}}});function f(h){n[4](h)}let c={label:"MFA rule",formKey:"mfa.rule",superuserToggle:!1,disabled:!n[0].mfa.enabled,placeholder:"Leave empty to require MFA for everyone",collection:n[0],$$slots:{default:[Fz]},$$scope:{ctx:n}};return n[0].mfa.rule!==void 0&&(c.rule=n[0].mfa.rule),o=new No({props:c}),ye.push(()=>Ke(o,"rule",f)),{c(){e=k("div"),e.innerHTML=`<p class="txt-bold">This feature is experimental and may change in the future.</p> <p>Multi-factor authentication (MFA) requires the user to authenticate with any 2 different auth
            methods (otp, identity/password, oauth2) before issuing an auth token.
            <a href="https://pocketbase.io/docs/authentication#multi-factor-authentication" target="_blank" rel="noopener noreferrer" class="txt-sm link-hint" title="Learn more"><em>(Learn more)</em> </a>.</p>`,t=D(),i=k("div"),ee(r.$$.fragment),l=D(),s=k("div"),ee(o.$$.fragment),m(e,"class","content m-b-sm"),m(s,"class","content"),he(s,"fade",!n[0].mfa.enabled),m(i,"class","grid")},m(h,p){S(h,e,p),S(h,t,p),S(h,i,p),Q(r,i,null),T(i,l),T(i,s),Q(o,s,null),u=!0},p(h,p){const _={};p&97&&(_.$$scope={dirty:p,ctx:h}),r.$set(_);const v={};p&1&&(v.disabled=!h[0].mfa.enabled),p&1&&(v.collection=h[0]),p&64&&(v.$$scope={dirty:p,ctx:h}),!a&&p&1&&(a=!0,v.rule=h[0].mfa.rule,Ye(()=>a=!1)),o.$set(v),(!u||p&1)&&he(s,"fade",!h[0].mfa.enabled)},i(h){u||(F(r.$$.fragment,h),F(o.$$.fragment,h),u=!0)},o(h){x(r.$$.fragment,h),x(o.$$.fragment,h),u=!1},d(h){h&&(E(e),E(t),E(i)),J(r),J(o)}}}function Hz(n){let e;return{c(){e=k("span"),e.textContent="Disabled",m(e,"class","label")},m(t,i){S(t,e,i)},d(t){t&&E(e)}}}function Bz(n){let e;return{c(){e=k("span"),e.textContent="Enabled",m(e,"class","label label-success")},m(t,i){S(t,e,i)},d(t){t&&E(e)}}}function P9(n){let e,t,i,r,l;return{c(){e=k("i"),m(e,"class","ri-error-warning-fill txt-danger")},m(s,o){S(s,e,o),i=!0,r||(l=nt(_t.call(null,e,{text:"Has errors",position:"left"})),r=!0)},i(s){i||(s&&tn(()=>{i&&(t||(t=Et(e,Bn,{duration:150,start:.7},!0)),t.run(1))}),i=!0)},o(s){s&&(t||(t=Et(e,Bn,{duration:150,start:.7},!1)),t.run(0)),i=!1},d(s){s&&E(e),s&&t&&t.end(),r=!1,l()}}}function xz(n){let e,t,i,r,l,s;function o(c,h){return c[0].mfa.enabled?Bz:Hz}let a=o(n),u=a(n),f=n[1]&&P9();return{c(){e=k("div"),e.innerHTML='<i class="ri-shield-check-line"></i> <span class="txt">Multi-factor authentication (MFA)</span>',t=D(),i=k("div"),r=D(),u.c(),l=D(),f&&f.c(),s=ze(),m(e,"class","inline-flex"),m(i,"class","flex-fill")},m(c,h){S(c,e,h),S(c,t,h),S(c,i,h),S(c,r,h),u.m(c,h),S(c,l,h),f&&f.m(c,h),S(c,s,h)},p(c,h){a!==(a=o(c))&&(u.d(1),u=a(c),u&&(u.c(),u.m(l.parentNode,l))),c[1]?f?h&2&&F(f,1):(f=P9(),f.c(),F(f,1),f.m(s.parentNode,s)):f&&(Ne(),x(f,1,1,()=>{f=null}),Me())},d(c){c&&(E(e),E(t),E(i),E(r),E(l),E(s)),u.d(c),f&&f.d(c)}}}function Uz(n){let e,t;return e=new Vs({props:{single:!0,$$slots:{header:[xz],default:[$z]},$$scope:{ctx:n}}}),{c(){ee(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,[r]){const l={};r&67&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){x(e.$$.fragment,i),t=!1},d(i){J(e,i)}}}function zz(n,e,t){let i,r;Wt(n,mr,a=>t(2,r=a));let{collection:l}=e;function s(){l.mfa.enabled=this.checked,t(0,l)}function o(a){n.$$.not_equal(l.mfa.rule,a)&&(l.mfa.rule=a,t(0,l))}return n.$$set=a=>{"collection"in a&&t(0,l=a.collection)},n.$$.update=()=>{n.$$.dirty&4&&t(1,i=!re.isEmpty(r==null?void 0:r.mfa))},[l,i,r,s,o]}class qz extends je{constructor(e){super(),qe(this,e,zz,Uz,We,{collection:0})}}const jz=n=>({}),F9=n=>({});function $9(n,e,t){const i=n.slice();return i[50]=e[t],i}const Wz=n=>({}),H9=n=>({});function B9(n,e,t){const i=n.slice();return i[50]=e[t],i[54]=t,i}function x9(n){let e,t,i;return{c(){e=k("div"),t=le(n[2]),i=D(),m(e,"class","block txt-placeholder"),he(e,"link-hint",!n[5]&&!n[6])},m(r,l){S(r,e,l),T(e,t),T(e,i)},p(r,l){l[0]&4&&Se(t,r[2]),l[0]&96&&he(e,"link-hint",!r[5]&&!r[6])},d(r){r&&E(e)}}}function Kz(n){let e,t=n[50]+"",i;return{c(){e=k("span"),i=le(t),m(e,"class","txt")},m(r,l){S(r,e,l),T(e,i)},p(r,l){l[0]&1&&t!==(t=r[50]+"")&&Se(i,t)},i:ge,o:ge,d(r){r&&E(e)}}}function Vz(n){let e,t,i;const r=[{item:n[50]},n[11]];var l=n[10];function s(o,a){let u={};for(let f=0;f<r.length;f+=1)u=kt(u,r[f]);return a!==void 0&&a[0]&2049&&(u=kt(u,Ln(r,[a[0]&1&&{item:o[50]},a[0]&2048&&Wn(o[11])]))),{props:u}}return l&&(e=ri(l,s(n))),{c(){e&&ee(e.$$.fragment),t=ze()},m(o,a){e&&Q(e,o,a),S(o,t,a),i=!0},p(o,a){if(a[0]&1024&&l!==(l=o[10])){if(e){Ne();const u=e;x(u.$$.fragment,1,0,()=>{J(u,1)}),Me()}l?(e=ri(l,s(o,a)),ee(e.$$.fragment),F(e.$$.fragment,1),Q(e,t.parentNode,t)):e=null}else if(l){const u=a[0]&2049?Ln(r,[a[0]&1&&{item:o[50]},a[0]&2048&&Wn(o[11])]):{};e.$set(u)}},i(o){i||(e&&F(e.$$.fragment,o),i=!0)},o(o){e&&x(e.$$.fragment,o),i=!1},d(o){o&&E(t),e&&J(e,o)}}}function U9(n){let e,t,i;function r(){return n[37](n[50])}return{c(){e=k("span"),e.innerHTML='<i class="ri-close-line"></i>',m(e,"class","clear")},m(l,s){S(l,e,s),t||(i=[nt(_t.call(null,e,"Clear")),se(e,"click",Ai(ln(r)))],t=!0)},p(l,s){n=l},d(l){l&&E(e),t=!1,it(i)}}}function z9(n){let e,t,i,r,l,s;const o=[Vz,Kz],a=[];function u(c,h){return c[10]?0:1}t=u(n),i=a[t]=o[t](n);let f=(n[4]||n[8])&&U9(n);return{c(){e=k("div"),i.c(),r=D(),f&&f.c(),l=D(),m(e,"class","option")},m(c,h){S(c,e,h),a[t].m(e,null),T(e,r),f&&f.m(e,null),T(e,l),s=!0},p(c,h){let p=t;t=u(c),t===p?a[t].p(c,h):(Ne(),x(a[p],1,1,()=>{a[p]=null}),Me(),i=a[t],i?i.p(c,h):(i=a[t]=o[t](c),i.c()),F(i,1),i.m(e,r)),c[4]||c[8]?f?f.p(c,h):(f=U9(c),f.c(),f.m(e,l)):f&&(f.d(1),f=null)},i(c){s||(F(i),s=!0)},o(c){x(i),s=!1},d(c){c&&E(e),a[t].d(),f&&f.d()}}}function q9(n){let e,t,i={class:"dropdown dropdown-block options-dropdown dropdown-left "+(n[7]?"dropdown-upside":""),trigger:n[20],$$slots:{default:[Xz]},$$scope:{ctx:n}};return e=new Ar({props:i}),n[42](e),e.$on("show",n[26]),e.$on("hide",n[43]),{c(){ee(e.$$.fragment)},m(r,l){Q(e,r,l),t=!0},p(r,l){const s={};l[0]&128&&(s.class="dropdown dropdown-block options-dropdown dropdown-left "+(r[7]?"dropdown-upside":"")),l[0]&1048576&&(s.trigger=r[20]),l[0]&6451722|l[1]&16384&&(s.$$scope={dirty:l,ctx:r}),e.$set(s)},i(r){t||(F(e.$$.fragment,r),t=!0)},o(r){x(e.$$.fragment,r),t=!1},d(r){n[42](null),J(e,r)}}}function j9(n){let e,t,i,r,l,s,o,a,u=n[17].length&&W9(n);return{c(){e=k("div"),t=k("label"),i=k("div"),i.innerHTML='<i class="ri-search-line"></i>',r=D(),l=k("input"),s=D(),u&&u.c(),m(i,"class","addon p-r-0"),l.autofocus=!0,m(l,"type","text"),m(l,"placeholder",n[3]),m(t,"class","input-group"),m(e,"class","form-field form-field-sm options-search")},m(f,c){S(f,e,c),T(e,t),T(t,i),T(t,r),T(t,l),He(l,n[17]),T(t,s),u&&u.m(t,null),l.focus(),o||(a=se(l,"input",n[39]),o=!0)},p(f,c){c[0]&8&&m(l,"placeholder",f[3]),c[0]&131072&&l.value!==f[17]&&He(l,f[17]),f[17].length?u?u.p(f,c):(u=W9(f),u.c(),u.m(t,null)):u&&(u.d(1),u=null)},d(f){f&&E(e),u&&u.d(),o=!1,a()}}}function W9(n){let e,t,i,r;return{c(){e=k("div"),t=k("button"),t.innerHTML='<i class="ri-close-line"></i>',m(t,"type","button"),m(t,"class","btn btn-sm btn-circle btn-transparent clear"),m(e,"class","addon suffix p-r-5")},m(l,s){S(l,e,s),T(e,t),i||(r=se(t,"click",Ai(ln(n[23]))),i=!0)},p:ge,d(l){l&&E(e),i=!1,r()}}}function K9(n){let e,t=n[1]&&V9(n);return{c(){t&&t.c(),e=ze()},m(i,r){t&&t.m(i,r),S(i,e,r)},p(i,r){i[1]?t?t.p(i,r):(t=V9(i),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(i){i&&E(e),t&&t.d(i)}}}function V9(n){let e,t;return{c(){e=k("div"),t=le(n[1]),m(e,"class","txt-missing")},m(i,r){S(i,e,r),T(e,t)},p(i,r){r[0]&2&&Se(t,i[1])},d(i){i&&E(e)}}}function Gz(n){let e=n[50]+"",t;return{c(){t=le(e)},m(i,r){S(i,t,r)},p(i,r){r[0]&4194304&&e!==(e=i[50]+"")&&Se(t,e)},i:ge,o:ge,d(i){i&&E(t)}}}function Yz(n){let e,t,i;const r=[{item:n[50]},n[13]];var l=n[12];function s(o,a){let u={};for(let f=0;f<r.length;f+=1)u=kt(u,r[f]);return a!==void 0&&a[0]&4202496&&(u=kt(u,Ln(r,[a[0]&4194304&&{item:o[50]},a[0]&8192&&Wn(o[13])]))),{props:u}}return l&&(e=ri(l,s(n))),{c(){e&&ee(e.$$.fragment),t=ze()},m(o,a){e&&Q(e,o,a),S(o,t,a),i=!0},p(o,a){if(a[0]&4096&&l!==(l=o[12])){if(e){Ne();const u=e;x(u.$$.fragment,1,0,()=>{J(u,1)}),Me()}l?(e=ri(l,s(o,a)),ee(e.$$.fragment),F(e.$$.fragment,1),Q(e,t.parentNode,t)):e=null}else if(l){const u=a[0]&4202496?Ln(r,[a[0]&4194304&&{item:o[50]},a[0]&8192&&Wn(o[13])]):{};e.$set(u)}},i(o){i||(e&&F(e.$$.fragment,o),i=!0)},o(o){e&&x(e.$$.fragment,o),i=!1},d(o){o&&E(t),e&&J(e,o)}}}function G9(n){let e,t,i,r,l,s,o;const a=[Yz,Gz],u=[];function f(p,_){return p[12]?0:1}t=f(n),i=u[t]=a[t](n);function c(...p){return n[40](n[50],...p)}function h(...p){return n[41](n[50],...p)}return{c(){e=k("div"),i.c(),r=D(),m(e,"tabindex","0"),m(e,"class","dropdown-item option"),m(e,"role","menuitem"),he(e,"closable",n[9]),he(e,"selected",n[21](n[50]))},m(p,_){S(p,e,_),u[t].m(e,null),T(e,r),l=!0,s||(o=[se(e,"click",c),se(e,"keydown",h)],s=!0)},p(p,_){n=p;let v=t;t=f(n),t===v?u[t].p(n,_):(Ne(),x(u[v],1,1,()=>{u[v]=null}),Me(),i=u[t],i?i.p(n,_):(i=u[t]=a[t](n),i.c()),F(i,1),i.m(e,r)),(!l||_[0]&512)&&he(e,"closable",n[9]),(!l||_[0]&6291456)&&he(e,"selected",n[21](n[50]))},i(p){l||(F(i),l=!0)},o(p){x(i),l=!1},d(p){p&&E(e),u[t].d(),s=!1,it(o)}}}function Xz(n){let e,t,i,r,l,s=n[14]&&j9(n);const o=n[36].beforeOptions,a=Zn(o,n,n[45],H9);let u=Re(n[22]),f=[];for(let v=0;v<u.length;v+=1)f[v]=G9($9(n,u,v));const c=v=>x(f[v],1,1,()=>{f[v]=null});let h=null;u.length||(h=K9(n));const p=n[36].afterOptions,_=Zn(p,n,n[45],F9);return{c(){s&&s.c(),e=D(),a&&a.c(),t=D(),i=k("div");for(let v=0;v<f.length;v+=1)f[v].c();h&&h.c(),r=D(),_&&_.c(),m(i,"class","options-list")},m(v,b){s&&s.m(v,b),S(v,e,b),a&&a.m(v,b),S(v,t,b),S(v,i,b);for(let y=0;y<f.length;y+=1)f[y]&&f[y].m(i,null);h&&h.m(i,null),S(v,r,b),_&&_.m(v,b),l=!0},p(v,b){if(v[14]?s?s.p(v,b):(s=j9(v),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null),a&&a.p&&(!l||b[1]&16384)&&Jn(a,o,v,v[45],l?Qn(o,v[45],b,Wz):ei(v[45]),H9),b[0]&56635906){u=Re(v[22]);let y;for(y=0;y<u.length;y+=1){const A=$9(v,u,y);f[y]?(f[y].p(A,b),F(f[y],1)):(f[y]=G9(A),f[y].c(),F(f[y],1),f[y].m(i,null))}for(Ne(),y=u.length;y<f.length;y+=1)c(y);Me(),!u.length&&h?h.p(v,b):u.length?h&&(h.d(1),h=null):(h=K9(v),h.c(),h.m(i,null))}_&&_.p&&(!l||b[1]&16384)&&Jn(_,p,v,v[45],l?Qn(p,v[45],b,jz):ei(v[45]),F9)},i(v){if(!l){F(a,v);for(let b=0;b<u.length;b+=1)F(f[b]);F(_,v),l=!0}},o(v){x(a,v),f=f.filter(Boolean);for(let b=0;b<f.length;b+=1)x(f[b]);x(_,v),l=!1},d(v){v&&(E(e),E(t),E(i),E(r)),s&&s.d(v),a&&a.d(v),fn(f,v),h&&h.d(),_&&_.d(v)}}}function Zz(n){let e,t,i,r,l,s,o=Re(re.toArray(n[0])),a=[];for(let h=0;h<o.length;h+=1)a[h]=z9(B9(n,o,h));const u=h=>x(a[h],1,1,()=>{a[h]=null});let f=null;o.length||(f=x9(n));let c=!n[5]&&!n[6]&&q9(n);return{c(){e=k("div"),t=k("div");for(let h=0;h<a.length;h+=1)a[h].c();f&&f.c(),r=D(),c&&c.c(),m(t,"tabindex",i=n[5]||n[6]?"-1":"0"),m(t,"class","selected-container"),m(t,"role","button"),he(t,"disabled",n[5]),he(t,"readonly",n[6]),m(e,"class",l="select "+n[15]),he(e,"upside",n[7]),he(e,"multiple",n[4]),he(e,"disabled",n[5]),he(e,"readonly",n[6])},m(h,p){S(h,e,p),T(e,t);for(let _=0;_<a.length;_+=1)a[_]&&a[_].m(t,null);f&&f.m(t,null),n[38](t),T(e,r),c&&c.m(e,null),n[44](e),s=!0},p(h,p){if(p[0]&68981){o=Re(re.toArray(h[0]));let _;for(_=0;_<o.length;_+=1){const v=B9(h,o,_);a[_]?(a[_].p(v,p),F(a[_],1)):(a[_]=z9(v),a[_].c(),F(a[_],1),a[_].m(t,null))}for(Ne(),_=o.length;_<a.length;_+=1)u(_);Me(),!o.length&&f?f.p(h,p):o.length?f&&(f.d(1),f=null):(f=x9(h),f.c(),f.m(t,null))}(!s||p[0]&96&&i!==(i=h[5]||h[6]?"-1":"0"))&&m(t,"tabindex",i),(!s||p[0]&32)&&he(t,"disabled",h[5]),(!s||p[0]&64)&&he(t,"readonly",h[6]),!h[5]&&!h[6]?c?(c.p(h,p),p[0]&96&&F(c,1)):(c=q9(h),c.c(),F(c,1),c.m(e,null)):c&&(Ne(),x(c,1,1,()=>{c=null}),Me()),(!s||p[0]&32768&&l!==(l="select "+h[15]))&&m(e,"class",l),(!s||p[0]&32896)&&he(e,"upside",h[7]),(!s||p[0]&32784)&&he(e,"multiple",h[4]),(!s||p[0]&32800)&&he(e,"disabled",h[5]),(!s||p[0]&32832)&&he(e,"readonly",h[6])},i(h){if(!s){for(let p=0;p<o.length;p+=1)F(a[p]);F(c),s=!0}},o(h){a=a.filter(Boolean);for(let p=0;p<a.length;p+=1)x(a[p]);x(c),s=!1},d(h){h&&E(e),fn(a,h),f&&f.d(),n[38](null),c&&c.d(),n[44](null)}}}function Qz(n,e){let t=(""+e).replace(/\s+/g,"").toLowerCase(),i=n;try{typeof n=="object"&&n!==null&&(i=JSON.stringify(n))}catch{}return(""+i).replace(/\s+/g,"").toLowerCase().includes(t)}function Jz(n,e,t){let i,r,{$$slots:l={},$$scope:s}=e,{id:o=""}=e,{noOptionsText:a="No options found"}=e,{selectPlaceholder:u="- Select -"}=e,{searchPlaceholder:f="Search..."}=e,{items:c=[]}=e,{multiple:h=!1}=e,{disabled:p=!1}=e,{readonly:_=!1}=e,{upside:v=!1}=e,{zeroFunc:b=()=>h?[]:void 0}=e,{selected:y=b()}=e,{toggle:A=h}=e,{closable:M=!0}=e,{labelComponent:N=void 0}=e,{labelComponentProps:L={}}=e,{optionComponent:I=void 0}=e,{optionComponentProps:R={}}=e,{searchable:$=!1}=e,{searchFunc:B=void 0}=e;const H=Sn();let{class:q=""}=e,z,j="",W,G;function ie(Fe){if(re.isEmpty(y))return;let Ft=re.toArray(y);re.inArray(Ft,Fe)&&(re.removeByValue(Ft,Fe),t(0,y=h?Ft:(Ft==null?void 0:Ft[0])||b())),H("change",{selected:y}),W==null||W.dispatchEvent(new CustomEvent("change",{detail:y,bubbles:!0}))}function te(Fe){if(h){let Ft=re.toArray(y);re.inArray(Ft,Fe)||t(0,y=[...Ft,Fe])}else t(0,y=Fe);H("change",{selected:y}),W==null||W.dispatchEvent(new CustomEvent("change",{detail:y,bubbles:!0}))}function ae(Fe){return r(Fe)?ie(Fe):te(Fe)}function ue(){t(0,y=b()),H("change",{selected:y}),W==null||W.dispatchEvent(new CustomEvent("change",{detail:y,bubbles:!0}))}function K(){z!=null&&z.show&&(z==null||z.show())}function X(){z!=null&&z.hide&&(z==null||z.hide())}function _e(){if(re.isEmpty(y)||re.isEmpty(c))return;let Fe=re.toArray(y),Ft=[];for(const cn of Fe)re.inArray(c,cn)||Ft.push(cn);if(Ft.length){for(const cn of Ft)re.removeByValue(Fe,cn);t(0,y=h?Fe:Fe[0])}}function oe(){t(17,j="")}function Le(Fe,Ft){Fe=Fe||[];const cn=B||Qz;return Fe.filter(Ee=>cn(Ee,Ft))||[]}function lt(Fe,Ft){Fe.preventDefault(),A&&h?ae(Ft):te(Ft)}function St(Fe,Ft){(Fe.code==="Enter"||Fe.code==="Space")&&(lt(Fe,Ft),M&&X())}function bt(){oe(),setTimeout(()=>{const Fe=W==null?void 0:W.querySelector(".dropdown-item.option.selected");Fe&&(Fe.focus(),Fe.scrollIntoView({block:"nearest"}))},0)}function At(Fe){Fe.stopPropagation(),!_&&!p&&(z==null||z.toggle())}hi(()=>{const Fe=document.querySelectorAll(`label[for="${o}"]`);for(const Ft of Fe)Ft.addEventListener("click",At);return()=>{for(const Ft of Fe)Ft.removeEventListener("click",At)}});const ot=Fe=>ie(Fe);function vt(Fe){ye[Fe?"unshift":"push"](()=>{G=Fe,t(20,G)})}function zt(){j=this.value,t(17,j)}const pt=(Fe,Ft)=>lt(Ft,Fe),$e=(Fe,Ft)=>St(Ft,Fe);function Bt(Fe){ye[Fe?"unshift":"push"](()=>{z=Fe,t(18,z)})}function Ze(Fe){ut.call(this,n,Fe)}function dt(Fe){ye[Fe?"unshift":"push"](()=>{W=Fe,t(19,W)})}return n.$$set=Fe=>{"id"in Fe&&t(27,o=Fe.id),"noOptionsText"in Fe&&t(1,a=Fe.noOptionsText),"selectPlaceholder"in Fe&&t(2,u=Fe.selectPlaceholder),"searchPlaceholder"in Fe&&t(3,f=Fe.searchPlaceholder),"items"in Fe&&t(28,c=Fe.items),"multiple"in Fe&&t(4,h=Fe.multiple),"disabled"in Fe&&t(5,p=Fe.disabled),"readonly"in Fe&&t(6,_=Fe.readonly),"upside"in Fe&&t(7,v=Fe.upside),"zeroFunc"in Fe&&t(29,b=Fe.zeroFunc),"selected"in Fe&&t(0,y=Fe.selected),"toggle"in Fe&&t(8,A=Fe.toggle),"closable"in Fe&&t(9,M=Fe.closable),"labelComponent"in Fe&&t(10,N=Fe.labelComponent),"labelComponentProps"in Fe&&t(11,L=Fe.labelComponentProps),"optionComponent"in Fe&&t(12,I=Fe.optionComponent),"optionComponentProps"in Fe&&t(13,R=Fe.optionComponentProps),"searchable"in Fe&&t(14,$=Fe.searchable),"searchFunc"in Fe&&t(30,B=Fe.searchFunc),"class"in Fe&&t(15,q=Fe.class),"$$scope"in Fe&&t(45,s=Fe.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&268435456&&c&&(_e(),oe()),n.$$.dirty[0]&268566528&&t(22,i=Le(c,j)),n.$$.dirty[0]&1&&t(21,r=function(Fe){const Ft=re.toArray(y);return re.inArray(Ft,Fe)})},[y,a,u,f,h,p,_,v,A,M,N,L,I,R,$,q,ie,j,z,W,G,r,i,oe,lt,St,bt,o,c,b,B,te,ae,ue,K,X,l,ot,vt,zt,pt,$e,Bt,Ze,dt,s]}class tf extends je{constructor(e){super(),qe(this,e,Jz,Zz,We,{id:27,noOptionsText:1,selectPlaceholder:2,searchPlaceholder:3,items:28,multiple:4,disabled:5,readonly:6,upside:7,zeroFunc:29,selected:0,toggle:8,closable:9,labelComponent:10,labelComponentProps:11,optionComponent:12,optionComponentProps:13,searchable:14,searchFunc:30,class:15,deselectItem:16,selectItem:31,toggleItem:32,reset:33,showDropdown:34,hideDropdown:35},null,[-1,-1])}get deselectItem(){return this.$$.ctx[16]}get selectItem(){return this.$$.ctx[31]}get toggleItem(){return this.$$.ctx[32]}get reset(){return this.$$.ctx[33]}get showDropdown(){return this.$$.ctx[34]}get hideDropdown(){return this.$$.ctx[35]}}function eq(n){let e,t,i,r=[{type:"password"},{autocomplete:"new-password"},n[4]],l={};for(let s=0;s<r.length;s+=1)l=kt(l,r[s]);return{c(){e=k("input"),El(e,l)},m(s,o){S(s,e,o),e.autofocus&&e.focus(),n[5](e),He(e,n[0]),t||(i=se(e,"input",n[6]),t=!0)},p(s,o){El(e,l=Ln(r,[{type:"password"},{autocomplete:"new-password"},o&16&&s[4]])),o&1&&e.value!==s[0]&&He(e,s[0])},d(s){s&&E(e),n[5](null),t=!1,i()}}}function tq(n){let e,t,i,r,l,s,o=[{disabled:!0},{type:"text"},{placeholder:"******"},n[4]],a={};for(let u=0;u<o.length;u+=1)a=kt(a,o[u]);return{c(){e=k("div"),t=k("button"),t.innerHTML='<i class="ri-key-line"></i>',i=D(),r=k("input"),m(t,"type","button"),m(t,"class","btn btn-transparent btn-circle"),m(e,"class","form-field-addon"),El(r,a)},m(u,f){S(u,e,f),T(e,t),S(u,i,f),S(u,r,f),r.autofocus&&r.focus(),l||(s=[nt(_t.call(null,t,{position:"left",text:"Set new value"})),se(t,"click",ln(n[3]))],l=!0)},p(u,f){El(r,a=Ln(o,[{disabled:!0},{type:"text"},{placeholder:"******"},f&16&&u[4]]))},d(u){u&&(E(e),E(i),E(r)),l=!1,it(s)}}}function nq(n){let e;function t(l,s){return l[1]?tq:eq}let i=t(n),r=i(n);return{c(){r.c(),e=ze()},m(l,s){r.m(l,s),S(l,e,s)},p(l,[s]){i===(i=t(l))&&r?r.p(l,s):(r.d(1),r=i(l),r&&(r.c(),r.m(e.parentNode,e)))},i:ge,o:ge,d(l){l&&E(e),r.d(l)}}}function iq(n,e,t){const i=["value","mask"];let r=rn(e,i),{value:l=void 0}=e,{mask:s=!1}=e,o;async function a(){t(0,l=""),t(1,s=!1),await Ni(),o==null||o.focus()}function u(c){ye[c?"unshift":"push"](()=>{o=c,t(2,o)})}function f(){l=this.value,t(0,l)}return n.$$set=c=>{e=kt(kt({},e),ui(c)),t(4,r=rn(e,i)),"value"in c&&t(0,l=c.value),"mask"in c&&t(1,s=c.mask)},[l,s,o,a,r,u,f]}class A_ extends je{constructor(e){super(),qe(this,e,iq,nq,We,{value:0,mask:1})}}function rq(n){let e,t,i,r,l,s,o,a;return{c(){e=k("label"),t=le("Client ID"),r=D(),l=k("input"),m(e,"for",i=n[23]),m(l,"type","text"),m(l,"id",s=n[23])},m(u,f){S(u,e,f),T(e,t),S(u,r,f),S(u,l,f),He(l,n[1].clientId),o||(a=se(l,"input",n[14]),o=!0)},p(u,f){f&8388608&&i!==(i=u[23])&&m(e,"for",i),f&8388608&&s!==(s=u[23])&&m(l,"id",s),f&2&&l.value!==u[1].clientId&&He(l,u[1].clientId)},d(u){u&&(E(e),E(r),E(l)),o=!1,a()}}}function lq(n){let e,t,i,r,l,s,o,a;function u(h){n[15](h)}function f(h){n[16](h)}let c={id:n[23]};return n[5]!==void 0&&(c.mask=n[5]),n[1].clientSecret!==void 0&&(c.value=n[1].clientSecret),l=new A_({props:c}),ye.push(()=>Ke(l,"mask",u)),ye.push(()=>Ke(l,"value",f)),{c(){e=k("label"),t=le("Client secret"),r=D(),ee(l.$$.fragment),m(e,"for",i=n[23])},m(h,p){S(h,e,p),T(e,t),S(h,r,p),Q(l,h,p),a=!0},p(h,p){(!a||p&8388608&&i!==(i=h[23]))&&m(e,"for",i);const _={};p&8388608&&(_.id=h[23]),!s&&p&32&&(s=!0,_.mask=h[5],Ye(()=>s=!1)),!o&&p&2&&(o=!0,_.value=h[1].clientSecret,Ye(()=>o=!1)),l.$set(_)},i(h){a||(F(l.$$.fragment,h),a=!0)},o(h){x(l.$$.fragment,h),a=!1},d(h){h&&(E(e),E(r)),J(l,h)}}}function Y9(n){let e,t,i,r;const l=[{key:n[6]},n[3].optionsComponentProps||{}];function s(u){n[17](u)}var o=n[3].optionsComponent;function a(u,f){let c={};for(let h=0;h<l.length;h+=1)c=kt(c,l[h]);return f!==void 0&&f&72&&(c=kt(c,Ln(l,[f&64&&{key:u[6]},f&8&&Wn(u[3].optionsComponentProps||{})]))),u[1]!==void 0&&(c.config=u[1]),{props:c}}return o&&(t=ri(o,a(n)),ye.push(()=>Ke(t,"config",s))),{c(){e=k("div"),t&&ee(t.$$.fragment),m(e,"class","col-lg-12")},m(u,f){S(u,e,f),t&&Q(t,e,null),r=!0},p(u,f){if(f&8&&o!==(o=u[3].optionsComponent)){if(t){Ne();const c=t;x(c.$$.fragment,1,0,()=>{J(c,1)}),Me()}o?(t=ri(o,a(u,f)),ye.push(()=>Ke(t,"config",s)),ee(t.$$.fragment),F(t.$$.fragment,1),Q(t,e,null)):t=null}else if(o){const c=f&72?Ln(l,[f&64&&{key:u[6]},f&8&&Wn(u[3].optionsComponentProps||{})]):{};!i&&f&2&&(i=!0,c.config=u[1],Ye(()=>i=!1)),t.$set(c)}},i(u){r||(t&&F(t.$$.fragment,u),r=!0)},o(u){t&&x(t.$$.fragment,u),r=!1},d(u){u&&E(e),t&&J(t)}}}function sq(n){let e,t,i,r,l,s,o,a;t=new Pe({props:{class:"form-field required",name:n[6]+".clientId",$$slots:{default:[rq,({uniqueId:f})=>({23:f}),({uniqueId:f})=>f?8388608:0]},$$scope:{ctx:n}}}),r=new Pe({props:{class:"form-field required",name:n[6]+".clientSecret",$$slots:{default:[lq,({uniqueId:f})=>({23:f}),({uniqueId:f})=>f?8388608:0]},$$scope:{ctx:n}}});let u=n[3].optionsComponent&&Y9(n);return{c(){e=k("form"),ee(t.$$.fragment),i=D(),ee(r.$$.fragment),l=D(),u&&u.c(),m(e,"id",n[8]),m(e,"autocomplete","off")},m(f,c){S(f,e,c),Q(t,e,null),T(e,i),Q(r,e,null),T(e,l),u&&u.m(e,null),s=!0,o||(a=se(e,"submit",ln(n[18])),o=!0)},p(f,c){const h={};c&64&&(h.name=f[6]+".clientId"),c&25165826&&(h.$$scope={dirty:c,ctx:f}),t.$set(h);const p={};c&64&&(p.name=f[6]+".clientSecret"),c&25165858&&(p.$$scope={dirty:c,ctx:f}),r.$set(p),f[3].optionsComponent?u?(u.p(f,c),c&8&&F(u,1)):(u=Y9(f),u.c(),F(u,1),u.m(e,null)):u&&(Ne(),x(u,1,1,()=>{u=null}),Me())},i(f){s||(F(t.$$.fragment,f),F(r.$$.fragment,f),F(u),s=!0)},o(f){x(t.$$.fragment,f),x(r.$$.fragment,f),x(u),s=!1},d(f){f&&E(e),J(t),J(r),u&&u.d(),o=!1,a()}}}function oq(n){let e;return{c(){e=k("i"),m(e,"class","ri-puzzle-line txt-sm txt-hint")},m(t,i){S(t,e,i)},p:ge,d(t){t&&E(e)}}}function aq(n){let e,t,i;return{c(){e=k("img"),hr(e.src,t="./images/oauth2/"+n[3].logo)||m(e,"src",t),m(e,"alt",i=n[3].title+" logo")},m(r,l){S(r,e,l)},p(r,l){l&8&&!hr(e.src,t="./images/oauth2/"+r[3].logo)&&m(e,"src",t),l&8&&i!==(i=r[3].title+" logo")&&m(e,"alt",i)},d(r){r&&E(e)}}}function uq(n){let e,t,i,r=n[3].title+"",l,s,o,a,u=n[3].key+"",f,c;function h(v,b){return v[3].logo?aq:oq}let p=h(n),_=p(n);return{c(){e=k("figure"),_.c(),t=D(),i=k("h4"),l=le(r),s=D(),o=k("small"),a=le("("),f=le(u),c=le(")"),m(e,"class","provider-logo"),m(o,"class","txt-hint"),m(i,"class","center txt-break")},m(v,b){S(v,e,b),_.m(e,null),S(v,t,b),S(v,i,b),T(i,l),T(i,s),T(i,o),T(o,a),T(o,f),T(o,c)},p(v,b){p===(p=h(v))&&_?_.p(v,b):(_.d(1),_=p(v),_&&(_.c(),_.m(e,null))),b&8&&r!==(r=v[3].title+"")&&Se(l,r),b&8&&u!==(u=v[3].key+"")&&Se(f,u)},d(v){v&&(E(e),E(t),E(i)),_.d()}}}function X9(n){let e,t,i,r,l;return{c(){e=k("button"),e.innerHTML='<i class="ri-delete-bin-7-line" aria-hidden="true"></i>',t=D(),i=k("div"),m(e,"type","button"),m(e,"class","btn btn-transparent btn-circle btn-hint btn-sm"),m(e,"aria-label","Remove provider"),m(i,"class","flex-fill")},m(s,o){S(s,e,o),S(s,t,o),S(s,i,o),r||(l=[nt(_t.call(null,e,{text:"Remove provider",position:"right"})),se(e,"click",n[10])],r=!0)},p:ge,d(s){s&&(E(e),E(t),E(i)),r=!1,it(l)}}}function fq(n){let e,t,i,r,l,s,o,a,u=!n[4]&&X9(n);return{c(){u&&u.c(),e=D(),t=k("button"),t.textContent="Cancel",i=D(),r=k("button"),l=k("span"),l.textContent="Set provider config",m(t,"type","button"),m(t,"class","btn btn-transparent"),m(l,"class","txt"),m(r,"type","submit"),m(r,"form",n[8]),m(r,"class","btn btn-expanded"),r.disabled=s=!n[7]},m(f,c){u&&u.m(f,c),S(f,e,c),S(f,t,c),S(f,i,c),S(f,r,c),T(r,l),o||(a=se(t,"click",n[0]),o=!0)},p(f,c){f[4]?u&&(u.d(1),u=null):u?u.p(f,c):(u=X9(f),u.c(),u.m(e.parentNode,e)),c&128&&s!==(s=!f[7])&&(r.disabled=s)},d(f){f&&(E(e),E(t),E(i),E(r)),u&&u.d(f),o=!1,a()}}}function cq(n){let e,t,i={btnClose:!1,$$slots:{footer:[fq],header:[uq],default:[sq]},$$scope:{ctx:n}};return e=new Mi({props:i}),n[19](e),e.$on("show",n[20]),e.$on("hide",n[21]),{c(){ee(e.$$.fragment)},m(r,l){Q(e,r,l),t=!0},p(r,[l]){const s={};l&16777466&&(s.$$scope={dirty:l,ctx:r}),e.$set(s)},i(r){t||(F(e.$$.fragment,r),t=!0)},o(r){x(e.$$.fragment,r),t=!1},d(r){n[19](null),J(e,r)}}}function dq(n,e,t){let i,r;const l=Sn(),s="provider_popup_"+re.randomString(5);let o,a={},u={},f=!1,c="",h=!1,p=0;function _(H,q,z){t(13,p=z||0),t(4,f=re.isEmpty(q)),t(3,a=Object.assign({},H)),t(1,u=Object.assign({},q)),t(5,h=!!u.clientId),t(12,c=JSON.stringify(u)),o==null||o.show()}function v(){ul(r),o==null||o.hide()}async function b(){l("submit",{uiOptions:a,config:u}),v()}async function y(){ar(`Do you really want to remove the "${a.title}" OAuth2 provider from the collection?`,()=>{l("remove",{uiOptions:a}),v()})}function A(){u.clientId=this.value,t(1,u)}function M(H){h=H,t(5,h)}function N(H){n.$$.not_equal(u.clientSecret,H)&&(u.clientSecret=H,t(1,u))}function L(H){u=H,t(1,u)}const I=()=>b();function R(H){ye[H?"unshift":"push"](()=>{o=H,t(2,o)})}function $(H){ut.call(this,n,H)}function B(H){ut.call(this,n,H)}return n.$$.update=()=>{n.$$.dirty&4098&&t(7,i=JSON.stringify(u)!=c),n.$$.dirty&8192&&t(6,r="oauth2.providers."+p)},[v,u,o,a,f,h,r,i,s,b,y,_,c,p,A,M,N,L,I,R,$,B]}class hq extends je{constructor(e){super(),qe(this,e,dq,cq,We,{show:11,hide:0})}get show(){return this.$$.ctx[11]}get hide(){return this.$$.ctx[0]}}function pq(n){let e,t,i,r,l,s,o,a;return{c(){e=k("label"),t=le("Client ID"),r=D(),l=k("input"),m(e,"for",i=n[23]),m(l,"type","text"),m(l,"id",s=n[23]),l.required=!0},m(u,f){S(u,e,f),T(e,t),S(u,r,f),S(u,l,f),He(l,n[2]),o||(a=se(l,"input",n[12]),o=!0)},p(u,f){f&8388608&&i!==(i=u[23])&&m(e,"for",i),f&8388608&&s!==(s=u[23])&&m(l,"id",s),f&4&&l.value!==u[2]&&He(l,u[2])},d(u){u&&(E(e),E(r),E(l)),o=!1,a()}}}function mq(n){let e,t,i,r,l,s,o,a;return{c(){e=k("label"),t=le("Team ID"),r=D(),l=k("input"),m(e,"for",i=n[23]),m(l,"type","text"),m(l,"id",s=n[23]),l.required=!0},m(u,f){S(u,e,f),T(e,t),S(u,r,f),S(u,l,f),He(l,n[3]),o||(a=se(l,"input",n[13]),o=!0)},p(u,f){f&8388608&&i!==(i=u[23])&&m(e,"for",i),f&8388608&&s!==(s=u[23])&&m(l,"id",s),f&8&&l.value!==u[3]&&He(l,u[3])},d(u){u&&(E(e),E(r),E(l)),o=!1,a()}}}function gq(n){let e,t,i,r,l,s,o,a;return{c(){e=k("label"),t=le("Key ID"),r=D(),l=k("input"),m(e,"for",i=n[23]),m(l,"type","text"),m(l,"id",s=n[23]),l.required=!0},m(u,f){S(u,e,f),T(e,t),S(u,r,f),S(u,l,f),He(l,n[4]),o||(a=se(l,"input",n[14]),o=!0)},p(u,f){f&8388608&&i!==(i=u[23])&&m(e,"for",i),f&8388608&&s!==(s=u[23])&&m(l,"id",s),f&16&&l.value!==u[4]&&He(l,u[4])},d(u){u&&(E(e),E(r),E(l)),o=!1,a()}}}function _q(n){let e,t,i,r,l,s,o,a,u,f;return{c(){e=k("label"),t=k("span"),t.textContent="Duration (in seconds)",i=D(),r=k("i"),s=D(),o=k("input"),m(t,"class","txt"),m(r,"class","ri-information-line link-hint"),m(e,"for",l=n[23]),m(o,"type","number"),m(o,"id",a=n[23]),m(o,"max",Xd),o.required=!0},m(c,h){S(c,e,h),T(e,t),T(e,i),T(e,r),S(c,s,h),S(c,o,h),He(o,n[6]),u||(f=[nt(_t.call(null,r,{text:`Max ${Xd} seconds (~${Xd/(60*60*24*30)<<0} months).`,position:"top"})),se(o,"input",n[15])],u=!0)},p(c,h){h&8388608&&l!==(l=c[23])&&m(e,"for",l),h&8388608&&a!==(a=c[23])&&m(o,"id",a),h&64&&wn(o.value)!==c[6]&&He(o,c[6])},d(c){c&&(E(e),E(s),E(o)),u=!1,it(f)}}}function bq(n){let e,t,i,r,l,s,o,a,u,f;return{c(){e=k("label"),t=le("Private key"),r=D(),l=k("textarea"),o=D(),a=k("div"),a.textContent="The key is not stored on the server and it is used only for generating the signed JWT.",m(e,"for",i=n[23]),m(l,"id",s=n[23]),l.required=!0,m(l,"rows","8"),m(l,"placeholder",`-----BEGIN PRIVATE KEY-----
...
-----END PRIVATE KEY-----`),m(a,"class","help-block")},m(c,h){S(c,e,h),T(e,t),S(c,r,h),S(c,l,h),He(l,n[5]),S(c,o,h),S(c,a,h),u||(f=se(l,"input",n[16]),u=!0)},p(c,h){h&8388608&&i!==(i=c[23])&&m(e,"for",i),h&8388608&&s!==(s=c[23])&&m(l,"id",s),h&32&&He(l,c[5])},d(c){c&&(E(e),E(r),E(l),E(o),E(a)),u=!1,f()}}}function vq(n){let e,t,i,r,l,s,o,a,u,f,c,h,p,_,v,b,y,A;return r=new Pe({props:{class:"form-field required",name:"clientId",$$slots:{default:[pq,({uniqueId:M})=>({23:M}),({uniqueId:M})=>M?8388608:0]},$$scope:{ctx:n}}}),o=new Pe({props:{class:"form-field required",name:"teamId",$$slots:{default:[mq,({uniqueId:M})=>({23:M}),({uniqueId:M})=>M?8388608:0]},$$scope:{ctx:n}}}),f=new Pe({props:{class:"form-field required",name:"keyId",$$slots:{default:[gq,({uniqueId:M})=>({23:M}),({uniqueId:M})=>M?8388608:0]},$$scope:{ctx:n}}}),p=new Pe({props:{class:"form-field required",name:"duration",$$slots:{default:[_q,({uniqueId:M})=>({23:M}),({uniqueId:M})=>M?8388608:0]},$$scope:{ctx:n}}}),v=new Pe({props:{class:"form-field required",name:"privateKey",$$slots:{default:[bq,({uniqueId:M})=>({23:M}),({uniqueId:M})=>M?8388608:0]},$$scope:{ctx:n}}}),{c(){e=k("form"),t=k("div"),i=k("div"),ee(r.$$.fragment),l=D(),s=k("div"),ee(o.$$.fragment),a=D(),u=k("div"),ee(f.$$.fragment),c=D(),h=k("div"),ee(p.$$.fragment),_=D(),ee(v.$$.fragment),m(i,"class","col-lg-6"),m(s,"class","col-lg-6"),m(u,"class","col-lg-6"),m(h,"class","col-lg-6"),m(t,"class","grid"),m(e,"id",n[9]),m(e,"autocomplete","off")},m(M,N){S(M,e,N),T(e,t),T(t,i),Q(r,i,null),T(t,l),T(t,s),Q(o,s,null),T(t,a),T(t,u),Q(f,u,null),T(t,c),T(t,h),Q(p,h,null),T(t,_),Q(v,t,null),b=!0,y||(A=se(e,"submit",ln(n[17])),y=!0)},p(M,N){const L={};N&25165828&&(L.$$scope={dirty:N,ctx:M}),r.$set(L);const I={};N&25165832&&(I.$$scope={dirty:N,ctx:M}),o.$set(I);const R={};N&25165840&&(R.$$scope={dirty:N,ctx:M}),f.$set(R);const $={};N&25165888&&($.$$scope={dirty:N,ctx:M}),p.$set($);const B={};N&25165856&&(B.$$scope={dirty:N,ctx:M}),v.$set(B)},i(M){b||(F(r.$$.fragment,M),F(o.$$.fragment,M),F(f.$$.fragment,M),F(p.$$.fragment,M),F(v.$$.fragment,M),b=!0)},o(M){x(r.$$.fragment,M),x(o.$$.fragment,M),x(f.$$.fragment,M),x(p.$$.fragment,M),x(v.$$.fragment,M),b=!1},d(M){M&&E(e),J(r),J(o),J(f),J(p),J(v),y=!1,A()}}}function yq(n){let e;return{c(){e=k("h4"),e.textContent="Generate Apple client secret",m(e,"class","center txt-break")},m(t,i){S(t,e,i)},p:ge,d(t){t&&E(e)}}}function kq(n){let e,t,i,r,l,s,o,a,u,f;return{c(){e=k("button"),t=le("Close"),i=D(),r=k("button"),l=k("i"),s=D(),o=k("span"),o.textContent="Generate and set secret",m(e,"type","button"),m(e,"class","btn btn-transparent"),e.disabled=n[7],m(l,"class","ri-key-line"),m(o,"class","txt"),m(r,"type","submit"),m(r,"form",n[9]),m(r,"class","btn btn-expanded"),r.disabled=a=!n[8]||n[7],he(r,"btn-loading",n[7])},m(c,h){S(c,e,h),T(e,t),S(c,i,h),S(c,r,h),T(r,l),T(r,s),T(r,o),u||(f=se(e,"click",n[0]),u=!0)},p(c,h){h&128&&(e.disabled=c[7]),h&384&&a!==(a=!c[8]||c[7])&&(r.disabled=a),h&128&&he(r,"btn-loading",c[7])},d(c){c&&(E(e),E(i),E(r)),u=!1,f()}}}function Tq(n){let e,t,i={overlayClose:!n[7],escClose:!n[7],beforeHide:n[18],popup:!0,$$slots:{footer:[kq],header:[yq],default:[vq]},$$scope:{ctx:n}};return e=new Mi({props:i}),n[19](e),e.$on("show",n[20]),e.$on("hide",n[21]),{c(){ee(e.$$.fragment)},m(r,l){Q(e,r,l),t=!0},p(r,[l]){const s={};l&128&&(s.overlayClose=!r[7]),l&128&&(s.escClose=!r[7]),l&128&&(s.beforeHide=r[18]),l&16777724&&(s.$$scope={dirty:l,ctx:r}),e.$set(s)},i(r){t||(F(e.$$.fragment,r),t=!0)},o(r){x(e.$$.fragment,r),t=!1},d(r){n[19](null),J(e,r)}}}const Xd=15777e3;function wq(n,e,t){let i;const r=Sn(),l="apple_secret_"+re.randomString(5);let s,o,a,u,f,c,h=!1;function p(H={}){t(2,o=H.clientId||""),t(3,a=H.teamId||""),t(4,u=H.keyId||""),t(5,f=H.privateKey||""),t(6,c=H.duration||Xd),mi({}),s==null||s.show()}function _(){return s==null?void 0:s.hide()}async function v(){t(7,h=!0);try{const H=await xe.settings.generateAppleClientSecret(o,a,u,f.trim(),c);t(7,h=!1),Oi("Successfully generated client secret."),r("submit",H),s==null||s.hide()}catch(H){xe.error(H)}t(7,h=!1)}function b(){o=this.value,t(2,o)}function y(){a=this.value,t(3,a)}function A(){u=this.value,t(4,u)}function M(){c=wn(this.value),t(6,c)}function N(){f=this.value,t(5,f)}const L=()=>v(),I=()=>!h;function R(H){ye[H?"unshift":"push"](()=>{s=H,t(1,s)})}function $(H){ut.call(this,n,H)}function B(H){ut.call(this,n,H)}return t(8,i=!0),[_,s,o,a,u,f,c,h,i,l,v,p,b,y,A,M,N,L,I,R,$,B]}class Eq extends je{constructor(e){super(),qe(this,e,wq,Tq,We,{show:11,hide:0})}get show(){return this.$$.ctx[11]}get hide(){return this.$$.ctx[0]}}function Sq(n){let e,t,i,r,l,s,o,a,u,f,c={};return o=new Eq({props:c}),n[4](o),o.$on("submit",n[5]),{c(){e=k("button"),t=k("i"),i=D(),r=k("span"),r.textContent="Generate secret",s=D(),ee(o.$$.fragment),m(t,"class","ri-key-line"),m(r,"class","txt"),m(e,"type","button"),m(e,"class",l="btn btn-sm btn-secondary btn-provider-"+n[1])},m(h,p){S(h,e,p),T(e,t),T(e,i),T(e,r),S(h,s,p),Q(o,h,p),a=!0,u||(f=se(e,"click",n[3]),u=!0)},p(h,[p]){(!a||p&2&&l!==(l="btn btn-sm btn-secondary btn-provider-"+h[1]))&&m(e,"class",l);const _={};o.$set(_)},i(h){a||(F(o.$$.fragment,h),a=!0)},o(h){x(o.$$.fragment,h),a=!1},d(h){h&&(E(e),E(s)),n[4](null),J(o,h),u=!1,f()}}}function Cq(n,e,t){let{key:i=""}=e,{config:r={}}=e,l;const s=()=>l==null?void 0:l.show({clientId:r.clientId});function o(u){ye[u?"unshift":"push"](()=>{l=u,t(2,l)})}const a=u=>{var f;t(0,r.clientSecret=((f=u.detail)==null?void 0:f.secret)||"",r)};return n.$$set=u=>{"key"in u&&t(1,i=u.key),"config"in u&&t(0,r=u.config)},[r,i,l,s,o,a]}class Aq extends je{constructor(e){super(),qe(this,e,Cq,Sq,We,{key:1,config:0})}}function Oq(n){let e,t,i,r,l,s,o,a,u,f;return{c(){e=k("label"),t=le("Auth URL"),r=D(),l=k("input"),o=D(),a=k("div"),a.textContent="Ex. https://login.microsoftonline.com/YOUR_DIRECTORY_TENANT_ID/oauth2/v2.0/authorize",m(e,"for",i=n[4]),m(l,"type","url"),m(l,"id",s=n[4]),l.required=!0,m(a,"class","help-block")},m(c,h){S(c,e,h),T(e,t),S(c,r,h),S(c,l,h),He(l,n[0].authURL),S(c,o,h),S(c,a,h),u||(f=se(l,"input",n[2]),u=!0)},p(c,h){h&16&&i!==(i=c[4])&&m(e,"for",i),h&16&&s!==(s=c[4])&&m(l,"id",s),h&1&&l.value!==c[0].authURL&&He(l,c[0].authURL)},d(c){c&&(E(e),E(r),E(l),E(o),E(a)),u=!1,f()}}}function Nq(n){let e,t,i,r,l,s,o,a,u,f;return{c(){e=k("label"),t=le("Token URL"),r=D(),l=k("input"),o=D(),a=k("div"),a.textContent="Ex. https://login.microsoftonline.com/YOUR_DIRECTORY_TENANT_ID/oauth2/v2.0/token",m(e,"for",i=n[4]),m(l,"type","url"),m(l,"id",s=n[4]),l.required=!0,m(a,"class","help-block")},m(c,h){S(c,e,h),T(e,t),S(c,r,h),S(c,l,h),He(l,n[0].tokenURL),S(c,o,h),S(c,a,h),u||(f=se(l,"input",n[3]),u=!0)},p(c,h){h&16&&i!==(i=c[4])&&m(e,"for",i),h&16&&s!==(s=c[4])&&m(l,"id",s),h&1&&l.value!==c[0].tokenURL&&He(l,c[0].tokenURL)},d(c){c&&(E(e),E(r),E(l),E(o),E(a)),u=!1,f()}}}function Mq(n){let e,t,i,r,l,s;return i=new Pe({props:{class:"form-field required",name:n[1]+".authURL",$$slots:{default:[Oq,({uniqueId:o})=>({4:o}),({uniqueId:o})=>o?16:0]},$$scope:{ctx:n}}}),l=new Pe({props:{class:"form-field required",name:n[1]+".tokenURL",$$slots:{default:[Nq,({uniqueId:o})=>({4:o}),({uniqueId:o})=>o?16:0]},$$scope:{ctx:n}}}),{c(){e=k("div"),e.textContent="Azure AD endpoints",t=D(),ee(i.$$.fragment),r=D(),ee(l.$$.fragment),m(e,"class","section-title")},m(o,a){S(o,e,a),S(o,t,a),Q(i,o,a),S(o,r,a),Q(l,o,a),s=!0},p(o,[a]){const u={};a&2&&(u.name=o[1]+".authURL"),a&49&&(u.$$scope={dirty:a,ctx:o}),i.$set(u);const f={};a&2&&(f.name=o[1]+".tokenURL"),a&49&&(f.$$scope={dirty:a,ctx:o}),l.$set(f)},i(o){s||(F(i.$$.fragment,o),F(l.$$.fragment,o),s=!0)},o(o){x(i.$$.fragment,o),x(l.$$.fragment,o),s=!1},d(o){o&&(E(e),E(t),E(r)),J(i,o),J(l,o)}}}function Iq(n,e,t){let{key:i=""}=e,{config:r={}}=e;function l(){r.authURL=this.value,t(0,r)}function s(){r.tokenURL=this.value,t(0,r)}return n.$$set=o=>{"key"in o&&t(1,i=o.key),"config"in o&&t(0,r=o.config)},[r,i,l,s]}class Lq extends je{constructor(e){super(),qe(this,e,Iq,Mq,We,{key:1,config:0})}}function Z9(n){let e,t;return{c(){e=k("i"),m(e,"class",t="icon "+n[0].icon)},m(i,r){S(i,e,r)},p(i,r){r&1&&t!==(t="icon "+i[0].icon)&&m(e,"class",t)},d(i){i&&E(e)}}}function Dq(n){let e,t,i=(n[0].label||n[0].name||n[0].title||n[0].id||n[0].value)+"",r,l=n[0].icon&&Z9(n);return{c(){l&&l.c(),e=D(),t=k("span"),r=le(i),m(t,"class","txt")},m(s,o){l&&l.m(s,o),S(s,e,o),S(s,t,o),T(t,r)},p(s,[o]){s[0].icon?l?l.p(s,o):(l=Z9(s),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),o&1&&i!==(i=(s[0].label||s[0].name||s[0].title||s[0].id||s[0].value)+"")&&Se(r,i)},i:ge,o:ge,d(s){s&&(E(e),E(t)),l&&l.d(s)}}}function Rq(n,e,t){let{item:i={}}=e;return n.$$set=r=>{"item"in r&&t(0,i=r.item)},[i]}class Q9 extends je{constructor(e){super(),qe(this,e,Rq,Dq,We,{item:0})}}const Pq=n=>({}),J9=n=>({});function Fq(n){let e;const t=n[8].afterOptions,i=Zn(t,n,n[13],J9);return{c(){i&&i.c()},m(r,l){i&&i.m(r,l),e=!0},p(r,l){i&&i.p&&(!e||l&8192)&&Jn(i,t,r,r[13],e?Qn(t,r[13],l,Pq):ei(r[13]),J9)},i(r){e||(F(i,r),e=!0)},o(r){x(i,r),e=!1},d(r){i&&i.d(r)}}}function $q(n){let e,t,i;const r=[{items:n[1]},{multiple:n[2]},{labelComponent:n[3]},{optionComponent:n[4]},n[5]];function l(o){n[9](o)}let s={$$slots:{afterOptions:[Fq]},$$scope:{ctx:n}};for(let o=0;o<r.length;o+=1)s=kt(s,r[o]);return n[0]!==void 0&&(s.selected=n[0]),e=new tf({props:s}),ye.push(()=>Ke(e,"selected",l)),e.$on("show",n[10]),e.$on("hide",n[11]),e.$on("change",n[12]),{c(){ee(e.$$.fragment)},m(o,a){Q(e,o,a),i=!0},p(o,[a]){const u=a&62?Ln(r,[a&2&&{items:o[1]},a&4&&{multiple:o[2]},a&8&&{labelComponent:o[3]},a&16&&{optionComponent:o[4]},a&32&&Wn(o[5])]):{};a&8192&&(u.$$scope={dirty:a,ctx:o}),!t&&a&1&&(t=!0,u.selected=o[0],Ye(()=>t=!1)),e.$set(u)},i(o){i||(F(e.$$.fragment,o),i=!0)},o(o){x(e.$$.fragment,o),i=!1},d(o){J(e,o)}}}function Hq(n,e,t){const i=["items","multiple","selected","labelComponent","optionComponent","selectionKey","keyOfSelected"];let r=rn(e,i),{$$slots:l={},$$scope:s}=e,{items:o=[]}=e,{multiple:a=!1}=e,{selected:u=a?[]:void 0}=e,{labelComponent:f=Q9}=e,{optionComponent:c=Q9}=e,{selectionKey:h="value"}=e,{keyOfSelected:p=a?[]:void 0}=e,_=JSON.stringify(p);function v(L){L=re.toArray(L,!0);let I=[];for(let R of L){const $=re.findByKey(o,h,R);$&&I.push($)}L.length&&!I.length||t(0,u=a?I:I[0])}async function b(L){if(!o.length)return;let I=re.toArray(L,!0).map($=>$[h]),R=a?I:I[0];JSON.stringify(R)!=_&&(t(6,p=R),_=JSON.stringify(p))}function y(L){u=L,t(0,u)}function A(L){ut.call(this,n,L)}function M(L){ut.call(this,n,L)}function N(L){ut.call(this,n,L)}return n.$$set=L=>{e=kt(kt({},e),ui(L)),t(5,r=rn(e,i)),"items"in L&&t(1,o=L.items),"multiple"in L&&t(2,a=L.multiple),"selected"in L&&t(0,u=L.selected),"labelComponent"in L&&t(3,f=L.labelComponent),"optionComponent"in L&&t(4,c=L.optionComponent),"selectionKey"in L&&t(7,h=L.selectionKey),"keyOfSelected"in L&&t(6,p=L.keyOfSelected),"$$scope"in L&&t(13,s=L.$$scope)},n.$$.update=()=>{n.$$.dirty&66&&o&&v(p),n.$$.dirty&1&&b(u)},[u,o,a,f,c,r,p,h,l,y,A,M,N,s]}class Nr extends je{constructor(e){super(),qe(this,e,Hq,$q,We,{items:1,multiple:2,selected:0,labelComponent:3,optionComponent:4,selectionKey:7,keyOfSelected:6})}}function Bq(n){let e,t,i,r,l=[{type:t=n[5].type||"text"},{value:n[4]},{disabled:n[3]},{readOnly:n[2]},n[5]],s={};for(let o=0;o<l.length;o+=1)s=kt(s,l[o]);return{c(){e=k("input"),El(e,s)},m(o,a){S(o,e,a),"value"in s&&(e.value=s.value),e.autofocus&&e.focus(),i||(r=se(e,"input",n[6]),i=!0)},p(o,[a]){El(e,s=Ln(l,[a&32&&t!==(t=o[5].type||"text")&&{type:t},a&16&&e.value!==o[4]&&{value:o[4]},a&8&&{disabled:o[3]},a&4&&{readOnly:o[2]},a&32&&o[5]])),"value"in s&&(e.value=s.value)},i:ge,o:ge,d(o){o&&E(e),i=!1,r()}}}function xq(n,e,t){let i;const r=["value","separator","readonly","disabled"];let l=rn(e,r),{value:s=[]}=e,{separator:o=","}=e,{readonly:a=null}=e,{disabled:u=null}=e;const f=c=>{t(0,s=re.splitNonEmpty(c.target.value,o))};return n.$$set=c=>{e=kt(kt({},e),ui(c)),t(5,l=rn(e,r)),"value"in c&&t(0,s=c.value),"separator"in c&&t(1,o=c.separator),"readonly"in c&&t(2,a=c.readonly),"disabled"in c&&t(3,u=c.disabled)},n.$$.update=()=>{n.$$.dirty&3&&t(4,i=re.joinNonEmpty(s,o+" "))},[s,o,a,u,i,l,f]}class l1 extends je{constructor(e){super(),qe(this,e,xq,Bq,We,{value:0,separator:1,readonly:2,disabled:3})}}function Uq(n){let e,t,i,r,l,s,o,a;return{c(){e=k("label"),t=le("Display name"),r=D(),l=k("input"),m(e,"for",i=n[13]),m(l,"type","text"),m(l,"id",s=n[13]),l.required=!0},m(u,f){S(u,e,f),T(e,t),S(u,r,f),S(u,l,f),He(l,n[0].displayName),o||(a=se(l,"input",n[4]),o=!0)},p(u,f){f&8192&&i!==(i=u[13])&&m(e,"for",i),f&8192&&s!==(s=u[13])&&m(l,"id",s),f&1&&l.value!==u[0].displayName&&He(l,u[0].displayName)},d(u){u&&(E(e),E(r),E(l)),o=!1,a()}}}function zq(n){let e,t,i,r,l,s,o,a;return{c(){e=k("label"),t=le("Auth URL"),r=D(),l=k("input"),m(e,"for",i=n[13]),m(l,"type","url"),m(l,"id",s=n[13]),l.required=!0},m(u,f){S(u,e,f),T(e,t),S(u,r,f),S(u,l,f),He(l,n[0].authURL),o||(a=se(l,"input",n[5]),o=!0)},p(u,f){f&8192&&i!==(i=u[13])&&m(e,"for",i),f&8192&&s!==(s=u[13])&&m(l,"id",s),f&1&&l.value!==u[0].authURL&&He(l,u[0].authURL)},d(u){u&&(E(e),E(r),E(l)),o=!1,a()}}}function qq(n){let e,t,i,r,l,s,o,a;return{c(){e=k("label"),t=le("Token URL"),r=D(),l=k("input"),m(e,"for",i=n[13]),m(l,"type","url"),m(l,"id",s=n[13]),l.required=!0},m(u,f){S(u,e,f),T(e,t),S(u,r,f),S(u,l,f),He(l,n[0].tokenURL),o||(a=se(l,"input",n[6]),o=!0)},p(u,f){f&8192&&i!==(i=u[13])&&m(e,"for",i),f&8192&&s!==(s=u[13])&&m(l,"id",s),f&1&&l.value!==u[0].tokenURL&&He(l,u[0].tokenURL)},d(u){u&&(E(e),E(r),E(l)),o=!1,a()}}}function jq(n){let e,t,i,r,l,s,o;function a(f){n[7](f)}let u={id:n[13],items:n[3]};return n[2]!==void 0&&(u.keyOfSelected=n[2]),l=new Nr({props:u}),ye.push(()=>Ke(l,"keyOfSelected",a)),{c(){e=k("label"),t=le("Fetch user info from"),r=D(),ee(l.$$.fragment),m(e,"for",i=n[13])},m(f,c){S(f,e,c),T(e,t),S(f,r,c),Q(l,f,c),o=!0},p(f,c){(!o||c&8192&&i!==(i=f[13]))&&m(e,"for",i);const h={};c&8192&&(h.id=f[13]),!s&&c&4&&(s=!0,h.keyOfSelected=f[2],Ye(()=>s=!1)),l.$set(h)},i(f){o||(F(l.$$.fragment,f),o=!0)},o(f){x(l.$$.fragment,f),o=!1},d(f){f&&(E(e),E(r)),J(l,f)}}}function Wq(n){let e,t,i,r,l,s,o,a;return r=new Pe({props:{class:"form-field m-b-xs",name:n[1]+".extra.jwksURL",$$slots:{default:[Vq,({uniqueId:u})=>({13:u}),({uniqueId:u})=>u?8192:0]},$$scope:{ctx:n}}}),s=new Pe({props:{class:"form-field",name:n[1]+".extra.issuers",$$slots:{default:[Gq,({uniqueId:u})=>({13:u}),({uniqueId:u})=>u?8192:0]},$$scope:{ctx:n}}}),{c(){e=k("div"),t=k("p"),t.innerHTML=`<em>Both fields are considered optional because the parsed <code>id_token</code>
                    is a direct result of the trusted server code-&gt;token exchange response.</em>`,i=D(),ee(r.$$.fragment),l=D(),ee(s.$$.fragment),m(t,"class","txt-hint txt-sm m-b-xs"),m(e,"class","content")},m(u,f){S(u,e,f),T(e,t),T(e,i),Q(r,e,null),T(e,l),Q(s,e,null),a=!0},p(u,f){const c={};f&2&&(c.name=u[1]+".extra.jwksURL"),f&24577&&(c.$$scope={dirty:f,ctx:u}),r.$set(c);const h={};f&2&&(h.name=u[1]+".extra.issuers"),f&24577&&(h.$$scope={dirty:f,ctx:u}),s.$set(h)},i(u){a||(F(r.$$.fragment,u),F(s.$$.fragment,u),u&&tn(()=>{a&&(o||(o=Et(e,En,{delay:10,duration:150},!0)),o.run(1))}),a=!0)},o(u){x(r.$$.fragment,u),x(s.$$.fragment,u),u&&(o||(o=Et(e,En,{delay:10,duration:150},!1)),o.run(0)),a=!1},d(u){u&&E(e),J(r),J(s),u&&o&&o.end()}}}function Kq(n){let e,t,i,r;return t=new Pe({props:{class:"form-field required",name:n[1]+".userInfoURL",$$slots:{default:[Yq,({uniqueId:l})=>({13:l}),({uniqueId:l})=>l?8192:0]},$$scope:{ctx:n}}}),{c(){e=k("div"),ee(t.$$.fragment),m(e,"class","content")},m(l,s){S(l,e,s),Q(t,e,null),r=!0},p(l,s){const o={};s&2&&(o.name=l[1]+".userInfoURL"),s&24577&&(o.$$scope={dirty:s,ctx:l}),t.$set(o)},i(l){r||(F(t.$$.fragment,l),l&&tn(()=>{r&&(i||(i=Et(e,En,{delay:10,duration:150},!0)),i.run(1))}),r=!0)},o(l){x(t.$$.fragment,l),l&&(i||(i=Et(e,En,{delay:10,duration:150},!1)),i.run(0)),r=!1},d(l){l&&E(e),J(t),l&&i&&i.end()}}}function Vq(n){let e,t,i,r,l,s,o,a,u,f;return{c(){e=k("label"),t=k("span"),t.textContent="JWKS verification URL",i=D(),r=k("i"),s=D(),o=k("input"),m(t,"class","txt"),m(r,"class","ri-information-line link-hint"),m(e,"for",l=n[13]),m(o,"type","url"),m(o,"id",a=n[13])},m(c,h){S(c,e,h),T(e,t),T(e,i),T(e,r),S(c,s,h),S(c,o,h),He(o,n[0].extra.jwksURL),u||(f=[nt(_t.call(null,r,{text:"URL to the public token verification keys.",position:"top"})),se(o,"input",n[9])],u=!0)},p(c,h){h&8192&&l!==(l=c[13])&&m(e,"for",l),h&8192&&a!==(a=c[13])&&m(o,"id",a),h&1&&o.value!==c[0].extra.jwksURL&&He(o,c[0].extra.jwksURL)},d(c){c&&(E(e),E(s),E(o)),u=!1,it(f)}}}function Gq(n){let e,t,i,r,l,s,o,a,u,f,c;function h(_){n[10](_)}let p={id:n[13]};return n[0].extra.issuers!==void 0&&(p.value=n[0].extra.issuers),o=new l1({props:p}),ye.push(()=>Ke(o,"value",h)),{c(){e=k("label"),t=k("span"),t.textContent="Issuers",i=D(),r=k("i"),s=D(),ee(o.$$.fragment),m(t,"class","txt"),m(r,"class","ri-information-line link-hint"),m(e,"for",l=n[13])},m(_,v){S(_,e,v),T(e,t),T(e,i),T(e,r),S(_,s,v),Q(o,_,v),u=!0,f||(c=nt(_t.call(null,r,{text:"Comma separated list of accepted values for the iss token claim validation.",position:"top"})),f=!0)},p(_,v){(!u||v&8192&&l!==(l=_[13]))&&m(e,"for",l);const b={};v&8192&&(b.id=_[13]),!a&&v&1&&(a=!0,b.value=_[0].extra.issuers,Ye(()=>a=!1)),o.$set(b)},i(_){u||(F(o.$$.fragment,_),u=!0)},o(_){x(o.$$.fragment,_),u=!1},d(_){_&&(E(e),E(s)),J(o,_),f=!1,c()}}}function Yq(n){let e,t,i,r,l,s,o,a;return{c(){e=k("label"),t=le("User info URL"),r=D(),l=k("input"),m(e,"for",i=n[13]),m(l,"type","url"),m(l,"id",s=n[13]),l.required=!0},m(u,f){S(u,e,f),T(e,t),S(u,r,f),S(u,l,f),He(l,n[0].userInfoURL),o||(a=se(l,"input",n[8]),o=!0)},p(u,f){f&8192&&i!==(i=u[13])&&m(e,"for",i),f&8192&&s!==(s=u[13])&&m(l,"id",s),f&1&&l.value!==u[0].userInfoURL&&He(l,u[0].userInfoURL)},d(u){u&&(E(e),E(r),E(l)),o=!1,a()}}}function Xq(n){let e,t,i,r,l,s,o,a,u,f;return{c(){e=k("input"),i=D(),r=k("label"),l=k("span"),l.textContent="Support PKCE",s=D(),o=k("i"),m(e,"type","checkbox"),m(e,"id",t=n[13]),m(l,"class","txt"),m(o,"class","ri-information-line link-hint"),m(r,"for",a=n[13])},m(c,h){S(c,e,h),e.checked=n[0].pkce,S(c,i,h),S(c,r,h),T(r,l),T(r,s),T(r,o),u||(f=[se(e,"change",n[11]),nt(_t.call(null,o,{text:"Usually it should be safe to be always enabled as most providers will just ignore the extra query parameters if they don't support PKCE.",position:"right"}))],u=!0)},p(c,h){h&8192&&t!==(t=c[13])&&m(e,"id",t),h&1&&(e.checked=c[0].pkce),h&8192&&a!==(a=c[13])&&m(r,"for",a)},d(c){c&&(E(e),E(i),E(r)),u=!1,it(f)}}}function Zq(n){let e,t,i,r,l,s,o,a,u,f,c,h,p,_,v,b;e=new Pe({props:{class:"form-field required",name:n[1]+".displayName",$$slots:{default:[Uq,({uniqueId:N})=>({13:N}),({uniqueId:N})=>N?8192:0]},$$scope:{ctx:n}}}),l=new Pe({props:{class:"form-field required",name:n[1]+".authURL",$$slots:{default:[zq,({uniqueId:N})=>({13:N}),({uniqueId:N})=>N?8192:0]},$$scope:{ctx:n}}}),o=new Pe({props:{class:"form-field required",name:n[1]+".tokenURL",$$slots:{default:[qq,({uniqueId:N})=>({13:N}),({uniqueId:N})=>N?8192:0]},$$scope:{ctx:n}}}),u=new Pe({props:{class:"form-field m-b-xs",$$slots:{default:[jq,({uniqueId:N})=>({13:N}),({uniqueId:N})=>N?8192:0]},$$scope:{ctx:n}}});const y=[Kq,Wq],A=[];function M(N,L){return N[2]?0:1}return h=M(n),p=A[h]=y[h](n),v=new Pe({props:{class:"form-field",name:n[1]+".pkce",$$slots:{default:[Xq,({uniqueId:N})=>({13:N}),({uniqueId:N})=>N?8192:0]},$$scope:{ctx:n}}}),{c(){ee(e.$$.fragment),t=D(),i=k("div"),i.textContent="Endpoints",r=D(),ee(l.$$.fragment),s=D(),ee(o.$$.fragment),a=D(),ee(u.$$.fragment),f=D(),c=k("div"),p.c(),_=D(),ee(v.$$.fragment),m(i,"class","section-title"),m(c,"class","sub-panel m-b-base")},m(N,L){Q(e,N,L),S(N,t,L),S(N,i,L),S(N,r,L),Q(l,N,L),S(N,s,L),Q(o,N,L),S(N,a,L),Q(u,N,L),S(N,f,L),S(N,c,L),A[h].m(c,null),S(N,_,L),Q(v,N,L),b=!0},p(N,[L]){const I={};L&2&&(I.name=N[1]+".displayName"),L&24577&&(I.$$scope={dirty:L,ctx:N}),e.$set(I);const R={};L&2&&(R.name=N[1]+".authURL"),L&24577&&(R.$$scope={dirty:L,ctx:N}),l.$set(R);const $={};L&2&&($.name=N[1]+".tokenURL"),L&24577&&($.$$scope={dirty:L,ctx:N}),o.$set($);const B={};L&24580&&(B.$$scope={dirty:L,ctx:N}),u.$set(B);let H=h;h=M(N),h===H?A[h].p(N,L):(Ne(),x(A[H],1,1,()=>{A[H]=null}),Me(),p=A[h],p?p.p(N,L):(p=A[h]=y[h](N),p.c()),F(p,1),p.m(c,null));const q={};L&2&&(q.name=N[1]+".pkce"),L&24577&&(q.$$scope={dirty:L,ctx:N}),v.$set(q)},i(N){b||(F(e.$$.fragment,N),F(l.$$.fragment,N),F(o.$$.fragment,N),F(u.$$.fragment,N),F(p),F(v.$$.fragment,N),b=!0)},o(N){x(e.$$.fragment,N),x(l.$$.fragment,N),x(o.$$.fragment,N),x(u.$$.fragment,N),x(p),x(v.$$.fragment,N),b=!1},d(N){N&&(E(t),E(i),E(r),E(s),E(a),E(f),E(c),E(_)),J(e,N),J(l,N),J(o,N),J(u,N),A[h].d(),J(v,N)}}}function Qq(n,e,t){let{key:i=""}=e,{config:r={}}=e;const l=[{label:"User info URL",value:!0},{label:"ID Token",value:!1}];let s=!!r.userInfoURL;re.isEmpty(r.pkce)&&(r.pkce=!0),r.displayName||(r.displayName="OIDC"),r.extra||(r.extra={},s=!0);function o(){s?t(0,r.extra={},r):(t(0,r.userInfoURL="",r),t(0,r.extra=r.extra||{},r))}function a(){r.displayName=this.value,t(0,r)}function u(){r.authURL=this.value,t(0,r)}function f(){r.tokenURL=this.value,t(0,r)}function c(b){s=b,t(2,s)}function h(){r.userInfoURL=this.value,t(0,r)}function p(){r.extra.jwksURL=this.value,t(0,r)}function _(b){n.$$.not_equal(r.extra.issuers,b)&&(r.extra.issuers=b,t(0,r))}function v(){r.pkce=this.checked,t(0,r)}return n.$$set=b=>{"key"in b&&t(1,i=b.key),"config"in b&&t(0,r=b.config)},n.$$.update=()=>{n.$$.dirty&4&&typeof s!==void 0&&o()},[r,i,s,l,a,u,f,c,h,p,_,v]}class Fm extends je{constructor(e){super(),qe(this,e,Qq,Zq,We,{key:1,config:0})}}function Jq(n){let e,t,i,r,l,s,o,a;return{c(){e=k("label"),t=le("Auth URL"),r=D(),l=k("input"),m(e,"for",i=n[8]),m(l,"type","url"),m(l,"id",s=n[8]),l.required=n[3]},m(u,f){S(u,e,f),T(e,t),S(u,r,f),S(u,l,f),He(l,n[0].authURL),o||(a=se(l,"input",n[5]),o=!0)},p(u,f){f&256&&i!==(i=u[8])&&m(e,"for",i),f&256&&s!==(s=u[8])&&m(l,"id",s),f&8&&(l.required=u[3]),f&1&&l.value!==u[0].authURL&&He(l,u[0].authURL)},d(u){u&&(E(e),E(r),E(l)),o=!1,a()}}}function ej(n){let e,t,i,r,l,s,o,a;return{c(){e=k("label"),t=le("Token URL"),r=D(),l=k("input"),m(e,"for",i=n[8]),m(l,"type","url"),m(l,"id",s=n[8]),l.required=n[3]},m(u,f){S(u,e,f),T(e,t),S(u,r,f),S(u,l,f),He(l,n[0].tokenURL),o||(a=se(l,"input",n[6]),o=!0)},p(u,f){f&256&&i!==(i=u[8])&&m(e,"for",i),f&256&&s!==(s=u[8])&&m(l,"id",s),f&8&&(l.required=u[3]),f&1&&l.value!==u[0].tokenURL&&He(l,u[0].tokenURL)},d(u){u&&(E(e),E(r),E(l)),o=!1,a()}}}function tj(n){let e,t,i,r,l,s,o,a;return{c(){e=k("label"),t=le("User info URL"),r=D(),l=k("input"),m(e,"for",i=n[8]),m(l,"type","url"),m(l,"id",s=n[8]),l.required=n[3]},m(u,f){S(u,e,f),T(e,t),S(u,r,f),S(u,l,f),He(l,n[0].userInfoURL),o||(a=se(l,"input",n[7]),o=!0)},p(u,f){f&256&&i!==(i=u[8])&&m(e,"for",i),f&256&&s!==(s=u[8])&&m(l,"id",s),f&8&&(l.required=u[3]),f&1&&l.value!==u[0].userInfoURL&&He(l,u[0].userInfoURL)},d(u){u&&(E(e),E(r),E(l)),o=!1,a()}}}function nj(n){let e,t,i,r,l,s,o,a,u;return r=new Pe({props:{class:"form-field "+(n[3]?"required":""),name:n[1]+".authURL",$$slots:{default:[Jq,({uniqueId:f})=>({8:f}),({uniqueId:f})=>f?256:0]},$$scope:{ctx:n}}}),s=new Pe({props:{class:"form-field "+(n[3]?"required":""),name:n[1]+".tokenURL",$$slots:{default:[ej,({uniqueId:f})=>({8:f}),({uniqueId:f})=>f?256:0]},$$scope:{ctx:n}}}),a=new Pe({props:{class:"form-field "+(n[3]?"required":""),name:n[1]+".userInfoURL",$$slots:{default:[tj,({uniqueId:f})=>({8:f}),({uniqueId:f})=>f?256:0]},$$scope:{ctx:n}}}),{c(){e=k("div"),t=le(n[2]),i=D(),ee(r.$$.fragment),l=D(),ee(s.$$.fragment),o=D(),ee(a.$$.fragment),m(e,"class","section-title")},m(f,c){S(f,e,c),T(e,t),S(f,i,c),Q(r,f,c),S(f,l,c),Q(s,f,c),S(f,o,c),Q(a,f,c),u=!0},p(f,[c]){(!u||c&4)&&Se(t,f[2]);const h={};c&8&&(h.class="form-field "+(f[3]?"required":"")),c&2&&(h.name=f[1]+".authURL"),c&777&&(h.$$scope={dirty:c,ctx:f}),r.$set(h);const p={};c&8&&(p.class="form-field "+(f[3]?"required":"")),c&2&&(p.name=f[1]+".tokenURL"),c&777&&(p.$$scope={dirty:c,ctx:f}),s.$set(p);const _={};c&8&&(_.class="form-field "+(f[3]?"required":"")),c&2&&(_.name=f[1]+".userInfoURL"),c&777&&(_.$$scope={dirty:c,ctx:f}),a.$set(_)},i(f){u||(F(r.$$.fragment,f),F(s.$$.fragment,f),F(a.$$.fragment,f),u=!0)},o(f){x(r.$$.fragment,f),x(s.$$.fragment,f),x(a.$$.fragment,f),u=!1},d(f){f&&(E(e),E(i),E(l),E(o)),J(r,f),J(s,f),J(a,f)}}}function ij(n,e,t){let i,{key:r=""}=e,{config:l={}}=e,{required:s=!1}=e,{title:o="Provider endpoints"}=e;function a(){l.authURL=this.value,t(0,l)}function u(){l.tokenURL=this.value,t(0,l)}function f(){l.userInfoURL=this.value,t(0,l)}return n.$$set=c=>{"key"in c&&t(1,r=c.key),"config"in c&&t(0,l=c.config),"required"in c&&t(4,s=c.required),"title"in c&&t(2,o=c.title)},n.$$.update=()=>{n.$$.dirty&17&&t(3,i=s&&(l==null?void 0:l.enabled))},[l,r,o,i,s,a,u,f]}class $m extends je{constructor(e){super(),qe(this,e,ij,nj,We,{key:1,config:0,required:4,title:2})}}const O_=[{key:"apple",title:"Apple",logo:"apple.svg",optionsComponent:Aq},{key:"google",title:"Google",logo:"google.svg"},{key:"microsoft",title:"Microsoft",logo:"microsoft.svg",optionsComponent:Lq},{key:"yandex",title:"Yandex",logo:"yandex.svg"},{key:"facebook",title:"Facebook",logo:"facebook.svg"},{key:"instagram2",title:"Instagram",logo:"instagram.svg"},{key:"github",title:"GitHub",logo:"github.svg"},{key:"gitlab",title:"GitLab",logo:"gitlab.svg",optionsComponent:$m,optionsComponentProps:{title:"Self-hosted endpoints (optional)"}},{key:"bitbucket",title:"Bitbucket",logo:"bitbucket.svg"},{key:"gitee",title:"Gitee",logo:"gitee.svg"},{key:"gitea",title:"Gitea",logo:"gitea.svg",optionsComponent:$m,optionsComponentProps:{title:"Self-hosted endpoints (optional)"}},{key:"linear",title:"Linear",logo:"linear.svg"},{key:"discord",title:"Discord",logo:"discord.svg"},{key:"twitter",title:"Twitter",logo:"twitter.svg"},{key:"kakao",title:"Kakao",logo:"kakao.svg"},{key:"vk",title:"VK",logo:"vk.svg"},{key:"notion",title:"Notion",logo:"notion.svg"},{key:"monday",title:"monday.com",logo:"monday.svg"},{key:"spotify",title:"Spotify",logo:"spotify.svg"},{key:"trakt",title:"Trakt",logo:"trakt.svg"},{key:"twitch",title:"Twitch",logo:"twitch.svg"},{key:"patreon",title:"Patreon (v2)",logo:"patreon.svg"},{key:"strava",title:"Strava",logo:"strava.svg"},{key:"wakatime",title:"WakaTime",logo:"wakatime.svg"},{key:"livechat",title:"LiveChat",logo:"livechat.svg"},{key:"mailcow",title:"mailcow",logo:"mailcow.svg",optionsComponent:$m,optionsComponentProps:{required:!0}},{key:"planningcenter",title:"Planning Center",logo:"planningcenter.svg"},{key:"oidc",title:"OpenID Connect",logo:"oidc.svg",optionsComponent:Fm},{key:"oidc2",title:"(2) OpenID Connect",logo:"oidc.svg",optionsComponent:Fm},{key:"oidc3",title:"(3) OpenID Connect",logo:"oidc.svg",optionsComponent:Fm}];function e4(n,e,t){const i=n.slice();return i[16]=e[t],i}function t4(n){let e,t,i,r,l;return{c(){e=k("button"),e.innerHTML='<span class="txt">Clear</span>',m(e,"type","button"),m(e,"class","btn btn-transparent btn-sm btn-hint p-l-xs p-r-xs m-l-10")},m(s,o){S(s,e,o),i=!0,r||(l=se(e,"click",n[9]),r=!0)},p:ge,i(s){i||(s&&tn(()=>{i&&(t||(t=Et(e,Yr,{duration:150,x:5},!0)),t.run(1))}),i=!0)},o(s){s&&(t||(t=Et(e,Yr,{duration:150,x:5},!1)),t.run(0)),i=!1},d(s){s&&E(e),s&&t&&t.end(),r=!1,l()}}}function rj(n){let e,t,i,r,l,s,o,a,u,f,c=n[1]!=""&&t4(n);return{c(){e=k("label"),t=k("i"),r=D(),l=k("input"),o=D(),c&&c.c(),a=ze(),m(t,"class","ri-search-line"),m(e,"for",i=n[19]),m(e,"class","m-l-10 txt-xl"),m(l,"id",s=n[19]),m(l,"type","text"),m(l,"placeholder","Search provider")},m(h,p){S(h,e,p),T(e,t),S(h,r,p),S(h,l,p),He(l,n[1]),S(h,o,p),c&&c.m(h,p),S(h,a,p),u||(f=se(l,"input",n[8]),u=!0)},p(h,p){p&524288&&i!==(i=h[19])&&m(e,"for",i),p&524288&&s!==(s=h[19])&&m(l,"id",s),p&2&&l.value!==h[1]&&He(l,h[1]),h[1]!=""?c?(c.p(h,p),p&2&&F(c,1)):(c=t4(h),c.c(),F(c,1),c.m(a.parentNode,a)):c&&(Ne(),x(c,1,1,()=>{c=null}),Me())},d(h){h&&(E(e),E(r),E(l),E(o),E(a)),c&&c.d(h),u=!1,f()}}}function n4(n){let e,t,i,r,l=n[1]!=""&&i4(n);return{c(){e=k("div"),t=k("span"),t.textContent="No providers to select.",i=D(),l&&l.c(),r=D(),m(t,"class","txt-hint"),m(e,"class","flex inline-flex")},m(s,o){S(s,e,o),T(e,t),T(e,i),l&&l.m(e,null),T(e,r)},p(s,o){s[1]!=""?l?l.p(s,o):(l=i4(s),l.c(),l.m(e,r)):l&&(l.d(1),l=null)},d(s){s&&E(e),l&&l.d()}}}function i4(n){let e,t,i;return{c(){e=k("button"),e.textContent="Clear filter",m(e,"type","button"),m(e,"class","btn btn-sm btn-secondary")},m(r,l){S(r,e,l),t||(i=se(e,"click",n[5]),t=!0)},p:ge,d(r){r&&E(e),t=!1,i()}}}function r4(n){let e,t,i;return{c(){e=k("img"),hr(e.src,t="./images/oauth2/"+n[16].logo)||m(e,"src",t),m(e,"alt",i=n[16].title+" logo")},m(r,l){S(r,e,l)},p(r,l){l&8&&!hr(e.src,t="./images/oauth2/"+r[16].logo)&&m(e,"src",t),l&8&&i!==(i=r[16].title+" logo")&&m(e,"alt",i)},d(r){r&&E(e)}}}function l4(n,e){let t,i,r,l,s,o,a=e[16].title+"",u,f,c,h=e[16].key+"",p,_,v,b,y=e[16].logo&&r4(e);function A(){return e[10](e[16])}return{key:n,first:null,c(){t=k("div"),i=k("button"),r=k("figure"),y&&y.c(),l=D(),s=k("div"),o=k("div"),u=le(a),f=D(),c=k("em"),p=le(h),_=D(),m(r,"class","provider-logo"),m(o,"class","title"),m(c,"class","txt-hint txt-sm m-r-auto"),m(s,"class","content"),m(i,"type","button"),m(i,"class","provider-card handle"),m(t,"class","col-6"),this.first=t},m(M,N){S(M,t,N),T(t,i),T(i,r),y&&y.m(r,null),T(i,l),T(i,s),T(s,o),T(o,u),T(s,f),T(s,c),T(c,p),T(t,_),v||(b=se(i,"click",A),v=!0)},p(M,N){e=M,e[16].logo?y?y.p(e,N):(y=r4(e),y.c(),y.m(r,null)):y&&(y.d(1),y=null),N&8&&a!==(a=e[16].title+"")&&Se(u,a),N&8&&h!==(h=e[16].key+"")&&Se(p,h)},d(M){M&&E(t),y&&y.d(),v=!1,b()}}}function lj(n){let e,t,i,r=[],l=new Map,s;e=new Pe({props:{class:"searchbar m-b-sm",$$slots:{default:[rj,({uniqueId:f})=>({19:f}),({uniqueId:f})=>f?524288:0]},$$scope:{ctx:n}}});let o=Re(n[3]);const a=f=>f[16].key;for(let f=0;f<o.length;f+=1){let c=e4(n,o,f),h=a(c);l.set(h,r[f]=l4(h,c))}let u=null;return o.length||(u=n4(n)),{c(){ee(e.$$.fragment),t=D(),i=k("div");for(let f=0;f<r.length;f+=1)r[f].c();u&&u.c(),m(i,"class","grid grid-sm")},m(f,c){Q(e,f,c),S(f,t,c),S(f,i,c);for(let h=0;h<r.length;h+=1)r[h]&&r[h].m(i,null);u&&u.m(i,null),s=!0},p(f,c){const h={};c&1572866&&(h.$$scope={dirty:c,ctx:f}),e.$set(h),c&58&&(o=Re(f[3]),r=In(r,c,a,1,f,o,l,i,Ol,l4,null,e4),!o.length&&u?u.p(f,c):o.length?u&&(u.d(1),u=null):(u=n4(f),u.c(),u.m(i,null)))},i(f){s||(F(e.$$.fragment,f),s=!0)},o(f){x(e.$$.fragment,f),s=!1},d(f){f&&(E(t),E(i)),J(e,f);for(let c=0;c<r.length;c+=1)r[c].d();u&&u.d()}}}function sj(n){let e;return{c(){e=k("h4"),e.textContent="Add OAuth2 provider",m(e,"class","center txt-break")},m(t,i){S(t,e,i)},p:ge,d(t){t&&E(e)}}}function oj(n){let e,t,i;return{c(){e=k("button"),e.textContent="Cancel",m(e,"type","button"),m(e,"class","btn btn-transparent")},m(r,l){S(r,e,l),t||(i=se(e,"click",n[0]),t=!0)},p:ge,d(r){r&&E(e),t=!1,i()}}}function aj(n){let e,t,i={btnClose:!1,$$slots:{footer:[oj],header:[sj],default:[lj]},$$scope:{ctx:n}};return e=new Mi({props:i}),n[11](e),e.$on("show",n[12]),e.$on("hide",n[13]),{c(){ee(e.$$.fragment)},m(r,l){Q(e,r,l),t=!0},p(r,[l]){const s={};l&1048586&&(s.$$scope={dirty:l,ctx:r}),e.$set(s)},i(r){t||(F(e.$$.fragment,r),t=!0)},o(r){x(e.$$.fragment,r),t=!1},d(r){n[11](null),J(e,r)}}}function uj(n,e,t){const i=Sn();let{disabled:r=[]}=e,l,s="",o=[];function a(){h(),l==null||l.show()}function u(){return l==null?void 0:l.hide()}function f(M){i("select",M),u()}function c(){const M=(s||"").toLowerCase();return O_.filter(N=>!r.includes(N.key)&&(M==""||N.key.toLowerCase().includes(M)||N.title.toLowerCase().includes(M)))}function h(){t(1,s="")}function p(){s=this.value,t(1,s)}const _=()=>t(1,s=""),v=M=>f(M);function b(M){ye[M?"unshift":"push"](()=>{l=M,t(2,l)})}function y(M){ut.call(this,n,M)}function A(M){ut.call(this,n,M)}return n.$$set=M=>{"disabled"in M&&t(6,r=M.disabled)},n.$$.update=()=>{n.$$.dirty&66&&(s!==-1||r!==-1)&&t(3,o=c())},[u,s,l,o,f,h,r,a,p,_,v,b,y,A]}class fj extends je{constructor(e){super(),qe(this,e,uj,aj,We,{disabled:6,show:7,hide:0})}get show(){return this.$$.ctx[7]}get hide(){return this.$$.ctx[0]}}function s4(n,e,t){const i=n.slice();i[28]=e[t],i[31]=t;const r=i[9](i[28].name);return i[29]=r,i}function cj(n){let e,t,i,r,l,s,o,a;return{c(){e=k("input"),i=D(),r=k("label"),l=le("Enable"),m(e,"type","checkbox"),m(e,"id",t=n[27]),m(r,"for",s=n[27])},m(u,f){S(u,e,f),e.checked=n[0].oauth2.enabled,S(u,i,f),S(u,r,f),T(r,l),o||(a=se(e,"change",n[10]),o=!0)},p(u,f){f[0]&134217728&&t!==(t=u[27])&&m(e,"id",t),f[0]&1&&(e.checked=u[0].oauth2.enabled),f[0]&134217728&&s!==(s=u[27])&&m(r,"for",s)},d(u){u&&(E(e),E(i),E(r)),o=!1,a()}}}function dj(n){let e;return{c(){e=k("i"),m(e,"class","ri-puzzle-line txt-sm txt-hint")},m(t,i){S(t,e,i)},p:ge,d(t){t&&E(e)}}}function hj(n){let e,t,i;return{c(){e=k("img"),hr(e.src,t="./images/oauth2/"+n[29].logo)||m(e,"src",t),m(e,"alt",i=n[29].title+" logo")},m(r,l){S(r,e,l)},p(r,l){l[0]&1&&!hr(e.src,t="./images/oauth2/"+r[29].logo)&&m(e,"src",t),l[0]&1&&i!==(i=r[29].title+" logo")&&m(e,"alt",i)},d(r){r&&E(e)}}}function o4(n){let e,t,i;function r(){return n[11](n[29],n[28],n[31])}return{c(){e=k("button"),e.innerHTML='<i class="ri-settings-4-line"></i>',m(e,"type","button"),m(e,"class","btn btn-circle btn-hint btn-transparent"),m(e,"aria-label","Provider settings")},m(l,s){S(l,e,s),t||(i=[nt(_t.call(null,e,{text:"Edit config",position:"left"})),se(e,"click",r)],t=!0)},p(l,s){n=l},d(l){l&&E(e),t=!1,it(i)}}}function a4(n,e){var M;let t,i,r,l,s,o,a=(e[28].displayName||((M=e[29])==null?void 0:M.title)||"Custom")+"",u,f,c,h=e[28].name+"",p,_;function v(N,L){var I;return(I=N[29])!=null&&I.logo?hj:dj}let b=v(e),y=b(e),A=e[29]&&o4(e);return{key:n,first:null,c(){var N,L,I;t=k("div"),i=k("div"),r=k("figure"),y.c(),l=D(),s=k("div"),o=k("div"),u=le(a),f=D(),c=k("em"),p=le(h),_=D(),A&&A.c(),m(r,"class","provider-logo"),m(o,"class","title"),m(c,"class","txt-hint txt-sm m-r-auto"),m(s,"class","content"),m(i,"class","provider-card"),he(i,"error",!re.isEmpty((I=(L=(N=e[1])==null?void 0:N.oauth2)==null?void 0:L.providers)==null?void 0:I[e[31]])),m(t,"class","col-lg-6"),this.first=t},m(N,L){S(N,t,L),T(t,i),T(i,r),y.m(r,null),T(i,l),T(i,s),T(s,o),T(o,u),T(s,f),T(s,c),T(c,p),T(i,_),A&&A.m(i,null)},p(N,L){var I,R,$,B;e=N,b===(b=v(e))&&y?y.p(e,L):(y.d(1),y=b(e),y&&(y.c(),y.m(r,null))),L[0]&1&&a!==(a=(e[28].displayName||((I=e[29])==null?void 0:I.title)||"Custom")+"")&&Se(u,a),L[0]&1&&h!==(h=e[28].name+"")&&Se(p,h),e[29]?A?A.p(e,L):(A=o4(e),A.c(),A.m(i,null)):A&&(A.d(1),A=null),L[0]&3&&he(i,"error",!re.isEmpty((B=($=(R=e[1])==null?void 0:R.oauth2)==null?void 0:$.providers)==null?void 0:B[e[31]]))},d(N){N&&E(t),y.d(),A&&A.d()}}}function pj(n){let e;return{c(){e=k("i"),m(e,"class","ri-arrow-down-s-line txt-sm")},m(t,i){S(t,e,i)},d(t){t&&E(e)}}}function mj(n){let e;return{c(){e=k("i"),m(e,"class","ri-arrow-up-s-line txt-sm")},m(t,i){S(t,e,i)},d(t){t&&E(e)}}}function u4(n){let e,t,i,r,l,s,o,a,u,f,c,h,p,_,v;return r=new Pe({props:{class:"form-field form-field-toggle",name:"oauth2.mappedFields.name",$$slots:{default:[gj,({uniqueId:b})=>({27:b}),({uniqueId:b})=>[b?134217728:0]]},$$scope:{ctx:n}}}),o=new Pe({props:{class:"form-field form-field-toggle",name:"oauth2.mappedFields.avatarURL",$$slots:{default:[_j,({uniqueId:b})=>({27:b}),({uniqueId:b})=>[b?134217728:0]]},$$scope:{ctx:n}}}),f=new Pe({props:{class:"form-field form-field-toggle",name:"oauth2.mappedFields.id",$$slots:{default:[bj,({uniqueId:b})=>({27:b}),({uniqueId:b})=>[b?134217728:0]]},$$scope:{ctx:n}}}),p=new Pe({props:{class:"form-field form-field-toggle",name:"oauth2.mappedFields.username",$$slots:{default:[vj,({uniqueId:b})=>({27:b}),({uniqueId:b})=>[b?134217728:0]]},$$scope:{ctx:n}}}),{c(){e=k("div"),t=k("div"),i=k("div"),ee(r.$$.fragment),l=D(),s=k("div"),ee(o.$$.fragment),a=D(),u=k("div"),ee(f.$$.fragment),c=D(),h=k("div"),ee(p.$$.fragment),m(i,"class","col-sm-6"),m(s,"class","col-sm-6"),m(u,"class","col-sm-6"),m(h,"class","col-sm-6"),m(t,"class","grid grid-sm p-t-xs"),m(e,"class","block")},m(b,y){S(b,e,y),T(e,t),T(t,i),Q(r,i,null),T(t,l),T(t,s),Q(o,s,null),T(t,a),T(t,u),Q(f,u,null),T(t,c),T(t,h),Q(p,h,null),v=!0},p(b,y){const A={};y[0]&134217761|y[1]&2&&(A.$$scope={dirty:y,ctx:b}),r.$set(A);const M={};y[0]&134217793|y[1]&2&&(M.$$scope={dirty:y,ctx:b}),o.$set(M);const N={};y[0]&134217761|y[1]&2&&(N.$$scope={dirty:y,ctx:b}),f.$set(N);const L={};y[0]&134217761|y[1]&2&&(L.$$scope={dirty:y,ctx:b}),p.$set(L)},i(b){v||(F(r.$$.fragment,b),F(o.$$.fragment,b),F(f.$$.fragment,b),F(p.$$.fragment,b),b&&tn(()=>{v&&(_||(_=Et(e,En,{duration:150},!0)),_.run(1))}),v=!0)},o(b){x(r.$$.fragment,b),x(o.$$.fragment,b),x(f.$$.fragment,b),x(p.$$.fragment,b),b&&(_||(_=Et(e,En,{duration:150},!1)),_.run(0)),v=!1},d(b){b&&E(e),J(r),J(o),J(f),J(p),b&&_&&_.end()}}}function gj(n){let e,t,i,r,l,s,o;function a(f){n[14](f)}let u={id:n[27],items:n[5],toggle:!0,zeroFunc:Sj,selectPlaceholder:"Select field"};return n[0].oauth2.mappedFields.name!==void 0&&(u.selected=n[0].oauth2.mappedFields.name),l=new tf({props:u}),ye.push(()=>Ke(l,"selected",a)),{c(){e=k("label"),t=le("OAuth2 full name"),r=D(),ee(l.$$.fragment),m(e,"for",i=n[27])},m(f,c){S(f,e,c),T(e,t),S(f,r,c),Q(l,f,c),o=!0},p(f,c){(!o||c[0]&134217728&&i!==(i=f[27]))&&m(e,"for",i);const h={};c[0]&134217728&&(h.id=f[27]),c[0]&32&&(h.items=f[5]),!s&&c[0]&1&&(s=!0,h.selected=f[0].oauth2.mappedFields.name,Ye(()=>s=!1)),l.$set(h)},i(f){o||(F(l.$$.fragment,f),o=!0)},o(f){x(l.$$.fragment,f),o=!1},d(f){f&&(E(e),E(r)),J(l,f)}}}function _j(n){let e,t,i,r,l,s,o;function a(f){n[15](f)}let u={id:n[27],items:n[6],toggle:!0,zeroFunc:Cj,selectPlaceholder:"Select field"};return n[0].oauth2.mappedFields.avatarURL!==void 0&&(u.selected=n[0].oauth2.mappedFields.avatarURL),l=new tf({props:u}),ye.push(()=>Ke(l,"selected",a)),{c(){e=k("label"),t=le("OAuth2 avatar"),r=D(),ee(l.$$.fragment),m(e,"for",i=n[27])},m(f,c){S(f,e,c),T(e,t),S(f,r,c),Q(l,f,c),o=!0},p(f,c){(!o||c[0]&134217728&&i!==(i=f[27]))&&m(e,"for",i);const h={};c[0]&134217728&&(h.id=f[27]),c[0]&64&&(h.items=f[6]),!s&&c[0]&1&&(s=!0,h.selected=f[0].oauth2.mappedFields.avatarURL,Ye(()=>s=!1)),l.$set(h)},i(f){o||(F(l.$$.fragment,f),o=!0)},o(f){x(l.$$.fragment,f),o=!1},d(f){f&&(E(e),E(r)),J(l,f)}}}function bj(n){let e,t,i,r,l,s,o;function a(f){n[16](f)}let u={id:n[27],items:n[5],toggle:!0,zeroFunc:Aj,selectPlaceholder:"Select field"};return n[0].oauth2.mappedFields.id!==void 0&&(u.selected=n[0].oauth2.mappedFields.id),l=new tf({props:u}),ye.push(()=>Ke(l,"selected",a)),{c(){e=k("label"),t=le("OAuth2 id"),r=D(),ee(l.$$.fragment),m(e,"for",i=n[27])},m(f,c){S(f,e,c),T(e,t),S(f,r,c),Q(l,f,c),o=!0},p(f,c){(!o||c[0]&134217728&&i!==(i=f[27]))&&m(e,"for",i);const h={};c[0]&134217728&&(h.id=f[27]),c[0]&32&&(h.items=f[5]),!s&&c[0]&1&&(s=!0,h.selected=f[0].oauth2.mappedFields.id,Ye(()=>s=!1)),l.$set(h)},i(f){o||(F(l.$$.fragment,f),o=!0)},o(f){x(l.$$.fragment,f),o=!1},d(f){f&&(E(e),E(r)),J(l,f)}}}function vj(n){let e,t,i,r,l,s,o;function a(f){n[17](f)}let u={id:n[27],items:n[5],toggle:!0,zeroFunc:Oj,selectPlaceholder:"Select field"};return n[0].oauth2.mappedFields.username!==void 0&&(u.selected=n[0].oauth2.mappedFields.username),l=new tf({props:u}),ye.push(()=>Ke(l,"selected",a)),{c(){e=k("label"),t=le("OAuth2 username"),r=D(),ee(l.$$.fragment),m(e,"for",i=n[27])},m(f,c){S(f,e,c),T(e,t),S(f,r,c),Q(l,f,c),o=!0},p(f,c){(!o||c[0]&134217728&&i!==(i=f[27]))&&m(e,"for",i);const h={};c[0]&134217728&&(h.id=f[27]),c[0]&32&&(h.items=f[5]),!s&&c[0]&1&&(s=!0,h.selected=f[0].oauth2.mappedFields.username,Ye(()=>s=!1)),l.$set(h)},i(f){o||(F(l.$$.fragment,f),o=!0)},o(f){x(l.$$.fragment,f),o=!1},d(f){f&&(E(e),E(r)),J(l,f)}}}function yj(n){let e,t,i,r=[],l=new Map,s,o,a,u,f,c,h,p=n[0].name+"",_,v,b,y,A,M,N,L,I;e=new Pe({props:{class:"form-field form-field-toggle",name:"oauth2.enabled",$$slots:{default:[cj,({uniqueId:j})=>({27:j}),({uniqueId:j})=>[j?134217728:0]]},$$scope:{ctx:n}}});let R=Re(n[0].oauth2.providers);const $=j=>j[28].name;for(let j=0;j<R.length;j+=1){let W=s4(n,R,j),G=$(W);l.set(G,r[j]=a4(G,W))}function B(j,W){return j[4]?mj:pj}let H=B(n),q=H(n),z=n[4]&&u4(n);return{c(){ee(e.$$.fragment),t=D(),i=k("div");for(let j=0;j<r.length;j+=1)r[j].c();s=D(),o=k("div"),a=k("button"),a.innerHTML='<i class="ri-add-line"></i> <span class="txt">Add provider</span>',u=D(),f=k("button"),c=k("strong"),h=le("Optional "),_=le(p),v=le(" create fields map"),b=D(),q.c(),A=D(),z&&z.c(),M=ze(),m(a,"class","btn btn-block btn-lg btn-secondary txt-base"),m(o,"class","col-lg-6"),m(i,"class","grid grid-sm"),m(c,"class","txt"),m(f,"type","button"),m(f,"class",y="m-t-25 btn btn-sm "+(n[4]?"btn-secondary":"btn-hint btn-transparent"))},m(j,W){Q(e,j,W),S(j,t,W),S(j,i,W);for(let G=0;G<r.length;G+=1)r[G]&&r[G].m(i,null);T(i,s),T(i,o),T(o,a),S(j,u,W),S(j,f,W),T(f,c),T(c,h),T(c,_),T(c,v),T(f,b),q.m(f,null),S(j,A,W),z&&z.m(j,W),S(j,M,W),N=!0,L||(I=[se(a,"click",n[12]),se(f,"click",n[13])],L=!0)},p(j,W){const G={};W[0]&134217729|W[1]&2&&(G.$$scope={dirty:W,ctx:j}),e.$set(G),W[0]&523&&(R=Re(j[0].oauth2.providers),r=In(r,W,$,1,j,R,l,i,Ol,a4,s,s4)),(!N||W[0]&1)&&p!==(p=j[0].name+"")&&Se(_,p),H!==(H=B(j))&&(q.d(1),q=H(j),q&&(q.c(),q.m(f,null))),(!N||W[0]&16&&y!==(y="m-t-25 btn btn-sm "+(j[4]?"btn-secondary":"btn-hint btn-transparent")))&&m(f,"class",y),j[4]?z?(z.p(j,W),W[0]&16&&F(z,1)):(z=u4(j),z.c(),F(z,1),z.m(M.parentNode,M)):z&&(Ne(),x(z,1,1,()=>{z=null}),Me())},i(j){N||(F(e.$$.fragment,j),F(z),N=!0)},o(j){x(e.$$.fragment,j),x(z),N=!1},d(j){j&&(E(t),E(i),E(u),E(f),E(A),E(M)),J(e,j);for(let W=0;W<r.length;W+=1)r[W].d();q.d(),z&&z.d(j),L=!1,it(I)}}}function kj(n){let e;return{c(){e=k("span"),e.textContent="Disabled",m(e,"class","label")},m(t,i){S(t,e,i)},p:ge,d(t){t&&E(e)}}}function Tj(n){let e,t,i,r=n[7]==1?"provider":"providers",l,s,o;return{c(){e=k("span"),t=le(n[7]),i=D(),l=le(r),s=D(),o=k("span"),o.textContent="Enabled",m(e,"class","label"),he(e,"label-warning",!n[7]),he(e,"label-info",n[7]>0),m(o,"class","label label-success")},m(a,u){S(a,e,u),T(e,t),T(e,i),T(e,l),S(a,s,u),S(a,o,u)},p(a,u){u[0]&128&&Se(t,a[7]),u[0]&128&&r!==(r=a[7]==1?"provider":"providers")&&Se(l,r),u[0]&128&&he(e,"label-warning",!a[7]),u[0]&128&&he(e,"label-info",a[7]>0)},d(a){a&&(E(e),E(s),E(o))}}}function f4(n){let e,t,i,r,l;return{c(){e=k("i"),m(e,"class","ri-error-warning-fill txt-danger")},m(s,o){S(s,e,o),i=!0,r||(l=nt(_t.call(null,e,{text:"Has errors",position:"left"})),r=!0)},i(s){i||(s&&tn(()=>{i&&(t||(t=Et(e,Bn,{duration:150,start:.7},!0)),t.run(1))}),i=!0)},o(s){s&&(t||(t=Et(e,Bn,{duration:150,start:.7},!1)),t.run(0)),i=!1},d(s){s&&E(e),s&&t&&t.end(),r=!1,l()}}}function wj(n){let e,t,i,r,l,s;function o(c,h){return c[0].oauth2.enabled?Tj:kj}let a=o(n),u=a(n),f=n[8]&&f4();return{c(){e=k("div"),e.innerHTML='<i class="ri-pass-expired-line"></i> <span class="txt">OAuth2</span>',t=D(),i=k("div"),r=D(),u.c(),l=D(),f&&f.c(),s=ze(),m(e,"class","inline-flex"),m(i,"class","flex-fill")},m(c,h){S(c,e,h),S(c,t,h),S(c,i,h),S(c,r,h),u.m(c,h),S(c,l,h),f&&f.m(c,h),S(c,s,h)},p(c,h){a===(a=o(c))&&u?u.p(c,h):(u.d(1),u=a(c),u&&(u.c(),u.m(l.parentNode,l))),c[8]?f?h[0]&256&&F(f,1):(f=f4(),f.c(),F(f,1),f.m(s.parentNode,s)):f&&(Ne(),x(f,1,1,()=>{f=null}),Me())},d(c){c&&(E(e),E(t),E(i),E(r),E(l),E(s)),u.d(c),f&&f.d(c)}}}function Ej(n){var u,f;let e,t,i,r,l,s;e=new Vs({props:{single:!0,$$slots:{header:[wj],default:[yj]},$$scope:{ctx:n}}});let o={disabled:((f=(u=n[0].oauth2)==null?void 0:u.providers)==null?void 0:f.map(c4))||[]};i=new fj({props:o}),n[18](i),i.$on("select",n[19]);let a={};return l=new hq({props:a}),n[20](l),l.$on("remove",n[21]),l.$on("submit",n[22]),{c(){ee(e.$$.fragment),t=D(),ee(i.$$.fragment),r=D(),ee(l.$$.fragment)},m(c,h){Q(e,c,h),S(c,t,h),Q(i,c,h),S(c,r,h),Q(l,c,h),s=!0},p(c,h){var b,y;const p={};h[0]&511|h[1]&2&&(p.$$scope={dirty:h,ctx:c}),e.$set(p);const _={};h[0]&1&&(_.disabled=((y=(b=c[0].oauth2)==null?void 0:b.providers)==null?void 0:y.map(c4))||[]),i.$set(_);const v={};l.$set(v)},i(c){s||(F(e.$$.fragment,c),F(i.$$.fragment,c),F(l.$$.fragment,c),s=!0)},o(c){x(e.$$.fragment,c),x(i.$$.fragment,c),x(l.$$.fragment,c),s=!1},d(c){c&&(E(t),E(r)),J(e,c),n[18](null),J(i,c),n[20](null),J(l,c)}}}const Sj=()=>"",Cj=()=>"",Aj=()=>"",Oj=()=>"",c4=n=>n.name;function Nj(n,e,t){let i,r,l;Wt(n,mr,W=>t(1,l=W));let{collection:s}=e;const o=["id","email","emailVisibility","verified","tokenKey","password"],a=["text","editor","url","email","json"],u=a.concat("file");let f,c,h=!1,p=[],_=[];function v(W=[]){var G,ie;t(5,p=((G=W==null?void 0:W.filter(te=>a.includes(te.type)&&!o.includes(te.name)))==null?void 0:G.map(te=>te.name))||[]),t(6,_=((ie=W==null?void 0:W.filter(te=>u.includes(te.type)&&!o.includes(te.name)))==null?void 0:ie.map(te=>te.name))||[])}function b(W){for(let G of O_)if(G.key==W)return G;return null}function y(){s.oauth2.enabled=this.checked,t(0,s)}const A=(W,G,ie)=>{c==null||c.show(W,G,ie)},M=()=>f==null?void 0:f.show(),N=()=>t(4,h=!h);function L(W){n.$$.not_equal(s.oauth2.mappedFields.name,W)&&(s.oauth2.mappedFields.name=W,t(0,s))}function I(W){n.$$.not_equal(s.oauth2.mappedFields.avatarURL,W)&&(s.oauth2.mappedFields.avatarURL=W,t(0,s))}function R(W){n.$$.not_equal(s.oauth2.mappedFields.id,W)&&(s.oauth2.mappedFields.id=W,t(0,s))}function $(W){n.$$.not_equal(s.oauth2.mappedFields.username,W)&&(s.oauth2.mappedFields.username=W,t(0,s))}function B(W){ye[W?"unshift":"push"](()=>{f=W,t(2,f)})}const H=W=>{var G,ie;c.show(W.detail,{},((ie=(G=s.oauth2)==null?void 0:G.providers)==null?void 0:ie.length)||0)};function q(W){ye[W?"unshift":"push"](()=>{c=W,t(3,c)})}const z=W=>{const G=W.detail.uiOptions;re.removeByKey(s.oauth2.providers,"name",G.key),t(0,s)},j=W=>{const G=W.detail.uiOptions,ie=W.detail.config;t(0,s.oauth2.providers=s.oauth2.providers||[],s),re.pushOrReplaceByKey(s.oauth2.providers,Object.assign({name:G.key},ie),"name"),t(0,s)};return n.$$set=W=>{"collection"in W&&t(0,s=W.collection)},n.$$.update=()=>{var W,G;n.$$.dirty[0]&1&&re.isEmpty(s.oauth2)&&t(0,s.oauth2={enabled:!1,mappedFields:{},providers:[]},s),n.$$.dirty[0]&1&&v(s.fields),n.$$.dirty[0]&2&&t(8,i=!re.isEmpty(l==null?void 0:l.oauth2)),n.$$.dirty[0]&1&&t(7,r=((G=(W=s.oauth2)==null?void 0:W.providers)==null?void 0:G.length)||0)},[s,l,f,c,h,p,_,r,i,b,y,A,M,N,L,I,R,$,B,H,q,z,j]}class Mj extends je{constructor(e){super(),qe(this,e,Nj,Ej,We,{collection:0},null,[-1,-1])}}function d4(n){let e,t,i;return{c(){e=k("i"),m(e,"class","ri-information-line link-hint")},m(r,l){S(r,e,l),t||(i=nt(_t.call(null,e,{text:"Superusers can have OTP only as part of Two-factor authentication.",position:"right"})),t=!0)},d(r){r&&E(e),t=!1,i()}}}function Ij(n){let e,t,i,r,l,s,o,a,u,f,c=n[2]&&d4();return{c(){e=k("input"),i=D(),r=k("label"),l=le("Enable"),o=D(),c&&c.c(),a=ze(),m(e,"type","checkbox"),m(e,"id",t=n[8]),m(r,"for",s=n[8])},m(h,p){S(h,e,p),e.checked=n[0].otp.enabled,S(h,i,p),S(h,r,p),T(r,l),S(h,o,p),c&&c.m(h,p),S(h,a,p),u||(f=[se(e,"change",n[4]),se(e,"change",n[5])],u=!0)},p(h,p){p&256&&t!==(t=h[8])&&m(e,"id",t),p&1&&(e.checked=h[0].otp.enabled),p&256&&s!==(s=h[8])&&m(r,"for",s),h[2]?c||(c=d4(),c.c(),c.m(a.parentNode,a)):c&&(c.d(1),c=null)},d(h){h&&(E(e),E(i),E(r),E(o),E(a)),c&&c.d(h),u=!1,it(f)}}}function Lj(n){let e,t,i,r,l,s,o,a;return{c(){e=k("label"),t=le("Duration (in seconds)"),r=D(),l=k("input"),m(e,"for",i=n[8]),m(l,"type","number"),m(l,"min","0"),m(l,"step","1"),m(l,"id",s=n[8]),l.required=!0},m(u,f){S(u,e,f),T(e,t),S(u,r,f),S(u,l,f),He(l,n[0].otp.duration),o||(a=se(l,"input",n[6]),o=!0)},p(u,f){f&256&&i!==(i=u[8])&&m(e,"for",i),f&256&&s!==(s=u[8])&&m(l,"id",s),f&1&&wn(l.value)!==u[0].otp.duration&&He(l,u[0].otp.duration)},d(u){u&&(E(e),E(r),E(l)),o=!1,a()}}}function Dj(n){let e,t,i,r,l,s,o,a;return{c(){e=k("label"),t=le("Generated password length"),r=D(),l=k("input"),m(e,"for",i=n[8]),m(l,"type","number"),m(l,"min","0"),m(l,"step","1"),m(l,"id",s=n[8]),l.required=!0},m(u,f){S(u,e,f),T(e,t),S(u,r,f),S(u,l,f),He(l,n[0].otp.length),o||(a=se(l,"input",n[7]),o=!0)},p(u,f){f&256&&i!==(i=u[8])&&m(e,"for",i),f&256&&s!==(s=u[8])&&m(l,"id",s),f&1&&wn(l.value)!==u[0].otp.length&&He(l,u[0].otp.length)},d(u){u&&(E(e),E(r),E(l)),o=!1,a()}}}function Rj(n){let e,t,i,r,l,s,o,a,u;return e=new Pe({props:{class:"form-field form-field-toggle",name:"otp.enabled",$$slots:{default:[Ij,({uniqueId:f})=>({8:f}),({uniqueId:f})=>f?256:0]},$$scope:{ctx:n}}}),l=new Pe({props:{class:"form-field form-field-toggle required",name:"otp.duration",$$slots:{default:[Lj,({uniqueId:f})=>({8:f}),({uniqueId:f})=>f?256:0]},$$scope:{ctx:n}}}),a=new Pe({props:{class:"form-field form-field-toggle required",name:"otp.length",$$slots:{default:[Dj,({uniqueId:f})=>({8:f}),({uniqueId:f})=>f?256:0]},$$scope:{ctx:n}}}),{c(){ee(e.$$.fragment),t=D(),i=k("div"),r=k("div"),ee(l.$$.fragment),s=D(),o=k("div"),ee(a.$$.fragment),m(r,"class","col-sm-6"),m(o,"class","col-sm-6"),m(i,"class","grid grid-sm")},m(f,c){Q(e,f,c),S(f,t,c),S(f,i,c),T(i,r),Q(l,r,null),T(i,s),T(i,o),Q(a,o,null),u=!0},p(f,c){const h={};c&773&&(h.$$scope={dirty:c,ctx:f}),e.$set(h);const p={};c&769&&(p.$$scope={dirty:c,ctx:f}),l.$set(p);const _={};c&769&&(_.$$scope={dirty:c,ctx:f}),a.$set(_)},i(f){u||(F(e.$$.fragment,f),F(l.$$.fragment,f),F(a.$$.fragment,f),u=!0)},o(f){x(e.$$.fragment,f),x(l.$$.fragment,f),x(a.$$.fragment,f),u=!1},d(f){f&&(E(t),E(i)),J(e,f),J(l),J(a)}}}function Pj(n){let e;return{c(){e=k("span"),e.textContent="Disabled",m(e,"class","label")},m(t,i){S(t,e,i)},d(t){t&&E(e)}}}function Fj(n){let e;return{c(){e=k("span"),e.textContent="Enabled",m(e,"class","label label-success")},m(t,i){S(t,e,i)},d(t){t&&E(e)}}}function h4(n){let e,t,i,r,l;return{c(){e=k("i"),m(e,"class","ri-error-warning-fill txt-danger")},m(s,o){S(s,e,o),i=!0,r||(l=nt(_t.call(null,e,{text:"Has errors",position:"left"})),r=!0)},i(s){i||(s&&tn(()=>{i&&(t||(t=Et(e,Bn,{duration:150,start:.7},!0)),t.run(1))}),i=!0)},o(s){s&&(t||(t=Et(e,Bn,{duration:150,start:.7},!1)),t.run(0)),i=!1},d(s){s&&E(e),s&&t&&t.end(),r=!1,l()}}}function $j(n){let e,t,i,r,l,s;function o(c,h){return c[0].otp.enabled?Fj:Pj}let a=o(n),u=a(n),f=n[1]&&h4();return{c(){e=k("div"),e.innerHTML='<i class="ri-time-line"></i> <span class="txt">One-time password (OTP)</span>',t=D(),i=k("div"),r=D(),u.c(),l=D(),f&&f.c(),s=ze(),m(e,"class","inline-flex"),m(i,"class","flex-fill")},m(c,h){S(c,e,h),S(c,t,h),S(c,i,h),S(c,r,h),u.m(c,h),S(c,l,h),f&&f.m(c,h),S(c,s,h)},p(c,h){a!==(a=o(c))&&(u.d(1),u=a(c),u&&(u.c(),u.m(l.parentNode,l))),c[1]?f?h&2&&F(f,1):(f=h4(),f.c(),F(f,1),f.m(s.parentNode,s)):f&&(Ne(),x(f,1,1,()=>{f=null}),Me())},d(c){c&&(E(e),E(t),E(i),E(r),E(l),E(s)),u.d(c),f&&f.d(c)}}}function Hj(n){let e,t;return e=new Vs({props:{single:!0,$$slots:{header:[$j],default:[Rj]},$$scope:{ctx:n}}}),{c(){ee(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,[r]){const l={};r&519&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){x(e.$$.fragment,i),t=!1},d(i){J(e,i)}}}function Bj(n,e,t){let i,r,l;Wt(n,mr,c=>t(3,l=c));let{collection:s}=e;function o(){s.otp.enabled=this.checked,t(0,s)}const a=c=>{i&&t(0,s.mfa.enabled=c.target.checked,s)};function u(){s.otp.duration=wn(this.value),t(0,s)}function f(){s.otp.length=wn(this.value),t(0,s)}return n.$$set=c=>{"collection"in c&&t(0,s=c.collection)},n.$$.update=()=>{n.$$.dirty&1&&re.isEmpty(s.otp)&&t(0,s.otp={enabled:!0,duration:300,length:8},s),n.$$.dirty&1&&t(2,i=(s==null?void 0:s.system)&&(s==null?void 0:s.name)==="_superusers"),n.$$.dirty&8&&t(1,r=!re.isEmpty(l==null?void 0:l.otp))},[s,r,i,l,o,a,u,f]}class xj extends je{constructor(e){super(),qe(this,e,Bj,Hj,We,{collection:0})}}function p4(n){let e,t,i;return{c(){e=k("i"),m(e,"class","ri-information-line link-hint")},m(r,l){S(r,e,l),t||(i=nt(_t.call(null,e,{text:"Superusers are required to have password auth enabled.",position:"right"})),t=!0)},d(r){r&&E(e),t=!1,i()}}}function Uj(n){let e,t,i,r,l,s,o,a,u,f,c=n[3]&&p4();return{c(){e=k("input"),i=D(),r=k("label"),l=le("Enable"),o=D(),c&&c.c(),a=ze(),m(e,"type","checkbox"),m(e,"id",t=n[9]),e.disabled=n[3],m(r,"for",s=n[9])},m(h,p){S(h,e,p),e.checked=n[0].passwordAuth.enabled,S(h,i,p),S(h,r,p),T(r,l),S(h,o,p),c&&c.m(h,p),S(h,a,p),u||(f=se(e,"change",n[6]),u=!0)},p(h,p){p&512&&t!==(t=h[9])&&m(e,"id",t),p&8&&(e.disabled=h[3]),p&1&&(e.checked=h[0].passwordAuth.enabled),p&512&&s!==(s=h[9])&&m(r,"for",s),h[3]?c||(c=p4(),c.c(),c.m(a.parentNode,a)):c&&(c.d(1),c=null)},d(h){h&&(E(e),E(i),E(r),E(o),E(a)),c&&c.d(h),u=!1,f()}}}function zj(n){let e,t,i,r,l,s,o;function a(f){n[7](f)}let u={items:n[1],multiple:!0};return n[0].passwordAuth.identityFields!==void 0&&(u.keyOfSelected=n[0].passwordAuth.identityFields),l=new Nr({props:u}),ye.push(()=>Ke(l,"keyOfSelected",a)),{c(){e=k("label"),t=k("span"),t.textContent="Unique identity fields",r=D(),ee(l.$$.fragment),m(t,"class","txt"),m(e,"for",i=n[9])},m(f,c){S(f,e,c),T(e,t),S(f,r,c),Q(l,f,c),o=!0},p(f,c){(!o||c&512&&i!==(i=f[9]))&&m(e,"for",i);const h={};c&2&&(h.items=f[1]),!s&&c&1&&(s=!0,h.keyOfSelected=f[0].passwordAuth.identityFields,Ye(()=>s=!1)),l.$set(h)},i(f){o||(F(l.$$.fragment,f),o=!0)},o(f){x(l.$$.fragment,f),o=!1},d(f){f&&(E(e),E(r)),J(l,f)}}}function qj(n){let e,t,i,r;return e=new Pe({props:{class:"form-field form-field-toggle",name:"passwordAuth.enabled",$$slots:{default:[Uj,({uniqueId:l})=>({9:l}),({uniqueId:l})=>l?512:0]},$$scope:{ctx:n}}}),i=new Pe({props:{class:"form-field required m-0",name:"passwordAuth.identityFields",$$slots:{default:[zj,({uniqueId:l})=>({9:l}),({uniqueId:l})=>l?512:0]},$$scope:{ctx:n}}}),{c(){ee(e.$$.fragment),t=D(),ee(i.$$.fragment)},m(l,s){Q(e,l,s),S(l,t,s),Q(i,l,s),r=!0},p(l,s){const o={};s&1545&&(o.$$scope={dirty:s,ctx:l}),e.$set(o);const a={};s&1539&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){r||(F(e.$$.fragment,l),F(i.$$.fragment,l),r=!0)},o(l){x(e.$$.fragment,l),x(i.$$.fragment,l),r=!1},d(l){l&&E(t),J(e,l),J(i,l)}}}function jj(n){let e;return{c(){e=k("span"),e.textContent="Disabled",m(e,"class","label")},m(t,i){S(t,e,i)},d(t){t&&E(e)}}}function Wj(n){let e;return{c(){e=k("span"),e.textContent="Enabled",m(e,"class","label label-success")},m(t,i){S(t,e,i)},d(t){t&&E(e)}}}function m4(n){let e,t,i,r,l;return{c(){e=k("i"),m(e,"class","ri-error-warning-fill txt-danger")},m(s,o){S(s,e,o),i=!0,r||(l=nt(_t.call(null,e,{text:"Has errors",position:"left"})),r=!0)},i(s){i||(s&&tn(()=>{i&&(t||(t=Et(e,Bn,{duration:150,start:.7},!0)),t.run(1))}),i=!0)},o(s){s&&(t||(t=Et(e,Bn,{duration:150,start:.7},!1)),t.run(0)),i=!1},d(s){s&&E(e),s&&t&&t.end(),r=!1,l()}}}function Kj(n){let e,t,i,r,l,s;function o(c,h){return c[0].passwordAuth.enabled?Wj:jj}let a=o(n),u=a(n),f=n[2]&&m4();return{c(){e=k("div"),e.innerHTML='<i class="ri-lock-password-line"></i> <span class="txt">Identity/Password</span>',t=D(),i=k("div"),r=D(),u.c(),l=D(),f&&f.c(),s=ze(),m(e,"class","inline-flex"),m(i,"class","flex-fill")},m(c,h){S(c,e,h),S(c,t,h),S(c,i,h),S(c,r,h),u.m(c,h),S(c,l,h),f&&f.m(c,h),S(c,s,h)},p(c,h){a!==(a=o(c))&&(u.d(1),u=a(c),u&&(u.c(),u.m(l.parentNode,l))),c[2]?f?h&4&&F(f,1):(f=m4(),f.c(),F(f,1),f.m(s.parentNode,s)):f&&(Ne(),x(f,1,1,()=>{f=null}),Me())},d(c){c&&(E(e),E(t),E(i),E(r),E(l),E(s)),u.d(c),f&&f.d(c)}}}function Vj(n){let e,t;return e=new Vs({props:{single:!0,$$slots:{header:[Kj],default:[qj]},$$scope:{ctx:n}}}),{c(){ee(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,[r]){const l={};r&1039&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){x(e.$$.fragment,i),t=!1},d(i){J(e,i)}}}function Gj(n,e,t){let i,r,l;Wt(n,mr,h=>t(5,l=h));let{collection:s}=e,o=[],a="";function u(){t(1,o=[{value:"email"}]);const h=(s==null?void 0:s.fields)||[],p=(s==null?void 0:s.indexes)||[];t(4,a=p.join(""));for(let _ of p){const v=re.parseIndex(_);if(!v.unique||v.columns.length!=1||v.columns[0].name=="email")continue;const b=h.find(y=>!y.hidden&&y.name.toLowerCase()==v.columns[0].name.toLowerCase());b&&o.push({value:b.name})}}function f(){s.passwordAuth.enabled=this.checked,t(0,s)}function c(h){n.$$.not_equal(s.passwordAuth.identityFields,h)&&(s.passwordAuth.identityFields=h,t(0,s))}return n.$$set=h=>{"collection"in h&&t(0,s=h.collection)},n.$$.update=()=>{n.$$.dirty&1&&re.isEmpty(s==null?void 0:s.passwordAuth)&&t(0,s.passwordAuth={enabled:!0,identityFields:["email"]},s),n.$$.dirty&1&&t(3,i=(s==null?void 0:s.system)&&(s==null?void 0:s.name)==="_superusers"),n.$$.dirty&32&&t(2,r=!re.isEmpty(l==null?void 0:l.passwordAuth)),n.$$.dirty&17&&s&&a!=s.indexes.join("")&&u()},[s,o,r,i,a,l,f,c]}class Yj extends je{constructor(e){super(),qe(this,e,Gj,Vj,We,{collection:0})}}function g4(n,e,t){const i=n.slice();return i[27]=e[t],i}function _4(n,e){let t,i,r,l,s,o=e[27].label+"",a,u,f,c,h,p;return c=tL(e[15][0]),{key:n,first:null,c(){t=k("div"),i=k("input"),l=D(),s=k("label"),a=le(o),f=D(),m(i,"type","radio"),m(i,"name","template"),m(i,"id",r=e[26]+e[27].value),i.__value=e[27].value,He(i,i.__value),m(s,"for",u=e[26]+e[27].value),m(t,"class","form-field-block"),c.p(i),this.first=t},m(_,v){S(_,t,v),T(t,i),i.checked=i.__value===e[3],T(t,l),T(t,s),T(s,a),T(t,f),h||(p=se(i,"change",e[14]),h=!0)},p(_,v){e=_,v&67108864&&r!==(r=e[26]+e[27].value)&&m(i,"id",r),v&8&&(i.checked=i.__value===e[3]),v&67108864&&u!==(u=e[26]+e[27].value)&&m(s,"for",u)},d(_){_&&E(t),c.r(),h=!1,p()}}}function Xj(n){let e=[],t=new Map,i,r=Re(n[11]);const l=s=>s[27].value;for(let s=0;s<r.length;s+=1){let o=g4(n,r,s),a=l(o);t.set(a,e[s]=_4(a,o))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();i=ze()},m(s,o){for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(s,o);S(s,i,o)},p(s,o){o&67110920&&(r=Re(s[11]),e=In(e,o,l,1,s,r,t,i.parentNode,Ol,_4,i,g4))},d(s){s&&E(i);for(let o=0;o<e.length;o+=1)e[o].d(s)}}}function b4(n){let e,t;return e=new Pe({props:{class:"form-field required",name:"collection",$$slots:{default:[Zj,({uniqueId:i})=>({26:i}),({uniqueId:i})=>i?67108864:0]},$$scope:{ctx:n}}}),{c(){ee(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,r){const l={};r&1140850882&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){x(e.$$.fragment,i),t=!1},d(i){J(e,i)}}}function Zj(n){let e,t,i,r,l,s,o;function a(f){n[16](f)}let u={id:n[26],selectPlaceholder:n[7]?"Loading auth collections...":"Select auth collection",noOptionsText:"No auth collections found",selectionKey:"id",items:n[6]};return n[1]!==void 0&&(u.keyOfSelected=n[1]),l=new Nr({props:u}),ye.push(()=>Ke(l,"keyOfSelected",a)),{c(){e=k("label"),t=le("Auth collection"),r=D(),ee(l.$$.fragment),m(e,"for",i=n[26])},m(f,c){S(f,e,c),T(e,t),S(f,r,c),Q(l,f,c),o=!0},p(f,c){(!o||c&67108864&&i!==(i=f[26]))&&m(e,"for",i);const h={};c&67108864&&(h.id=f[26]),c&128&&(h.selectPlaceholder=f[7]?"Loading auth collections...":"Select auth collection"),c&64&&(h.items=f[6]),!s&&c&2&&(s=!0,h.keyOfSelected=f[1],Ye(()=>s=!1)),l.$set(h)},i(f){o||(F(l.$$.fragment,f),o=!0)},o(f){x(l.$$.fragment,f),o=!1},d(f){f&&(E(e),E(r)),J(l,f)}}}function Qj(n){let e,t,i,r,l,s,o,a;return{c(){e=k("label"),t=le("To email address"),r=D(),l=k("input"),m(e,"for",i=n[26]),m(l,"type","email"),m(l,"id",s=n[26]),l.autofocus=!0,l.required=!0},m(u,f){S(u,e,f),T(e,t),S(u,r,f),S(u,l,f),He(l,n[2]),l.focus(),o||(a=se(l,"input",n[17]),o=!0)},p(u,f){f&67108864&&i!==(i=u[26])&&m(e,"for",i),f&67108864&&s!==(s=u[26])&&m(l,"id",s),f&4&&l.value!==u[2]&&He(l,u[2])},d(u){u&&(E(e),E(r),E(l)),o=!1,a()}}}function Jj(n){let e,t,i,r,l,s,o,a;t=new Pe({props:{class:"form-field required",name:"template",$$slots:{default:[Xj,({uniqueId:f})=>({26:f}),({uniqueId:f})=>f?67108864:0]},$$scope:{ctx:n}}});let u=n[8]&&b4(n);return l=new Pe({props:{class:"form-field required m-0",name:"email",$$slots:{default:[Qj,({uniqueId:f})=>({26:f}),({uniqueId:f})=>f?67108864:0]},$$scope:{ctx:n}}}),{c(){e=k("form"),ee(t.$$.fragment),i=D(),u&&u.c(),r=D(),ee(l.$$.fragment),m(e,"id",n[10]),m(e,"autocomplete","off")},m(f,c){S(f,e,c),Q(t,e,null),T(e,i),u&&u.m(e,null),T(e,r),Q(l,e,null),s=!0,o||(a=se(e,"submit",ln(n[18])),o=!0)},p(f,c){const h={};c&1140850696&&(h.$$scope={dirty:c,ctx:f}),t.$set(h),f[8]?u?(u.p(f,c),c&256&&F(u,1)):(u=b4(f),u.c(),F(u,1),u.m(e,r)):u&&(Ne(),x(u,1,1,()=>{u=null}),Me());const p={};c&1140850692&&(p.$$scope={dirty:c,ctx:f}),l.$set(p)},i(f){s||(F(t.$$.fragment,f),F(u),F(l.$$.fragment,f),s=!0)},o(f){x(t.$$.fragment,f),x(u),x(l.$$.fragment,f),s=!1},d(f){f&&E(e),J(t),u&&u.d(),J(l),o=!1,a()}}}function eW(n){let e;return{c(){e=k("h4"),e.textContent="Send test email",m(e,"class","center txt-break")},m(t,i){S(t,e,i)},p:ge,d(t){t&&E(e)}}}function tW(n){let e,t,i,r,l,s,o,a,u,f;return{c(){e=k("button"),t=le("Close"),i=D(),r=k("button"),l=k("i"),s=D(),o=k("span"),o.textContent="Send",m(e,"type","button"),m(e,"class","btn btn-transparent"),e.disabled=n[5],m(l,"class","ri-mail-send-line"),m(o,"class","txt"),m(r,"type","submit"),m(r,"form",n[10]),m(r,"class","btn btn-expanded"),r.disabled=a=!n[9]||n[5],he(r,"btn-loading",n[5])},m(c,h){S(c,e,h),T(e,t),S(c,i,h),S(c,r,h),T(r,l),T(r,s),T(r,o),u||(f=se(e,"click",n[0]),u=!0)},p(c,h){h&32&&(e.disabled=c[5]),h&544&&a!==(a=!c[9]||c[5])&&(r.disabled=a),h&32&&he(r,"btn-loading",c[5])},d(c){c&&(E(e),E(i),E(r)),u=!1,f()}}}function nW(n){let e,t,i={class:"overlay-panel-sm email-test-popup",overlayClose:!n[5],escClose:!n[5],beforeHide:n[19],popup:!0,$$slots:{footer:[tW],header:[eW],default:[Jj]},$$scope:{ctx:n}};return e=new Mi({props:i}),n[20](e),e.$on("show",n[21]),e.$on("hide",n[22]),{c(){ee(e.$$.fragment)},m(r,l){Q(e,r,l),t=!0},p(r,[l]){const s={};l&32&&(s.overlayClose=!r[5]),l&32&&(s.escClose=!r[5]),l&32&&(s.beforeHide=r[19]),l&1073742830&&(s.$$scope={dirty:l,ctx:r}),e.$set(s)},i(r){t||(F(e.$$.fragment,r),t=!0)},o(r){x(e.$$.fragment,r),t=!1},d(r){n[20](null),J(e,r)}}}const Hm="last_email_test",v4="email_test_request";function iW(n,e,t){let i;const r=Sn(),l="email_test_"+re.randomString(5),s=[{label:"Verification",value:"verification"},{label:"Password reset",value:"password-reset"},{label:"Confirm email change",value:"email-change"},{label:"OTP",value:"otp"},{label:"Login alert",value:"login-alert"}];let o,a="",u=localStorage.getItem(Hm),f=s[0].value,c=!1,h=null,p=[],_=!1,v=!1;function b(j="",W="",G=""){mi({}),t(8,v=!1),t(1,a=j||""),a||M(),t(2,u=W||localStorage.getItem(Hm)),t(3,f=G||s[0].value),o==null||o.show()}function y(){return clearTimeout(h),o==null?void 0:o.hide()}async function A(){if(!(!i||c||!a)){t(5,c=!0),localStorage==null||localStorage.setItem(Hm,u),clearTimeout(h),h=setTimeout(()=>{xe.cancelRequest(v4),Ts("Test email send timeout.")},3e4);try{await xe.settings.testEmail(a,u,f,{$cancelKey:v4}),Oi("Successfully sent test email."),r("submit"),t(5,c=!1),await Ni(),y()}catch(j){t(5,c=!1),xe.error(j)}clearTimeout(h)}}async function M(){var j;t(8,v=!0),t(7,_=!0);try{t(6,p=await xe.collections.getFullList({filter:"type='auth'",sort:"+name",requestKey:l+"_collections_loading"})),t(1,a=((j=p[0])==null?void 0:j.id)||""),t(7,_=!1)}catch(W){W.isAbort||(t(7,_=!1),xe.error(W))}}const N=[[]];function L(){f=this.__value,t(3,f)}function I(j){a=j,t(1,a)}function R(){u=this.value,t(2,u)}const $=()=>A(),B=()=>!c;function H(j){ye[j?"unshift":"push"](()=>{o=j,t(4,o)})}function q(j){ut.call(this,n,j)}function z(j){ut.call(this,n,j)}return n.$$.update=()=>{n.$$.dirty&14&&t(9,i=!!u&&!!f&&!!a)},[y,a,u,f,o,c,p,_,v,i,l,s,A,b,L,N,I,R,$,B,H,q,z]}class SA extends je{constructor(e){super(),qe(this,e,iW,nW,We,{show:13,hide:0})}get show(){return this.$$.ctx[13]}get hide(){return this.$$.ctx[0]}}function y4(n,e,t){const i=n.slice();return i[18]=e[t],i[19]=e,i[20]=t,i}function rW(n){let e,t,i,r,l,s,o,a;return{c(){e=k("input"),i=D(),r=k("label"),l=le("Send email alert for new logins"),m(e,"type","checkbox"),m(e,"id",t=n[21]),m(r,"for",s=n[21])},m(u,f){S(u,e,f),e.checked=n[0].authAlert.enabled,S(u,i,f),S(u,r,f),T(r,l),o||(a=se(e,"change",n[9]),o=!0)},p(u,f){f&2097152&&t!==(t=u[21])&&m(e,"id",t),f&1&&(e.checked=u[0].authAlert.enabled),f&2097152&&s!==(s=u[21])&&m(r,"for",s)},d(u){u&&(E(e),E(i),E(r)),o=!1,a()}}}function k4(n){let e,t,i;function r(s){n[11](s)}let l={};return n[0]!==void 0&&(l.collection=n[0]),e=new Mj({props:l}),ye.push(()=>Ke(e,"collection",r)),{c(){ee(e.$$.fragment)},m(s,o){Q(e,s,o),i=!0},p(s,o){const a={};!t&&o&1&&(t=!0,a.collection=s[0],Ye(()=>t=!1)),e.$set(a)},i(s){i||(F(e.$$.fragment,s),i=!0)},o(s){x(e.$$.fragment,s),i=!1},d(s){J(e,s)}}}function T4(n,e){var a;let t,i,r,l;function s(u){e[15](u,e[18])}let o={single:!0,key:e[18].key,title:e[18].label,placeholders:(a=e[18])==null?void 0:a.placeholders};return e[18].config!==void 0&&(o.config=e[18].config),i=new _z({props:o}),ye.push(()=>Ke(i,"config",s)),{key:n,first:null,c(){t=ze(),ee(i.$$.fragment),this.first=t},m(u,f){S(u,t,f),Q(i,u,f),l=!0},p(u,f){var h;e=u;const c={};f&4&&(c.key=e[18].key),f&4&&(c.title=e[18].label),f&4&&(c.placeholders=(h=e[18])==null?void 0:h.placeholders),!r&&f&4&&(r=!0,c.config=e[18].config,Ye(()=>r=!1)),i.$set(c)},i(u){l||(F(i.$$.fragment,u),l=!0)},o(u){x(i.$$.fragment,u),l=!1},d(u){u&&E(t),J(i,u)}}}function lW(n){let e,t,i,r,l,s,o,a,u,f,c,h,p,_,v,b,y,A,M,N,L,I,R,$,B,H=[],q=new Map,z,j,W,G,ie,te,ae,ue,K,X,_e;s=new Pe({props:{class:"form-field form-field-sm form-field-toggle m-0",name:"authAlert.enabled",inlineError:!0,$$slots:{default:[rW,({uniqueId:Ze})=>({21:Ze}),({uniqueId:Ze})=>Ze?2097152:0]},$$scope:{ctx:n}}});function oe(Ze){n[10](Ze)}let Le={};n[0]!==void 0&&(Le.collection=n[0]),u=new Yj({props:Le}),ye.push(()=>Ke(u,"collection",oe));let lt=!n[1]&&k4(n);function St(Ze){n[12](Ze)}let bt={};n[0]!==void 0&&(bt.collection=n[0]),p=new xj({props:bt}),ye.push(()=>Ke(p,"collection",St));function At(Ze){n[13](Ze)}let ot={};n[0]!==void 0&&(ot.collection=n[0]),b=new qz({props:ot}),ye.push(()=>Ke(b,"collection",At));let vt=Re(n[2]);const zt=Ze=>Ze[18].key;for(let Ze=0;Ze<vt.length;Ze+=1){let dt=y4(n,vt,Ze),Fe=zt(dt);q.set(Fe,H[Ze]=T4(Fe,dt))}function pt(Ze){n[16](Ze)}let $e={};n[0]!==void 0&&($e.collection=n[0]),ie=new Cz({props:$e}),ye.push(()=>Ke(ie,"collection",pt));let Bt={};return ue=new SA({props:Bt}),n[17](ue),{c(){e=k("h4"),t=k("div"),i=k("span"),i.textContent="Auth methods",r=D(),l=k("div"),ee(s.$$.fragment),o=D(),a=k("div"),ee(u.$$.fragment),c=D(),lt&&lt.c(),h=D(),ee(p.$$.fragment),v=D(),ee(b.$$.fragment),A=D(),M=k("h4"),N=k("span"),N.textContent="Mail templates",L=D(),I=k("button"),I.textContent="Send test email",R=D(),$=k("div"),B=k("div");for(let Ze=0;Ze<H.length;Ze+=1)H[Ze].c();z=D(),j=k("h4"),j.textContent="Other",W=D(),G=k("div"),ee(ie.$$.fragment),ae=D(),ee(ue.$$.fragment),m(i,"class","txt"),m(l,"class","m-l-auto handle"),m(t,"class","flex"),m(e,"class","section-title"),m(a,"class","accordions m-b-35"),m(N,"class","txt"),m(I,"type","button"),m(I,"class","btn btn-xs m-l-auto btn-secondary"),m(M,"class","section-title"),m(B,"class","accordions"),m($,"class","accordions m-b-35"),m(j,"class","section-title"),m(G,"class","accordions m-b-base")},m(Ze,dt){S(Ze,e,dt),T(e,t),T(t,i),T(t,r),T(t,l),Q(s,l,null),S(Ze,o,dt),S(Ze,a,dt),Q(u,a,null),T(a,c),lt&&lt.m(a,null),T(a,h),Q(p,a,null),T(a,v),Q(b,a,null),S(Ze,A,dt),S(Ze,M,dt),T(M,N),T(M,L),T(M,I),S(Ze,R,dt),S(Ze,$,dt),T($,B);for(let Fe=0;Fe<H.length;Fe+=1)H[Fe]&&H[Fe].m(B,null);S(Ze,z,dt),S(Ze,j,dt),S(Ze,W,dt),S(Ze,G,dt),Q(ie,G,null),S(Ze,ae,dt),Q(ue,Ze,dt),K=!0,X||(_e=se(I,"click",n[14]),X=!0)},p(Ze,[dt]){const Fe={};dt&6291457&&(Fe.$$scope={dirty:dt,ctx:Ze}),s.$set(Fe);const Ft={};!f&&dt&1&&(f=!0,Ft.collection=Ze[0],Ye(()=>f=!1)),u.$set(Ft),Ze[1]?lt&&(Ne(),x(lt,1,1,()=>{lt=null}),Me()):lt?(lt.p(Ze,dt),dt&2&&F(lt,1)):(lt=k4(Ze),lt.c(),F(lt,1),lt.m(a,h));const cn={};!_&&dt&1&&(_=!0,cn.collection=Ze[0],Ye(()=>_=!1)),p.$set(cn);const Ee={};!y&&dt&1&&(y=!0,Ee.collection=Ze[0],Ye(()=>y=!1)),b.$set(Ee),dt&4&&(vt=Re(Ze[2]),Ne(),H=In(H,dt,zt,1,Ze,vt,q,B,di,T4,null,y4),Me());const Ue={};!te&&dt&1&&(te=!0,Ue.collection=Ze[0],Ye(()=>te=!1)),ie.$set(Ue);const sn={};ue.$set(sn)},i(Ze){if(!K){F(s.$$.fragment,Ze),F(u.$$.fragment,Ze),F(lt),F(p.$$.fragment,Ze),F(b.$$.fragment,Ze);for(let dt=0;dt<vt.length;dt+=1)F(H[dt]);F(ie.$$.fragment,Ze),F(ue.$$.fragment,Ze),K=!0}},o(Ze){x(s.$$.fragment,Ze),x(u.$$.fragment,Ze),x(lt),x(p.$$.fragment,Ze),x(b.$$.fragment,Ze);for(let dt=0;dt<H.length;dt+=1)x(H[dt]);x(ie.$$.fragment,Ze),x(ue.$$.fragment,Ze),K=!1},d(Ze){Ze&&(E(e),E(o),E(a),E(A),E(M),E(R),E($),E(z),E(j),E(W),E(G),E(ae)),J(s),J(u),lt&&lt.d(),J(p),J(b);for(let dt=0;dt<H.length;dt+=1)H[dt].d();J(ie),n[17](null),J(ue,Ze),X=!1,_e()}}}function sW(n,e,t){let i,r,l,s,o,a,{collection:u}=e,f=[],c;function h(){u.authAlert.enabled=this.checked,t(0,u)}function p(L){u=L,t(0,u)}function _(L){u=L,t(0,u)}function v(L){u=L,t(0,u)}function b(L){u=L,t(0,u)}const y=()=>c==null?void 0:c.show(u.id);function A(L,I){n.$$.not_equal(I.config,L)&&(I.config=L,t(2,f),t(1,i),t(7,r),t(5,o),t(4,a),t(8,l),t(6,s),t(0,u))}function M(L){u=L,t(0,u)}function N(L){ye[L?"unshift":"push"](()=>{c=L,t(3,c)})}return n.$$set=L=>{"collection"in L&&t(0,u=L.collection)},n.$$.update=()=>{var L,I;n.$$.dirty&1&&typeof((L=u.otp)==null?void 0:L.emailTemplate)>"u"&&(t(0,u.otp=u.otp||{},u),t(0,u.otp.emailTemplate={},u)),n.$$.dirty&1&&typeof((I=u.authAlert)==null?void 0:I.emailTemplate)>"u"&&(t(0,u.authAlert=u.authAlert||{},u),t(0,u.authAlert.emailTemplate={},u)),n.$$.dirty&1&&t(1,i=u.system&&u.name==="_superusers"),n.$$.dirty&1&&t(7,r={key:"resetPasswordTemplate",label:"Default Password reset email template",placeholders:["APP_NAME","APP_URL","RECORD:*","TOKEN"],config:u.resetPasswordTemplate}),n.$$.dirty&1&&t(8,l={key:"verificationTemplate",label:"Default Verification email template",placeholders:["APP_NAME","APP_URL","RECORD:*","TOKEN"],config:u.verificationTemplate}),n.$$.dirty&1&&t(6,s={key:"confirmEmailChangeTemplate",label:"Default Confirm email change email template",placeholders:["APP_NAME","APP_URL","RECORD:*","TOKEN"],config:u.confirmEmailChangeTemplate}),n.$$.dirty&1&&t(5,o={key:"otp.emailTemplate",label:"Default OTP email template",placeholders:["APP_NAME","APP_URL","RECORD:*","OTP","OTP_ID"],config:u.otp.emailTemplate}),n.$$.dirty&1&&t(4,a={key:"authAlert.emailTemplate",label:"Default Login alert email template",placeholders:["APP_NAME","APP_URL","RECORD:*"],config:u.authAlert.emailTemplate}),n.$$.dirty&498&&t(2,f=i?[r,o,a]:[l,r,s,o,a])},[u,i,f,c,a,o,s,r,l,h,p,_,v,b,y,A,M,N]}class oW extends je{constructor(e){super(),qe(this,e,sW,lW,We,{collection:0})}}const aW=n=>({dragging:n&4,dragover:n&8}),w4=n=>({dragging:n[2],dragover:n[3]});function uW(n){let e,t,i,r,l;const s=n[10].default,o=Zn(s,n,n[9],w4);return{c(){e=k("div"),o&&o.c(),m(e,"draggable",t=!n[1]),m(e,"class","draggable svelte-19c69j7"),he(e,"dragging",n[2]),he(e,"dragover",n[3])},m(a,u){S(a,e,u),o&&o.m(e,null),i=!0,r||(l=[se(e,"dragover",ln(n[11])),se(e,"dragleave",ln(n[12])),se(e,"dragend",n[13]),se(e,"dragstart",n[14]),se(e,"drop",n[15])],r=!0)},p(a,[u]){o&&o.p&&(!i||u&524)&&Jn(o,s,a,a[9],i?Qn(s,a[9],u,aW):ei(a[9]),w4),(!i||u&2&&t!==(t=!a[1]))&&m(e,"draggable",t),(!i||u&4)&&he(e,"dragging",a[2]),(!i||u&8)&&he(e,"dragover",a[3])},i(a){i||(F(o,a),i=!0)},o(a){x(o,a),i=!1},d(a){a&&E(e),o&&o.d(a),r=!1,it(l)}}}function fW(n,e,t){let{$$slots:i={},$$scope:r}=e;const l=Sn();let{index:s}=e,{list:o=[]}=e,{group:a="default"}=e,{disabled:u=!1}=e,{dragHandleClass:f=""}=e,c=!1,h=!1;function p(N,L){if(!(!N||u)){if(f&&!N.target.classList.contains(f)){t(3,h=!1),t(2,c=!1),N.preventDefault();return}t(2,c=!0),N.dataTransfer.effectAllowed="move",N.dataTransfer.dropEffect="move",N.dataTransfer.setData("text/plain",JSON.stringify({index:L,group:a})),l("drag",N)}}function _(N,L){if(t(3,h=!1),t(2,c=!1),!N||u)return;N.dataTransfer.dropEffect="move";let I={};try{I=JSON.parse(N.dataTransfer.getData("text/plain"))}catch{}if(I.group!=a)return;const R=I.index<<0;R<L?(o.splice(L+1,0,o[R]),o.splice(R,1)):(o.splice(L,0,o[R]),o.splice(R+1,1)),t(6,o),l("sort",{oldIndex:R,newIndex:L,list:o})}const v=()=>{t(3,h=!0)},b=()=>{t(3,h=!1)},y=()=>{t(3,h=!1),t(2,c=!1)},A=N=>p(N,s),M=N=>_(N,s);return n.$$set=N=>{"index"in N&&t(0,s=N.index),"list"in N&&t(6,o=N.list),"group"in N&&t(7,a=N.group),"disabled"in N&&t(1,u=N.disabled),"dragHandleClass"in N&&t(8,f=N.dragHandleClass),"$$scope"in N&&t(9,r=N.$$scope)},[s,u,c,h,p,_,o,a,f,r,i,v,b,y,A,M]}class nf extends je{constructor(e){super(),qe(this,e,fW,uW,We,{index:0,list:6,group:7,disabled:1,dragHandleClass:8})}}function E4(n,e,t){const i=n.slice();return i[27]=e[t],i}function cW(n){let e,t,i,r,l,s,o,a,u;return{c(){e=k("input"),r=D(),l=k("label"),s=le("Unique"),m(e,"type","checkbox"),m(e,"id",t=n[30]),e.checked=i=n[3].unique,m(l,"for",o=n[30])},m(f,c){S(f,e,c),S(f,r,c),S(f,l,c),T(l,s),a||(u=se(e,"change",n[19]),a=!0)},p(f,c){c[0]&1073741824&&t!==(t=f[30])&&m(e,"id",t),c[0]&8&&i!==(i=f[3].unique)&&(e.checked=i),c[0]&1073741824&&o!==(o=f[30])&&m(l,"for",o)},d(f){f&&(E(e),E(r),E(l)),a=!1,u()}}}function dW(n){let e,t,i,r;function l(a){n[20](a)}var s=n[7];function o(a,u){var c;let f={id:a[30],placeholder:`eg. CREATE INDEX idx_test on ${(c=a[0])==null?void 0:c.name} (created)`,language:"sql-create-index",minHeight:"85"};return a[2]!==void 0&&(f.value=a[2]),{props:f}}return s&&(e=ri(s,o(n)),ye.push(()=>Ke(e,"value",l))),{c(){e&&ee(e.$$.fragment),i=ze()},m(a,u){e&&Q(e,a,u),S(a,i,u),r=!0},p(a,u){var f;if(u[0]&128&&s!==(s=a[7])){if(e){Ne();const c=e;x(c.$$.fragment,1,0,()=>{J(c,1)}),Me()}s?(e=ri(s,o(a)),ye.push(()=>Ke(e,"value",l)),ee(e.$$.fragment),F(e.$$.fragment,1),Q(e,i.parentNode,i)):e=null}else if(s){const c={};u[0]&1073741824&&(c.id=a[30]),u[0]&1&&(c.placeholder=`eg. CREATE INDEX idx_test on ${(f=a[0])==null?void 0:f.name} (created)`),!t&&u[0]&4&&(t=!0,c.value=a[2],Ye(()=>t=!1)),e.$set(c)}},i(a){r||(e&&F(e.$$.fragment,a),r=!0)},o(a){e&&x(e.$$.fragment,a),r=!1},d(a){a&&E(i),e&&J(e,a)}}}function hW(n){let e;return{c(){e=k("textarea"),e.disabled=!0,m(e,"rows","7"),m(e,"placeholder","Loading...")},m(t,i){S(t,e,i)},p:ge,i:ge,o:ge,d(t){t&&E(e)}}}function pW(n){let e,t,i,r;const l=[hW,dW],s=[];function o(a,u){return a[8]?0:1}return e=o(n),t=s[e]=l[e](n),{c(){t.c(),i=ze()},m(a,u){s[e].m(a,u),S(a,i,u),r=!0},p(a,u){let f=e;e=o(a),e===f?s[e].p(a,u):(Ne(),x(s[f],1,1,()=>{s[f]=null}),Me(),t=s[e],t?t.p(a,u):(t=s[e]=l[e](a),t.c()),F(t,1),t.m(i.parentNode,i))},i(a){r||(F(t),r=!0)},o(a){x(t),r=!1},d(a){a&&E(i),s[e].d(a)}}}function S4(n){let e,t,i,r=Re(n[10]),l=[];for(let s=0;s<r.length;s+=1)l[s]=C4(E4(n,r,s));return{c(){e=k("div"),t=k("span"),t.textContent="Presets",i=D();for(let s=0;s<l.length;s+=1)l[s].c();m(t,"class","txt txt-hint"),m(e,"class","inline-flex gap-10")},m(s,o){S(s,e,o),T(e,t),T(e,i);for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(e,null)},p(s,o){if(o[0]&9728){r=Re(s[10]);let a;for(a=0;a<r.length;a+=1){const u=E4(s,r,a);l[a]?l[a].p(u,o):(l[a]=C4(u),l[a].c(),l[a].m(e,null))}for(;a<l.length;a+=1)l[a].d(1);l.length=r.length}},d(s){s&&E(e),fn(l,s)}}}function C4(n){let e,t=n[27]+"",i,r,l,s;function o(){return n[21](n[27])}return{c(){e=k("button"),i=le(t),r=D(),m(e,"type","button"),m(e,"class","label link-primary"),he(e,"label-info",n[9].includes(n[27]))},m(a,u){S(a,e,u),T(e,i),T(e,r),l||(s=se(e,"click",o),l=!0)},p(a,u){n=a,u[0]&1024&&t!==(t=n[27]+"")&&Se(i,t),u[0]&1536&&he(e,"label-info",n[9].includes(n[27]))},d(a){a&&E(e),l=!1,s()}}}function mW(n){let e,t,i,r,l,s;e=new Pe({props:{class:"form-field form-field-toggle m-b-sm",$$slots:{default:[cW,({uniqueId:a})=>({30:a}),({uniqueId:a})=>[a?1073741824:0]]},$$scope:{ctx:n}}}),i=new Pe({props:{class:"form-field required m-b-sm",name:`indexes.${n[6]||""}`,$$slots:{default:[pW,({uniqueId:a})=>({30:a}),({uniqueId:a})=>[a?1073741824:0]]},$$scope:{ctx:n}}});let o=n[10].length>0&&S4(n);return{c(){ee(e.$$.fragment),t=D(),ee(i.$$.fragment),r=D(),o&&o.c(),l=ze()},m(a,u){Q(e,a,u),S(a,t,u),Q(i,a,u),S(a,r,u),o&&o.m(a,u),S(a,l,u),s=!0},p(a,u){const f={};u[0]&1073741837|u[1]&1&&(f.$$scope={dirty:u,ctx:a}),e.$set(f);const c={};u[0]&64&&(c.name=`indexes.${a[6]||""}`),u[0]&1073742213|u[1]&1&&(c.$$scope={dirty:u,ctx:a}),i.$set(c),a[10].length>0?o?o.p(a,u):(o=S4(a),o.c(),o.m(l.parentNode,l)):o&&(o.d(1),o=null)},i(a){s||(F(e.$$.fragment,a),F(i.$$.fragment,a),s=!0)},o(a){x(e.$$.fragment,a),x(i.$$.fragment,a),s=!1},d(a){a&&(E(t),E(r),E(l)),J(e,a),J(i,a),o&&o.d(a)}}}function gW(n){let e,t=n[5]?"Update":"Create",i,r;return{c(){e=k("h4"),i=le(t),r=le(" index")},m(l,s){S(l,e,s),T(e,i),T(e,r)},p(l,s){s[0]&32&&t!==(t=l[5]?"Update":"Create")&&Se(i,t)},d(l){l&&E(e)}}}function A4(n){let e,t,i;return{c(){e=k("button"),e.innerHTML='<i class="ri-delete-bin-7-line"></i>',m(e,"type","button"),m(e,"class","btn btn-sm btn-circle btn-hint btn-transparent m-r-auto")},m(r,l){S(r,e,l),t||(i=[nt(_t.call(null,e,{text:"Delete",position:"top"})),se(e,"click",n[16])],t=!0)},p:ge,d(r){r&&E(e),t=!1,it(i)}}}function _W(n){let e,t,i,r,l,s,o=n[5]!=""&&A4(n);return{c(){o&&o.c(),e=D(),t=k("button"),t.innerHTML='<span class="txt">Cancel</span>',i=D(),r=k("button"),r.innerHTML='<span class="txt">Set index</span>',m(t,"type","button"),m(t,"class","btn btn-transparent"),m(r,"type","button"),m(r,"class","btn"),he(r,"btn-disabled",n[9].length<=0)},m(a,u){o&&o.m(a,u),S(a,e,u),S(a,t,u),S(a,i,u),S(a,r,u),l||(s=[se(t,"click",n[17]),se(r,"click",n[18])],l=!0)},p(a,u){a[5]!=""?o?o.p(a,u):(o=A4(a),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null),u[0]&512&&he(r,"btn-disabled",a[9].length<=0)},d(a){a&&(E(e),E(t),E(i),E(r)),o&&o.d(a),l=!1,it(s)}}}function bW(n){let e,t;const i=[{popup:!0},n[14]];let r={$$slots:{footer:[_W],header:[gW],default:[mW]},$$scope:{ctx:n}};for(let l=0;l<i.length;l+=1)r=kt(r,i[l]);return e=new Mi({props:r}),n[22](e),e.$on("hide",n[23]),e.$on("show",n[24]),{c(){ee(e.$$.fragment)},m(l,s){Q(e,l,s),t=!0},p(l,s){const o=s[0]&16384?Ln(i,[i[0],Wn(l[14])]):{};s[0]&2029|s[1]&1&&(o.$$scope={dirty:s,ctx:l}),e.$set(o)},i(l){t||(F(e.$$.fragment,l),t=!0)},o(l){x(e.$$.fragment,l),t=!1},d(l){n[22](null),J(e,l)}}}function vW(n,e,t){let i,r,l;const s=["collection","show","hide"];let o=rn(e,s);const a=Sn();let{collection:u}=e,f,c="",h="",p="",_,v=!1;function b(G,ie){return t(6,p=re.isEmpty(ie)?"":ie),t(5,c=G||A()),t(2,h=c),f==null?void 0:f.show()}function y(){return f==null?void 0:f.hide()}function A(){const G=re.parseIndex("");return G.tableName=(u==null?void 0:u.name)||"",re.buildIndex(G)}function M(){a("remove",c),y()}function N(){l.length&&(a("submit",{old:c,new:h}),y())}function L(G){const ie=re.clone(r),te=ie.columns.find(ae=>ae.name==G);te?re.removeByValue(ie.columns,te):re.pushUnique(ie.columns,{name:G}),t(2,h=re.buildIndex(ie))}hi(async()=>{t(8,v=!0);try{t(7,_=(await Dn(async()=>{const{default:G}=await import("./CodeEditor-Bmd7XMbF.js");return{default:G}},__vite__mapDeps([13,1]),import.meta.url)).default)}catch(G){console.warn(G)}t(8,v=!1)});const I=()=>M(),R=()=>y(),$=()=>N(),B=G=>{t(3,r.unique=G.target.checked,r),t(3,r.tableName=r.tableName||(u==null?void 0:u.name),r),t(2,h=re.buildIndex(r))};function H(G){h=G,t(2,h)}const q=G=>L(G);function z(G){ye[G?"unshift":"push"](()=>{f=G,t(4,f)})}function j(G){ut.call(this,n,G)}function W(G){ut.call(this,n,G)}return n.$$set=G=>{e=kt(kt({},e),ui(G)),t(14,o=rn(e,s)),"collection"in G&&t(0,u=G.collection)},n.$$.update=()=>{var G,ie,te;n.$$.dirty[0]&1&&t(10,i=((ie=(G=u==null?void 0:u.fields)==null?void 0:G.filter(ae=>!ae.toDelete&&ae.name!="id"))==null?void 0:ie.map(ae=>ae.name))||[]),n.$$.dirty[0]&4&&t(3,r=re.parseIndex(h)),n.$$.dirty[0]&8&&t(9,l=((te=r.columns)==null?void 0:te.map(ae=>ae.name))||[])},[u,y,h,r,f,c,p,_,v,l,i,M,N,L,o,b,I,R,$,B,H,q,z,j,W]}class yW extends je{constructor(e){super(),qe(this,e,vW,bW,We,{collection:0,show:15,hide:1},null,[-1,-1])}get show(){return this.$$.ctx[15]}get hide(){return this.$$.ctx[1]}}function O4(n,e,t){const i=n.slice();i[10]=e[t],i[13]=t;const r=re.parseIndex(i[10]);return i[11]=r,i}function N4(n){let e,t,i,r,l,s;return{c(){e=k("i"),m(e,"class","ri-error-warning-fill txt-danger")},m(o,a){var u;S(o,e,a),r=!0,l||(s=nt(t=_t.call(null,e,(u=n[2])==null?void 0:u.indexes.message)),l=!0)},p(o,a){var u;t&&Kn(t.update)&&a&4&&t.update.call(null,(u=o[2])==null?void 0:u.indexes.message)},i(o){r||(o&&tn(()=>{r&&(i||(i=Et(e,Bn,{duration:150},!0)),i.run(1))}),r=!0)},o(o){o&&(i||(i=Et(e,Bn,{duration:150},!1)),i.run(0)),r=!1},d(o){o&&E(e),o&&i&&i.end(),l=!1,s()}}}function M4(n){let e;return{c(){e=k("strong"),e.textContent="Unique:"},m(t,i){S(t,e,i)},d(t){t&&E(e)}}}function I4(n){var h;let e,t,i,r=((h=n[11].columns)==null?void 0:h.map(L4).join(", "))+"",l,s,o,a,u,f=n[11].unique&&M4();function c(){return n[4](n[10],n[13])}return{c(){var p,_;e=k("button"),f&&f.c(),t=D(),i=k("span"),l=le(r),m(i,"class","txt"),m(e,"type","button"),m(e,"class",s="label link-primary "+((_=(p=n[2].indexes)==null?void 0:p[n[13]])!=null&&_.message?"label-danger":"")+" svelte-167lbwu")},m(p,_){var v,b;S(p,e,_),f&&f.m(e,null),T(e,t),T(e,i),T(i,l),a||(u=[nt(o=_t.call(null,e,((b=(v=n[2].indexes)==null?void 0:v[n[13]])==null?void 0:b.message)||"")),se(e,"click",c)],a=!0)},p(p,_){var v,b,y,A,M;n=p,n[11].unique?f||(f=M4(),f.c(),f.m(e,t)):f&&(f.d(1),f=null),_&1&&r!==(r=((v=n[11].columns)==null?void 0:v.map(L4).join(", "))+"")&&Se(l,r),_&4&&s!==(s="label link-primary "+((y=(b=n[2].indexes)==null?void 0:b[n[13]])!=null&&y.message?"label-danger":"")+" svelte-167lbwu")&&m(e,"class",s),o&&Kn(o.update)&&_&4&&o.update.call(null,((M=(A=n[2].indexes)==null?void 0:A[n[13]])==null?void 0:M.message)||"")},d(p){p&&E(e),f&&f.d(),a=!1,it(u)}}}function kW(n){var L,I,R,$,B;let e,t,i=(((I=(L=n[0])==null?void 0:L.indexes)==null?void 0:I.length)||0)+"",r,l,s,o,a,u,f,c,h,p,_,v,b=(($=(R=n[2])==null?void 0:R.indexes)==null?void 0:$.message)&&N4(n),y=Re(((B=n[0])==null?void 0:B.indexes)||[]),A=[];for(let H=0;H<y.length;H+=1)A[H]=I4(O4(n,y,H));function M(H){n[7](H)}let N={};return n[0]!==void 0&&(N.collection=n[0]),c=new yW({props:N}),n[6](c),ye.push(()=>Ke(c,"collection",M)),c.$on("remove",n[8]),c.$on("submit",n[9]),{c(){e=k("div"),t=le("Unique constraints and indexes ("),r=le(i),l=le(`)
    `),b&&b.c(),s=D(),o=k("div");for(let H=0;H<A.length;H+=1)A[H].c();a=D(),u=k("button"),u.innerHTML='<span class="txt">+</span> <span class="txt">New index</span>',f=D(),ee(c.$$.fragment),m(e,"class","section-title"),m(u,"type","button"),m(u,"class","btn btn-xs btn-transparent btn-pill btn-outline"),m(o,"class","indexes-list svelte-167lbwu")},m(H,q){S(H,e,q),T(e,t),T(e,r),T(e,l),b&&b.m(e,null),S(H,s,q),S(H,o,q);for(let z=0;z<A.length;z+=1)A[z]&&A[z].m(o,null);T(o,a),T(o,u),S(H,f,q),Q(c,H,q),p=!0,_||(v=se(u,"click",n[5]),_=!0)},p(H,[q]){var j,W,G,ie,te;if((!p||q&1)&&i!==(i=(((W=(j=H[0])==null?void 0:j.indexes)==null?void 0:W.length)||0)+"")&&Se(r,i),(ie=(G=H[2])==null?void 0:G.indexes)!=null&&ie.message?b?(b.p(H,q),q&4&&F(b,1)):(b=N4(H),b.c(),F(b,1),b.m(e,null)):b&&(Ne(),x(b,1,1,()=>{b=null}),Me()),q&7){y=Re(((te=H[0])==null?void 0:te.indexes)||[]);let ae;for(ae=0;ae<y.length;ae+=1){const ue=O4(H,y,ae);A[ae]?A[ae].p(ue,q):(A[ae]=I4(ue),A[ae].c(),A[ae].m(o,a))}for(;ae<A.length;ae+=1)A[ae].d(1);A.length=y.length}const z={};!h&&q&1&&(h=!0,z.collection=H[0],Ye(()=>h=!1)),c.$set(z)},i(H){p||(F(b),F(c.$$.fragment,H),p=!0)},o(H){x(b),x(c.$$.fragment,H),p=!1},d(H){H&&(E(e),E(s),E(o),E(f)),b&&b.d(),fn(A,H),n[6](null),J(c,H),_=!1,v()}}}const L4=n=>n.name;function TW(n,e,t){let i;Wt(n,mr,p=>t(2,i=p));let{collection:r}=e,l;function s(p,_){for(let v=0;v<r.indexes.length;v++)if(r.indexes[v]==p){t(0,r.indexes[v]=_,r),ul("indexes."+v);return}r.indexes.push(_),t(0,r)}const o=(p,_)=>l==null?void 0:l.show(p,_),a=()=>l==null?void 0:l.show();function u(p){ye[p?"unshift":"push"](()=>{l=p,t(1,l)})}function f(p){r=p,t(0,r)}const c=p=>{for(let _=0;_<r.indexes.length;_++)if(r.indexes[_]==p.detail){r.indexes.splice(_,1),ul("indexes."+_);break}t(0,r)},h=p=>{var _;(_=i.indexes)!=null&&_.message&&ul("indexes"),s(p.detail.old,p.detail.new)};return n.$$set=p=>{"collection"in p&&t(0,r=p.collection)},[r,l,i,s,o,a,u,f,c,h]}class wW extends je{constructor(e){super(),qe(this,e,TW,kW,We,{collection:0})}}function D4(n,e,t){const i=n.slice();return i[5]=e[t],i}function R4(n){let e,t,i,r,l,s,o;function a(){return n[3](n[5])}return{c(){e=k("button"),t=k("i"),i=D(),r=k("span"),r.textContent=`${n[5].label}`,l=D(),m(t,"class","icon "+n[5].icon+" svelte-1gz9b6p"),m(t,"aria-hidden","true"),m(r,"class","txt"),m(e,"type","button"),m(e,"role","menuitem"),m(e,"class","dropdown-item svelte-1gz9b6p")},m(u,f){S(u,e,f),T(e,t),T(e,i),T(e,r),T(e,l),s||(o=se(e,"click",a),s=!0)},p(u,f){n=u},d(u){u&&E(e),s=!1,o()}}}function EW(n){let e,t=Re(n[1]),i=[];for(let r=0;r<t.length;r+=1)i[r]=R4(D4(n,t,r));return{c(){for(let r=0;r<i.length;r+=1)i[r].c();e=ze()},m(r,l){for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(r,l);S(r,e,l)},p(r,l){if(l&6){t=Re(r[1]);let s;for(s=0;s<t.length;s+=1){const o=D4(r,t,s);i[s]?i[s].p(o,l):(i[s]=R4(o),i[s].c(),i[s].m(e.parentNode,e))}for(;s<i.length;s+=1)i[s].d(1);i.length=t.length}},d(r){r&&E(e),fn(i,r)}}}function SW(n){let e,t,i,r,l,s,o,a;return s=new Ar({props:{class:"dropdown field-types-dropdown",$$slots:{default:[EW]},$$scope:{ctx:n}}}),{c(){e=k("div"),t=k("i"),i=D(),r=k("div"),r.textContent="New field",l=D(),ee(s.$$.fragment),m(t,"class","ri-add-line"),m(t,"aria-hidden","true"),m(r,"class","txt"),m(e,"tabindex","0"),m(e,"role","button"),m(e,"class",o="field-types-btn "+n[0]+" svelte-1gz9b6p")},m(u,f){S(u,e,f),T(e,t),T(e,i),T(e,r),T(e,l),Q(s,e,null),a=!0},p(u,[f]){const c={};f&256&&(c.$$scope={dirty:f,ctx:u}),s.$set(c),(!a||f&1&&o!==(o="field-types-btn "+u[0]+" svelte-1gz9b6p"))&&m(e,"class",o)},i(u){a||(F(s.$$.fragment,u),a=!0)},o(u){x(s.$$.fragment,u),a=!1},d(u){u&&E(e),J(s)}}}function CW(n,e,t){let{class:i=""}=e;const r=Sn(),l=[{label:"Plain text",value:"text",icon:re.getFieldTypeIcon("text")},{label:"Rich editor",value:"editor",icon:re.getFieldTypeIcon("editor")},{label:"Markdown",value:"markdown",icon:re.getFieldTypeIcon("markdown")},{label:"Number",value:"number",icon:re.getFieldTypeIcon("number")},{label:"Bool",value:"bool",icon:re.getFieldTypeIcon("bool")},{label:"Email",value:"email",icon:re.getFieldTypeIcon("email")},{label:"URL",value:"url",icon:re.getFieldTypeIcon("url")},{label:"Datetime",value:"date",icon:re.getFieldTypeIcon("date")},{label:"Autodate",value:"autodate",icon:re.getFieldTypeIcon("autodate")},{label:"Select",value:"select",icon:re.getFieldTypeIcon("select")},{label:"File",value:"file",icon:re.getFieldTypeIcon("file")},{label:"Relation",value:"relation",icon:re.getFieldTypeIcon("relation")},{label:"JSON",value:"json",icon:re.getFieldTypeIcon("json")},{label:"Geo Point",value:"geoPoint",icon:re.getFieldTypeIcon("geoPoint")}];function s(a){r("select",a)}const o=a=>s(a.value);return n.$$set=a=>{"class"in a&&t(0,i=a.class)},[i,l,s,o]}class AW extends je{constructor(e){super(),qe(this,e,CW,SW,We,{class:0})}}const OW=n=>({interactive:n[0]&128,hasErrors:n[0]&64}),P4=n=>({interactive:n[7],hasErrors:n[6]}),NW=n=>({interactive:n[0]&128,hasErrors:n[0]&64}),F4=n=>({interactive:n[7],hasErrors:n[6]}),MW=n=>({interactive:n[0]&128,hasErrors:n[0]&64}),$4=n=>({interactive:n[7],hasErrors:n[6]});function H4(n){let e;return{c(){e=k("div"),e.innerHTML='<span class="drag-handle"></span>',m(e,"class","drag-handle-wrapper"),m(e,"draggable",!0),m(e,"aria-label","Sort")},m(t,i){S(t,e,i)},d(t){t&&E(e)}}}function B4(n){let e,t;return{c(){e=k("span"),t=le(n[5]),m(e,"class","label label-success")},m(i,r){S(i,e,r),T(e,t)},p(i,r){r[0]&32&&Se(t,i[5])},d(i){i&&E(e)}}}function x4(n){let e;return{c(){e=k("span"),e.textContent="Hidden",m(e,"class","label label-danger")},m(t,i){S(t,e,i)},d(t){t&&E(e)}}}function IW(n){let e,t,i,r,l,s,o,a,u,f,c,h,p,_=n[0].required&&B4(n),v=n[0].hidden&&x4();return{c(){e=k("div"),_&&_.c(),t=D(),v&&v.c(),i=D(),r=k("div"),l=k("i"),a=D(),u=k("input"),m(e,"class","field-labels"),m(l,"class",s=re.getFieldTypeIcon(n[0].type)),m(r,"class","form-field-addon prefix field-type-icon"),he(r,"txt-disabled",!n[7]||n[0].system),m(u,"type","text"),u.required=!0,u.disabled=f=!n[7]||n[0].system,m(u,"spellcheck","false"),m(u,"placeholder","Field name"),u.value=c=n[0].name,m(u,"title","System field")},m(b,y){S(b,e,y),_&&_.m(e,null),T(e,t),v&&v.m(e,null),S(b,i,y),S(b,r,y),T(r,l),S(b,a,y),S(b,u,y),n[22](u),h||(p=[nt(o=_t.call(null,r,n[0].type+(n[0].system?" (system)":""))),se(r,"click",n[21]),se(u,"input",n[23])],h=!0)},p(b,y){b[0].required?_?_.p(b,y):(_=B4(b),_.c(),_.m(e,t)):_&&(_.d(1),_=null),b[0].hidden?v||(v=x4(),v.c(),v.m(e,null)):v&&(v.d(1),v=null),y[0]&1&&s!==(s=re.getFieldTypeIcon(b[0].type))&&m(l,"class",s),o&&Kn(o.update)&&y[0]&1&&o.update.call(null,b[0].type+(b[0].system?" (system)":"")),y[0]&129&&he(r,"txt-disabled",!b[7]||b[0].system),y[0]&129&&f!==(f=!b[7]||b[0].system)&&(u.disabled=f),y[0]&1&&c!==(c=b[0].name)&&u.value!==c&&(u.value=c)},d(b){b&&(E(e),E(i),E(r),E(a),E(u)),_&&_.d(),v&&v.d(),n[22](null),h=!1,it(p)}}}function LW(n){let e;return{c(){e=k("span"),m(e,"class","separator")},m(t,i){S(t,e,i)},p:ge,d(t){t&&E(e)}}}function DW(n){let e,t,i,r,l,s;return{c(){e=k("button"),t=k("i"),m(t,"class","ri-settings-3-line"),m(e,"type","button"),m(e,"aria-label",i="Toggle "+n[0].name+" field options"),m(e,"class",r="btn btn-sm btn-circle options-trigger "+(n[4]?"btn-secondary":"btn-transparent")),m(e,"aria-expanded",n[4]),he(e,"btn-hint",!n[4]&&!n[6]),he(e,"btn-danger",n[6])},m(o,a){S(o,e,a),T(e,t),l||(s=se(e,"click",n[17]),l=!0)},p(o,a){a[0]&1&&i!==(i="Toggle "+o[0].name+" field options")&&m(e,"aria-label",i),a[0]&16&&r!==(r="btn btn-sm btn-circle options-trigger "+(o[4]?"btn-secondary":"btn-transparent"))&&m(e,"class",r),a[0]&16&&m(e,"aria-expanded",o[4]),a[0]&80&&he(e,"btn-hint",!o[4]&&!o[6]),a[0]&80&&he(e,"btn-danger",o[6])},d(o){o&&E(e),l=!1,s()}}}function RW(n){let e,t,i;return{c(){e=k("button"),e.innerHTML='<i class="ri-restart-line"></i>',m(e,"type","button"),m(e,"class","btn btn-sm btn-circle btn-success btn-transparent options-trigger"),m(e,"aria-label","Restore")},m(r,l){S(r,e,l),t||(i=[nt(_t.call(null,e,"Restore")),se(e,"click",n[14])],t=!0)},p:ge,d(r){r&&E(e),t=!1,it(i)}}}function U4(n){let e,t,i,r,l=!n[0].primaryKey&&n[0].type!="autodate"&&(!n[8]||!n[10].includes(n[0].name)),s,o=!n[0].primaryKey&&(!n[8]||!n[11].includes(n[0].name)),a,u=!n[8]||!n[12].includes(n[0].name),f,c,h,p;const _=n[20].options,v=Zn(_,n,n[28],F4);let b=l&&z4(n),y=o&&q4(n),A=u&&j4(n);const M=n[20].optionsFooter,N=Zn(M,n,n[28],P4);let L=!n[0]._toDelete&&!n[0].primaryKey&&W4(n);return{c(){e=k("div"),t=k("div"),v&&v.c(),i=D(),r=k("div"),b&&b.c(),s=D(),y&&y.c(),a=D(),A&&A.c(),f=D(),N&&N.c(),c=D(),L&&L.c(),m(t,"class","hidden-empty m-b-sm"),m(r,"class","schema-field-options-footer"),m(e,"class","schema-field-options")},m(I,R){S(I,e,R),T(e,t),v&&v.m(t,null),T(e,i),T(e,r),b&&b.m(r,null),T(r,s),y&&y.m(r,null),T(r,a),A&&A.m(r,null),T(r,f),N&&N.m(r,null),T(r,c),L&&L.m(r,null),p=!0},p(I,R){v&&v.p&&(!p||R[0]&268435648)&&Jn(v,_,I,I[28],p?Qn(_,I[28],R,NW):ei(I[28]),F4),R[0]&257&&(l=!I[0].primaryKey&&I[0].type!="autodate"&&(!I[8]||!I[10].includes(I[0].name))),l?b?(b.p(I,R),R[0]&257&&F(b,1)):(b=z4(I),b.c(),F(b,1),b.m(r,s)):b&&(Ne(),x(b,1,1,()=>{b=null}),Me()),R[0]&257&&(o=!I[0].primaryKey&&(!I[8]||!I[11].includes(I[0].name))),o?y?(y.p(I,R),R[0]&257&&F(y,1)):(y=q4(I),y.c(),F(y,1),y.m(r,a)):y&&(Ne(),x(y,1,1,()=>{y=null}),Me()),R[0]&257&&(u=!I[8]||!I[12].includes(I[0].name)),u?A?(A.p(I,R),R[0]&257&&F(A,1)):(A=j4(I),A.c(),F(A,1),A.m(r,f)):A&&(Ne(),x(A,1,1,()=>{A=null}),Me()),N&&N.p&&(!p||R[0]&268435648)&&Jn(N,M,I,I[28],p?Qn(M,I[28],R,OW):ei(I[28]),P4),!I[0]._toDelete&&!I[0].primaryKey?L?(L.p(I,R),R[0]&1&&F(L,1)):(L=W4(I),L.c(),F(L,1),L.m(r,null)):L&&(Ne(),x(L,1,1,()=>{L=null}),Me())},i(I){p||(F(v,I),F(b),F(y),F(A),F(N,I),F(L),I&&tn(()=>{p&&(h||(h=Et(e,En,{delay:10,duration:150},!0)),h.run(1))}),p=!0)},o(I){x(v,I),x(b),x(y),x(A),x(N,I),x(L),I&&(h||(h=Et(e,En,{delay:10,duration:150},!1)),h.run(0)),p=!1},d(I){I&&E(e),v&&v.d(I),b&&b.d(),y&&y.d(),A&&A.d(),N&&N.d(I),L&&L.d(),I&&h&&h.end()}}}function z4(n){let e,t;return e=new Pe({props:{class:"form-field form-field-toggle",name:"requried",$$slots:{default:[PW,({uniqueId:i})=>({34:i}),({uniqueId:i})=>[0,i?8:0]]},$$scope:{ctx:n}}}),{c(){ee(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,r){const l={};r[0]&268435489|r[1]&8&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){x(e.$$.fragment,i),t=!1},d(i){J(e,i)}}}function PW(n){let e,t,i,r,l,s,o,a,u,f,c,h;return{c(){e=k("input"),i=D(),r=k("label"),l=k("span"),s=le(n[5]),o=D(),a=k("i"),m(e,"type","checkbox"),m(e,"id",t=n[34]),m(l,"class","txt"),m(a,"class","ri-information-line link-hint"),m(r,"for",f=n[34])},m(p,_){S(p,e,_),e.checked=n[0].required,S(p,i,_),S(p,r,_),T(r,l),T(l,s),T(r,o),T(r,a),c||(h=[se(e,"change",n[24]),nt(u=_t.call(null,a,{text:`Requires the field value NOT to be ${re.zeroDefaultStr(n[0])}.`}))],c=!0)},p(p,_){_[1]&8&&t!==(t=p[34])&&m(e,"id",t),_[0]&1&&(e.checked=p[0].required),_[0]&32&&Se(s,p[5]),u&&Kn(u.update)&&_[0]&1&&u.update.call(null,{text:`Requires the field value NOT to be ${re.zeroDefaultStr(p[0])}.`}),_[1]&8&&f!==(f=p[34])&&m(r,"for",f)},d(p){p&&(E(e),E(i),E(r)),c=!1,it(h)}}}function q4(n){let e,t;return e=new Pe({props:{class:"form-field form-field-toggle",name:"hidden",$$slots:{default:[FW,({uniqueId:i})=>({34:i}),({uniqueId:i})=>[0,i?8:0]]},$$scope:{ctx:n}}}),{c(){ee(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,r){const l={};r[0]&268435457|r[1]&8&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){x(e.$$.fragment,i),t=!1},d(i){J(e,i)}}}function FW(n){let e,t,i,r,l,s,o,a,u,f;return{c(){e=k("input"),i=D(),r=k("label"),l=k("span"),l.textContent="Hidden",s=D(),o=k("i"),m(e,"type","checkbox"),m(e,"id",t=n[34]),m(l,"class","txt"),m(o,"class","ri-information-line link-hint"),m(r,"for",a=n[34])},m(c,h){S(c,e,h),e.checked=n[0].hidden,S(c,i,h),S(c,r,h),T(r,l),T(r,s),T(r,o),u||(f=[se(e,"change",n[25]),se(e,"change",n[26]),nt(_t.call(null,o,{text:"Hide from the JSON API response and filters."}))],u=!0)},p(c,h){h[1]&8&&t!==(t=c[34])&&m(e,"id",t),h[0]&1&&(e.checked=c[0].hidden),h[1]&8&&a!==(a=c[34])&&m(r,"for",a)},d(c){c&&(E(e),E(i),E(r)),u=!1,it(f)}}}function j4(n){let e,t;return e=new Pe({props:{class:"form-field form-field-toggle m-0",name:"presentable",$$slots:{default:[$W,({uniqueId:i})=>({34:i}),({uniqueId:i})=>[0,i?8:0]]},$$scope:{ctx:n}}}),{c(){ee(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,r){const l={};r[0]&268435457|r[1]&8&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){x(e.$$.fragment,i),t=!1},d(i){J(e,i)}}}function $W(n){let e,t,i,r,l,s,o,a,u,f,c,h;return{c(){e=k("input"),r=D(),l=k("label"),s=k("span"),s.textContent="Presentable",o=D(),a=k("i"),m(e,"type","checkbox"),m(e,"id",t=n[34]),e.disabled=i=n[0].hidden,m(s,"class","txt"),m(a,"class",u="ri-information-line "+(n[0].hidden?"txt-disabled":"link-hint")),m(l,"for",f=n[34])},m(p,_){S(p,e,_),e.checked=n[0].presentable,S(p,r,_),S(p,l,_),T(l,s),T(l,o),T(l,a),c||(h=[se(e,"change",n[27]),nt(_t.call(null,a,{text:"Whether the field should be preferred in the Superuser UI relation listings (default to auto)."}))],c=!0)},p(p,_){_[1]&8&&t!==(t=p[34])&&m(e,"id",t),_[0]&1&&i!==(i=p[0].hidden)&&(e.disabled=i),_[0]&1&&(e.checked=p[0].presentable),_[0]&1&&u!==(u="ri-information-line "+(p[0].hidden?"txt-disabled":"link-hint"))&&m(a,"class",u),_[1]&8&&f!==(f=p[34])&&m(l,"for",f)},d(p){p&&(E(e),E(r),E(l)),c=!1,it(h)}}}function W4(n){let e,t,i,r,l,s,o;return s=new Ar({props:{class:"dropdown dropdown-sm dropdown-upside dropdown-right dropdown-nowrap no-min-width",$$slots:{default:[HW]},$$scope:{ctx:n}}}),{c(){e=k("div"),t=k("div"),i=k("div"),r=k("i"),l=D(),ee(s.$$.fragment),m(r,"class","ri-more-line"),m(r,"aria-hidden","true"),m(i,"tabindex","0"),m(i,"role","button"),m(i,"title","More field options"),m(i,"class","btn btn-circle btn-sm btn-transparent"),m(t,"class","inline-flex flex-gap-sm flex-nowrap"),m(e,"class","m-l-auto txt-right")},m(a,u){S(a,e,u),T(e,t),T(t,i),T(i,r),T(i,l),Q(s,i,null),o=!0},p(a,u){const f={};u[0]&268435457&&(f.$$scope={dirty:u,ctx:a}),s.$set(f)},i(a){o||(F(s.$$.fragment,a),o=!0)},o(a){x(s.$$.fragment,a),o=!1},d(a){a&&E(e),J(s)}}}function K4(n){let e,t,i;return{c(){e=k("button"),e.innerHTML='<span class="txt">Remove</span>',m(e,"type","button"),m(e,"class","dropdown-item"),m(e,"role","menuitem")},m(r,l){S(r,e,l),t||(i=se(e,"click",ln(n[13])),t=!0)},p:ge,d(r){r&&E(e),t=!1,i()}}}function HW(n){let e,t,i,r,l,s=!n[0].system&&K4(n);return{c(){e=k("button"),e.innerHTML='<span class="txt">Duplicate</span>',t=D(),s&&s.c(),i=ze(),m(e,"type","button"),m(e,"class","dropdown-item"),m(e,"role","menuitem")},m(o,a){S(o,e,a),S(o,t,a),s&&s.m(o,a),S(o,i,a),r||(l=se(e,"click",ln(n[15])),r=!0)},p(o,a){o[0].system?s&&(s.d(1),s=null):s?s.p(o,a):(s=K4(o),s.c(),s.m(i.parentNode,i))},d(o){o&&(E(e),E(t),E(i)),s&&s.d(o),r=!1,l()}}}function BW(n){let e,t,i,r,l,s,o,a,u,f=n[7]&&n[2]&&H4();r=new Pe({props:{class:"form-field required m-0 "+(n[7]?"":"disabled"),name:"fields."+n[1]+".name",inlineError:!0,$$slots:{default:[IW]},$$scope:{ctx:n}}});const c=n[20].default,h=Zn(c,n,n[28],$4),p=h||LW();function _(A,M){if(A[0]._toDelete)return RW;if(A[7])return DW}let v=_(n),b=v&&v(n),y=n[7]&&n[4]&&U4(n);return{c(){e=k("div"),t=k("div"),f&&f.c(),i=D(),ee(r.$$.fragment),l=D(),p&&p.c(),s=D(),b&&b.c(),o=D(),y&&y.c(),m(t,"class","schema-field-header"),m(e,"class","schema-field"),he(e,"required",n[0].required),he(e,"expanded",n[7]&&n[4]),he(e,"deleted",n[0]._toDelete)},m(A,M){S(A,e,M),T(e,t),f&&f.m(t,null),T(t,i),Q(r,t,null),T(t,l),p&&p.m(t,null),T(t,s),b&&b.m(t,null),T(e,o),y&&y.m(e,null),u=!0},p(A,M){A[7]&&A[2]?f||(f=H4(),f.c(),f.m(t,i)):f&&(f.d(1),f=null);const N={};M[0]&128&&(N.class="form-field required m-0 "+(A[7]?"":"disabled")),M[0]&2&&(N.name="fields."+A[1]+".name"),M[0]&268435625&&(N.$$scope={dirty:M,ctx:A}),r.$set(N),h&&h.p&&(!u||M[0]&268435648)&&Jn(h,c,A,A[28],u?Qn(c,A[28],M,MW):ei(A[28]),$4),v===(v=_(A))&&b?b.p(A,M):(b&&b.d(1),b=v&&v(A),b&&(b.c(),b.m(t,null))),A[7]&&A[4]?y?(y.p(A,M),M[0]&144&&F(y,1)):(y=U4(A),y.c(),F(y,1),y.m(e,null)):y&&(Ne(),x(y,1,1,()=>{y=null}),Me()),(!u||M[0]&1)&&he(e,"required",A[0].required),(!u||M[0]&144)&&he(e,"expanded",A[7]&&A[4]),(!u||M[0]&1)&&he(e,"deleted",A[0]._toDelete)},i(A){u||(F(r.$$.fragment,A),F(p,A),F(y),A&&tn(()=>{u&&(a||(a=Et(e,En,{duration:150},!0)),a.run(1))}),u=!0)},o(A){x(r.$$.fragment,A),x(p,A),x(y),A&&(a||(a=Et(e,En,{duration:150},!1)),a.run(0)),u=!1},d(A){A&&E(e),f&&f.d(),J(r),p&&p.d(A),b&&b.d(),y&&y.d(),A&&a&&a.end()}}}let Bm=[];function xW(n,e,t){let i,r,l,s,o;Wt(n,mr,X=>t(19,o=X));let{$$slots:a={},$$scope:u}=e;const f="f_"+re.randomString(8),c=Sn(),h={bool:"Nonfalsey",number:"Nonzero"},p=["password","tokenKey","id","autodate"],_=["password","tokenKey","id","email"],v=["password","tokenKey"];let{key:b=""}=e,{field:y=re.initSchemaField()}=e,{draggable:A=!0}=e,{collection:M={}}=e,N,L=!1;function I(){y.id?t(0,y._toDelete=!0,y):(q(),c("remove"))}function R(){t(0,y._toDelete=!1,y),mi({})}function $(){y._toDelete||(q(),c("duplicate"))}function B(X){return re.slugify(X)}function H(){t(4,L=!0),j()}function q(){t(4,L=!1)}function z(){L?q():H()}function j(){for(let X of Bm)X.id!=f&&X.collapse()}hi(()=>(Bm.push({id:f,collapse:q}),y.onMountSelect&&(t(0,y.onMountSelect=!1,y),N==null||N.select()),()=>{re.removeByKey(Bm,"id",f)}));const W=()=>N==null?void 0:N.focus();function G(X){ye[X?"unshift":"push"](()=>{N=X,t(3,N)})}const ie=X=>{const _e=y.name;t(0,y.name=B(X.target.value),y),X.target.value=y.name,c("rename",{oldName:_e,newName:y.name})};function te(){y.required=this.checked,t(0,y)}function ae(){y.hidden=this.checked,t(0,y)}const ue=X=>{X.target.checked&&t(0,y.presentable=!1,y)};function K(){y.presentable=this.checked,t(0,y)}return n.$$set=X=>{"key"in X&&t(1,b=X.key),"field"in X&&t(0,y=X.field),"draggable"in X&&t(2,A=X.draggable),"collection"in X&&t(18,M=X.collection),"$$scope"in X&&t(28,u=X.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&262144&&t(8,i=(M==null?void 0:M.type)=="auth"),n.$$.dirty[0]&1&&y._toDelete&&y._originalName&&y.name!==y._originalName&&t(0,y.name=y._originalName,y),n.$$.dirty[0]&1&&!y._originalName&&y.name&&t(0,y._originalName=y.name,y),n.$$.dirty[0]&1&&typeof y._toDelete>"u"&&t(0,y._toDelete=!1,y),n.$$.dirty[0]&1&&y.required&&t(0,y.nullable=!1,y),n.$$.dirty[0]&1&&t(7,r=!y._toDelete),n.$$.dirty[0]&524290&&t(6,l=!re.isEmpty(re.getNestedVal(o,`fields.${b}`))),n.$$.dirty[0]&1&&t(5,s=h[y==null?void 0:y.type]||"Nonempty")},[y,b,A,N,L,s,l,r,i,c,p,_,v,I,R,$,B,z,M,o,a,W,G,ie,te,ae,ue,K,u]}class Zr extends je{constructor(e){super(),qe(this,e,xW,BW,We,{key:1,field:0,draggable:2,collection:18},null,[-1,-1])}}function UW(n){let e,t,i,r,l,s;function o(u){n[5](u)}let a={id:n[13],items:n[3],disabled:n[0].system,readonly:!n[12]};return n[2]!==void 0&&(a.keyOfSelected=n[2]),t=new Nr({props:a}),ye.push(()=>Ke(t,"keyOfSelected",o)),{c(){e=k("div"),ee(t.$$.fragment)},m(u,f){S(u,e,f),Q(t,e,null),r=!0,l||(s=nt(_t.call(null,e,{text:"Auto set on:",position:"top"})),l=!0)},p(u,f){const c={};f&8192&&(c.id=u[13]),f&1&&(c.disabled=u[0].system),f&4096&&(c.readonly=!u[12]),!i&&f&4&&(i=!0,c.keyOfSelected=u[2],Ye(()=>i=!1)),t.$set(c)},i(u){r||(F(t.$$.fragment,u),r=!0)},o(u){x(t.$$.fragment,u),r=!1},d(u){u&&E(e),J(t),l=!1,s()}}}function zW(n){let e,t,i,r,l,s;return i=new Pe({props:{class:"form-field form-field-single-multiple-select form-field-autodate-select "+(n[12]?"":"readonly"),inlineError:!0,$$slots:{default:[UW,({uniqueId:o})=>({13:o}),({uniqueId:o})=>o?8192:0]},$$scope:{ctx:n}}}),{c(){e=k("div"),t=D(),ee(i.$$.fragment),r=D(),l=k("div"),m(e,"class","separator"),m(l,"class","separator")},m(o,a){S(o,e,a),S(o,t,a),Q(i,o,a),S(o,r,a),S(o,l,a),s=!0},p(o,a){const u={};a&4096&&(u.class="form-field form-field-single-multiple-select form-field-autodate-select "+(o[12]?"":"readonly")),a&28677&&(u.$$scope={dirty:a,ctx:o}),i.$set(u)},i(o){s||(F(i.$$.fragment,o),s=!0)},o(o){x(i.$$.fragment,o),s=!1},d(o){o&&(E(e),E(t),E(r),E(l)),J(i,o)}}}function qW(n){let e,t,i;const r=[{key:n[1]},n[4]];function l(o){n[6](o)}let s={$$slots:{default:[zW,({interactive:o})=>({12:o}),({interactive:o})=>o?4096:0]},$$scope:{ctx:n}};for(let o=0;o<r.length;o+=1)s=kt(s,r[o]);return n[0]!==void 0&&(s.field=n[0]),e=new Zr({props:s}),ye.push(()=>Ke(e,"field",l)),e.$on("rename",n[7]),e.$on("remove",n[8]),e.$on("duplicate",n[9]),{c(){ee(e.$$.fragment)},m(o,a){Q(e,o,a),i=!0},p(o,[a]){const u=a&18?Ln(r,[a&2&&{key:o[1]},a&16&&Wn(o[4])]):{};a&20485&&(u.$$scope={dirty:a,ctx:o}),!t&&a&1&&(t=!0,u.field=o[0],Ye(()=>t=!1)),e.$set(u)},i(o){i||(F(e.$$.fragment,o),i=!0)},o(o){x(e.$$.fragment,o),i=!1},d(o){J(e,o)}}}const xm=1,Um=2,zm=3;function jW(n,e,t){const i=["field","key"];let r=rn(e,i);const l=[{label:"Create",value:xm},{label:"Update",value:Um},{label:"Create/Update",value:zm}];let{field:s}=e,{key:o=""}=e,a=u();function u(){return s.onCreate&&s.onUpdate?zm:s.onUpdate?Um:xm}function f(b){switch(b){case xm:t(0,s.onCreate=!0,s),t(0,s.onUpdate=!1,s);break;case Um:t(0,s.onCreate=!1,s),t(0,s.onUpdate=!0,s);break;case zm:t(0,s.onCreate=!0,s),t(0,s.onUpdate=!0,s);break}}function c(b){a=b,t(2,a)}function h(b){s=b,t(0,s)}function p(b){ut.call(this,n,b)}function _(b){ut.call(this,n,b)}function v(b){ut.call(this,n,b)}return n.$$set=b=>{e=kt(kt({},e),ui(b)),t(4,r=rn(e,i)),"field"in b&&t(0,s=b.field),"key"in b&&t(1,o=b.key)},n.$$.update=()=>{n.$$.dirty&4&&f(a)},[s,o,a,l,r,c,h,p,_,v]}class WW extends je{constructor(e){super(),qe(this,e,jW,qW,We,{field:0,key:1})}}function KW(n){let e,t,i;const r=[{key:n[1]},n[2]];function l(o){n[3](o)}let s={};for(let o=0;o<r.length;o+=1)s=kt(s,r[o]);return n[0]!==void 0&&(s.field=n[0]),e=new Zr({props:s}),ye.push(()=>Ke(e,"field",l)),e.$on("rename",n[4]),e.$on("remove",n[5]),e.$on("duplicate",n[6]),{c(){ee(e.$$.fragment)},m(o,a){Q(e,o,a),i=!0},p(o,[a]){const u=a&6?Ln(r,[a&2&&{key:o[1]},a&4&&Wn(o[2])]):{};!t&&a&1&&(t=!0,u.field=o[0],Ye(()=>t=!1)),e.$set(u)},i(o){i||(F(e.$$.fragment,o),i=!0)},o(o){x(e.$$.fragment,o),i=!1},d(o){J(e,o)}}}function VW(n,e,t){const i=["field","key"];let r=rn(e,i),{field:l}=e,{key:s=""}=e;function o(c){l=c,t(0,l)}function a(c){ut.call(this,n,c)}function u(c){ut.call(this,n,c)}function f(c){ut.call(this,n,c)}return n.$$set=c=>{e=kt(kt({},e),ui(c)),t(2,r=rn(e,i)),"field"in c&&t(0,l=c.field),"key"in c&&t(1,s=c.key)},[l,s,r,o,a,u,f]}class GW extends je{constructor(e){super(),qe(this,e,VW,KW,We,{field:0,key:1})}}var qm=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],Lu={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(n){return typeof console<"u"&&console.warn(n)},getWeek:function(n){var e=new Date(n.getTime());e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7);var t=new Date(e.getFullYear(),0,4);return 1+Math.round(((e.getTime()-t.getTime())/864e5-3+(t.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},Uc={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(n){var e=n%100;if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},xr=function(n,e){return e===void 0&&(e=2),("000"+n).slice(e*-1)},gl=function(n){return n===!0?1:0};function V4(n,e){var t;return function(){var i=this,r=arguments;clearTimeout(t),t=setTimeout(function(){return n.apply(i,r)},e)}}var jm=function(n){return n instanceof Array?n:[n]};function Tr(n,e,t){if(t===!0)return n.classList.add(e);n.classList.remove(e)}function Un(n,e,t){var i=window.document.createElement(n);return e=e||"",t=t||"",i.className=e,t!==void 0&&(i.textContent=t),i}function pd(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function CA(n,e){if(e(n))return n;if(n.parentNode)return CA(n.parentNode,e)}function md(n,e){var t=Un("div","numInputWrapper"),i=Un("input","numInput "+n),r=Un("span","arrowUp"),l=Un("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?i.type="number":(i.type="text",i.pattern="\\d*"),e!==void 0)for(var s in e)i.setAttribute(s,e[s]);return t.appendChild(i),t.appendChild(r),t.appendChild(l),t}function rl(n){try{if(typeof n.composedPath=="function"){var e=n.composedPath();return e[0]}return n.target}catch{return n.target}}var Wm=function(){},yh=function(n,e,t){return t.months[e?"shorthand":"longhand"][n]},YW={D:Wm,F:function(n,e,t){n.setMonth(t.months.longhand.indexOf(e))},G:function(n,e){n.setHours((n.getHours()>=12?12:0)+parseFloat(e))},H:function(n,e){n.setHours(parseFloat(e))},J:function(n,e){n.setDate(parseFloat(e))},K:function(n,e,t){n.setHours(n.getHours()%12+12*gl(new RegExp(t.amPM[1],"i").test(e)))},M:function(n,e,t){n.setMonth(t.months.shorthand.indexOf(e))},S:function(n,e){n.setSeconds(parseFloat(e))},U:function(n,e){return new Date(parseFloat(e)*1e3)},W:function(n,e,t){var i=parseInt(e),r=new Date(n.getFullYear(),0,2+(i-1)*7,0,0,0,0);return r.setDate(r.getDate()-r.getDay()+t.firstDayOfWeek),r},Y:function(n,e){n.setFullYear(parseFloat(e))},Z:function(n,e){return new Date(e)},d:function(n,e){n.setDate(parseFloat(e))},h:function(n,e){n.setHours((n.getHours()>=12?12:0)+parseFloat(e))},i:function(n,e){n.setMinutes(parseFloat(e))},j:function(n,e){n.setDate(parseFloat(e))},l:Wm,m:function(n,e){n.setMonth(parseFloat(e)-1)},n:function(n,e){n.setMonth(parseFloat(e)-1)},s:function(n,e){n.setSeconds(parseFloat(e))},u:function(n,e){return new Date(parseFloat(e))},w:Wm,y:function(n,e){n.setFullYear(2e3+parseFloat(e))}},ha={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},mc={Z:function(n){return n.toISOString()},D:function(n,e,t){return e.weekdays.shorthand[mc.w(n,e,t)]},F:function(n,e,t){return yh(mc.n(n,e,t)-1,!1,e)},G:function(n,e,t){return xr(mc.h(n,e,t))},H:function(n){return xr(n.getHours())},J:function(n,e){return e.ordinal!==void 0?n.getDate()+e.ordinal(n.getDate()):n.getDate()},K:function(n,e){return e.amPM[gl(n.getHours()>11)]},M:function(n,e){return yh(n.getMonth(),!0,e)},S:function(n){return xr(n.getSeconds())},U:function(n){return n.getTime()/1e3},W:function(n,e,t){return t.getWeek(n)},Y:function(n){return xr(n.getFullYear(),4)},d:function(n){return xr(n.getDate())},h:function(n){return n.getHours()%12?n.getHours()%12:12},i:function(n){return xr(n.getMinutes())},j:function(n){return n.getDate()},l:function(n,e){return e.weekdays.longhand[n.getDay()]},m:function(n){return xr(n.getMonth()+1)},n:function(n){return n.getMonth()+1},s:function(n){return n.getSeconds()},u:function(n){return n.getTime()},w:function(n){return n.getDay()},y:function(n){return String(n.getFullYear()).substring(2)}},AA=function(n){var e=n.config,t=e===void 0?Lu:e,i=n.l10n,r=i===void 0?Uc:i,l=n.isMobile,s=l===void 0?!1:l;return function(o,a,u){var f=u||r;return t.formatDate!==void 0&&!s?t.formatDate(o,a,f):a.split("").map(function(c,h,p){return mc[c]&&p[h-1]!=="\\"?mc[c](o,f,t):c!=="\\"?c:""}).join("")}},vg=function(n){var e=n.config,t=e===void 0?Lu:e,i=n.l10n,r=i===void 0?Uc:i;return function(l,s,o,a){if(!(l!==0&&!l)){var u=a||r,f,c=l;if(l instanceof Date)f=new Date(l.getTime());else if(typeof l!="string"&&l.toFixed!==void 0)f=new Date(l);else if(typeof l=="string"){var h=s||(t||Lu).dateFormat,p=String(l).trim();if(p==="today")f=new Date,o=!0;else if(t&&t.parseDate)f=t.parseDate(l,h);else if(/Z$/.test(p)||/GMT$/.test(p))f=new Date(l);else{for(var _=void 0,v=[],b=0,y=0,A="";b<h.length;b++){var M=h[b],N=M==="\\",L=h[b-1]==="\\"||N;if(ha[M]&&!L){A+=ha[M];var I=new RegExp(A).exec(l);I&&(_=!0)&&v[M!=="Y"?"push":"unshift"]({fn:YW[M],val:I[++y]})}else N||(A+=".")}f=!t||!t.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),v.forEach(function(R){var $=R.fn,B=R.val;return f=$(f,B,u)||f}),f=_?f:void 0}}if(!(f instanceof Date&&!isNaN(f.getTime()))){t.errorHandler(new Error("Invalid date provided: "+c));return}return o===!0&&f.setHours(0,0,0,0),f}}};function ll(n,e,t){return t===void 0&&(t=!0),t!==!1?new Date(n.getTime()).setHours(0,0,0,0)-new Date(e.getTime()).setHours(0,0,0,0):n.getTime()-e.getTime()}var XW=function(n,e,t){return n>Math.min(e,t)&&n<Math.max(e,t)},Km=function(n,e,t){return n*3600+e*60+t},ZW=function(n){var e=Math.floor(n/3600),t=(n-e*3600)/60;return[e,t,n-e*3600-t*60]},QW={DAY:864e5};function Vm(n){var e=n.defaultHour,t=n.defaultMinute,i=n.defaultSeconds;if(n.minDate!==void 0){var r=n.minDate.getHours(),l=n.minDate.getMinutes(),s=n.minDate.getSeconds();e<r&&(e=r),e===r&&t<l&&(t=l),e===r&&t===l&&i<s&&(i=n.minDate.getSeconds())}if(n.maxDate!==void 0){var o=n.maxDate.getHours(),a=n.maxDate.getMinutes();e=Math.min(e,o),e===o&&(t=Math.min(a,t)),e===o&&t===a&&(i=n.maxDate.getSeconds())}return{hours:e,minutes:t,seconds:i}}typeof Object.assign!="function"&&(Object.assign=function(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(!n)throw TypeError("Cannot convert undefined or null to object");for(var i=function(o){o&&Object.keys(o).forEach(function(a){return n[a]=o[a]})},r=0,l=e;r<l.length;r++){var s=l[r];i(s)}return n});var sr=function(){return sr=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},sr.apply(this,arguments)},G4=function(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var i=Array(n),r=0,e=0;e<t;e++)for(var l=arguments[e],s=0,o=l.length;s<o;s++,r++)i[r]=l[s];return i},JW=300;function eK(n,e){var t={config:sr(sr({},Lu),Pi.defaultConfig),l10n:Uc};t.parseDate=vg({config:t.config,l10n:t.l10n}),t._handlers=[],t.pluginElements=[],t.loadedPlugins=[],t._bind=v,t._setHoursFromDate=h,t._positionCalendar=cn,t.changeMonth=X,t.changeYear=bt,t.clear=_e,t.close=oe,t.onMouseOver=pt,t._createElement=Un,t.createDay=I,t.destroy=Le,t.isEnabled=At,t.jumpToDate=A,t.updateValue=fi,t.open=Bt,t.redraw=sn,t.set=Kt,t.setDate=Je,t.toggle=De;function i(){t.utils={getDaysInMonth:function(ce,me){return ce===void 0&&(ce=t.currentMonth),me===void 0&&(me=t.currentYear),ce===1&&(me%4===0&&me%100!==0||me%400===0)?29:t.l10n.daysInMonth[ce]}}}function r(){t.element=t.input=n,t.isOpen=!1,dt(),Ft(),on(),Jt(),i(),t.isMobile||L(),y(),(t.selectedDates.length||t.config.noCalendar)&&(t.config.enableTime&&h(t.config.noCalendar?t.latestSelectedDateObj:void 0),fi(!1)),o();var ce=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!t.isMobile&&ce&&cn(),et("onReady")}function l(){var ce;return((ce=t.calendarContainer)===null||ce===void 0?void 0:ce.getRootNode()).activeElement||document.activeElement}function s(ce){return ce.bind(t)}function o(){var ce=t.config;ce.weekNumbers===!1&&ce.showMonths===1||ce.noCalendar!==!0&&window.requestAnimationFrame(function(){if(t.calendarContainer!==void 0&&(t.calendarContainer.style.visibility="hidden",t.calendarContainer.style.display="block"),t.daysContainer!==void 0){var me=(t.days.offsetWidth+1)*ce.showMonths;t.daysContainer.style.width=me+"px",t.calendarContainer.style.width=me+(t.weekWrapper!==void 0?t.weekWrapper.offsetWidth:0)+"px",t.calendarContainer.style.removeProperty("visibility"),t.calendarContainer.style.removeProperty("display")}})}function a(ce){if(t.selectedDates.length===0){var me=t.config.minDate===void 0||ll(new Date,t.config.minDate)>=0?new Date:new Date(t.config.minDate.getTime()),Ce=Vm(t.config);me.setHours(Ce.hours,Ce.minutes,Ce.seconds,me.getMilliseconds()),t.selectedDates=[me],t.latestSelectedDateObj=me}ce!==void 0&&ce.type!=="blur"&&wi(ce);var Ve=t._input.value;c(),fi(),t._input.value!==Ve&&t._debouncedChange()}function u(ce,me){return ce%12+12*gl(me===t.l10n.amPM[1])}function f(ce){switch(ce%24){case 0:case 12:return 12;default:return ce%12}}function c(){if(!(t.hourElement===void 0||t.minuteElement===void 0)){var ce=(parseInt(t.hourElement.value.slice(-2),10)||0)%24,me=(parseInt(t.minuteElement.value,10)||0)%60,Ce=t.secondElement!==void 0?(parseInt(t.secondElement.value,10)||0)%60:0;t.amPM!==void 0&&(ce=u(ce,t.amPM.textContent));var Ve=t.config.minTime!==void 0||t.config.minDate&&t.minDateHasTime&&t.latestSelectedDateObj&&ll(t.latestSelectedDateObj,t.config.minDate,!0)===0,ht=t.config.maxTime!==void 0||t.config.maxDate&&t.maxDateHasTime&&t.latestSelectedDateObj&&ll(t.latestSelectedDateObj,t.config.maxDate,!0)===0;if(t.config.maxTime!==void 0&&t.config.minTime!==void 0&&t.config.minTime>t.config.maxTime){var Ct=Km(t.config.minTime.getHours(),t.config.minTime.getMinutes(),t.config.minTime.getSeconds()),an=Km(t.config.maxTime.getHours(),t.config.maxTime.getMinutes(),t.config.maxTime.getSeconds()),Rt=Km(ce,me,Ce);if(Rt>an&&Rt<Ct){var dn=ZW(Ct);ce=dn[0],me=dn[1],Ce=dn[2]}}else{if(ht){var Pt=t.config.maxTime!==void 0?t.config.maxTime:t.config.maxDate;ce=Math.min(ce,Pt.getHours()),ce===Pt.getHours()&&(me=Math.min(me,Pt.getMinutes())),me===Pt.getMinutes()&&(Ce=Math.min(Ce,Pt.getSeconds()))}if(Ve){var Oe=t.config.minTime!==void 0?t.config.minTime:t.config.minDate;ce=Math.max(ce,Oe.getHours()),ce===Oe.getHours()&&me<Oe.getMinutes()&&(me=Oe.getMinutes()),me===Oe.getMinutes()&&(Ce=Math.max(Ce,Oe.getSeconds()))}}p(ce,me,Ce)}}function h(ce){var me=ce||t.latestSelectedDateObj;me&&me instanceof Date&&p(me.getHours(),me.getMinutes(),me.getSeconds())}function p(ce,me,Ce){t.latestSelectedDateObj!==void 0&&t.latestSelectedDateObj.setHours(ce%24,me,Ce||0,0),!(!t.hourElement||!t.minuteElement||t.isMobile)&&(t.hourElement.value=xr(t.config.time_24hr?ce:(12+ce)%12+12*gl(ce%12===0)),t.minuteElement.value=xr(me),t.amPM!==void 0&&(t.amPM.textContent=t.l10n.amPM[gl(ce>=12)]),t.secondElement!==void 0&&(t.secondElement.value=xr(Ce)))}function _(ce){var me=rl(ce),Ce=parseInt(me.value)+(ce.delta||0);(Ce/1e3>1||ce.key==="Enter"&&!/[^\d]/.test(Ce.toString()))&&bt(Ce)}function v(ce,me,Ce,Ve){if(me instanceof Array)return me.forEach(function(ht){return v(ce,ht,Ce,Ve)});if(ce instanceof Array)return ce.forEach(function(ht){return v(ht,me,Ce,Ve)});ce.addEventListener(me,Ce,Ve),t._handlers.push({remove:function(){return ce.removeEventListener(me,Ce,Ve)}})}function b(){et("onChange")}function y(){if(t.config.wrap&&["open","close","toggle","clear"].forEach(function(Ce){Array.prototype.forEach.call(t.element.querySelectorAll("[data-"+Ce+"]"),function(Ve){return v(Ve,"click",t[Ce])})}),t.isMobile){ti();return}var ce=V4($e,50);if(t._debouncedChange=V4(b,JW),t.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&v(t.daysContainer,"mouseover",function(Ce){t.config.mode==="range"&&pt(rl(Ce))}),v(t._input,"keydown",zt),t.calendarContainer!==void 0&&v(t.calendarContainer,"keydown",zt),!t.config.inline&&!t.config.static&&v(window,"resize",ce),window.ontouchstart!==void 0?v(window.document,"touchstart",St):v(window.document,"mousedown",St),v(window.document,"focus",St,{capture:!0}),t.config.clickOpens===!0&&(v(t._input,"focus",t.open),v(t._input,"click",t.open)),t.daysContainer!==void 0&&(v(t.monthNav,"click",el),v(t.monthNav,["keyup","increment"],_),v(t.daysContainer,"click",Zt)),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0){var me=function(Ce){return rl(Ce).select()};v(t.timeContainer,["increment"],a),v(t.timeContainer,"blur",a,{capture:!0}),v(t.timeContainer,"click",M),v([t.hourElement,t.minuteElement],["focus","click"],me),t.secondElement!==void 0&&v(t.secondElement,"focus",function(){return t.secondElement&&t.secondElement.select()}),t.amPM!==void 0&&v(t.amPM,"click",function(Ce){a(Ce)})}t.config.allowInput&&v(t._input,"blur",vt)}function A(ce,me){var Ce=ce!==void 0?t.parseDate(ce):t.latestSelectedDateObj||(t.config.minDate&&t.config.minDate>t.now?t.config.minDate:t.config.maxDate&&t.config.maxDate<t.now?t.config.maxDate:t.now),Ve=t.currentYear,ht=t.currentMonth;try{Ce!==void 0&&(t.currentYear=Ce.getFullYear(),t.currentMonth=Ce.getMonth())}catch(Ct){Ct.message="Invalid date supplied: "+Ce,t.config.errorHandler(Ct)}me&&t.currentYear!==Ve&&(et("onYearChange"),j()),me&&(t.currentYear!==Ve||t.currentMonth!==ht)&&et("onMonthChange"),t.redraw()}function M(ce){var me=rl(ce);~me.className.indexOf("arrow")&&N(ce,me.classList.contains("arrowUp")?1:-1)}function N(ce,me,Ce){var Ve=ce&&rl(ce),ht=Ce||Ve&&Ve.parentNode&&Ve.parentNode.firstChild,Ct=Ot("increment");Ct.delta=me,ht&&ht.dispatchEvent(Ct)}function L(){var ce=window.document.createDocumentFragment();if(t.calendarContainer=Un("div","flatpickr-calendar"),t.calendarContainer.tabIndex=-1,!t.config.noCalendar){if(ce.appendChild(ie()),t.innerContainer=Un("div","flatpickr-innerContainer"),t.config.weekNumbers){var me=K(),Ce=me.weekWrapper,Ve=me.weekNumbers;t.innerContainer.appendChild(Ce),t.weekNumbers=Ve,t.weekWrapper=Ce}t.rContainer=Un("div","flatpickr-rContainer"),t.rContainer.appendChild(ae()),t.daysContainer||(t.daysContainer=Un("div","flatpickr-days"),t.daysContainer.tabIndex=-1),z(),t.rContainer.appendChild(t.daysContainer),t.innerContainer.appendChild(t.rContainer),ce.appendChild(t.innerContainer)}t.config.enableTime&&ce.appendChild(te()),Tr(t.calendarContainer,"rangeMode",t.config.mode==="range"),Tr(t.calendarContainer,"animate",t.config.animate===!0),Tr(t.calendarContainer,"multiMonth",t.config.showMonths>1),t.calendarContainer.appendChild(ce);var ht=t.config.appendTo!==void 0&&t.config.appendTo.nodeType!==void 0;if((t.config.inline||t.config.static)&&(t.calendarContainer.classList.add(t.config.inline?"inline":"static"),t.config.inline&&(!ht&&t.element.parentNode?t.element.parentNode.insertBefore(t.calendarContainer,t._input.nextSibling):t.config.appendTo!==void 0&&t.config.appendTo.appendChild(t.calendarContainer)),t.config.static)){var Ct=Un("div","flatpickr-wrapper");t.element.parentNode&&t.element.parentNode.insertBefore(Ct,t.element),Ct.appendChild(t.element),t.altInput&&Ct.appendChild(t.altInput),Ct.appendChild(t.calendarContainer)}!t.config.static&&!t.config.inline&&(t.config.appendTo!==void 0?t.config.appendTo:window.document.body).appendChild(t.calendarContainer)}function I(ce,me,Ce,Ve){var ht=At(me,!0),Ct=Un("span",ce,me.getDate().toString());return Ct.dateObj=me,Ct.$i=Ve,Ct.setAttribute("aria-label",t.formatDate(me,t.config.ariaDateFormat)),ce.indexOf("hidden")===-1&&ll(me,t.now)===0&&(t.todayDateElem=Ct,Ct.classList.add("today"),Ct.setAttribute("aria-current","date")),ht?(Ct.tabIndex=-1,xt(me)&&(Ct.classList.add("selected"),t.selectedDateElem=Ct,t.config.mode==="range"&&(Tr(Ct,"startRange",t.selectedDates[0]&&ll(me,t.selectedDates[0],!0)===0),Tr(Ct,"endRange",t.selectedDates[1]&&ll(me,t.selectedDates[1],!0)===0),ce==="nextMonthDay"&&Ct.classList.add("inRange")))):Ct.classList.add("flatpickr-disabled"),t.config.mode==="range"&&qt(me)&&!xt(me)&&Ct.classList.add("inRange"),t.weekNumbers&&t.config.showMonths===1&&ce!=="prevMonthDay"&&Ve%7===6&&t.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+t.config.getWeek(me)+"</span>"),et("onDayCreate",Ct),Ct}function R(ce){ce.focus(),t.config.mode==="range"&&pt(ce)}function $(ce){for(var me=ce>0?0:t.config.showMonths-1,Ce=ce>0?t.config.showMonths:-1,Ve=me;Ve!=Ce;Ve+=ce)for(var ht=t.daysContainer.children[Ve],Ct=ce>0?0:ht.children.length-1,an=ce>0?ht.children.length:-1,Rt=Ct;Rt!=an;Rt+=ce){var dn=ht.children[Rt];if(dn.className.indexOf("hidden")===-1&&At(dn.dateObj))return dn}}function B(ce,me){for(var Ce=ce.className.indexOf("Month")===-1?ce.dateObj.getMonth():t.currentMonth,Ve=me>0?t.config.showMonths:-1,ht=me>0?1:-1,Ct=Ce-t.currentMonth;Ct!=Ve;Ct+=ht)for(var an=t.daysContainer.children[Ct],Rt=Ce-t.currentMonth===Ct?ce.$i+me:me<0?an.children.length-1:0,dn=an.children.length,Pt=Rt;Pt>=0&&Pt<dn&&Pt!=(me>0?dn:-1);Pt+=ht){var Oe=an.children[Pt];if(Oe.className.indexOf("hidden")===-1&&At(Oe.dateObj)&&Math.abs(ce.$i-Pt)>=Math.abs(me))return R(Oe)}t.changeMonth(ht),H($(ht),0)}function H(ce,me){var Ce=l(),Ve=ot(Ce||document.body),ht=ce!==void 0?ce:Ve?Ce:t.selectedDateElem!==void 0&&ot(t.selectedDateElem)?t.selectedDateElem:t.todayDateElem!==void 0&&ot(t.todayDateElem)?t.todayDateElem:$(me>0?1:-1);ht===void 0?t._input.focus():Ve?B(ht,me):R(ht)}function q(ce,me){for(var Ce=(new Date(ce,me,1).getDay()-t.l10n.firstDayOfWeek+7)%7,Ve=t.utils.getDaysInMonth((me-1+12)%12,ce),ht=t.utils.getDaysInMonth(me,ce),Ct=window.document.createDocumentFragment(),an=t.config.showMonths>1,Rt=an?"prevMonthDay hidden":"prevMonthDay",dn=an?"nextMonthDay hidden":"nextMonthDay",Pt=Ve+1-Ce,Oe=0;Pt<=Ve;Pt++,Oe++)Ct.appendChild(I("flatpickr-day "+Rt,new Date(ce,me-1,Pt),Pt,Oe));for(Pt=1;Pt<=ht;Pt++,Oe++)Ct.appendChild(I("flatpickr-day",new Date(ce,me,Pt),Pt,Oe));for(var st=ht+1;st<=42-Ce&&(t.config.showMonths===1||Oe%7!==0);st++,Oe++)Ct.appendChild(I("flatpickr-day "+dn,new Date(ce,me+1,st%ht),st,Oe));var _n=Un("div","dayContainer");return _n.appendChild(Ct),_n}function z(){if(t.daysContainer!==void 0){pd(t.daysContainer),t.weekNumbers&&pd(t.weekNumbers);for(var ce=document.createDocumentFragment(),me=0;me<t.config.showMonths;me++){var Ce=new Date(t.currentYear,t.currentMonth,1);Ce.setMonth(t.currentMonth+me),ce.appendChild(q(Ce.getFullYear(),Ce.getMonth()))}t.daysContainer.appendChild(ce),t.days=t.daysContainer.firstChild,t.config.mode==="range"&&t.selectedDates.length===1&&pt()}}function j(){if(!(t.config.showMonths>1||t.config.monthSelectorType!=="dropdown")){var ce=function(Ve){return t.config.minDate!==void 0&&t.currentYear===t.config.minDate.getFullYear()&&Ve<t.config.minDate.getMonth()?!1:!(t.config.maxDate!==void 0&&t.currentYear===t.config.maxDate.getFullYear()&&Ve>t.config.maxDate.getMonth())};t.monthsDropdownContainer.tabIndex=-1,t.monthsDropdownContainer.innerHTML="";for(var me=0;me<12;me++)if(ce(me)){var Ce=Un("option","flatpickr-monthDropdown-month");Ce.value=new Date(t.currentYear,me).getMonth().toString(),Ce.textContent=yh(me,t.config.shorthandCurrentMonth,t.l10n),Ce.tabIndex=-1,t.currentMonth===me&&(Ce.selected=!0),t.monthsDropdownContainer.appendChild(Ce)}}}function W(){var ce=Un("div","flatpickr-month"),me=window.document.createDocumentFragment(),Ce;t.config.showMonths>1||t.config.monthSelectorType==="static"?Ce=Un("span","cur-month"):(t.monthsDropdownContainer=Un("select","flatpickr-monthDropdown-months"),t.monthsDropdownContainer.setAttribute("aria-label",t.l10n.monthAriaLabel),v(t.monthsDropdownContainer,"change",function(an){var Rt=rl(an),dn=parseInt(Rt.value,10);t.changeMonth(dn-t.currentMonth),et("onMonthChange")}),j(),Ce=t.monthsDropdownContainer);var Ve=md("cur-year",{tabindex:"-1"}),ht=Ve.getElementsByTagName("input")[0];ht.setAttribute("aria-label",t.l10n.yearAriaLabel),t.config.minDate&&ht.setAttribute("min",t.config.minDate.getFullYear().toString()),t.config.maxDate&&(ht.setAttribute("max",t.config.maxDate.getFullYear().toString()),ht.disabled=!!t.config.minDate&&t.config.minDate.getFullYear()===t.config.maxDate.getFullYear());var Ct=Un("div","flatpickr-current-month");return Ct.appendChild(Ce),Ct.appendChild(Ve),me.appendChild(Ct),ce.appendChild(me),{container:ce,yearElement:ht,monthElement:Ce}}function G(){pd(t.monthNav),t.monthNav.appendChild(t.prevMonthNav),t.config.showMonths&&(t.yearElements=[],t.monthElements=[]);for(var ce=t.config.showMonths;ce--;){var me=W();t.yearElements.push(me.yearElement),t.monthElements.push(me.monthElement),t.monthNav.appendChild(me.container)}t.monthNav.appendChild(t.nextMonthNav)}function ie(){return t.monthNav=Un("div","flatpickr-months"),t.yearElements=[],t.monthElements=[],t.prevMonthNav=Un("span","flatpickr-prev-month"),t.prevMonthNav.innerHTML=t.config.prevArrow,t.nextMonthNav=Un("span","flatpickr-next-month"),t.nextMonthNav.innerHTML=t.config.nextArrow,G(),Object.defineProperty(t,"_hidePrevMonthArrow",{get:function(){return t.__hidePrevMonthArrow},set:function(ce){t.__hidePrevMonthArrow!==ce&&(Tr(t.prevMonthNav,"flatpickr-disabled",ce),t.__hidePrevMonthArrow=ce)}}),Object.defineProperty(t,"_hideNextMonthArrow",{get:function(){return t.__hideNextMonthArrow},set:function(ce){t.__hideNextMonthArrow!==ce&&(Tr(t.nextMonthNav,"flatpickr-disabled",ce),t.__hideNextMonthArrow=ce)}}),t.currentYearElement=t.yearElements[0],yn(),t.monthNav}function te(){t.calendarContainer.classList.add("hasTime"),t.config.noCalendar&&t.calendarContainer.classList.add("noCalendar");var ce=Vm(t.config);t.timeContainer=Un("div","flatpickr-time"),t.timeContainer.tabIndex=-1;var me=Un("span","flatpickr-time-separator",":"),Ce=md("flatpickr-hour",{"aria-label":t.l10n.hourAriaLabel});t.hourElement=Ce.getElementsByTagName("input")[0];var Ve=md("flatpickr-minute",{"aria-label":t.l10n.minuteAriaLabel});if(t.minuteElement=Ve.getElementsByTagName("input")[0],t.hourElement.tabIndex=t.minuteElement.tabIndex=-1,t.hourElement.value=xr(t.latestSelectedDateObj?t.latestSelectedDateObj.getHours():t.config.time_24hr?ce.hours:f(ce.hours)),t.minuteElement.value=xr(t.latestSelectedDateObj?t.latestSelectedDateObj.getMinutes():ce.minutes),t.hourElement.setAttribute("step",t.config.hourIncrement.toString()),t.minuteElement.setAttribute("step",t.config.minuteIncrement.toString()),t.hourElement.setAttribute("min",t.config.time_24hr?"0":"1"),t.hourElement.setAttribute("max",t.config.time_24hr?"23":"12"),t.hourElement.setAttribute("maxlength","2"),t.minuteElement.setAttribute("min","0"),t.minuteElement.setAttribute("max","59"),t.minuteElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(Ce),t.timeContainer.appendChild(me),t.timeContainer.appendChild(Ve),t.config.time_24hr&&t.timeContainer.classList.add("time24hr"),t.config.enableSeconds){t.timeContainer.classList.add("hasSeconds");var ht=md("flatpickr-second");t.secondElement=ht.getElementsByTagName("input")[0],t.secondElement.value=xr(t.latestSelectedDateObj?t.latestSelectedDateObj.getSeconds():ce.seconds),t.secondElement.setAttribute("step",t.minuteElement.getAttribute("step")),t.secondElement.setAttribute("min","0"),t.secondElement.setAttribute("max","59"),t.secondElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(Un("span","flatpickr-time-separator",":")),t.timeContainer.appendChild(ht)}return t.config.time_24hr||(t.amPM=Un("span","flatpickr-am-pm",t.l10n.amPM[gl((t.latestSelectedDateObj?t.hourElement.value:t.config.defaultHour)>11)]),t.amPM.title=t.l10n.toggleTitle,t.amPM.tabIndex=-1,t.timeContainer.appendChild(t.amPM)),t.timeContainer}function ae(){t.weekdayContainer?pd(t.weekdayContainer):t.weekdayContainer=Un("div","flatpickr-weekdays");for(var ce=t.config.showMonths;ce--;){var me=Un("div","flatpickr-weekdaycontainer");t.weekdayContainer.appendChild(me)}return ue(),t.weekdayContainer}function ue(){if(t.weekdayContainer){var ce=t.l10n.firstDayOfWeek,me=G4(t.l10n.weekdays.shorthand);ce>0&&ce<me.length&&(me=G4(me.splice(ce,me.length),me.splice(0,ce)));for(var Ce=t.config.showMonths;Ce--;)t.weekdayContainer.children[Ce].innerHTML=`
      <span class='flatpickr-weekday'>
        `+me.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function K(){t.calendarContainer.classList.add("hasWeeks");var ce=Un("div","flatpickr-weekwrapper");ce.appendChild(Un("span","flatpickr-weekday",t.l10n.weekAbbreviation));var me=Un("div","flatpickr-weeks");return ce.appendChild(me),{weekWrapper:ce,weekNumbers:me}}function X(ce,me){me===void 0&&(me=!0);var Ce=me?ce:ce-t.currentMonth;Ce<0&&t._hidePrevMonthArrow===!0||Ce>0&&t._hideNextMonthArrow===!0||(t.currentMonth+=Ce,(t.currentMonth<0||t.currentMonth>11)&&(t.currentYear+=t.currentMonth>11?1:-1,t.currentMonth=(t.currentMonth+12)%12,et("onYearChange"),j()),z(),et("onMonthChange"),yn())}function _e(ce,me){if(ce===void 0&&(ce=!0),me===void 0&&(me=!0),t.input.value="",t.altInput!==void 0&&(t.altInput.value=""),t.mobileInput!==void 0&&(t.mobileInput.value=""),t.selectedDates=[],t.latestSelectedDateObj=void 0,me===!0&&(t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth()),t.config.enableTime===!0){var Ce=Vm(t.config),Ve=Ce.hours,ht=Ce.minutes,Ct=Ce.seconds;p(Ve,ht,Ct)}t.redraw(),ce&&et("onChange")}function oe(){t.isOpen=!1,t.isMobile||(t.calendarContainer!==void 0&&t.calendarContainer.classList.remove("open"),t._input!==void 0&&t._input.classList.remove("active")),et("onClose")}function Le(){t.config!==void 0&&et("onDestroy");for(var ce=t._handlers.length;ce--;)t._handlers[ce].remove();if(t._handlers=[],t.mobileInput)t.mobileInput.parentNode&&t.mobileInput.parentNode.removeChild(t.mobileInput),t.mobileInput=void 0;else if(t.calendarContainer&&t.calendarContainer.parentNode)if(t.config.static&&t.calendarContainer.parentNode){var me=t.calendarContainer.parentNode;if(me.lastChild&&me.removeChild(me.lastChild),me.parentNode){for(;me.firstChild;)me.parentNode.insertBefore(me.firstChild,me);me.parentNode.removeChild(me)}}else t.calendarContainer.parentNode.removeChild(t.calendarContainer);t.altInput&&(t.input.type="text",t.altInput.parentNode&&t.altInput.parentNode.removeChild(t.altInput),delete t.altInput),t.input&&(t.input.type=t.input._type,t.input.classList.remove("flatpickr-input"),t.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(Ce){try{delete t[Ce]}catch{}})}function lt(ce){return t.calendarContainer.contains(ce)}function St(ce){if(t.isOpen&&!t.config.inline){var me=rl(ce),Ce=lt(me),Ve=me===t.input||me===t.altInput||t.element.contains(me)||ce.path&&ce.path.indexOf&&(~ce.path.indexOf(t.input)||~ce.path.indexOf(t.altInput)),ht=!Ve&&!Ce&&!lt(ce.relatedTarget),Ct=!t.config.ignoredFocusElements.some(function(an){return an.contains(me)});ht&&Ct&&(t.config.allowInput&&t.setDate(t._input.value,!1,t.config.altInput?t.config.altFormat:t.config.dateFormat),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0&&t.input.value!==""&&t.input.value!==void 0&&a(),t.close(),t.config&&t.config.mode==="range"&&t.selectedDates.length===1&&t.clear(!1))}}function bt(ce){if(!(!ce||t.config.minDate&&ce<t.config.minDate.getFullYear()||t.config.maxDate&&ce>t.config.maxDate.getFullYear())){var me=ce,Ce=t.currentYear!==me;t.currentYear=me||t.currentYear,t.config.maxDate&&t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth=Math.min(t.config.maxDate.getMonth(),t.currentMonth):t.config.minDate&&t.currentYear===t.config.minDate.getFullYear()&&(t.currentMonth=Math.max(t.config.minDate.getMonth(),t.currentMonth)),Ce&&(t.redraw(),et("onYearChange"),j())}}function At(ce,me){var Ce;me===void 0&&(me=!0);var Ve=t.parseDate(ce,void 0,me);if(t.config.minDate&&Ve&&ll(Ve,t.config.minDate,me!==void 0?me:!t.minDateHasTime)<0||t.config.maxDate&&Ve&&ll(Ve,t.config.maxDate,me!==void 0?me:!t.maxDateHasTime)>0)return!1;if(!t.config.enable&&t.config.disable.length===0)return!0;if(Ve===void 0)return!1;for(var ht=!!t.config.enable,Ct=(Ce=t.config.enable)!==null&&Ce!==void 0?Ce:t.config.disable,an=0,Rt=void 0;an<Ct.length;an++){if(Rt=Ct[an],typeof Rt=="function"&&Rt(Ve))return ht;if(Rt instanceof Date&&Ve!==void 0&&Rt.getTime()===Ve.getTime())return ht;if(typeof Rt=="string"){var dn=t.parseDate(Rt,void 0,!0);return dn&&dn.getTime()===Ve.getTime()?ht:!ht}else if(typeof Rt=="object"&&Ve!==void 0&&Rt.from&&Rt.to&&Ve.getTime()>=Rt.from.getTime()&&Ve.getTime()<=Rt.to.getTime())return ht}return!ht}function ot(ce){return t.daysContainer!==void 0?ce.className.indexOf("hidden")===-1&&ce.className.indexOf("flatpickr-disabled")===-1&&t.daysContainer.contains(ce):!1}function vt(ce){var me=ce.target===t._input,Ce=t._input.value.trimEnd()!==Nn();me&&Ce&&!(ce.relatedTarget&&lt(ce.relatedTarget))&&t.setDate(t._input.value,!0,ce.target===t.altInput?t.config.altFormat:t.config.dateFormat)}function zt(ce){var me=rl(ce),Ce=t.config.wrap?n.contains(me):me===t._input,Ve=t.config.allowInput,ht=t.isOpen&&(!Ve||!Ce),Ct=t.config.inline&&Ce&&!Ve;if(ce.keyCode===13&&Ce){if(Ve)return t.setDate(t._input.value,!0,me===t.altInput?t.config.altFormat:t.config.dateFormat),t.close(),me.blur();t.open()}else if(lt(me)||ht||Ct){var an=!!t.timeContainer&&t.timeContainer.contains(me);switch(ce.keyCode){case 13:an?(ce.preventDefault(),a(),gn()):Zt(ce);break;case 27:ce.preventDefault(),gn();break;case 8:case 46:Ce&&!t.config.allowInput&&(ce.preventDefault(),t.clear());break;case 37:case 39:if(!an&&!Ce){ce.preventDefault();var Rt=l();if(t.daysContainer!==void 0&&(Ve===!1||Rt&&ot(Rt))){var dn=ce.keyCode===39?1:-1;ce.ctrlKey?(ce.stopPropagation(),X(dn),H($(1),0)):H(void 0,dn)}}else t.hourElement&&t.hourElement.focus();break;case 38:case 40:ce.preventDefault();var Pt=ce.keyCode===40?1:-1;t.daysContainer&&me.$i!==void 0||me===t.input||me===t.altInput?ce.ctrlKey?(ce.stopPropagation(),bt(t.currentYear-Pt),H($(1),0)):an||H(void 0,Pt*7):me===t.currentYearElement?bt(t.currentYear-Pt):t.config.enableTime&&(!an&&t.hourElement&&t.hourElement.focus(),a(ce),t._debouncedChange());break;case 9:if(an){var Oe=[t.hourElement,t.minuteElement,t.secondElement,t.amPM].concat(t.pluginElements).filter(function(hn){return hn}),st=Oe.indexOf(me);if(st!==-1){var _n=Oe[st+(ce.shiftKey?-1:1)];ce.preventDefault(),(_n||t._input).focus()}}else!t.config.noCalendar&&t.daysContainer&&t.daysContainer.contains(me)&&ce.shiftKey&&(ce.preventDefault(),t._input.focus());break}}if(t.amPM!==void 0&&me===t.amPM)switch(ce.key){case t.l10n.amPM[0].charAt(0):case t.l10n.amPM[0].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[0],c(),fi();break;case t.l10n.amPM[1].charAt(0):case t.l10n.amPM[1].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[1],c(),fi();break}(Ce||lt(me))&&et("onKeyDown",ce)}function pt(ce,me){if(me===void 0&&(me="flatpickr-day"),!(t.selectedDates.length!==1||ce&&(!ce.classList.contains(me)||ce.classList.contains("flatpickr-disabled")))){for(var Ce=ce?ce.dateObj.getTime():t.days.firstElementChild.dateObj.getTime(),Ve=t.parseDate(t.selectedDates[0],void 0,!0).getTime(),ht=Math.min(Ce,t.selectedDates[0].getTime()),Ct=Math.max(Ce,t.selectedDates[0].getTime()),an=!1,Rt=0,dn=0,Pt=ht;Pt<Ct;Pt+=QW.DAY)At(new Date(Pt),!0)||(an=an||Pt>ht&&Pt<Ct,Pt<Ve&&(!Rt||Pt>Rt)?Rt=Pt:Pt>Ve&&(!dn||Pt<dn)&&(dn=Pt));var Oe=Array.from(t.rContainer.querySelectorAll("*:nth-child(-n+"+t.config.showMonths+") > ."+me));Oe.forEach(function(st){var _n=st.dateObj,hn=_n.getTime(),nn=Rt>0&&hn<Rt||dn>0&&hn>dn;if(nn){st.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(xi){st.classList.remove(xi)});return}else if(an&&!nn)return;["startRange","inRange","endRange","notAllowed"].forEach(function(xi){st.classList.remove(xi)}),ce!==void 0&&(ce.classList.add(Ce<=t.selectedDates[0].getTime()?"startRange":"endRange"),Ve<Ce&&hn===Ve?st.classList.add("startRange"):Ve>Ce&&hn===Ve&&st.classList.add("endRange"),hn>=Rt&&(dn===0||hn<=dn)&&XW(hn,Ve,Ce)&&st.classList.add("inRange"))})}}function $e(){t.isOpen&&!t.config.static&&!t.config.inline&&cn()}function Bt(ce,me){if(me===void 0&&(me=t._positionElement),t.isMobile===!0){if(ce){ce.preventDefault();var Ce=rl(ce);Ce&&Ce.blur()}t.mobileInput!==void 0&&(t.mobileInput.focus(),t.mobileInput.click()),et("onOpen");return}else if(t._input.disabled||t.config.inline)return;var Ve=t.isOpen;t.isOpen=!0,Ve||(t.calendarContainer.classList.add("open"),t._input.classList.add("active"),et("onOpen"),cn(me)),t.config.enableTime===!0&&t.config.noCalendar===!0&&t.config.allowInput===!1&&(ce===void 0||!t.timeContainer.contains(ce.relatedTarget))&&setTimeout(function(){return t.hourElement.select()},50)}function Ze(ce){return function(me){var Ce=t.config["_"+ce+"Date"]=t.parseDate(me,t.config.dateFormat),Ve=t.config["_"+(ce==="min"?"max":"min")+"Date"];Ce!==void 0&&(t[ce==="min"?"minDateHasTime":"maxDateHasTime"]=Ce.getHours()>0||Ce.getMinutes()>0||Ce.getSeconds()>0),t.selectedDates&&(t.selectedDates=t.selectedDates.filter(function(ht){return At(ht)}),!t.selectedDates.length&&ce==="min"&&h(Ce),fi()),t.daysContainer&&(sn(),Ce!==void 0?t.currentYearElement[ce]=Ce.getFullYear().toString():t.currentYearElement.removeAttribute(ce),t.currentYearElement.disabled=!!Ve&&Ce!==void 0&&Ve.getFullYear()===Ce.getFullYear())}}function dt(){var ce=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],me=sr(sr({},JSON.parse(JSON.stringify(n.dataset||{}))),e),Ce={};t.config.parseDate=me.parseDate,t.config.formatDate=me.formatDate,Object.defineProperty(t.config,"enable",{get:function(){return t.config._enable},set:function(Oe){t.config._enable=Dt(Oe)}}),Object.defineProperty(t.config,"disable",{get:function(){return t.config._disable},set:function(Oe){t.config._disable=Dt(Oe)}});var Ve=me.mode==="time";if(!me.dateFormat&&(me.enableTime||Ve)){var ht=Pi.defaultConfig.dateFormat||Lu.dateFormat;Ce.dateFormat=me.noCalendar||Ve?"H:i"+(me.enableSeconds?":S":""):ht+" H:i"+(me.enableSeconds?":S":"")}if(me.altInput&&(me.enableTime||Ve)&&!me.altFormat){var Ct=Pi.defaultConfig.altFormat||Lu.altFormat;Ce.altFormat=me.noCalendar||Ve?"h:i"+(me.enableSeconds?":S K":" K"):Ct+(" h:i"+(me.enableSeconds?":S":"")+" K")}Object.defineProperty(t.config,"minDate",{get:function(){return t.config._minDate},set:Ze("min")}),Object.defineProperty(t.config,"maxDate",{get:function(){return t.config._maxDate},set:Ze("max")});var an=function(Oe){return function(st){t.config[Oe==="min"?"_minTime":"_maxTime"]=t.parseDate(st,"H:i:S")}};Object.defineProperty(t.config,"minTime",{get:function(){return t.config._minTime},set:an("min")}),Object.defineProperty(t.config,"maxTime",{get:function(){return t.config._maxTime},set:an("max")}),me.mode==="time"&&(t.config.noCalendar=!0,t.config.enableTime=!0),Object.assign(t.config,Ce,me);for(var Rt=0;Rt<ce.length;Rt++)t.config[ce[Rt]]=t.config[ce[Rt]]===!0||t.config[ce[Rt]]==="true";qm.filter(function(Oe){return t.config[Oe]!==void 0}).forEach(function(Oe){t.config[Oe]=jm(t.config[Oe]||[]).map(s)}),t.isMobile=!t.config.disableMobile&&!t.config.inline&&t.config.mode==="single"&&!t.config.disable.length&&!t.config.enable&&!t.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var Rt=0;Rt<t.config.plugins.length;Rt++){var dn=t.config.plugins[Rt](t)||{};for(var Pt in dn)qm.indexOf(Pt)>-1?t.config[Pt]=jm(dn[Pt]).map(s).concat(t.config[Pt]):typeof me[Pt]>"u"&&(t.config[Pt]=dn[Pt])}me.altInputClass||(t.config.altInputClass=Fe().className+" "+t.config.altInputClass),et("onParseConfig")}function Fe(){return t.config.wrap?n.querySelector("[data-input]"):n}function Ft(){typeof t.config.locale!="object"&&typeof Pi.l10ns[t.config.locale]>"u"&&t.config.errorHandler(new Error("flatpickr: invalid locale "+t.config.locale)),t.l10n=sr(sr({},Pi.l10ns.default),typeof t.config.locale=="object"?t.config.locale:t.config.locale!=="default"?Pi.l10ns[t.config.locale]:void 0),ha.D="("+t.l10n.weekdays.shorthand.join("|")+")",ha.l="("+t.l10n.weekdays.longhand.join("|")+")",ha.M="("+t.l10n.months.shorthand.join("|")+")",ha.F="("+t.l10n.months.longhand.join("|")+")",ha.K="("+t.l10n.amPM[0]+"|"+t.l10n.amPM[1]+"|"+t.l10n.amPM[0].toLowerCase()+"|"+t.l10n.amPM[1].toLowerCase()+")";var ce=sr(sr({},e),JSON.parse(JSON.stringify(n.dataset||{})));ce.time_24hr===void 0&&Pi.defaultConfig.time_24hr===void 0&&(t.config.time_24hr=t.l10n.time_24hr),t.formatDate=AA(t),t.parseDate=vg({config:t.config,l10n:t.l10n})}function cn(ce){if(typeof t.config.position=="function")return void t.config.position(t,ce);if(t.calendarContainer!==void 0){et("onPreCalendarPosition");var me=ce||t._positionElement,Ce=Array.prototype.reduce.call(t.calendarContainer.children,function($t,Pl){return $t+Pl.offsetHeight},0),Ve=t.calendarContainer.offsetWidth,ht=t.config.position.split(" "),Ct=ht[0],an=ht.length>1?ht[1]:null,Rt=me.getBoundingClientRect(),dn=window.innerHeight-Rt.bottom,Pt=Ct==="above"||Ct!=="below"&&dn<Ce&&Rt.top>Ce,Oe=window.pageYOffset+Rt.top+(Pt?-Ce-2:me.offsetHeight+2);if(Tr(t.calendarContainer,"arrowTop",!Pt),Tr(t.calendarContainer,"arrowBottom",Pt),!t.config.inline){var st=window.pageXOffset+Rt.left,_n=!1,hn=!1;an==="center"?(st-=(Ve-Rt.width)/2,_n=!0):an==="right"&&(st-=Ve-Rt.width,hn=!0),Tr(t.calendarContainer,"arrowLeft",!_n&&!hn),Tr(t.calendarContainer,"arrowCenter",_n),Tr(t.calendarContainer,"arrowRight",hn);var nn=window.document.body.offsetWidth-(window.pageXOffset+Rt.right),xi=st+Ve>window.document.body.offsetWidth,Ui=nn+Ve>window.document.body.offsetWidth;if(Tr(t.calendarContainer,"rightMost",xi),!t.config.static)if(t.calendarContainer.style.top=Oe+"px",!xi)t.calendarContainer.style.left=st+"px",t.calendarContainer.style.right="auto";else if(!Ui)t.calendarContainer.style.left="auto",t.calendarContainer.style.right=nn+"px";else{var Gi=Ee();if(Gi===void 0)return;var Dl=window.document.body.offsetWidth,Bo=Math.max(0,Dl/2-Ve/2),Qi=".flatpickr-calendar.centerMost:before",Rl=".flatpickr-calendar.centerMost:after",Jl=Gi.cssRules.length,Vn="{left:"+Rt.left+"px;right:auto;}";Tr(t.calendarContainer,"rightMost",!1),Tr(t.calendarContainer,"centerMost",!0),Gi.insertRule(Qi+","+Rl+Vn,Jl),t.calendarContainer.style.left=Bo+"px",t.calendarContainer.style.right="auto"}}}}function Ee(){for(var ce=null,me=0;me<document.styleSheets.length;me++){var Ce=document.styleSheets[me];if(Ce.cssRules){try{Ce.cssRules}catch{continue}ce=Ce;break}}return ce??Ue()}function Ue(){var ce=document.createElement("style");return document.head.appendChild(ce),ce.sheet}function sn(){t.config.noCalendar||t.isMobile||(j(),yn(),z())}function gn(){t._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(t.close,0):t.close()}function Zt(ce){ce.preventDefault(),ce.stopPropagation();var me=function(Oe){return Oe.classList&&Oe.classList.contains("flatpickr-day")&&!Oe.classList.contains("flatpickr-disabled")&&!Oe.classList.contains("notAllowed")},Ce=CA(rl(ce),me);if(Ce!==void 0){var Ve=Ce,ht=t.latestSelectedDateObj=new Date(Ve.dateObj.getTime()),Ct=(ht.getMonth()<t.currentMonth||ht.getMonth()>t.currentMonth+t.config.showMonths-1)&&t.config.mode!=="range";if(t.selectedDateElem=Ve,t.config.mode==="single")t.selectedDates=[ht];else if(t.config.mode==="multiple"){var an=xt(ht);an?t.selectedDates.splice(parseInt(an),1):t.selectedDates.push(ht)}else t.config.mode==="range"&&(t.selectedDates.length===2&&t.clear(!1,!1),t.latestSelectedDateObj=ht,t.selectedDates.push(ht),ll(ht,t.selectedDates[0],!0)!==0&&t.selectedDates.sort(function(Oe,st){return Oe.getTime()-st.getTime()}));if(c(),Ct){var Rt=t.currentYear!==ht.getFullYear();t.currentYear=ht.getFullYear(),t.currentMonth=ht.getMonth(),Rt&&(et("onYearChange"),j()),et("onMonthChange")}if(yn(),z(),fi(),!Ct&&t.config.mode!=="range"&&t.config.showMonths===1?R(Ve):t.selectedDateElem!==void 0&&t.hourElement===void 0&&t.selectedDateElem&&t.selectedDateElem.focus(),t.hourElement!==void 0&&t.hourElement!==void 0&&t.hourElement.focus(),t.config.closeOnSelect){var dn=t.config.mode==="single"&&!t.config.enableTime,Pt=t.config.mode==="range"&&t.selectedDates.length===2&&!t.config.enableTime;(dn||Pt)&&gn()}b()}}var Xe={locale:[Ft,ue],showMonths:[G,o,ae],minDate:[A],maxDate:[A],positionElement:[at],clickOpens:[function(){t.config.clickOpens===!0?(v(t._input,"focus",t.open),v(t._input,"click",t.open)):(t._input.removeEventListener("focus",t.open),t._input.removeEventListener("click",t.open))}]};function Kt(ce,me){if(ce!==null&&typeof ce=="object"){Object.assign(t.config,ce);for(var Ce in ce)Xe[Ce]!==void 0&&Xe[Ce].forEach(function(Ve){return Ve()})}else t.config[ce]=me,Xe[ce]!==void 0?Xe[ce].forEach(function(Ve){return Ve()}):qm.indexOf(ce)>-1&&(t.config[ce]=jm(me));t.redraw(),fi(!0)}function Ie(ce,me){var Ce=[];if(ce instanceof Array)Ce=ce.map(function(Ve){return t.parseDate(Ve,me)});else if(ce instanceof Date||typeof ce=="number")Ce=[t.parseDate(ce,me)];else if(typeof ce=="string")switch(t.config.mode){case"single":case"time":Ce=[t.parseDate(ce,me)];break;case"multiple":Ce=ce.split(t.config.conjunction).map(function(Ve){return t.parseDate(Ve,me)});break;case"range":Ce=ce.split(t.l10n.rangeSeparator).map(function(Ve){return t.parseDate(Ve,me)});break}else t.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(ce)));t.selectedDates=t.config.allowInvalidPreload?Ce:Ce.filter(function(Ve){return Ve instanceof Date&&At(Ve,!1)}),t.config.mode==="range"&&t.selectedDates.sort(function(Ve,ht){return Ve.getTime()-ht.getTime()})}function Je(ce,me,Ce){if(me===void 0&&(me=!1),Ce===void 0&&(Ce=t.config.dateFormat),ce!==0&&!ce||ce instanceof Array&&ce.length===0)return t.clear(me);Ie(ce,Ce),t.latestSelectedDateObj=t.selectedDates[t.selectedDates.length-1],t.redraw(),A(void 0,me),h(),t.selectedDates.length===0&&t.clear(!1),fi(me),me&&et("onChange")}function Dt(ce){return ce.slice().map(function(me){return typeof me=="string"||typeof me=="number"||me instanceof Date?t.parseDate(me,void 0,!0):me&&typeof me=="object"&&me.from&&me.to?{from:t.parseDate(me.from,void 0),to:t.parseDate(me.to,void 0)}:me}).filter(function(me){return me})}function Jt(){t.selectedDates=[],t.now=t.parseDate(t.config.now)||new Date;var ce=t.config.defaultDate||((t.input.nodeName==="INPUT"||t.input.nodeName==="TEXTAREA")&&t.input.placeholder&&t.input.value===t.input.placeholder?null:t.input.value);ce&&Ie(ce,t.config.dateFormat),t._initialDate=t.selectedDates.length>0?t.selectedDates[0]:t.config.minDate&&t.config.minDate.getTime()>t.now.getTime()?t.config.minDate:t.config.maxDate&&t.config.maxDate.getTime()<t.now.getTime()?t.config.maxDate:t.now,t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth(),t.selectedDates.length>0&&(t.latestSelectedDateObj=t.selectedDates[0]),t.config.minTime!==void 0&&(t.config.minTime=t.parseDate(t.config.minTime,"H:i")),t.config.maxTime!==void 0&&(t.config.maxTime=t.parseDate(t.config.maxTime,"H:i")),t.minDateHasTime=!!t.config.minDate&&(t.config.minDate.getHours()>0||t.config.minDate.getMinutes()>0||t.config.minDate.getSeconds()>0),t.maxDateHasTime=!!t.config.maxDate&&(t.config.maxDate.getHours()>0||t.config.maxDate.getMinutes()>0||t.config.maxDate.getSeconds()>0)}function on(){if(t.input=Fe(),!t.input){t.config.errorHandler(new Error("Invalid input element specified"));return}t.input._type=t.input.type,t.input.type="text",t.input.classList.add("flatpickr-input"),t._input=t.input,t.config.altInput&&(t.altInput=Un(t.input.nodeName,t.config.altInputClass),t._input=t.altInput,t.altInput.placeholder=t.input.placeholder,t.altInput.disabled=t.input.disabled,t.altInput.required=t.input.required,t.altInput.tabIndex=t.input.tabIndex,t.altInput.type="text",t.input.setAttribute("type","hidden"),!t.config.static&&t.input.parentNode&&t.input.parentNode.insertBefore(t.altInput,t.input.nextSibling)),t.config.allowInput||t._input.setAttribute("readonly","readonly"),at()}function at(){t._positionElement=t.config.positionElement||t._input}function ti(){var ce=t.config.enableTime?t.config.noCalendar?"time":"datetime-local":"date";t.mobileInput=Un("input",t.input.className+" flatpickr-mobile"),t.mobileInput.tabIndex=1,t.mobileInput.type=ce,t.mobileInput.disabled=t.input.disabled,t.mobileInput.required=t.input.required,t.mobileInput.placeholder=t.input.placeholder,t.mobileFormatStr=ce==="datetime-local"?"Y-m-d\\TH:i:S":ce==="date"?"Y-m-d":"H:i:S",t.selectedDates.length>0&&(t.mobileInput.defaultValue=t.mobileInput.value=t.formatDate(t.selectedDates[0],t.mobileFormatStr)),t.config.minDate&&(t.mobileInput.min=t.formatDate(t.config.minDate,"Y-m-d")),t.config.maxDate&&(t.mobileInput.max=t.formatDate(t.config.maxDate,"Y-m-d")),t.input.getAttribute("step")&&(t.mobileInput.step=String(t.input.getAttribute("step"))),t.input.type="hidden",t.altInput!==void 0&&(t.altInput.type="hidden");try{t.input.parentNode&&t.input.parentNode.insertBefore(t.mobileInput,t.input.nextSibling)}catch{}v(t.mobileInput,"change",function(me){t.setDate(rl(me).value,!1,t.mobileFormatStr),et("onChange"),et("onClose")})}function De(ce){if(t.isOpen===!0)return t.close();t.open(ce)}function et(ce,me){if(t.config!==void 0){var Ce=t.config[ce];if(Ce!==void 0&&Ce.length>0)for(var Ve=0;Ce[Ve]&&Ve<Ce.length;Ve++)Ce[Ve](t.selectedDates,t.input.value,t,me);ce==="onChange"&&(t.input.dispatchEvent(Ot("change")),t.input.dispatchEvent(Ot("input")))}}function Ot(ce){var me=document.createEvent("Event");return me.initEvent(ce,!0,!0),me}function xt(ce){for(var me=0;me<t.selectedDates.length;me++){var Ce=t.selectedDates[me];if(Ce instanceof Date&&ll(Ce,ce)===0)return""+me}return!1}function qt(ce){return t.config.mode!=="range"||t.selectedDates.length<2?!1:ll(ce,t.selectedDates[0])>=0&&ll(ce,t.selectedDates[1])<=0}function yn(){t.config.noCalendar||t.isMobile||!t.monthNav||(t.yearElements.forEach(function(ce,me){var Ce=new Date(t.currentYear,t.currentMonth,1);Ce.setMonth(t.currentMonth+me),t.config.showMonths>1||t.config.monthSelectorType==="static"?t.monthElements[me].textContent=yh(Ce.getMonth(),t.config.shorthandCurrentMonth,t.l10n)+" ":t.monthsDropdownContainer.value=Ce.getMonth().toString(),ce.value=Ce.getFullYear().toString()}),t._hidePrevMonthArrow=t.config.minDate!==void 0&&(t.currentYear===t.config.minDate.getFullYear()?t.currentMonth<=t.config.minDate.getMonth():t.currentYear<t.config.minDate.getFullYear()),t._hideNextMonthArrow=t.config.maxDate!==void 0&&(t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth+1>t.config.maxDate.getMonth():t.currentYear>t.config.maxDate.getFullYear()))}function Nn(ce){var me=ce||(t.config.altInput?t.config.altFormat:t.config.dateFormat);return t.selectedDates.map(function(Ce){return t.formatDate(Ce,me)}).filter(function(Ce,Ve,ht){return t.config.mode!=="range"||t.config.enableTime||ht.indexOf(Ce)===Ve}).join(t.config.mode!=="range"?t.config.conjunction:t.l10n.rangeSeparator)}function fi(ce){ce===void 0&&(ce=!0),t.mobileInput!==void 0&&t.mobileFormatStr&&(t.mobileInput.value=t.latestSelectedDateObj!==void 0?t.formatDate(t.latestSelectedDateObj,t.mobileFormatStr):""),t.input.value=Nn(t.config.dateFormat),t.altInput!==void 0&&(t.altInput.value=Nn(t.config.altFormat)),ce!==!1&&et("onValueUpdate")}function el(ce){var me=rl(ce),Ce=t.prevMonthNav.contains(me),Ve=t.nextMonthNav.contains(me);Ce||Ve?X(Ce?-1:1):t.yearElements.indexOf(me)>=0?me.select():me.classList.contains("arrowUp")?t.changeYear(t.currentYear+1):me.classList.contains("arrowDown")&&t.changeYear(t.currentYear-1)}function wi(ce){ce.preventDefault();var me=ce.type==="keydown",Ce=rl(ce),Ve=Ce;t.amPM!==void 0&&Ce===t.amPM&&(t.amPM.textContent=t.l10n.amPM[gl(t.amPM.textContent===t.l10n.amPM[0])]);var ht=parseFloat(Ve.getAttribute("min")),Ct=parseFloat(Ve.getAttribute("max")),an=parseFloat(Ve.getAttribute("step")),Rt=parseInt(Ve.value,10),dn=ce.delta||(me?ce.which===38?1:-1:0),Pt=Rt+an*dn;if(typeof Ve.value<"u"&&Ve.value.length===2){var Oe=Ve===t.hourElement,st=Ve===t.minuteElement;Pt<ht?(Pt=Ct+Pt+gl(!Oe)+(gl(Oe)&&gl(!t.amPM)),st&&N(void 0,-1,t.hourElement)):Pt>Ct&&(Pt=Ve===t.hourElement?Pt-Ct-gl(!t.amPM):ht,st&&N(void 0,1,t.hourElement)),t.amPM&&Oe&&(an===1?Pt+Rt===23:Math.abs(Pt-Rt)>an)&&(t.amPM.textContent=t.l10n.amPM[gl(t.amPM.textContent===t.l10n.amPM[0])]),Ve.value=xr(Pt)}}return r(),t}function Du(n,e){for(var t=Array.prototype.slice.call(n).filter(function(s){return s instanceof HTMLElement}),i=[],r=0;r<t.length;r++){var l=t[r];try{if(l.getAttribute("data-fp-omit")!==null)continue;l._flatpickr!==void 0&&(l._flatpickr.destroy(),l._flatpickr=void 0),l._flatpickr=eK(l,e||{}),i.push(l._flatpickr)}catch(s){console.error(s)}}return i.length===1?i[0]:i}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(n){return Du(this,n)},HTMLElement.prototype.flatpickr=function(n){return Du([this],n)});var Pi=function(n,e){return typeof n=="string"?Du(window.document.querySelectorAll(n),e):n instanceof Node?Du([n],e):Du(n,e)};Pi.defaultConfig={};Pi.l10ns={en:sr({},Uc),default:sr({},Uc)};Pi.localize=function(n){Pi.l10ns.default=sr(sr({},Pi.l10ns.default),n)};Pi.setDefaults=function(n){Pi.defaultConfig=sr(sr({},Pi.defaultConfig),n)};Pi.parseDate=vg({});Pi.formatDate=AA({});Pi.compareDates=ll;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(n){return Du(this,n)});Date.prototype.fp_incr=function(n){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof n=="string"?parseInt(n,10):n))};typeof window<"u"&&(window.flatpickr=Pi);function tK(n){let e,t=[n[1]],i={};for(let r=0;r<t.length;r+=1)i=kt(i,t[r]);return{c(){e=k("input"),El(e,i)},m(r,l){S(r,e,l),e.autofocus&&e.focus(),n[11](e)},p(r,l){El(e,i=Ln(t,[l&2&&r[1]]))},d(r){r&&E(e),n[11](null)}}}function nK(n){let e;const t=n[10].default,i=Zn(t,n,n[9],null),r=i||tK(n);return{c(){r&&r.c()},m(l,s){r&&r.m(l,s),e=!0},p(l,[s]){i?i.p&&(!e||s&512)&&Jn(i,t,l,l[9],e?Qn(t,l[9],s,null):ei(l[9]),null):r&&r.p&&(!e||s&3)&&r.p(l,e?s:-1)},i(l){e||(F(r,l),e=!0)},o(l){x(r,l),e=!1},d(l){r&&r.d(l)}}}function iK(n){return n.charAt(2).toLowerCase()+n.substring(3)}function Y4(n,e){var i;return(((i=n==null?void 0:n.config)==null?void 0:i.mode)??"single")==="single"?e[0]:e}function X4(n,e){return!!(n==e||n instanceof Date&&e instanceof Date&&n.valueOf()===e.valueOf()||Array.isArray(n)&&Array.isArray(e)&&n.length===e.length&&n.every((t,i)=>t===e[i]))}function rK(n,e,t){const i=["value","formattedValue","element","dateFormat","options","input","flatpickr"];let r=rn(e,i),{$$slots:l={},$$scope:s}=e;const o=new Set(["onChange","onOpen","onClose","onMonthChange","onYearChange","onReady","onValueUpdate","onDayCreate"]);let{value:a=void 0,formattedValue:u="",element:f=void 0,dateFormat:c=void 0}=e,{options:h={}}=e,p=!1,{input:_=void 0,flatpickr:v=void 0}=e;hi(()=>{const N=f??_,L=y(h);return L.onReady.push((I,R,$)=>{a===void 0&&A(I,R,$),Ni().then(()=>{t(8,p=!0)})}),t(3,v=Pi(N,Object.assign(L,f?{wrap:!0}:{}))),()=>{v.destroy()}});const b=Sn();function y(N={}){N=Object.assign({},N);for(const L of o){const I=(R,$,B)=>{b(iK(L),[R,$,B])};L in N?(Array.isArray(N[L])||(N[L]=[N[L]]),N[L].push(I)):N[L]=[I]}return N.onChange&&!N.onChange.includes(A)&&N.onChange.push(A),N}function A(N,L,I){const R=Y4(I,N);!X4(a,R)&&(a||R)&&t(2,a=R),t(4,u=L)}function M(N){ye[N?"unshift":"push"](()=>{_=N,t(0,_)})}return n.$$set=N=>{e=kt(kt({},e),ui(N)),t(1,r=rn(e,i)),"value"in N&&t(2,a=N.value),"formattedValue"in N&&t(4,u=N.formattedValue),"element"in N&&t(5,f=N.element),"dateFormat"in N&&t(6,c=N.dateFormat),"options"in N&&t(7,h=N.options),"input"in N&&t(0,_=N.input),"flatpickr"in N&&t(3,v=N.flatpickr),"$$scope"in N&&t(9,s=N.$$scope)},n.$$.update=()=>{if(n.$$.dirty&332&&v&&p&&(X4(a,Y4(v,v.selectedDates))||v.setDate(a,!0,c)),n.$$.dirty&392&&v&&p)for(const[N,L]of Object.entries(y(h)))v.set(N,L)},[_,r,a,v,u,f,c,h,p,s,l,M]}class N_ extends je{constructor(e){super(),qe(this,e,rK,nK,We,{value:2,formattedValue:4,element:5,dateFormat:6,options:7,input:0,flatpickr:3})}}function lK(n){let e,t,i,r,l,s,o,a;function u(h){n[6](h)}function f(h){n[7](h)}let c={id:n[16],options:re.defaultFlatpickrOptions()};return n[2]!==void 0&&(c.value=n[2]),n[0].min!==void 0&&(c.formattedValue=n[0].min),l=new N_({props:c}),ye.push(()=>Ke(l,"value",u)),ye.push(()=>Ke(l,"formattedValue",f)),l.$on("close",n[8]),{c(){e=k("label"),t=le("Min date (UTC)"),r=D(),ee(l.$$.fragment),m(e,"for",i=n[16])},m(h,p){S(h,e,p),T(e,t),S(h,r,p),Q(l,h,p),a=!0},p(h,p){(!a||p&65536&&i!==(i=h[16]))&&m(e,"for",i);const _={};p&65536&&(_.id=h[16]),!s&&p&4&&(s=!0,_.value=h[2],Ye(()=>s=!1)),!o&&p&1&&(o=!0,_.formattedValue=h[0].min,Ye(()=>o=!1)),l.$set(_)},i(h){a||(F(l.$$.fragment,h),a=!0)},o(h){x(l.$$.fragment,h),a=!1},d(h){h&&(E(e),E(r)),J(l,h)}}}function sK(n){let e,t,i,r,l,s,o,a;function u(h){n[9](h)}function f(h){n[10](h)}let c={id:n[16],options:re.defaultFlatpickrOptions()};return n[3]!==void 0&&(c.value=n[3]),n[0].max!==void 0&&(c.formattedValue=n[0].max),l=new N_({props:c}),ye.push(()=>Ke(l,"value",u)),ye.push(()=>Ke(l,"formattedValue",f)),l.$on("close",n[11]),{c(){e=k("label"),t=le("Max date (UTC)"),r=D(),ee(l.$$.fragment),m(e,"for",i=n[16])},m(h,p){S(h,e,p),T(e,t),S(h,r,p),Q(l,h,p),a=!0},p(h,p){(!a||p&65536&&i!==(i=h[16]))&&m(e,"for",i);const _={};p&65536&&(_.id=h[16]),!s&&p&8&&(s=!0,_.value=h[3],Ye(()=>s=!1)),!o&&p&1&&(o=!0,_.formattedValue=h[0].max,Ye(()=>o=!1)),l.$set(_)},i(h){a||(F(l.$$.fragment,h),a=!0)},o(h){x(l.$$.fragment,h),a=!1},d(h){h&&(E(e),E(r)),J(l,h)}}}function oK(n){let e,t,i,r,l,s,o;return i=new Pe({props:{class:"form-field",name:"fields."+n[1]+".min",$$slots:{default:[lK,({uniqueId:a})=>({16:a}),({uniqueId:a})=>a?65536:0]},$$scope:{ctx:n}}}),s=new Pe({props:{class:"form-field",name:"fields."+n[1]+".max",$$slots:{default:[sK,({uniqueId:a})=>({16:a}),({uniqueId:a})=>a?65536:0]},$$scope:{ctx:n}}}),{c(){e=k("div"),t=k("div"),ee(i.$$.fragment),r=D(),l=k("div"),ee(s.$$.fragment),m(t,"class","col-sm-6"),m(l,"class","col-sm-6"),m(e,"class","grid grid-sm")},m(a,u){S(a,e,u),T(e,t),Q(i,t,null),T(e,r),T(e,l),Q(s,l,null),o=!0},p(a,u){const f={};u&2&&(f.name="fields."+a[1]+".min"),u&196613&&(f.$$scope={dirty:u,ctx:a}),i.$set(f);const c={};u&2&&(c.name="fields."+a[1]+".max"),u&196617&&(c.$$scope={dirty:u,ctx:a}),s.$set(c)},i(a){o||(F(i.$$.fragment,a),F(s.$$.fragment,a),o=!0)},o(a){x(i.$$.fragment,a),x(s.$$.fragment,a),o=!1},d(a){a&&E(e),J(i),J(s)}}}function aK(n){let e,t,i;const r=[{key:n[1]},n[5]];function l(o){n[12](o)}let s={$$slots:{options:[oK]},$$scope:{ctx:n}};for(let o=0;o<r.length;o+=1)s=kt(s,r[o]);return n[0]!==void 0&&(s.field=n[0]),e=new Zr({props:s}),ye.push(()=>Ke(e,"field",l)),e.$on("rename",n[13]),e.$on("remove",n[14]),e.$on("duplicate",n[15]),{c(){ee(e.$$.fragment)},m(o,a){Q(e,o,a),i=!0},p(o,[a]){const u=a&34?Ln(r,[a&2&&{key:o[1]},a&32&&Wn(o[5])]):{};a&131087&&(u.$$scope={dirty:a,ctx:o}),!t&&a&1&&(t=!0,u.field=o[0],Ye(()=>t=!1)),e.$set(u)},i(o){i||(F(e.$$.fragment,o),i=!0)},o(o){x(e.$$.fragment,o),i=!1},d(o){J(e,o)}}}function uK(n,e,t){const i=["field","key"];let r=rn(e,i),{field:l}=e,{key:s=""}=e,o=l==null?void 0:l.min,a=l==null?void 0:l.max;function u(N,L){N.detail&&N.detail.length==3&&t(0,l[L]=N.detail[1],l)}function f(N){o=N,t(2,o),t(0,l)}function c(N){n.$$.not_equal(l.min,N)&&(l.min=N,t(0,l))}const h=N=>u(N,"min");function p(N){a=N,t(3,a),t(0,l)}function _(N){n.$$.not_equal(l.max,N)&&(l.max=N,t(0,l))}const v=N=>u(N,"max");function b(N){l=N,t(0,l)}function y(N){ut.call(this,n,N)}function A(N){ut.call(this,n,N)}function M(N){ut.call(this,n,N)}return n.$$set=N=>{e=kt(kt({},e),ui(N)),t(5,r=rn(e,i)),"field"in N&&t(0,l=N.field),"key"in N&&t(1,s=N.key)},n.$$.update=()=>{n.$$.dirty&5&&o!=(l==null?void 0:l.min)&&t(2,o=l==null?void 0:l.min),n.$$.dirty&9&&a!=(l==null?void 0:l.max)&&t(3,a=l==null?void 0:l.max)},[l,s,o,a,u,r,f,c,h,p,_,v,b,y,A,M]}class fK extends je{constructor(e){super(),qe(this,e,uK,aK,We,{field:0,key:1})}}function cK(n){let e,t,i,r,l,s,o,a,u,f;return{c(){e=k("label"),t=le("Max size "),i=k("small"),i.textContent="(bytes)",l=D(),s=k("input"),m(e,"for",r=n[9]),m(s,"type","number"),m(s,"id",o=n[9]),m(s,"step","1"),m(s,"min","0"),m(s,"max",Number.MAX_SAFE_INTEGER),s.value=a=n[0].maxSize||"",m(s,"placeholder","Default to max ~5MB")},m(c,h){S(c,e,h),T(e,t),T(e,i),S(c,l,h),S(c,s,h),u||(f=se(s,"input",n[3]),u=!0)},p(c,h){h&512&&r!==(r=c[9])&&m(e,"for",r),h&512&&o!==(o=c[9])&&m(s,"id",o),h&1&&a!==(a=c[0].maxSize||"")&&s.value!==a&&(s.value=a)},d(c){c&&(E(e),E(l),E(s)),u=!1,f()}}}function dK(n){let e,t,i,r,l,s,o,a,u,f;return{c(){e=k("input"),i=D(),r=k("label"),l=k("span"),l.textContent="Strip urls domain",s=D(),o=k("i"),m(e,"type","checkbox"),m(e,"id",t=n[9]),m(l,"class","txt"),m(o,"class","ri-information-line link-hint"),m(r,"for",a=n[9])},m(c,h){S(c,e,h),e.checked=n[0].convertURLs,S(c,i,h),S(c,r,h),T(r,l),T(r,s),T(r,o),u||(f=[se(e,"change",n[4]),nt(_t.call(null,o,{text:"This could help making the editor content more portable between environments since there will be no local base url to replace."}))],u=!0)},p(c,h){h&512&&t!==(t=c[9])&&m(e,"id",t),h&1&&(e.checked=c[0].convertURLs),h&512&&a!==(a=c[9])&&m(r,"for",a)},d(c){c&&(E(e),E(i),E(r)),u=!1,it(f)}}}function hK(n){let e,t,i,r;return e=new Pe({props:{class:"form-field m-b-sm",name:"fields."+n[1]+".maxSize",$$slots:{default:[cK,({uniqueId:l})=>({9:l}),({uniqueId:l})=>l?512:0]},$$scope:{ctx:n}}}),i=new Pe({props:{class:"form-field form-field-toggle",name:"fields."+n[1]+".convertURLs",$$slots:{default:[dK,({uniqueId:l})=>({9:l}),({uniqueId:l})=>l?512:0]},$$scope:{ctx:n}}}),{c(){ee(e.$$.fragment),t=D(),ee(i.$$.fragment)},m(l,s){Q(e,l,s),S(l,t,s),Q(i,l,s),r=!0},p(l,s){const o={};s&2&&(o.name="fields."+l[1]+".maxSize"),s&1537&&(o.$$scope={dirty:s,ctx:l}),e.$set(o);const a={};s&2&&(a.name="fields."+l[1]+".convertURLs"),s&1537&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){r||(F(e.$$.fragment,l),F(i.$$.fragment,l),r=!0)},o(l){x(e.$$.fragment,l),x(i.$$.fragment,l),r=!1},d(l){l&&E(t),J(e,l),J(i,l)}}}function pK(n){let e,t,i;const r=[{key:n[1]},n[2]];function l(o){n[5](o)}let s={$$slots:{options:[hK]},$$scope:{ctx:n}};for(let o=0;o<r.length;o+=1)s=kt(s,r[o]);return n[0]!==void 0&&(s.field=n[0]),e=new Zr({props:s}),ye.push(()=>Ke(e,"field",l)),e.$on("rename",n[6]),e.$on("remove",n[7]),e.$on("duplicate",n[8]),{c(){ee(e.$$.fragment)},m(o,a){Q(e,o,a),i=!0},p(o,[a]){const u=a&6?Ln(r,[a&2&&{key:o[1]},a&4&&Wn(o[2])]):{};a&1027&&(u.$$scope={dirty:a,ctx:o}),!t&&a&1&&(t=!0,u.field=o[0],Ye(()=>t=!1)),e.$set(u)},i(o){i||(F(e.$$.fragment,o),i=!0)},o(o){x(e.$$.fragment,o),i=!1},d(o){J(e,o)}}}function mK(n,e,t){const i=["field","key"];let r=rn(e,i),{field:l}=e,{key:s=""}=e;const o=p=>t(0,l.maxSize=parseInt(p.target.value,10),l);function a(){l.convertURLs=this.checked,t(0,l)}function u(p){l=p,t(0,l)}function f(p){ut.call(this,n,p)}function c(p){ut.call(this,n,p)}function h(p){ut.call(this,n,p)}return n.$$set=p=>{e=kt(kt({},e),ui(p)),t(2,r=rn(e,i)),"field"in p&&t(0,l=p.field),"key"in p&&t(1,s=p.key)},[l,s,r,o,a,u,f,c,h]}class gK extends je{constructor(e){super(),qe(this,e,mK,pK,We,{field:0,key:1})}}function _K(n){let e,t,i,r,l,s,o,a,u,f;return{c(){e=k("label"),t=le("Max size "),i=k("small"),i.textContent="(bytes)",l=D(),s=k("input"),m(e,"for",r=n[8]),m(s,"type","number"),m(s,"id",o=n[8]),m(s,"step","1"),m(s,"min","0"),m(s,"max",Number.MAX_SAFE_INTEGER),s.value=a=n[0].maxSize||"",m(s,"placeholder","Default to max ~5MB")},m(c,h){S(c,e,h),T(e,t),T(e,i),S(c,l,h),S(c,s,h),u||(f=se(s,"input",n[3]),u=!0)},p(c,h){h&256&&r!==(r=c[8])&&m(e,"for",r),h&256&&o!==(o=c[8])&&m(s,"id",o),h&1&&a!==(a=c[0].maxSize||"")&&s.value!==a&&(s.value=a)},d(c){c&&(E(e),E(l),E(s)),u=!1,f()}}}function bK(n){let e,t;return e=new Pe({props:{class:"form-field m-b-sm",name:"fields."+n[1]+".maxSize",$$slots:{default:[_K,({uniqueId:i})=>({8:i}),({uniqueId:i})=>i?256:0]},$$scope:{ctx:n}}}),{c(){ee(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,r){const l={};r&2&&(l.name="fields."+i[1]+".maxSize"),r&769&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){x(e.$$.fragment,i),t=!1},d(i){J(e,i)}}}function vK(n){let e,t,i;const r=[{key:n[1]},n[2]];function l(o){n[4](o)}let s={$$slots:{options:[bK]},$$scope:{ctx:n}};for(let o=0;o<r.length;o+=1)s=kt(s,r[o]);return n[0]!==void 0&&(s.field=n[0]),e=new Zr({props:s}),ye.push(()=>Ke(e,"field",l)),e.$on("rename",n[5]),e.$on("remove",n[6]),e.$on("duplicate",n[7]),{c(){ee(e.$$.fragment)},m(o,a){Q(e,o,a),i=!0},p(o,[a]){const u=a&6?Ln(r,[a&2&&{key:o[1]},a&4&&Wn(o[2])]):{};a&515&&(u.$$scope={dirty:a,ctx:o}),!t&&a&1&&(t=!0,u.field=o[0],Ye(()=>t=!1)),e.$set(u)},i(o){i||(F(e.$$.fragment,o),i=!0)},o(o){x(e.$$.fragment,o),i=!1},d(o){J(e,o)}}}function yK(n,e,t){const i=["field","key"];let r=rn(e,i),{field:l}=e,{key:s=""}=e;const o=h=>t(0,l.maxSize=parseInt(h.target.value,10),l);function a(h){l=h,t(0,l)}function u(h){ut.call(this,n,h)}function f(h){ut.call(this,n,h)}function c(h){ut.call(this,n,h)}return n.$$set=h=>{e=kt(kt({},e),ui(h)),t(2,r=rn(e,i)),"field"in h&&t(0,l=h.field),"key"in h&&t(1,s=h.key)},[l,s,r,o,a,u,f,c]}class kK extends je{constructor(e){super(),qe(this,e,yK,vK,We,{field:0,key:1})}}function TK(n){let e,t,i,r,l,s,o,a,u,f,c,h,p;function _(b){n[3](b)}let v={id:n[9],disabled:!re.isEmpty(n[0].onlyDomains)};return n[0].exceptDomains!==void 0&&(v.value=n[0].exceptDomains),o=new l1({props:v}),ye.push(()=>Ke(o,"value",_)),{c(){e=k("label"),t=k("span"),t.textContent="Except domains",i=D(),r=k("i"),s=D(),ee(o.$$.fragment),u=D(),f=k("div"),f.textContent="Use comma as separator.",m(t,"class","txt"),m(r,"class","ri-information-line link-hint"),m(e,"for",l=n[9]),m(f,"class","help-block")},m(b,y){S(b,e,y),T(e,t),T(e,i),T(e,r),S(b,s,y),Q(o,b,y),S(b,u,y),S(b,f,y),c=!0,h||(p=nt(_t.call(null,r,{text:`List of domains that are NOT allowed. 
 This field is disabled if "Only domains" is set.`,position:"top"})),h=!0)},p(b,y){(!c||y&512&&l!==(l=b[9]))&&m(e,"for",l);const A={};y&512&&(A.id=b[9]),y&1&&(A.disabled=!re.isEmpty(b[0].onlyDomains)),!a&&y&1&&(a=!0,A.value=b[0].exceptDomains,Ye(()=>a=!1)),o.$set(A)},i(b){c||(F(o.$$.fragment,b),c=!0)},o(b){x(o.$$.fragment,b),c=!1},d(b){b&&(E(e),E(s),E(u),E(f)),J(o,b),h=!1,p()}}}function wK(n){let e,t,i,r,l,s,o,a,u,f,c,h,p;function _(b){n[4](b)}let v={id:n[9]+".onlyDomains",disabled:!re.isEmpty(n[0].exceptDomains)};return n[0].onlyDomains!==void 0&&(v.value=n[0].onlyDomains),o=new l1({props:v}),ye.push(()=>Ke(o,"value",_)),{c(){e=k("label"),t=k("span"),t.textContent="Only domains",i=D(),r=k("i"),s=D(),ee(o.$$.fragment),u=D(),f=k("div"),f.textContent="Use comma as separator.",m(t,"class","txt"),m(r,"class","ri-information-line link-hint"),m(e,"for",l=n[9]+".onlyDomains"),m(f,"class","help-block")},m(b,y){S(b,e,y),T(e,t),T(e,i),T(e,r),S(b,s,y),Q(o,b,y),S(b,u,y),S(b,f,y),c=!0,h||(p=nt(_t.call(null,r,{text:`List of domains that are ONLY allowed. 
 This field is disabled if "Except domains" is set.`,position:"top"})),h=!0)},p(b,y){(!c||y&512&&l!==(l=b[9]+".onlyDomains"))&&m(e,"for",l);const A={};y&512&&(A.id=b[9]+".onlyDomains"),y&1&&(A.disabled=!re.isEmpty(b[0].exceptDomains)),!a&&y&1&&(a=!0,A.value=b[0].onlyDomains,Ye(()=>a=!1)),o.$set(A)},i(b){c||(F(o.$$.fragment,b),c=!0)},o(b){x(o.$$.fragment,b),c=!1},d(b){b&&(E(e),E(s),E(u),E(f)),J(o,b),h=!1,p()}}}function EK(n){let e,t,i,r,l,s,o;return i=new Pe({props:{class:"form-field",name:"fields."+n[1]+".exceptDomains",$$slots:{default:[TK,({uniqueId:a})=>({9:a}),({uniqueId:a})=>a?512:0]},$$scope:{ctx:n}}}),s=new Pe({props:{class:"form-field",name:"fields."+n[1]+".onlyDomains",$$slots:{default:[wK,({uniqueId:a})=>({9:a}),({uniqueId:a})=>a?512:0]},$$scope:{ctx:n}}}),{c(){e=k("div"),t=k("div"),ee(i.$$.fragment),r=D(),l=k("div"),ee(s.$$.fragment),m(t,"class","col-sm-6"),m(l,"class","col-sm-6"),m(e,"class","grid grid-sm")},m(a,u){S(a,e,u),T(e,t),Q(i,t,null),T(e,r),T(e,l),Q(s,l,null),o=!0},p(a,u){const f={};u&2&&(f.name="fields."+a[1]+".exceptDomains"),u&1537&&(f.$$scope={dirty:u,ctx:a}),i.$set(f);const c={};u&2&&(c.name="fields."+a[1]+".onlyDomains"),u&1537&&(c.$$scope={dirty:u,ctx:a}),s.$set(c)},i(a){o||(F(i.$$.fragment,a),F(s.$$.fragment,a),o=!0)},o(a){x(i.$$.fragment,a),x(s.$$.fragment,a),o=!1},d(a){a&&E(e),J(i),J(s)}}}function SK(n){let e,t,i;const r=[{key:n[1]},n[2]];function l(o){n[5](o)}let s={$$slots:{options:[EK]},$$scope:{ctx:n}};for(let o=0;o<r.length;o+=1)s=kt(s,r[o]);return n[0]!==void 0&&(s.field=n[0]),e=new Zr({props:s}),ye.push(()=>Ke(e,"field",l)),e.$on("rename",n[6]),e.$on("remove",n[7]),e.$on("duplicate",n[8]),{c(){ee(e.$$.fragment)},m(o,a){Q(e,o,a),i=!0},p(o,[a]){const u=a&6?Ln(r,[a&2&&{key:o[1]},a&4&&Wn(o[2])]):{};a&1027&&(u.$$scope={dirty:a,ctx:o}),!t&&a&1&&(t=!0,u.field=o[0],Ye(()=>t=!1)),e.$set(u)},i(o){i||(F(e.$$.fragment,o),i=!0)},o(o){x(e.$$.fragment,o),i=!1},d(o){J(e,o)}}}function CK(n,e,t){const i=["field","key"];let r=rn(e,i),{field:l}=e,{key:s=""}=e;function o(p){n.$$.not_equal(l.exceptDomains,p)&&(l.exceptDomains=p,t(0,l))}function a(p){n.$$.not_equal(l.onlyDomains,p)&&(l.onlyDomains=p,t(0,l))}function u(p){l=p,t(0,l)}function f(p){ut.call(this,n,p)}function c(p){ut.call(this,n,p)}function h(p){ut.call(this,n,p)}return n.$$set=p=>{e=kt(kt({},e),ui(p)),t(2,r=rn(e,i)),"field"in p&&t(0,l=p.field),"key"in p&&t(1,s=p.key)},[l,s,r,o,a,u,f,c,h]}class OA extends je{constructor(e){super(),qe(this,e,CK,SK,We,{field:0,key:1})}}function AK(n){let e,t=(n[0].ext||"N/A")+"",i,r,l,s=n[0].mimeType+"",o;return{c(){e=k("span"),i=le(t),r=D(),l=k("small"),o=le(s),m(e,"class","txt"),m(l,"class","txt-hint")},m(a,u){S(a,e,u),T(e,i),S(a,r,u),S(a,l,u),T(l,o)},p(a,[u]){u&1&&t!==(t=(a[0].ext||"N/A")+"")&&Se(i,t),u&1&&s!==(s=a[0].mimeType+"")&&Se(o,s)},i:ge,o:ge,d(a){a&&(E(e),E(r),E(l))}}}function OK(n,e,t){let{item:i={}}=e;return n.$$set=r=>{"item"in r&&t(0,i=r.item)},[i]}class Z4 extends je{constructor(e){super(),qe(this,e,OK,AK,We,{item:0})}}const NK=[{ext:"",mimeType:"application/octet-stream"},{ext:".xpm",mimeType:"image/x-xpixmap"},{ext:".7z",mimeType:"application/x-7z-compressed"},{ext:".zip",mimeType:"application/zip"},{ext:".xlsx",mimeType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},{ext:".docx",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"},{ext:".pptx",mimeType:"application/vnd.openxmlformats-officedocument.presentationml.presentation"},{ext:".epub",mimeType:"application/epub+zip"},{ext:".apk",mimeType:"application/vnd.android.package-archive"},{ext:".jar",mimeType:"application/jar"},{ext:".odt",mimeType:"application/vnd.oasis.opendocument.text"},{ext:".ott",mimeType:"application/vnd.oasis.opendocument.text-template"},{ext:".ods",mimeType:"application/vnd.oasis.opendocument.spreadsheet"},{ext:".ots",mimeType:"application/vnd.oasis.opendocument.spreadsheet-template"},{ext:".odp",mimeType:"application/vnd.oasis.opendocument.presentation"},{ext:".otp",mimeType:"application/vnd.oasis.opendocument.presentation-template"},{ext:".odg",mimeType:"application/vnd.oasis.opendocument.graphics"},{ext:".otg",mimeType:"application/vnd.oasis.opendocument.graphics-template"},{ext:".odf",mimeType:"application/vnd.oasis.opendocument.formula"},{ext:".odc",mimeType:"application/vnd.oasis.opendocument.chart"},{ext:".sxc",mimeType:"application/vnd.sun.xml.calc"},{ext:".pdf",mimeType:"application/pdf"},{ext:".fdf",mimeType:"application/vnd.fdf"},{ext:"",mimeType:"application/x-ole-storage"},{ext:".msi",mimeType:"application/x-ms-installer"},{ext:".aaf",mimeType:"application/octet-stream"},{ext:".msg",mimeType:"application/vnd.ms-outlook"},{ext:".xls",mimeType:"application/vnd.ms-excel"},{ext:".pub",mimeType:"application/vnd.ms-publisher"},{ext:".ppt",mimeType:"application/vnd.ms-powerpoint"},{ext:".doc",mimeType:"application/msword"},{ext:".ps",mimeType:"application/postscript"},{ext:".psd",mimeType:"image/vnd.adobe.photoshop"},{ext:".p7s",mimeType:"application/pkcs7-signature"},{ext:".ogg",mimeType:"application/ogg"},{ext:".oga",mimeType:"audio/ogg"},{ext:".ogv",mimeType:"video/ogg"},{ext:".png",mimeType:"image/png"},{ext:".png",mimeType:"image/vnd.mozilla.apng"},{ext:".jpg",mimeType:"image/jpeg"},{ext:".jxl",mimeType:"image/jxl"},{ext:".jp2",mimeType:"image/jp2"},{ext:".jpf",mimeType:"image/jpx"},{ext:".jpm",mimeType:"image/jpm"},{ext:".jxs",mimeType:"image/jxs"},{ext:".gif",mimeType:"image/gif"},{ext:".webp",mimeType:"image/webp"},{ext:".exe",mimeType:"application/vnd.microsoft.portable-executable"},{ext:"",mimeType:"application/x-elf"},{ext:"",mimeType:"application/x-object"},{ext:"",mimeType:"application/x-executable"},{ext:".so",mimeType:"application/x-sharedlib"},{ext:"",mimeType:"application/x-coredump"},{ext:".a",mimeType:"application/x-archive"},{ext:".deb",mimeType:"application/vnd.debian.binary-package"},{ext:".tar",mimeType:"application/x-tar"},{ext:".xar",mimeType:"application/x-xar"},{ext:".bz2",mimeType:"application/x-bzip2"},{ext:".fits",mimeType:"application/fits"},{ext:".tiff",mimeType:"image/tiff"},{ext:".bmp",mimeType:"image/bmp"},{ext:".ico",mimeType:"image/x-icon"},{ext:".mp3",mimeType:"audio/mpeg"},{ext:".flac",mimeType:"audio/flac"},{ext:".midi",mimeType:"audio/midi"},{ext:".ape",mimeType:"audio/ape"},{ext:".mpc",mimeType:"audio/musepack"},{ext:".amr",mimeType:"audio/amr"},{ext:".wav",mimeType:"audio/wav"},{ext:".aiff",mimeType:"audio/aiff"},{ext:".au",mimeType:"audio/basic"},{ext:".mpeg",mimeType:"video/mpeg"},{ext:".mov",mimeType:"video/quicktime"},{ext:".mp4",mimeType:"video/mp4"},{ext:".avif",mimeType:"image/avif"},{ext:".3gp",mimeType:"video/3gpp"},{ext:".3g2",mimeType:"video/3gpp2"},{ext:".mp4",mimeType:"audio/mp4"},{ext:".mqv",mimeType:"video/quicktime"},{ext:".m4a",mimeType:"audio/x-m4a"},{ext:".m4v",mimeType:"video/x-m4v"},{ext:".heic",mimeType:"image/heic"},{ext:".heic",mimeType:"image/heic-sequence"},{ext:".heif",mimeType:"image/heif"},{ext:".heif",mimeType:"image/heif-sequence"},{ext:".mj2",mimeType:"video/mj2"},{ext:".dvb",mimeType:"video/vnd.dvb.file"},{ext:".webm",mimeType:"video/webm"},{ext:".avi",mimeType:"video/x-msvideo"},{ext:".flv",mimeType:"video/x-flv"},{ext:".mkv",mimeType:"video/x-matroska"},{ext:".asf",mimeType:"video/x-ms-asf"},{ext:".aac",mimeType:"audio/aac"},{ext:".voc",mimeType:"audio/x-unknown"},{ext:".m3u",mimeType:"application/vnd.apple.mpegurl"},{ext:".rmvb",mimeType:"application/vnd.rn-realmedia-vbr"},{ext:".gz",mimeType:"application/gzip"},{ext:".class",mimeType:"application/x-java-applet"},{ext:".swf",mimeType:"application/x-shockwave-flash"},{ext:".crx",mimeType:"application/x-chrome-extension"},{ext:".ttf",mimeType:"font/ttf"},{ext:".woff",mimeType:"font/woff"},{ext:".woff2",mimeType:"font/woff2"},{ext:".otf",mimeType:"font/otf"},{ext:".ttc",mimeType:"font/collection"},{ext:".eot",mimeType:"application/vnd.ms-fontobject"},{ext:".wasm",mimeType:"application/wasm"},{ext:".shx",mimeType:"application/vnd.shx"},{ext:".shp",mimeType:"application/vnd.shp"},{ext:".dbf",mimeType:"application/x-dbf"},{ext:".dcm",mimeType:"application/dicom"},{ext:".rar",mimeType:"application/x-rar-compressed"},{ext:".djvu",mimeType:"image/vnd.djvu"},{ext:".mobi",mimeType:"application/x-mobipocket-ebook"},{ext:".lit",mimeType:"application/x-ms-reader"},{ext:".bpg",mimeType:"image/bpg"},{ext:".cbor",mimeType:"application/cbor"},{ext:".sqlite",mimeType:"application/vnd.sqlite3"},{ext:".dwg",mimeType:"image/vnd.dwg"},{ext:".nes",mimeType:"application/vnd.nintendo.snes.rom"},{ext:".lnk",mimeType:"application/x-ms-shortcut"},{ext:".macho",mimeType:"application/x-mach-binary"},{ext:".qcp",mimeType:"audio/qcelp"},{ext:".icns",mimeType:"image/x-icns"},{ext:".hdr",mimeType:"image/vnd.radiance"},{ext:".mrc",mimeType:"application/marc"},{ext:".mdb",mimeType:"application/x-msaccess"},{ext:".accdb",mimeType:"application/x-msaccess"},{ext:".zst",mimeType:"application/zstd"},{ext:".cab",mimeType:"application/vnd.ms-cab-compressed"},{ext:".rpm",mimeType:"application/x-rpm"},{ext:".xz",mimeType:"application/x-xz"},{ext:".lz",mimeType:"application/lzip"},{ext:".torrent",mimeType:"application/x-bittorrent"},{ext:".cpio",mimeType:"application/x-cpio"},{ext:"",mimeType:"application/tzif"},{ext:".xcf",mimeType:"image/x-xcf"},{ext:".pat",mimeType:"image/x-gimp-pat"},{ext:".gbr",mimeType:"image/x-gimp-gbr"},{ext:".glb",mimeType:"model/gltf-binary"},{ext:".cab",mimeType:"application/x-installshield"},{ext:".jxr",mimeType:"image/jxr"},{ext:".parquet",mimeType:"application/vnd.apache.parquet"},{ext:".txt",mimeType:"text/plain"},{ext:".html",mimeType:"text/html"},{ext:".svg",mimeType:"image/svg+xml"},{ext:".xml",mimeType:"text/xml"},{ext:".rss",mimeType:"application/rss+xml"},{ext:".atom",mimeType:"application/atom+xml"},{ext:".x3d",mimeType:"model/x3d+xml"},{ext:".kml",mimeType:"application/vnd.google-earth.kml+xml"},{ext:".xlf",mimeType:"application/x-xliff+xml"},{ext:".dae",mimeType:"model/vnd.collada+xml"},{ext:".gml",mimeType:"application/gml+xml"},{ext:".gpx",mimeType:"application/gpx+xml"},{ext:".tcx",mimeType:"application/vnd.garmin.tcx+xml"},{ext:".amf",mimeType:"application/x-amf"},{ext:".3mf",mimeType:"application/vnd.ms-package.3dmanufacturing-3dmodel+xml"},{ext:".xfdf",mimeType:"application/vnd.adobe.xfdf"},{ext:".owl",mimeType:"application/owl+xml"},{ext:".php",mimeType:"text/x-php"},{ext:".js",mimeType:"text/javascript"},{ext:".lua",mimeType:"text/x-lua"},{ext:".pl",mimeType:"text/x-perl"},{ext:".py",mimeType:"text/x-python"},{ext:".json",mimeType:"application/json"},{ext:".geojson",mimeType:"application/geo+json"},{ext:".har",mimeType:"application/json"},{ext:".ndjson",mimeType:"application/x-ndjson"},{ext:".rtf",mimeType:"text/rtf"},{ext:".srt",mimeType:"application/x-subrip"},{ext:".tcl",mimeType:"text/x-tcl"},{ext:".csv",mimeType:"text/csv"},{ext:".tsv",mimeType:"text/tab-separated-values"},{ext:".vcf",mimeType:"text/vcard"},{ext:".ics",mimeType:"text/calendar"},{ext:".warc",mimeType:"application/warc"},{ext:".vtt",mimeType:"text/vtt"}];function MK(n){let e,t,i;function r(s){n[16](s)}let l={id:n[23],items:n[4],readonly:!n[24]};return n[2]!==void 0&&(l.keyOfSelected=n[2]),e=new Nr({props:l}),ye.push(()=>Ke(e,"keyOfSelected",r)),{c(){ee(e.$$.fragment)},m(s,o){Q(e,s,o),i=!0},p(s,o){const a={};o&8388608&&(a.id=s[23]),o&16777216&&(a.readonly=!s[24]),!t&&o&4&&(t=!0,a.keyOfSelected=s[2],Ye(()=>t=!1)),e.$set(a)},i(s){i||(F(e.$$.fragment,s),i=!0)},o(s){x(e.$$.fragment,s),i=!1},d(s){J(e,s)}}}function IK(n){let e,t,i,r,l,s;return i=new Pe({props:{class:"form-field form-field-single-multiple-select "+(n[24]?"":"readonly"),inlineError:!0,$$slots:{default:[MK,({uniqueId:o})=>({23:o}),({uniqueId:o})=>o?8388608:0]},$$scope:{ctx:n}}}),{c(){e=k("div"),t=D(),ee(i.$$.fragment),r=D(),l=k("div"),m(e,"class","separator"),m(l,"class","separator")},m(o,a){S(o,e,a),S(o,t,a),Q(i,o,a),S(o,r,a),S(o,l,a),s=!0},p(o,a){const u={};a&16777216&&(u.class="form-field form-field-single-multiple-select "+(o[24]?"":"readonly")),a&58720260&&(u.$$scope={dirty:a,ctx:o}),i.$set(u)},i(o){s||(F(i.$$.fragment,o),s=!0)},o(o){x(i.$$.fragment,o),s=!1},d(o){o&&(E(e),E(t),E(r),E(l)),J(i,o)}}}function LK(n){let e,t,i,r,l,s,o,a,u;return{c(){e=k("button"),e.innerHTML='<span class="txt">Images (jpg, png, svg, gif, webp)</span>',t=D(),i=k("button"),i.innerHTML='<span class="txt">Documents (pdf, doc/docx, xls/xlsx)</span>',r=D(),l=k("button"),l.innerHTML='<span class="txt">Videos (mp4, avi, mov, 3gp)</span>',s=D(),o=k("button"),o.innerHTML='<span class="txt">Archives (zip, 7zip, rar)</span>',m(e,"type","button"),m(e,"class","dropdown-item closable"),m(e,"role","menuitem"),m(i,"type","button"),m(i,"class","dropdown-item closable"),m(i,"role","menuitem"),m(l,"type","button"),m(l,"class","dropdown-item closable"),m(l,"role","menuitem"),m(o,"type","button"),m(o,"class","dropdown-item closable"),m(o,"role","menuitem")},m(f,c){S(f,e,c),S(f,t,c),S(f,i,c),S(f,r,c),S(f,l,c),S(f,s,c),S(f,o,c),a||(u=[se(e,"click",n[8]),se(i,"click",n[9]),se(l,"click",n[10]),se(o,"click",n[11])],a=!0)},p:ge,d(f){f&&(E(e),E(t),E(i),E(r),E(l),E(s),E(o)),a=!1,it(u)}}}function DK(n){let e,t,i,r,l,s,o,a,u,f,c,h,p,_,v,b,y,A,M;function N(I){n[7](I)}let L={id:n[23],multiple:!0,searchable:!0,closable:!1,selectionKey:"mimeType",selectPlaceholder:"No restriction",items:n[3],labelComponent:Z4,optionComponent:Z4};return n[0].mimeTypes!==void 0&&(L.keyOfSelected=n[0].mimeTypes),o=new Nr({props:L}),ye.push(()=>Ke(o,"keyOfSelected",N)),b=new Ar({props:{class:"dropdown dropdown-sm dropdown-nowrap dropdown-left",$$slots:{default:[LK]},$$scope:{ctx:n}}}),{c(){e=k("label"),t=k("span"),t.textContent="Allowed mime types",i=D(),r=k("i"),s=D(),ee(o.$$.fragment),u=D(),f=k("div"),c=k("div"),h=k("span"),h.textContent="Choose presets",p=D(),_=k("i"),v=D(),ee(b.$$.fragment),m(t,"class","txt"),m(r,"class","ri-information-line link-hint"),m(e,"for",l=n[23]),m(h,"class","txt link-primary"),m(_,"class","ri-arrow-drop-down-fill"),m(_,"aria-hidden","true"),m(c,"tabindex","0"),m(c,"role","button"),m(c,"class","inline-flex flex-gap-0"),m(f,"class","help-block")},m(I,R){S(I,e,R),T(e,t),T(e,i),T(e,r),S(I,s,R),Q(o,I,R),S(I,u,R),S(I,f,R),T(f,c),T(c,h),T(c,p),T(c,_),T(c,v),Q(b,c,null),y=!0,A||(M=nt(_t.call(null,r,{text:`Allow files ONLY with the listed mime types. 
 Leave empty for no restriction.`,position:"top"})),A=!0)},p(I,R){(!y||R&8388608&&l!==(l=I[23]))&&m(e,"for",l);const $={};R&8388608&&($.id=I[23]),R&8&&($.items=I[3]),!a&&R&1&&(a=!0,$.keyOfSelected=I[0].mimeTypes,Ye(()=>a=!1)),o.$set($);const B={};R&33554433&&(B.$$scope={dirty:R,ctx:I}),b.$set(B)},i(I){y||(F(o.$$.fragment,I),F(b.$$.fragment,I),y=!0)},o(I){x(o.$$.fragment,I),x(b.$$.fragment,I),y=!1},d(I){I&&(E(e),E(s),E(u),E(f)),J(o,I),J(b),A=!1,M()}}}function RK(n){let e;return{c(){e=k("ul"),e.innerHTML=`<li><strong>WxH</strong>
                                        (e.g. 100x50) - crop to WxH viewbox (from center)</li> <li><strong>WxHt</strong>
                                        (e.g. 100x50t) - crop to WxH viewbox (from top)</li> <li><strong>WxHb</strong>
                                        (e.g. 100x50b) - crop to WxH viewbox (from bottom)</li> <li><strong>WxHf</strong>
                                        (e.g. 100x50f) - fit inside a WxH viewbox (without cropping)</li> <li><strong>0xH</strong>
                                        (e.g. 0x50) - resize to H height preserving the aspect ratio</li> <li><strong>Wx0</strong>
                                        (e.g. 100x0) - resize to W width preserving the aspect ratio</li>`,m(e,"class","m-0")},m(t,i){S(t,e,i)},p:ge,d(t){t&&E(e)}}}function PK(n){let e,t,i,r,l,s,o,a,u,f,c,h,p,_,v,b,y,A,M,N,L;function I($){n[12]($)}let R={id:n[23],placeholder:"e.g. 50x50, 480x720"};return n[0].thumbs!==void 0&&(R.value=n[0].thumbs),o=new l1({props:R}),ye.push(()=>Ke(o,"value",I)),A=new Ar({props:{class:"dropdown dropdown-sm dropdown-center dropdown-nowrap p-r-10",$$slots:{default:[RK]},$$scope:{ctx:n}}}),{c(){e=k("label"),t=k("span"),t.textContent="Thumb sizes",i=D(),r=k("i"),s=D(),ee(o.$$.fragment),u=D(),f=k("div"),c=k("span"),c.textContent="Use comma as separator.",h=D(),p=k("button"),_=k("span"),_.textContent="Supported formats",v=D(),b=k("i"),y=D(),ee(A.$$.fragment),m(t,"class","txt"),m(r,"class","ri-information-line link-hint"),m(e,"for",l=n[23]),m(c,"class","txt"),m(_,"class","txt link-primary"),m(b,"class","ri-arrow-drop-down-fill"),m(b,"aria-hidden","true"),m(p,"type","button"),m(p,"class","inline-flex flex-gap-0"),m(f,"class","help-block")},m($,B){S($,e,B),T(e,t),T(e,i),T(e,r),S($,s,B),Q(o,$,B),S($,u,B),S($,f,B),T(f,c),T(f,h),T(f,p),T(p,_),T(p,v),T(p,b),T(p,y),Q(A,p,null),M=!0,N||(L=nt(_t.call(null,r,{text:"List of additional thumb sizes for image files, along with the default thumb size of 100x100. The thumbs are generated lazily on first access.",position:"top"})),N=!0)},p($,B){(!M||B&8388608&&l!==(l=$[23]))&&m(e,"for",l);const H={};B&8388608&&(H.id=$[23]),!a&&B&1&&(a=!0,H.value=$[0].thumbs,Ye(()=>a=!1)),o.$set(H);const q={};B&33554432&&(q.$$scope={dirty:B,ctx:$}),A.$set(q)},i($){M||(F(o.$$.fragment,$),F(A.$$.fragment,$),M=!0)},o($){x(o.$$.fragment,$),x(A.$$.fragment,$),M=!1},d($){$&&(E(e),E(s),E(u),E(f)),J(o,$),J(A),N=!1,L()}}}function FK(n){let e,t,i,r,l,s,o,a,u,f,c;return{c(){e=k("label"),t=le("Max file size"),r=D(),l=k("input"),a=D(),u=k("div"),u.textContent="Must be in bytes.",m(e,"for",i=n[23]),m(l,"type","number"),m(l,"id",s=n[23]),m(l,"step","1"),m(l,"min","0"),m(l,"max",Number.MAX_SAFE_INTEGER),l.value=o=n[0].maxSize||"",m(l,"placeholder","Default to max ~5MB"),m(u,"class","help-block")},m(h,p){S(h,e,p),T(e,t),S(h,r,p),S(h,l,p),S(h,a,p),S(h,u,p),f||(c=se(l,"input",n[13]),f=!0)},p(h,p){p&8388608&&i!==(i=h[23])&&m(e,"for",i),p&8388608&&s!==(s=h[23])&&m(l,"id",s),p&1&&o!==(o=h[0].maxSize||"")&&l.value!==o&&(l.value=o)},d(h){h&&(E(e),E(r),E(l),E(a),E(u)),f=!1,c()}}}function Q4(n){let e,t,i;return t=new Pe({props:{class:"form-field",name:"fields."+n[1]+".maxSelect",$$slots:{default:[$K,({uniqueId:r})=>({23:r}),({uniqueId:r})=>r?8388608:0]},$$scope:{ctx:n}}}),{c(){e=k("div"),ee(t.$$.fragment),m(e,"class","col-sm-3")},m(r,l){S(r,e,l),Q(t,e,null),i=!0},p(r,l){const s={};l&2&&(s.name="fields."+r[1]+".maxSelect"),l&41943041&&(s.$$scope={dirty:l,ctx:r}),t.$set(s)},i(r){i||(F(t.$$.fragment,r),i=!0)},o(r){x(t.$$.fragment,r),i=!1},d(r){r&&E(e),J(t)}}}function $K(n){let e,t,i,r,l,s,o,a;return{c(){e=k("label"),t=le("Max select"),r=D(),l=k("input"),m(e,"for",i=n[23]),m(l,"id",s=n[23]),m(l,"type","number"),m(l,"step","1"),m(l,"min","2"),m(l,"max",Number.MAX_SAFE_INTEGER),l.required=!0,m(l,"placeholder","Default to single")},m(u,f){S(u,e,f),T(e,t),S(u,r,f),S(u,l,f),He(l,n[0].maxSelect),o||(a=se(l,"input",n[14]),o=!0)},p(u,f){f&8388608&&i!==(i=u[23])&&m(e,"for",i),f&8388608&&s!==(s=u[23])&&m(l,"id",s),f&1&&wn(l.value)!==u[0].maxSelect&&He(l,u[0].maxSelect)},d(u){u&&(E(e),E(r),E(l)),o=!1,a()}}}function HK(n){let e,t,i,r,l,s,o,a,u,f;return{c(){e=k("input"),i=D(),r=k("label"),l=k("span"),l.textContent="Protected",o=D(),a=k("small"),a.innerHTML=`it will require View API rule permissions and file token to be accessible
                    <a href="https://pocketbase.io/docs/files-handling#protected-files" class="toggle-info" target="_blank" rel="noopener">(Learn more)</a>`,m(e,"type","checkbox"),m(e,"id",t=n[23]),m(l,"class","txt"),m(r,"for",s=n[23]),m(a,"class","txt-hint")},m(c,h){S(c,e,h),e.checked=n[0].protected,S(c,i,h),S(c,r,h),T(r,l),S(c,o,h),S(c,a,h),u||(f=se(e,"change",n[15]),u=!0)},p(c,h){h&8388608&&t!==(t=c[23])&&m(e,"id",t),h&1&&(e.checked=c[0].protected),h&8388608&&s!==(s=c[23])&&m(r,"for",s)},d(c){c&&(E(e),E(i),E(r),E(o),E(a)),u=!1,f()}}}function BK(n){let e,t,i,r,l,s,o,a,u,f,c,h,p,_,v;i=new Pe({props:{class:"form-field",name:"fields."+n[1]+".mimeTypes",$$slots:{default:[DK,({uniqueId:y})=>({23:y}),({uniqueId:y})=>y?8388608:0]},$$scope:{ctx:n}}}),s=new Pe({props:{class:"form-field",name:"fields."+n[1]+".thumbs",$$slots:{default:[PK,({uniqueId:y})=>({23:y}),({uniqueId:y})=>y?8388608:0]},$$scope:{ctx:n}}}),f=new Pe({props:{class:"form-field",name:"fields."+n[1]+".maxSize",$$slots:{default:[FK,({uniqueId:y})=>({23:y}),({uniqueId:y})=>y?8388608:0]},$$scope:{ctx:n}}});let b=!n[2]&&Q4(n);return _=new Pe({props:{class:"form-field form-field-toggle",name:"fields."+n[1]+".protected",$$slots:{default:[HK,({uniqueId:y})=>({23:y}),({uniqueId:y})=>y?8388608:0]},$$scope:{ctx:n}}}),{c(){e=k("div"),t=k("div"),ee(i.$$.fragment),r=D(),l=k("div"),ee(s.$$.fragment),a=D(),u=k("div"),ee(f.$$.fragment),h=D(),b&&b.c(),p=D(),ee(_.$$.fragment),m(t,"class","col-sm-12"),m(l,"class",o=n[2]?"col-sm-8":"col-sm-6"),m(u,"class",c=n[2]?"col-sm-4":"col-sm-3"),m(e,"class","grid grid-sm")},m(y,A){S(y,e,A),T(e,t),Q(i,t,null),T(e,r),T(e,l),Q(s,l,null),T(e,a),T(e,u),Q(f,u,null),T(e,h),b&&b.m(e,null),T(e,p),Q(_,e,null),v=!0},p(y,A){const M={};A&2&&(M.name="fields."+y[1]+".mimeTypes"),A&41943049&&(M.$$scope={dirty:A,ctx:y}),i.$set(M);const N={};A&2&&(N.name="fields."+y[1]+".thumbs"),A&41943041&&(N.$$scope={dirty:A,ctx:y}),s.$set(N),(!v||A&4&&o!==(o=y[2]?"col-sm-8":"col-sm-6"))&&m(l,"class",o);const L={};A&2&&(L.name="fields."+y[1]+".maxSize"),A&41943041&&(L.$$scope={dirty:A,ctx:y}),f.$set(L),(!v||A&4&&c!==(c=y[2]?"col-sm-4":"col-sm-3"))&&m(u,"class",c),y[2]?b&&(Ne(),x(b,1,1,()=>{b=null}),Me()):b?(b.p(y,A),A&4&&F(b,1)):(b=Q4(y),b.c(),F(b,1),b.m(e,p));const I={};A&2&&(I.name="fields."+y[1]+".protected"),A&41943041&&(I.$$scope={dirty:A,ctx:y}),_.$set(I)},i(y){v||(F(i.$$.fragment,y),F(s.$$.fragment,y),F(f.$$.fragment,y),F(b),F(_.$$.fragment,y),v=!0)},o(y){x(i.$$.fragment,y),x(s.$$.fragment,y),x(f.$$.fragment,y),x(b),x(_.$$.fragment,y),v=!1},d(y){y&&E(e),J(i),J(s),J(f),b&&b.d(),J(_)}}}function xK(n){let e,t,i;const r=[{key:n[1]},n[5]];function l(o){n[17](o)}let s={$$slots:{options:[BK],default:[IK,({interactive:o})=>({24:o}),({interactive:o})=>o?16777216:0]},$$scope:{ctx:n}};for(let o=0;o<r.length;o+=1)s=kt(s,r[o]);return n[0]!==void 0&&(s.field=n[0]),e=new Zr({props:s}),ye.push(()=>Ke(e,"field",l)),e.$on("rename",n[18]),e.$on("remove",n[19]),e.$on("duplicate",n[20]),{c(){ee(e.$$.fragment)},m(o,a){Q(e,o,a),i=!0},p(o,[a]){const u=a&34?Ln(r,[a&2&&{key:o[1]},a&32&&Wn(o[5])]):{};a&50331663&&(u.$$scope={dirty:a,ctx:o}),!t&&a&1&&(t=!0,u.field=o[0],Ye(()=>t=!1)),e.$set(u)},i(o){i||(F(e.$$.fragment,o),i=!0)},o(o){x(e.$$.fragment,o),i=!1},d(o){J(e,o)}}}function UK(n,e,t){const i=["field","key"];let r=rn(e,i),{field:l}=e,{key:s=""}=e;const o=[{label:"Single",value:!0},{label:"Multiple",value:!1}];let a=NK.slice(),u=l.maxSelect<=1,f=u;function c(){t(0,l.maxSelect=1,l),t(0,l.thumbs=[],l),t(0,l.mimeTypes=[],l),t(2,u=!0),t(6,f=u)}function h(){if(re.isEmpty(l.mimeTypes))return;const q=[];for(const z of l.mimeTypes)a.find(j=>j.mimeType===z)||q.push({mimeType:z});q.length&&t(3,a=a.concat(q))}function p(q){n.$$.not_equal(l.mimeTypes,q)&&(l.mimeTypes=q,t(0,l),t(6,f),t(2,u))}const _=()=>{t(0,l.mimeTypes=["image/jpeg","image/png","image/svg+xml","image/gif","image/webp"],l)},v=()=>{t(0,l.mimeTypes=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],l)},b=()=>{t(0,l.mimeTypes=["video/mp4","video/x-ms-wmv","video/quicktime","video/3gpp"],l)},y=()=>{t(0,l.mimeTypes=["application/zip","application/x-7z-compressed","application/x-rar-compressed"],l)};function A(q){n.$$.not_equal(l.thumbs,q)&&(l.thumbs=q,t(0,l),t(6,f),t(2,u))}const M=q=>t(0,l.maxSize=parseInt(q.target.value,10),l);function N(){l.maxSelect=wn(this.value),t(0,l),t(6,f),t(2,u)}function L(){l.protected=this.checked,t(0,l),t(6,f),t(2,u)}function I(q){u=q,t(2,u)}function R(q){l=q,t(0,l),t(6,f),t(2,u)}function $(q){ut.call(this,n,q)}function B(q){ut.call(this,n,q)}function H(q){ut.call(this,n,q)}return n.$$set=q=>{e=kt(kt({},e),ui(q)),t(5,r=rn(e,i)),"field"in q&&t(0,l=q.field),"key"in q&&t(1,s=q.key)},n.$$.update=()=>{n.$$.dirty&68&&f!=u&&(t(6,f=u),u?t(0,l.maxSelect=1,l):t(0,l.maxSelect=99,l)),n.$$.dirty&1&&(typeof l.maxSelect>"u"?c():h())},[l,s,u,a,o,r,f,p,_,v,b,y,A,M,N,L,I,R,$,B,H]}class zK extends je{constructor(e){super(),qe(this,e,UK,xK,We,{field:0,key:1})}}function qK(n){let e,t,i,r,l,s,o,a,u,f;return{c(){e=k("label"),t=le("Max size "),i=k("small"),i.textContent="(bytes)",l=D(),s=k("input"),m(e,"for",r=n[10]),m(s,"type","number"),m(s,"id",o=n[10]),m(s,"step","1"),m(s,"min","0"),m(s,"max",Number.MAX_SAFE_INTEGER),s.value=a=n[0].maxSize||"",m(s,"placeholder","Default to max ~1MB")},m(c,h){S(c,e,h),T(e,t),T(e,i),S(c,l,h),S(c,s,h),u||(f=se(s,"input",n[4]),u=!0)},p(c,h){h&1024&&r!==(r=c[10])&&m(e,"for",r),h&1024&&o!==(o=c[10])&&m(s,"id",o),h&1&&a!==(a=c[0].maxSize||"")&&s.value!==a&&(s.value=a)},d(c){c&&(E(e),E(l),E(s)),u=!1,f()}}}function jK(n){let e;return{c(){e=k("i"),m(e,"class","ri-arrow-down-s-line txt-sm")},m(t,i){S(t,e,i)},d(t){t&&E(e)}}}function WK(n){let e;return{c(){e=k("i"),m(e,"class","ri-arrow-up-s-line txt-sm")},m(t,i){S(t,e,i)},d(t){t&&E(e)}}}function J4(n){let e,t,i,r,l,s,o,a,u,f,c,h,p,_,v,b,y,A,M,N,L,I,R='"{"a":1,"b":2}"',$,B,H,q,z,j,W,G,ie,te,ae,ue,K;return{c(){e=k("div"),t=k("div"),i=k("div"),r=le("In order to support seamlessly both "),l=k("code"),l.textContent="application/json",s=le(` and
                        `),o=k("code"),o.textContent="multipart/form-data",a=le(`
                        requests, the following normalization rules are applied if the `),u=k("code"),u.textContent="json",f=le(` field
                        is a
                        `),c=k("strong"),c.textContent="plain string",h=le(`:
                        `),p=k("ul"),_=k("li"),_.innerHTML="&quot;true&quot; is converted to the json <code>true</code>",v=D(),b=k("li"),b.innerHTML="&quot;false&quot; is converted to the json <code>false</code>",y=D(),A=k("li"),A.innerHTML="&quot;null&quot; is converted to the json <code>null</code>",M=D(),N=k("li"),N.innerHTML="&quot;[1,2,3]&quot; is converted to the json <code>[1,2,3]</code>",L=D(),I=k("li"),$=le(R),B=le(" is converted to the json "),H=k("code"),H.textContent='{"a":1,"b":2}',q=D(),z=k("li"),z.textContent="numeric strings are converted to json number",j=D(),W=k("li"),W.textContent="double quoted strings are left as they are (aka. without normalizations)",G=D(),ie=k("li"),ie.textContent="any other string (empty string too) is double quoted",te=le(`
                        Alternatively, if you want to avoid the string value normalizations, you can wrap your
                        data inside an object, eg.`),ae=k("code"),ae.textContent='{"data": anything}',m(i,"class","content"),m(t,"class","alert alert-warning m-b-0 m-t-10"),m(e,"class","block")},m(X,_e){S(X,e,_e),T(e,t),T(t,i),T(i,r),T(i,l),T(i,s),T(i,o),T(i,a),T(i,u),T(i,f),T(i,c),T(i,h),T(i,p),T(p,_),T(p,v),T(p,b),T(p,y),T(p,A),T(p,M),T(p,N),T(p,L),T(p,I),T(I,$),T(I,B),T(I,H),T(p,q),T(p,z),T(p,j),T(p,W),T(p,G),T(p,ie),T(i,te),T(i,ae),K=!0},i(X){K||(X&&tn(()=>{K&&(ue||(ue=Et(e,En,{duration:150},!0)),ue.run(1))}),K=!0)},o(X){X&&(ue||(ue=Et(e,En,{duration:150},!1)),ue.run(0)),K=!1},d(X){X&&E(e),X&&ue&&ue.end()}}}function KK(n){let e,t,i,r,l,s,o,a,u,f,c;e=new Pe({props:{class:"form-field m-b-sm",name:"fields."+n[1]+".maxSize",$$slots:{default:[qK,({uniqueId:b})=>({10:b}),({uniqueId:b})=>b?1024:0]},$$scope:{ctx:n}}});function h(b,y){return b[2]?WK:jK}let p=h(n),_=p(n),v=n[2]&&J4();return{c(){ee(e.$$.fragment),t=D(),i=k("button"),r=k("strong"),r.textContent="String value normalizations",l=D(),_.c(),o=D(),v&&v.c(),a=ze(),m(r,"class","txt"),m(i,"type","button"),m(i,"class",s="btn btn-sm "+(n[2]?"btn-secondary":"btn-hint btn-transparent"))},m(b,y){Q(e,b,y),S(b,t,y),S(b,i,y),T(i,r),T(i,l),_.m(i,null),S(b,o,y),v&&v.m(b,y),S(b,a,y),u=!0,f||(c=se(i,"click",n[5]),f=!0)},p(b,y){const A={};y&2&&(A.name="fields."+b[1]+".maxSize"),y&3073&&(A.$$scope={dirty:y,ctx:b}),e.$set(A),p!==(p=h(b))&&(_.d(1),_=p(b),_&&(_.c(),_.m(i,null))),(!u||y&4&&s!==(s="btn btn-sm "+(b[2]?"btn-secondary":"btn-hint btn-transparent")))&&m(i,"class",s),b[2]?v?y&4&&F(v,1):(v=J4(),v.c(),F(v,1),v.m(a.parentNode,a)):v&&(Ne(),x(v,1,1,()=>{v=null}),Me())},i(b){u||(F(e.$$.fragment,b),F(v),u=!0)},o(b){x(e.$$.fragment,b),x(v),u=!1},d(b){b&&(E(t),E(i),E(o),E(a)),J(e,b),_.d(),v&&v.d(b),f=!1,c()}}}function VK(n){let e,t,i;const r=[{key:n[1]},n[3]];function l(o){n[6](o)}let s={$$slots:{options:[KK]},$$scope:{ctx:n}};for(let o=0;o<r.length;o+=1)s=kt(s,r[o]);return n[0]!==void 0&&(s.field=n[0]),e=new Zr({props:s}),ye.push(()=>Ke(e,"field",l)),e.$on("rename",n[7]),e.$on("remove",n[8]),e.$on("duplicate",n[9]),{c(){ee(e.$$.fragment)},m(o,a){Q(e,o,a),i=!0},p(o,[a]){const u=a&10?Ln(r,[a&2&&{key:o[1]},a&8&&Wn(o[3])]):{};a&2055&&(u.$$scope={dirty:a,ctx:o}),!t&&a&1&&(t=!0,u.field=o[0],Ye(()=>t=!1)),e.$set(u)},i(o){i||(F(e.$$.fragment,o),i=!0)},o(o){x(e.$$.fragment,o),i=!1},d(o){J(e,o)}}}function GK(n,e,t){const i=["field","key"];let r=rn(e,i),{field:l}=e,{key:s=""}=e,o=!1;const a=_=>t(0,l.maxSize=parseInt(_.target.value,10),l),u=()=>{t(2,o=!o)};function f(_){l=_,t(0,l)}function c(_){ut.call(this,n,_)}function h(_){ut.call(this,n,_)}function p(_){ut.call(this,n,_)}return n.$$set=_=>{e=kt(kt({},e),ui(_)),t(3,r=rn(e,i)),"field"in _&&t(0,l=_.field),"key"in _&&t(1,s=_.key)},[l,s,o,r,a,u,f,c,h,p]}class YK extends je{constructor(e){super(),qe(this,e,GK,VK,We,{field:0,key:1})}}function XK(n){let e,t,i,r,l,s,o,a;return{c(){e=k("label"),t=le("Min"),r=D(),l=k("input"),m(e,"for",i=n[10]),m(l,"type","number"),m(l,"id",s=n[10])},m(u,f){S(u,e,f),T(e,t),S(u,r,f),S(u,l,f),He(l,n[0].min),o||(a=se(l,"input",n[4]),o=!0)},p(u,f){f&1024&&i!==(i=u[10])&&m(e,"for",i),f&1024&&s!==(s=u[10])&&m(l,"id",s),f&1&&wn(l.value)!==u[0].min&&He(l,u[0].min)},d(u){u&&(E(e),E(r),E(l)),o=!1,a()}}}function ZK(n){let e,t,i,r,l,s,o,a,u;return{c(){e=k("label"),t=le("Max"),r=D(),l=k("input"),m(e,"for",i=n[10]),m(l,"type","number"),m(l,"id",s=n[10]),m(l,"min",o=n[0].min)},m(f,c){S(f,e,c),T(e,t),S(f,r,c),S(f,l,c),He(l,n[0].max),a||(u=se(l,"input",n[5]),a=!0)},p(f,c){c&1024&&i!==(i=f[10])&&m(e,"for",i),c&1024&&s!==(s=f[10])&&m(l,"id",s),c&1&&o!==(o=f[0].min)&&m(l,"min",o),c&1&&wn(l.value)!==f[0].max&&He(l,f[0].max)},d(f){f&&(E(e),E(r),E(l)),a=!1,u()}}}function QK(n){let e,t,i,r,l,s,o;return i=new Pe({props:{class:"form-field",name:"fields."+n[1]+".min",$$slots:{default:[XK,({uniqueId:a})=>({10:a}),({uniqueId:a})=>a?1024:0]},$$scope:{ctx:n}}}),s=new Pe({props:{class:"form-field",name:"fields."+n[1]+".max",$$slots:{default:[ZK,({uniqueId:a})=>({10:a}),({uniqueId:a})=>a?1024:0]},$$scope:{ctx:n}}}),{c(){e=k("div"),t=k("div"),ee(i.$$.fragment),r=D(),l=k("div"),ee(s.$$.fragment),m(t,"class","col-sm-6"),m(l,"class","col-sm-6"),m(e,"class","grid grid-sm")},m(a,u){S(a,e,u),T(e,t),Q(i,t,null),T(e,r),T(e,l),Q(s,l,null),o=!0},p(a,u){const f={};u&2&&(f.name="fields."+a[1]+".min"),u&3073&&(f.$$scope={dirty:u,ctx:a}),i.$set(f);const c={};u&2&&(c.name="fields."+a[1]+".max"),u&3073&&(c.$$scope={dirty:u,ctx:a}),s.$set(c)},i(a){o||(F(i.$$.fragment,a),F(s.$$.fragment,a),o=!0)},o(a){x(i.$$.fragment,a),x(s.$$.fragment,a),o=!1},d(a){a&&E(e),J(i),J(s)}}}function JK(n){let e,t,i,r,l,s,o,a,u,f;return{c(){e=k("input"),i=D(),r=k("label"),l=k("span"),l.textContent="No decimals",s=D(),o=k("i"),m(e,"type","checkbox"),m(e,"id",t=n[10]),m(l,"class","txt"),m(o,"class","ri-information-line link-hint"),m(r,"for",a=n[10])},m(c,h){S(c,e,h),e.checked=n[0].onlyInt,S(c,i,h),S(c,r,h),T(r,l),T(r,s),T(r,o),u||(f=[se(e,"change",n[3]),nt(_t.call(null,o,{text:"Existing decimal numbers will not be affected."}))],u=!0)},p(c,h){h&1024&&t!==(t=c[10])&&m(e,"id",t),h&1&&(e.checked=c[0].onlyInt),h&1024&&a!==(a=c[10])&&m(r,"for",a)},d(c){c&&(E(e),E(i),E(r)),u=!1,it(f)}}}function eV(n){let e,t;return e=new Pe({props:{class:"form-field form-field-toggle",name:"fields."+n[1]+".onlyInt",$$slots:{default:[JK,({uniqueId:i})=>({10:i}),({uniqueId:i})=>i?1024:0]},$$scope:{ctx:n}}}),{c(){ee(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,r){const l={};r&2&&(l.name="fields."+i[1]+".onlyInt"),r&3073&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){x(e.$$.fragment,i),t=!1},d(i){J(e,i)}}}function tV(n){let e,t,i;const r=[{key:n[1]},n[2]];function l(o){n[6](o)}let s={$$slots:{optionsFooter:[eV],options:[QK]},$$scope:{ctx:n}};for(let o=0;o<r.length;o+=1)s=kt(s,r[o]);return n[0]!==void 0&&(s.field=n[0]),e=new Zr({props:s}),ye.push(()=>Ke(e,"field",l)),e.$on("rename",n[7]),e.$on("remove",n[8]),e.$on("duplicate",n[9]),{c(){ee(e.$$.fragment)},m(o,a){Q(e,o,a),i=!0},p(o,[a]){const u=a&6?Ln(r,[a&2&&{key:o[1]},a&4&&Wn(o[2])]):{};a&2051&&(u.$$scope={dirty:a,ctx:o}),!t&&a&1&&(t=!0,u.field=o[0],Ye(()=>t=!1)),e.$set(u)},i(o){i||(F(e.$$.fragment,o),i=!0)},o(o){x(e.$$.fragment,o),i=!1},d(o){J(e,o)}}}function nV(n,e,t){const i=["field","key"];let r=rn(e,i),{field:l}=e,{key:s=""}=e;function o(){l.onlyInt=this.checked,t(0,l)}function a(){l.min=wn(this.value),t(0,l)}function u(){l.max=wn(this.value),t(0,l)}function f(_){l=_,t(0,l)}function c(_){ut.call(this,n,_)}function h(_){ut.call(this,n,_)}function p(_){ut.call(this,n,_)}return n.$$set=_=>{e=kt(kt({},e),ui(_)),t(2,r=rn(e,i)),"field"in _&&t(0,l=_.field),"key"in _&&t(1,s=_.key)},[l,s,r,o,a,u,f,c,h,p]}class iV extends je{constructor(e){super(),qe(this,e,nV,tV,We,{field:0,key:1})}}function rV(n){let e,t,i,r,l,s,o,a,u;return{c(){e=k("label"),t=le("Min length"),r=D(),l=k("input"),m(e,"for",i=n[12]),m(l,"type","number"),m(l,"id",s=n[12]),m(l,"step","1"),m(l,"min","0"),m(l,"placeholder","No min limit"),l.value=o=n[0].min||""},m(f,c){S(f,e,c),T(e,t),S(f,r,c),S(f,l,c),a||(u=se(l,"input",n[3]),a=!0)},p(f,c){c&4096&&i!==(i=f[12])&&m(e,"for",i),c&4096&&s!==(s=f[12])&&m(l,"id",s),c&1&&o!==(o=f[0].min||"")&&l.value!==o&&(l.value=o)},d(f){f&&(E(e),E(r),E(l)),a=!1,u()}}}function lV(n){let e,t,i,r,l,s,o,a,u,f;return{c(){e=k("label"),t=le("Max length"),r=D(),l=k("input"),m(e,"for",i=n[12]),m(l,"type","number"),m(l,"id",s=n[12]),m(l,"step","1"),m(l,"placeholder","Up to 71 chars"),m(l,"min",o=n[0].min||0),m(l,"max","71"),l.value=a=n[0].max||""},m(c,h){S(c,e,h),T(e,t),S(c,r,h),S(c,l,h),u||(f=se(l,"input",n[4]),u=!0)},p(c,h){h&4096&&i!==(i=c[12])&&m(e,"for",i),h&4096&&s!==(s=c[12])&&m(l,"id",s),h&1&&o!==(o=c[0].min||0)&&m(l,"min",o),h&1&&a!==(a=c[0].max||"")&&l.value!==a&&(l.value=a)},d(c){c&&(E(e),E(r),E(l)),u=!1,f()}}}function sV(n){let e,t,i,r,l,s,o,a,u;return{c(){e=k("label"),t=le("Bcrypt cost"),r=D(),l=k("input"),m(e,"for",i=n[12]),m(l,"type","number"),m(l,"id",s=n[12]),m(l,"placeholder","Default to 10"),m(l,"step","1"),m(l,"min","6"),m(l,"max","31"),l.value=o=n[0].cost||""},m(f,c){S(f,e,c),T(e,t),S(f,r,c),S(f,l,c),a||(u=se(l,"input",n[5]),a=!0)},p(f,c){c&4096&&i!==(i=f[12])&&m(e,"for",i),c&4096&&s!==(s=f[12])&&m(l,"id",s),c&1&&o!==(o=f[0].cost||"")&&l.value!==o&&(l.value=o)},d(f){f&&(E(e),E(r),E(l)),a=!1,u()}}}function oV(n){let e,t,i,r,l,s,o,a;return{c(){e=k("label"),t=le("Validation pattern"),r=D(),l=k("input"),m(e,"for",i=n[12]),m(l,"type","text"),m(l,"id",s=n[12]),m(l,"placeholder","ex. ^\\w+$")},m(u,f){S(u,e,f),T(e,t),S(u,r,f),S(u,l,f),He(l,n[0].pattern),o||(a=se(l,"input",n[6]),o=!0)},p(u,f){f&4096&&i!==(i=u[12])&&m(e,"for",i),f&4096&&s!==(s=u[12])&&m(l,"id",s),f&1&&l.value!==u[0].pattern&&He(l,u[0].pattern)},d(u){u&&(E(e),E(r),E(l)),o=!1,a()}}}function aV(n){let e,t,i,r,l,s,o,a,u,f,c,h,p;return i=new Pe({props:{class:"form-field",name:"fields."+n[1]+".min",$$slots:{default:[rV,({uniqueId:_})=>({12:_}),({uniqueId:_})=>_?4096:0]},$$scope:{ctx:n}}}),s=new Pe({props:{class:"form-field",name:"fields."+n[1]+".max",$$slots:{default:[lV,({uniqueId:_})=>({12:_}),({uniqueId:_})=>_?4096:0]},$$scope:{ctx:n}}}),u=new Pe({props:{class:"form-field",name:"fields."+n[1]+".cost",$$slots:{default:[sV,({uniqueId:_})=>({12:_}),({uniqueId:_})=>_?4096:0]},$$scope:{ctx:n}}}),h=new Pe({props:{class:"form-field",name:"fields."+n[1]+".pattern",$$slots:{default:[oV,({uniqueId:_})=>({12:_}),({uniqueId:_})=>_?4096:0]},$$scope:{ctx:n}}}),{c(){e=k("div"),t=k("div"),ee(i.$$.fragment),r=D(),l=k("div"),ee(s.$$.fragment),o=D(),a=k("div"),ee(u.$$.fragment),f=D(),c=k("div"),ee(h.$$.fragment),m(t,"class","col-sm-6"),m(l,"class","col-sm-6"),m(a,"class","col-sm-6"),m(c,"class","col-sm-6"),m(e,"class","grid grid-sm")},m(_,v){S(_,e,v),T(e,t),Q(i,t,null),T(e,r),T(e,l),Q(s,l,null),T(e,o),T(e,a),Q(u,a,null),T(e,f),T(e,c),Q(h,c,null),p=!0},p(_,v){const b={};v&2&&(b.name="fields."+_[1]+".min"),v&12289&&(b.$$scope={dirty:v,ctx:_}),i.$set(b);const y={};v&2&&(y.name="fields."+_[1]+".max"),v&12289&&(y.$$scope={dirty:v,ctx:_}),s.$set(y);const A={};v&2&&(A.name="fields."+_[1]+".cost"),v&12289&&(A.$$scope={dirty:v,ctx:_}),u.$set(A);const M={};v&2&&(M.name="fields."+_[1]+".pattern"),v&12289&&(M.$$scope={dirty:v,ctx:_}),h.$set(M)},i(_){p||(F(i.$$.fragment,_),F(s.$$.fragment,_),F(u.$$.fragment,_),F(h.$$.fragment,_),p=!0)},o(_){x(i.$$.fragment,_),x(s.$$.fragment,_),x(u.$$.fragment,_),x(h.$$.fragment,_),p=!1},d(_){_&&E(e),J(i),J(s),J(u),J(h)}}}function uV(n){let e,t,i;const r=[{key:n[1]},n[2]];function l(o){n[7](o)}let s={$$slots:{options:[aV]},$$scope:{ctx:n}};for(let o=0;o<r.length;o+=1)s=kt(s,r[o]);return n[0]!==void 0&&(s.field=n[0]),e=new Zr({props:s}),ye.push(()=>Ke(e,"field",l)),e.$on("rename",n[8]),e.$on("remove",n[9]),e.$on("duplicate",n[10]),{c(){ee(e.$$.fragment)},m(o,a){Q(e,o,a),i=!0},p(o,[a]){const u=a&6?Ln(r,[a&2&&{key:o[1]},a&4&&Wn(o[2])]):{};a&8195&&(u.$$scope={dirty:a,ctx:o}),!t&&a&1&&(t=!0,u.field=o[0],Ye(()=>t=!1)),e.$set(u)},i(o){i||(F(e.$$.fragment,o),i=!0)},o(o){x(e.$$.fragment,o),i=!1},d(o){J(e,o)}}}function fV(n,e,t){const i=["field","key"];let r=rn(e,i),{field:l}=e,{key:s=""}=e;function o(){t(0,l.cost=11,l)}const a=b=>t(0,l.min=b.target.value<<0,l),u=b=>t(0,l.max=b.target.value<<0,l),f=b=>t(0,l.cost=b.target.value<<0,l);function c(){l.pattern=this.value,t(0,l)}function h(b){l=b,t(0,l)}function p(b){ut.call(this,n,b)}function _(b){ut.call(this,n,b)}function v(b){ut.call(this,n,b)}return n.$$set=b=>{e=kt(kt({},e),ui(b)),t(2,r=rn(e,i)),"field"in b&&t(0,l=b.field),"key"in b&&t(1,s=b.key)},n.$$.update=()=>{n.$$.dirty&1&&re.isEmpty(l.id)&&o()},[l,s,r,a,u,f,c,h,p,_,v]}class cV extends je{constructor(e){super(),qe(this,e,fV,uV,We,{field:0,key:1})}}function dV(n){let e,t,i,r,l;return{c(){e=k("hr"),t=D(),i=k("button"),i.innerHTML='<i class="ri-add-line"></i> <span class="txt">New collection</span>',m(i,"type","button"),m(i,"class","btn btn-transparent btn-block btn-sm")},m(s,o){S(s,e,o),S(s,t,o),S(s,i,o),r||(l=se(i,"click",n[14]),r=!0)},p:ge,d(s){s&&(E(e),E(t),E(i)),r=!1,l()}}}function hV(n){let e,t,i;function r(s){n[15](s)}let l={id:n[24],searchable:n[5].length>5,selectPlaceholder:"Select collection *",noOptionsText:"No collections found",selectionKey:"id",items:n[5],readonly:!n[25]||n[0].id,$$slots:{afterOptions:[dV]},$$scope:{ctx:n}};return n[0].collectionId!==void 0&&(l.keyOfSelected=n[0].collectionId),e=new Nr({props:l}),ye.push(()=>Ke(e,"keyOfSelected",r)),{c(){ee(e.$$.fragment)},m(s,o){Q(e,s,o),i=!0},p(s,o){const a={};o&16777216&&(a.id=s[24]),o&32&&(a.searchable=s[5].length>5),o&32&&(a.items=s[5]),o&33554433&&(a.readonly=!s[25]||s[0].id),o&67108872&&(a.$$scope={dirty:o,ctx:s}),!t&&o&1&&(t=!0,a.keyOfSelected=s[0].collectionId,Ye(()=>t=!1)),e.$set(a)},i(s){i||(F(e.$$.fragment,s),i=!0)},o(s){x(e.$$.fragment,s),i=!1},d(s){J(e,s)}}}function pV(n){let e,t,i;function r(s){n[16](s)}let l={id:n[24],items:n[6],readonly:!n[25]};return n[2]!==void 0&&(l.keyOfSelected=n[2]),e=new Nr({props:l}),ye.push(()=>Ke(e,"keyOfSelected",r)),{c(){ee(e.$$.fragment)},m(s,o){Q(e,s,o),i=!0},p(s,o){const a={};o&16777216&&(a.id=s[24]),o&33554432&&(a.readonly=!s[25]),!t&&o&4&&(t=!0,a.keyOfSelected=s[2],Ye(()=>t=!1)),e.$set(a)},i(s){i||(F(e.$$.fragment,s),i=!0)},o(s){x(e.$$.fragment,s),i=!1},d(s){J(e,s)}}}function mV(n){let e,t,i,r,l,s,o,a,u,f;return i=new Pe({props:{class:"form-field required "+(n[25]?"":"readonly"),inlineError:!0,name:"fields."+n[1]+".collectionId",$$slots:{default:[hV,({uniqueId:c})=>({24:c}),({uniqueId:c})=>c?16777216:0]},$$scope:{ctx:n}}}),o=new Pe({props:{class:"form-field form-field-single-multiple-select "+(n[25]?"":"readonly"),inlineError:!0,$$slots:{default:[pV,({uniqueId:c})=>({24:c}),({uniqueId:c})=>c?16777216:0]},$$scope:{ctx:n}}}),{c(){e=k("div"),t=D(),ee(i.$$.fragment),r=D(),l=k("div"),s=D(),ee(o.$$.fragment),a=D(),u=k("div"),m(e,"class","separator"),m(l,"class","separator"),m(u,"class","separator")},m(c,h){S(c,e,h),S(c,t,h),Q(i,c,h),S(c,r,h),S(c,l,h),S(c,s,h),Q(o,c,h),S(c,a,h),S(c,u,h),f=!0},p(c,h){const p={};h&33554432&&(p.class="form-field required "+(c[25]?"":"readonly")),h&2&&(p.name="fields."+c[1]+".collectionId"),h&117440553&&(p.$$scope={dirty:h,ctx:c}),i.$set(p);const _={};h&33554432&&(_.class="form-field form-field-single-multiple-select "+(c[25]?"":"readonly")),h&117440516&&(_.$$scope={dirty:h,ctx:c}),o.$set(_)},i(c){f||(F(i.$$.fragment,c),F(o.$$.fragment,c),f=!0)},o(c){x(i.$$.fragment,c),x(o.$$.fragment,c),f=!1},d(c){c&&(E(e),E(t),E(r),E(l),E(s),E(a),E(u)),J(i,c),J(o,c)}}}function ek(n){let e,t,i,r,l,s;return t=new Pe({props:{class:"form-field",name:"fields."+n[1]+".minSelect",$$slots:{default:[gV,({uniqueId:o})=>({24:o}),({uniqueId:o})=>o?16777216:0]},$$scope:{ctx:n}}}),l=new Pe({props:{class:"form-field",name:"fields."+n[1]+".maxSelect",$$slots:{default:[_V,({uniqueId:o})=>({24:o}),({uniqueId:o})=>o?16777216:0]},$$scope:{ctx:n}}}),{c(){e=k("div"),ee(t.$$.fragment),i=D(),r=k("div"),ee(l.$$.fragment),m(e,"class","col-sm-6"),m(r,"class","col-sm-6")},m(o,a){S(o,e,a),Q(t,e,null),S(o,i,a),S(o,r,a),Q(l,r,null),s=!0},p(o,a){const u={};a&2&&(u.name="fields."+o[1]+".minSelect"),a&83886081&&(u.$$scope={dirty:a,ctx:o}),t.$set(u);const f={};a&2&&(f.name="fields."+o[1]+".maxSelect"),a&83886081&&(f.$$scope={dirty:a,ctx:o}),l.$set(f)},i(o){s||(F(t.$$.fragment,o),F(l.$$.fragment,o),s=!0)},o(o){x(t.$$.fragment,o),x(l.$$.fragment,o),s=!1},d(o){o&&(E(e),E(i),E(r)),J(t),J(l)}}}function gV(n){let e,t,i,r,l,s,o,a,u;return{c(){e=k("label"),t=le("Min select"),r=D(),l=k("input"),m(e,"for",i=n[24]),m(l,"type","number"),m(l,"id",s=n[24]),m(l,"step","1"),m(l,"min","0"),m(l,"placeholder","No min limit"),l.value=o=n[0].minSelect||""},m(f,c){S(f,e,c),T(e,t),S(f,r,c),S(f,l,c),a||(u=se(l,"input",n[11]),a=!0)},p(f,c){c&16777216&&i!==(i=f[24])&&m(e,"for",i),c&16777216&&s!==(s=f[24])&&m(l,"id",s),c&1&&o!==(o=f[0].minSelect||"")&&l.value!==o&&(l.value=o)},d(f){f&&(E(e),E(r),E(l)),a=!1,u()}}}function _V(n){let e,t,i,r,l,s,o,a,u;return{c(){e=k("label"),t=le("Max select"),r=D(),l=k("input"),m(e,"for",i=n[24]),m(l,"type","number"),m(l,"id",s=n[24]),m(l,"step","1"),m(l,"placeholder","Default to single"),m(l,"min",o=n[0].minSelect||1)},m(f,c){S(f,e,c),T(e,t),S(f,r,c),S(f,l,c),He(l,n[0].maxSelect),a||(u=se(l,"input",n[12]),a=!0)},p(f,c){c&16777216&&i!==(i=f[24])&&m(e,"for",i),c&16777216&&s!==(s=f[24])&&m(l,"id",s),c&1&&o!==(o=f[0].minSelect||1)&&m(l,"min",o),c&1&&wn(l.value)!==f[0].maxSelect&&He(l,f[0].maxSelect)},d(f){f&&(E(e),E(r),E(l)),a=!1,u()}}}function bV(n){let e,t,i,r,l,s,o,a,u,f,c,h;function p(v){n[13](v)}let _={id:n[24],items:n[7]};return n[0].cascadeDelete!==void 0&&(_.keyOfSelected=n[0].cascadeDelete),a=new Nr({props:_}),ye.push(()=>Ke(a,"keyOfSelected",p)),{c(){e=k("label"),t=k("span"),t.textContent="Cascade delete",i=D(),r=k("i"),o=D(),ee(a.$$.fragment),m(t,"class","txt"),m(r,"class","ri-information-line link-hint"),m(e,"for",s=n[24])},m(v,b){var y,A;S(v,e,b),T(e,t),T(e,i),T(e,r),S(v,o,b),Q(a,v,b),f=!0,c||(h=nt(l=_t.call(null,r,{text:[`Whether on ${((y=n[4])==null?void 0:y.name)||"relation"} record deletion to delete also the current corresponding collection record(s).`,n[2]?null:`For "Multiple" relation fields the cascade delete is triggered only when all ${((A=n[4])==null?void 0:A.name)||"relation"} ids are removed from the corresponding record.`].filter(Boolean).join(`

`),position:"top"})),c=!0)},p(v,b){var A,M;l&&Kn(l.update)&&b&20&&l.update.call(null,{text:[`Whether on ${((A=v[4])==null?void 0:A.name)||"relation"} record deletion to delete also the current corresponding collection record(s).`,v[2]?null:`For "Multiple" relation fields the cascade delete is triggered only when all ${((M=v[4])==null?void 0:M.name)||"relation"} ids are removed from the corresponding record.`].filter(Boolean).join(`

`),position:"top"}),(!f||b&16777216&&s!==(s=v[24]))&&m(e,"for",s);const y={};b&16777216&&(y.id=v[24]),!u&&b&1&&(u=!0,y.keyOfSelected=v[0].cascadeDelete,Ye(()=>u=!1)),a.$set(y)},i(v){f||(F(a.$$.fragment,v),f=!0)},o(v){x(a.$$.fragment,v),f=!1},d(v){v&&(E(e),E(o)),J(a,v),c=!1,h()}}}function vV(n){let e,t,i,r,l,s=!n[2]&&ek(n);return r=new Pe({props:{class:"form-field",name:"fields."+n[1]+".cascadeDelete",$$slots:{default:[bV,({uniqueId:o})=>({24:o}),({uniqueId:o})=>o?16777216:0]},$$scope:{ctx:n}}}),{c(){e=k("div"),s&&s.c(),t=D(),i=k("div"),ee(r.$$.fragment),m(i,"class","col-sm-12"),m(e,"class","grid grid-sm")},m(o,a){S(o,e,a),s&&s.m(e,null),T(e,t),T(e,i),Q(r,i,null),l=!0},p(o,a){o[2]?s&&(Ne(),x(s,1,1,()=>{s=null}),Me()):s?(s.p(o,a),a&4&&F(s,1)):(s=ek(o),s.c(),F(s,1),s.m(e,t));const u={};a&2&&(u.name="fields."+o[1]+".cascadeDelete"),a&83886101&&(u.$$scope={dirty:a,ctx:o}),r.$set(u)},i(o){l||(F(s),F(r.$$.fragment,o),l=!0)},o(o){x(s),x(r.$$.fragment,o),l=!1},d(o){o&&E(e),s&&s.d(),J(r)}}}function yV(n){let e,t,i,r,l;const s=[{key:n[1]},n[8]];function o(f){n[17](f)}let a={$$slots:{options:[vV],default:[mV,({interactive:f})=>({25:f}),({interactive:f})=>f?33554432:0]},$$scope:{ctx:n}};for(let f=0;f<s.length;f+=1)a=kt(a,s[f]);n[0]!==void 0&&(a.field=n[0]),e=new Zr({props:a}),ye.push(()=>Ke(e,"field",o)),e.$on("rename",n[18]),e.$on("remove",n[19]),e.$on("duplicate",n[20]);let u={};return r=new M_({props:u}),n[21](r),r.$on("save",n[22]),{c(){ee(e.$$.fragment),i=D(),ee(r.$$.fragment)},m(f,c){Q(e,f,c),S(f,i,c),Q(r,f,c),l=!0},p(f,[c]){const h=c&258?Ln(s,[c&2&&{key:f[1]},c&256&&Wn(f[8])]):{};c&100663359&&(h.$$scope={dirty:c,ctx:f}),!t&&c&1&&(t=!0,h.field=f[0],Ye(()=>t=!1)),e.$set(h);const p={};r.$set(p)},i(f){l||(F(e.$$.fragment,f),F(r.$$.fragment,f),l=!0)},o(f){x(e.$$.fragment,f),x(r.$$.fragment,f),l=!1},d(f){f&&E(i),J(e,f),n[21](null),J(r,f)}}}function kV(n,e,t){let i,r;const l=["field","key"];let s=rn(e,l),o;Wt(n,Or,z=>t(10,o=z));let{field:a}=e,{key:u=""}=e;const f=[{label:"Single",value:!0},{label:"Multiple",value:!1}],c=[{label:"False",value:!1},{label:"True",value:!0}];let h=null,p=a.maxSelect<=1,_=p;function v(){t(0,a.maxSelect=1,a),t(0,a.collectionId=null,a),t(0,a.cascadeDelete=!1,a),t(2,p=!0),t(9,_=p)}const b=z=>t(0,a.minSelect=z.target.value<<0,a);function y(){a.maxSelect=wn(this.value),t(0,a),t(9,_),t(2,p)}function A(z){n.$$.not_equal(a.cascadeDelete,z)&&(a.cascadeDelete=z,t(0,a),t(9,_),t(2,p))}const M=()=>h==null?void 0:h.show();function N(z){n.$$.not_equal(a.collectionId,z)&&(a.collectionId=z,t(0,a),t(9,_),t(2,p))}function L(z){p=z,t(2,p)}function I(z){a=z,t(0,a),t(9,_),t(2,p)}function R(z){ut.call(this,n,z)}function $(z){ut.call(this,n,z)}function B(z){ut.call(this,n,z)}function H(z){ye[z?"unshift":"push"](()=>{h=z,t(3,h)})}const q=z=>{var j,W;(W=(j=z==null?void 0:z.detail)==null?void 0:j.collection)!=null&&W.id&&z.detail.collection.type!="view"&&t(0,a.collectionId=z.detail.collection.id,a)};return n.$$set=z=>{e=kt(kt({},e),ui(z)),t(8,s=rn(e,l)),"field"in z&&t(0,a=z.field),"key"in z&&t(1,u=z.key)},n.$$.update=()=>{n.$$.dirty&1024&&t(5,i=o.filter(z=>!z.system&&z.type!="view")),n.$$.dirty&516&&_!=p&&(t(9,_=p),p?(t(0,a.minSelect=0,a),t(0,a.maxSelect=1,a)):t(0,a.maxSelect=999,a)),n.$$.dirty&1&&typeof a.maxSelect>"u"&&v(),n.$$.dirty&1025&&t(4,r=o.find(z=>z.id==a.collectionId)||null)},[a,u,p,h,r,i,f,c,s,_,o,b,y,A,M,N,L,I,R,$,B,H,q]}class TV extends je{constructor(e){super(),qe(this,e,kV,yV,We,{field:0,key:1})}}function tk(n,e,t){const i=n.slice();return i[22]=e[t],i[24]=t,i}function nk(n){let e,t;return e=new Ar({props:{class:"dropdown dropdown-block options-dropdown dropdown-left m-t-0 p-0",$$slots:{default:[EV]},$$scope:{ctx:n}}}),e.$on("hide",n[21]),{c(){ee(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,r){const l={};r&33554547&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){x(e.$$.fragment,i),t=!1},d(i){J(e,i)}}}function wV(n){let e,t,i=n[22]+"",r,l,s,o,a,u,f;function c(){return n[15](n[22])}return{c(){e=k("div"),t=k("span"),r=le(i),l=D(),s=k("div"),o=D(),a=k("button"),a.innerHTML='<i class="ri-close-line" aria-hidden="true"></i>',m(t,"class","txt"),m(s,"class","flex-fill"),m(a,"type","button"),m(a,"class","btn btn-circle btn-transparent btn-hint btn-xs"),m(a,"title","Remove"),m(e,"class","dropdown-item plain svelte-3le152")},m(h,p){S(h,e,p),T(e,t),T(t,r),T(e,l),T(e,s),T(e,o),T(e,a),u||(f=se(a,"click",Ai(c)),u=!0)},p(h,p){n=h,p&1&&i!==(i=n[22]+"")&&Se(r,i)},d(h){h&&E(e),u=!1,f()}}}function ik(n,e){let t,i,r,l;function s(a){e[16](a)}let o={index:e[24],group:"options_"+e[1],$$slots:{default:[wV]},$$scope:{ctx:e}};return e[0]!==void 0&&(o.list=e[0]),i=new nf({props:o}),ye.push(()=>Ke(i,"list",s)),{key:n,first:null,c(){t=ze(),ee(i.$$.fragment),this.first=t},m(a,u){S(a,t,u),Q(i,a,u),l=!0},p(a,u){e=a;const f={};u&1&&(f.index=e[24]),u&2&&(f.group="options_"+e[1]),u&33554433&&(f.$$scope={dirty:u,ctx:e}),!r&&u&1&&(r=!0,f.list=e[0],Ye(()=>r=!1)),i.$set(f)},i(a){l||(F(i.$$.fragment,a),l=!0)},o(a){x(i.$$.fragment,a),l=!1},d(a){a&&E(t),J(i,a)}}}function EV(n){let e,t=[],i=new Map,r,l,s,o,a,u,f,c,h,p,_,v=Re(n[0]);const b=y=>y[22];for(let y=0;y<v.length;y+=1){let A=tk(n,v,y),M=b(A);i.set(M,t[y]=ik(M,A))}return{c(){e=k("div");for(let y=0;y<t.length;y+=1)t[y].c();r=D(),l=k("div"),s=k("div"),o=k("div"),a=k("input"),u=D(),f=k("div"),c=k("button"),c.innerHTML='<i class="ri-add-line" aria-hidden="true"></i>',a.autofocus=!0,m(a,"type","text"),m(a,"class","new-item-input svelte-3le152"),m(a,"placeholder",n[4]),m(c,"type","button"),m(c,"class","btn btn-transparent btn-xs btn-circle new-item-btn svelte-3le152"),m(c,"title","Add new"),he(c,"btn-disabled",!n[6].length),m(f,"class","form-field-addon suffix"),m(o,"class","input-group"),m(s,"class","form-field form-field-sm m-0"),m(l,"class","new-item-form svelte-3le152"),m(e,"class","block")},m(y,A){S(y,e,A);for(let M=0;M<t.length;M+=1)t[M]&&t[M].m(e,null);T(e,r),T(e,l),T(l,s),T(s,o),T(o,a),n[17](a),He(a,n[6]),T(o,u),T(o,f),T(f,c),h=!0,a.focus(),p||(_=[se(a,"input",n[18]),se(a,"keydown",n[19]),se(c,"click",n[20]),se(e,"dragover",Ai(n[10])),se(e,"dragleave",Ai(n[11])),se(e,"dragend",Ai(n[12])),se(e,"dragstart",Ai(n[13])),se(e,"drop",Ai(n[14]))],p=!0)},p(y,A){A&259&&(v=Re(y[0]),Ne(),t=In(t,A,b,1,y,v,i,e,di,ik,r,tk),Me()),(!h||A&16)&&m(a,"placeholder",y[4]),A&64&&a.value!==y[6]&&He(a,y[6]),(!h||A&64)&&he(c,"btn-disabled",!y[6].length)},i(y){if(!h){for(let A=0;A<v.length;A+=1)F(t[A]);h=!0}},o(y){for(let A=0;A<t.length;A+=1)x(t[A]);h=!1},d(y){y&&E(e);for(let A=0;A<t.length;A+=1)t[A].d();n[17](null),p=!1,it(_)}}}function SV(n){let e,t,i,r,l=!n[2]&&nk(n);return{c(){e=k("div"),t=k("input"),i=D(),l&&l.c(),m(t,"id",n[1]),t.readOnly=!0,m(t,"type","text"),m(t,"class","formatted-value-input svelte-3le152"),t.disabled=n[2],m(t,"placeholder",n[3]),t.value=n[7],m(t,"title",n[7]),m(e,"class","block")},m(s,o){S(s,e,o),T(e,t),T(e,i),l&&l.m(e,null),r=!0},p(s,[o]){(!r||o&2)&&m(t,"id",s[1]),(!r||o&4)&&(t.disabled=s[2]),(!r||o&8)&&m(t,"placeholder",s[3]),(!r||o&128&&t.value!==s[7])&&(t.value=s[7]),(!r||o&128)&&m(t,"title",s[7]),s[2]?l&&(Ne(),x(l,1,1,()=>{l=null}),Me()):l?(l.p(s,o),o&4&&F(l,1)):(l=nk(s),l.c(),F(l,1),l.m(e,null))},i(s){r||(F(l),r=!0)},o(s){x(l),r=!1},d(s){s&&E(e),l&&l.d()}}}function CV(n,e,t){let i,{id:r=null}=e,{items:l=[]}=e,{disabled:s=!1}=e,{emptyPlaceholder:o="Add items"}=e,{newPlaceholder:a="e.g. optionA"}=e,u,f="";function c(B){t(0,l=l||[]),re.removeByValue(l,B),l.length||u==null||u.focus()}function h(B){const H=B.trim();H.length&&(t(0,l=l||[]),re.pushUnique(l,H),t(6,f=""))}function p(B){ut.call(this,n,B)}function _(B){ut.call(this,n,B)}function v(B){ut.call(this,n,B)}function b(B){ut.call(this,n,B)}function y(B){ut.call(this,n,B)}const A=B=>c(B);function M(B){l=B,t(0,l)}function N(B){ye[B?"unshift":"push"](()=>{u=B,t(5,u)})}function L(){f=this.value,t(6,f)}const I=B=>{B.code==="Enter"&&(B.preventDefault(),h(B.target.value))},R=()=>h(f),$=()=>t(6,f="");return n.$$set=B=>{"id"in B&&t(1,r=B.id),"items"in B&&t(0,l=B.items),"disabled"in B&&t(2,s=B.disabled),"emptyPlaceholder"in B&&t(3,o=B.emptyPlaceholder),"newPlaceholder"in B&&t(4,a=B.newPlaceholder)},n.$$.update=()=>{n.$$.dirty&1&&t(7,i=l.join(" • "))},[l,r,s,o,a,u,f,i,c,h,p,_,v,b,y,A,M,N,L,I,R,$]}class AV extends je{constructor(e){super(),qe(this,e,CV,SV,We,{id:1,items:0,disabled:2,emptyPlaceholder:3,newPlaceholder:4})}}function OV(n){let e,t,i;function r(s){n[7](s)}let l={id:n[14],emptyPlaceholder:"Add choices *"};return n[0].values!==void 0&&(l.items=n[0].values),e=new AV({props:l}),ye.push(()=>Ke(e,"items",r)),{c(){ee(e.$$.fragment)},m(s,o){Q(e,s,o),i=!0},p(s,o){const a={};o&16384&&(a.id=s[14]),!t&&o&1&&(t=!0,a.items=s[0].values,Ye(()=>t=!1)),e.$set(a)},i(s){i||(F(e.$$.fragment,s),i=!0)},o(s){x(e.$$.fragment,s),i=!1},d(s){J(e,s)}}}function NV(n){let e,t,i;function r(s){n[8](s)}let l={id:n[14],items:n[3],readonly:!n[15]};return n[2]!==void 0&&(l.keyOfSelected=n[2]),e=new Nr({props:l}),ye.push(()=>Ke(e,"keyOfSelected",r)),{c(){ee(e.$$.fragment)},m(s,o){Q(e,s,o),i=!0},p(s,o){const a={};o&16384&&(a.id=s[14]),o&32768&&(a.readonly=!s[15]),!t&&o&4&&(t=!0,a.keyOfSelected=s[2],Ye(()=>t=!1)),e.$set(a)},i(s){i||(F(e.$$.fragment,s),i=!0)},o(s){x(e.$$.fragment,s),i=!1},d(s){J(e,s)}}}function MV(n){let e,t,i,r,l,s,o,a,u,f;return i=new Pe({props:{class:"form-field required "+(n[15]?"":"readonly"),inlineError:!0,name:"fields."+n[1]+".values",$$slots:{default:[OV,({uniqueId:c})=>({14:c}),({uniqueId:c})=>c?16384:0]},$$scope:{ctx:n}}}),o=new Pe({props:{class:"form-field form-field-single-multiple-select "+(n[15]?"":"readonly"),inlineError:!0,$$slots:{default:[NV,({uniqueId:c})=>({14:c}),({uniqueId:c})=>c?16384:0]},$$scope:{ctx:n}}}),{c(){e=k("div"),t=D(),ee(i.$$.fragment),r=D(),l=k("div"),s=D(),ee(o.$$.fragment),a=D(),u=k("div"),m(e,"class","separator"),m(l,"class","separator"),m(u,"class","separator")},m(c,h){S(c,e,h),S(c,t,h),Q(i,c,h),S(c,r,h),S(c,l,h),S(c,s,h),Q(o,c,h),S(c,a,h),S(c,u,h),f=!0},p(c,h){const p={};h&32768&&(p.class="form-field required "+(c[15]?"":"readonly")),h&2&&(p.name="fields."+c[1]+".values"),h&81921&&(p.$$scope={dirty:h,ctx:c}),i.$set(p);const _={};h&32768&&(_.class="form-field form-field-single-multiple-select "+(c[15]?"":"readonly")),h&114692&&(_.$$scope={dirty:h,ctx:c}),o.$set(_)},i(c){f||(F(i.$$.fragment,c),F(o.$$.fragment,c),f=!0)},o(c){x(i.$$.fragment,c),x(o.$$.fragment,c),f=!1},d(c){c&&(E(e),E(t),E(r),E(l),E(s),E(a),E(u)),J(i,c),J(o,c)}}}function rk(n){let e,t;return e=new Pe({props:{class:"form-field",name:"fields."+n[1]+".maxSelect",$$slots:{default:[IV,({uniqueId:i})=>({14:i}),({uniqueId:i})=>i?16384:0]},$$scope:{ctx:n}}}),{c(){ee(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,r){const l={};r&2&&(l.name="fields."+i[1]+".maxSelect"),r&81921&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){x(e.$$.fragment,i),t=!1},d(i){J(e,i)}}}function IV(n){let e,t,i,r,l,s,o,a,u;return{c(){e=k("label"),t=le("Max select"),r=D(),l=k("input"),m(e,"for",i=n[14]),m(l,"id",s=n[14]),m(l,"type","number"),m(l,"step","1"),m(l,"min","2"),m(l,"max",o=n[0].values.length),m(l,"placeholder","Default to single")},m(f,c){S(f,e,c),T(e,t),S(f,r,c),S(f,l,c),He(l,n[0].maxSelect),a||(u=se(l,"input",n[6]),a=!0)},p(f,c){c&16384&&i!==(i=f[14])&&m(e,"for",i),c&16384&&s!==(s=f[14])&&m(l,"id",s),c&1&&o!==(o=f[0].values.length)&&m(l,"max",o),c&1&&wn(l.value)!==f[0].maxSelect&&He(l,f[0].maxSelect)},d(f){f&&(E(e),E(r),E(l)),a=!1,u()}}}function LV(n){let e,t,i=!n[2]&&rk(n);return{c(){i&&i.c(),e=ze()},m(r,l){i&&i.m(r,l),S(r,e,l),t=!0},p(r,l){r[2]?i&&(Ne(),x(i,1,1,()=>{i=null}),Me()):i?(i.p(r,l),l&4&&F(i,1)):(i=rk(r),i.c(),F(i,1),i.m(e.parentNode,e))},i(r){t||(F(i),t=!0)},o(r){x(i),t=!1},d(r){r&&E(e),i&&i.d(r)}}}function DV(n){let e,t,i;const r=[{key:n[1]},n[4]];function l(o){n[9](o)}let s={$$slots:{options:[LV],default:[MV,({interactive:o})=>({15:o}),({interactive:o})=>o?32768:0]},$$scope:{ctx:n}};for(let o=0;o<r.length;o+=1)s=kt(s,r[o]);return n[0]!==void 0&&(s.field=n[0]),e=new Zr({props:s}),ye.push(()=>Ke(e,"field",l)),e.$on("rename",n[10]),e.$on("remove",n[11]),e.$on("duplicate",n[12]),{c(){ee(e.$$.fragment)},m(o,a){Q(e,o,a),i=!0},p(o,[a]){const u=a&18?Ln(r,[a&2&&{key:o[1]},a&16&&Wn(o[4])]):{};a&98311&&(u.$$scope={dirty:a,ctx:o}),!t&&a&1&&(t=!0,u.field=o[0],Ye(()=>t=!1)),e.$set(u)},i(o){i||(F(e.$$.fragment,o),i=!0)},o(o){x(e.$$.fragment,o),i=!1},d(o){J(e,o)}}}function RV(n,e,t){const i=["field","key"];let r=rn(e,i),{field:l}=e,{key:s=""}=e;const o=[{label:"Single",value:!0},{label:"Multiple",value:!1}];let a=l.maxSelect<=1,u=a;function f(){t(0,l.maxSelect=1,l),t(0,l.values=[],l),t(2,a=!0),t(5,u=a)}function c(){l.maxSelect=wn(this.value),t(0,l),t(5,u),t(2,a)}function h(A){n.$$.not_equal(l.values,A)&&(l.values=A,t(0,l),t(5,u),t(2,a))}function p(A){a=A,t(2,a)}function _(A){l=A,t(0,l),t(5,u),t(2,a)}function v(A){ut.call(this,n,A)}function b(A){ut.call(this,n,A)}function y(A){ut.call(this,n,A)}return n.$$set=A=>{e=kt(kt({},e),ui(A)),t(4,r=rn(e,i)),"field"in A&&t(0,l=A.field),"key"in A&&t(1,s=A.key)},n.$$.update=()=>{var A;n.$$.dirty&37&&u!=a&&(t(5,u=a),a?t(0,l.maxSelect=1,l):t(0,l.maxSelect=((A=l.values)==null?void 0:A.length)||2,l)),n.$$.dirty&1&&typeof l.maxSelect>"u"&&f()},[l,s,a,o,r,u,c,h,p,_,v,b,y]}class PV extends je{constructor(e){super(),qe(this,e,RV,DV,We,{field:0,key:1})}}function FV(n){let e,t,i,r,l,s,o,a,u,f,c;return{c(){e=k("label"),t=k("span"),t.textContent="Min length",i=D(),r=k("i"),s=D(),o=k("input"),m(t,"class","txt"),m(r,"class","ri-information-line link-hint"),m(e,"for",l=n[11]),m(o,"type","number"),m(o,"id",a=n[11]),m(o,"step","1"),m(o,"min","0"),m(o,"max",Number.MAX_SAFE_INTEGER),m(o,"placeholder","No min limit"),o.value=u=n[0].min||""},m(h,p){S(h,e,p),T(e,t),T(e,i),T(e,r),S(h,s,p),S(h,o,p),f||(c=[nt(_t.call(null,r,"Clear the field or set it to 0 for no limit.")),se(o,"input",n[3])],f=!0)},p(h,p){p&2048&&l!==(l=h[11])&&m(e,"for",l),p&2048&&a!==(a=h[11])&&m(o,"id",a),p&1&&u!==(u=h[0].min||"")&&o.value!==u&&(o.value=u)},d(h){h&&(E(e),E(s),E(o)),f=!1,it(c)}}}function $V(n){let e,t,i,r,l,s,o,a,u,f,c,h;return{c(){e=k("label"),t=k("span"),t.textContent="Max length",i=D(),r=k("i"),s=D(),o=k("input"),m(t,"class","txt"),m(r,"class","ri-information-line link-hint"),m(e,"for",l=n[11]),m(o,"type","number"),m(o,"id",a=n[11]),m(o,"step","1"),m(o,"placeholder","Default to max 5000 characters"),m(o,"min",u=n[0].min||0),m(o,"max",Number.MAX_SAFE_INTEGER),o.value=f=n[0].max||""},m(p,_){S(p,e,_),T(e,t),T(e,i),T(e,r),S(p,s,_),S(p,o,_),c||(h=[nt(_t.call(null,r,"Clear the field or set it to 0 to fallback to the default limit.")),se(o,"input",n[4])],c=!0)},p(p,_){_&2048&&l!==(l=p[11])&&m(e,"for",l),_&2048&&a!==(a=p[11])&&m(o,"id",a),_&1&&u!==(u=p[0].min||0)&&m(o,"min",u),_&1&&f!==(f=p[0].max||"")&&o.value!==f&&(o.value=f)},d(p){p&&(E(e),E(s),E(o)),c=!1,it(h)}}}function HV(n){let e,t,i,r,l,s,o,a,u,f,c,h,p;return{c(){e=k("label"),t=le("Validation pattern"),r=D(),l=k("input"),o=D(),a=k("div"),u=k("p"),f=le("Ex. "),c=k("code"),c.textContent="^[a-z0-9]+$",m(e,"for",i=n[11]),m(l,"type","text"),m(l,"id",s=n[11]),m(a,"class","help-block")},m(_,v){S(_,e,v),T(e,t),S(_,r,v),S(_,l,v),He(l,n[0].pattern),S(_,o,v),S(_,a,v),T(a,u),T(u,f),T(u,c),h||(p=se(l,"input",n[5]),h=!0)},p(_,v){v&2048&&i!==(i=_[11])&&m(e,"for",i),v&2048&&s!==(s=_[11])&&m(l,"id",s),v&1&&l.value!==_[0].pattern&&He(l,_[0].pattern)},d(_){_&&(E(e),E(r),E(l),E(o),E(a)),h=!1,p()}}}function BV(n){let e,t,i,r,l,s,o,a,u,f,c,h,p,_,v;return{c(){e=k("label"),t=k("span"),t.textContent="Autogenerate pattern",i=D(),r=k("i"),s=D(),o=k("input"),u=D(),f=k("div"),c=k("p"),h=le("Ex. "),p=k("code"),p.textContent="[a-z0-9]{30}",m(t,"class","txt"),m(r,"class","ri-information-line link-hint"),m(e,"for",l=n[11]),m(o,"type","text"),m(o,"id",a=n[11]),m(f,"class","help-block")},m(b,y){S(b,e,y),T(e,t),T(e,i),T(e,r),S(b,s,y),S(b,o,y),He(o,n[0].autogeneratePattern),S(b,u,y),S(b,f,y),T(f,c),T(c,h),T(c,p),_||(v=[nt(_t.call(null,r,"Set and autogenerate text matching the pattern on missing record create value.")),se(o,"input",n[6])],_=!0)},p(b,y){y&2048&&l!==(l=b[11])&&m(e,"for",l),y&2048&&a!==(a=b[11])&&m(o,"id",a),y&1&&o.value!==b[0].autogeneratePattern&&He(o,b[0].autogeneratePattern)},d(b){b&&(E(e),E(s),E(o),E(u),E(f)),_=!1,it(v)}}}function xV(n){let e,t,i,r,l,s,o,a,u,f,c,h,p;return i=new Pe({props:{class:"form-field",name:"fields."+n[1]+".min",$$slots:{default:[FV,({uniqueId:_})=>({11:_}),({uniqueId:_})=>_?2048:0]},$$scope:{ctx:n}}}),s=new Pe({props:{class:"form-field",name:"fields."+n[1]+".max",$$slots:{default:[$V,({uniqueId:_})=>({11:_}),({uniqueId:_})=>_?2048:0]},$$scope:{ctx:n}}}),u=new Pe({props:{class:"form-field",name:"fields."+n[1]+".pattern",$$slots:{default:[HV,({uniqueId:_})=>({11:_}),({uniqueId:_})=>_?2048:0]},$$scope:{ctx:n}}}),h=new Pe({props:{class:"form-field",name:"fields."+n[1]+".autogeneratePattern",$$slots:{default:[BV,({uniqueId:_})=>({11:_}),({uniqueId:_})=>_?2048:0]},$$scope:{ctx:n}}}),{c(){e=k("div"),t=k("div"),ee(i.$$.fragment),r=D(),l=k("div"),ee(s.$$.fragment),o=D(),a=k("div"),ee(u.$$.fragment),f=D(),c=k("div"),ee(h.$$.fragment),m(t,"class","col-sm-6"),m(l,"class","col-sm-6"),m(a,"class","col-sm-6"),m(c,"class","col-sm-6"),m(e,"class","grid grid-sm")},m(_,v){S(_,e,v),T(e,t),Q(i,t,null),T(e,r),T(e,l),Q(s,l,null),T(e,o),T(e,a),Q(u,a,null),T(e,f),T(e,c),Q(h,c,null),p=!0},p(_,v){const b={};v&2&&(b.name="fields."+_[1]+".min"),v&6145&&(b.$$scope={dirty:v,ctx:_}),i.$set(b);const y={};v&2&&(y.name="fields."+_[1]+".max"),v&6145&&(y.$$scope={dirty:v,ctx:_}),s.$set(y);const A={};v&2&&(A.name="fields."+_[1]+".pattern"),v&6145&&(A.$$scope={dirty:v,ctx:_}),u.$set(A);const M={};v&2&&(M.name="fields."+_[1]+".autogeneratePattern"),v&6145&&(M.$$scope={dirty:v,ctx:_}),h.$set(M)},i(_){p||(F(i.$$.fragment,_),F(s.$$.fragment,_),F(u.$$.fragment,_),F(h.$$.fragment,_),p=!0)},o(_){x(i.$$.fragment,_),x(s.$$.fragment,_),x(u.$$.fragment,_),x(h.$$.fragment,_),p=!1},d(_){_&&E(e),J(i),J(s),J(u),J(h)}}}function UV(n){let e,t,i;const r=[{key:n[1]},n[2]];function l(o){n[7](o)}let s={$$slots:{options:[xV]},$$scope:{ctx:n}};for(let o=0;o<r.length;o+=1)s=kt(s,r[o]);return n[0]!==void 0&&(s.field=n[0]),e=new Zr({props:s}),ye.push(()=>Ke(e,"field",l)),e.$on("rename",n[8]),e.$on("remove",n[9]),e.$on("duplicate",n[10]),{c(){ee(e.$$.fragment)},m(o,a){Q(e,o,a),i=!0},p(o,[a]){const u=a&6?Ln(r,[a&2&&{key:o[1]},a&4&&Wn(o[2])]):{};a&4099&&(u.$$scope={dirty:a,ctx:o}),!t&&a&1&&(t=!0,u.field=o[0],Ye(()=>t=!1)),e.$set(u)},i(o){i||(F(e.$$.fragment,o),i=!0)},o(o){x(e.$$.fragment,o),i=!1},d(o){J(e,o)}}}function zV(n,e,t){const i=["field","key"];let r=rn(e,i),{field:l}=e,{key:s=""}=e;const o=v=>t(0,l.min=parseInt(v.target.value,10),l),a=v=>t(0,l.max=parseInt(v.target.value,10),l);function u(){l.pattern=this.value,t(0,l)}function f(){l.autogeneratePattern=this.value,t(0,l)}function c(v){l=v,t(0,l)}function h(v){ut.call(this,n,v)}function p(v){ut.call(this,n,v)}function _(v){ut.call(this,n,v)}return n.$$set=v=>{e=kt(kt({},e),ui(v)),t(2,r=rn(e,i)),"field"in v&&t(0,l=v.field),"key"in v&&t(1,s=v.key)},[l,s,r,o,a,u,f,c,h,p,_]}class qV extends je{constructor(e){super(),qe(this,e,zV,UV,We,{field:0,key:1})}}function jV(n){let e,t,i;const r=[{key:n[1]},n[2]];function l(o){n[3](o)}let s={};for(let o=0;o<r.length;o+=1)s=kt(s,r[o]);return n[0]!==void 0&&(s.field=n[0]),e=new OA({props:s}),ye.push(()=>Ke(e,"field",l)),e.$on("rename",n[4]),e.$on("remove",n[5]),e.$on("duplicate",n[6]),{c(){ee(e.$$.fragment)},m(o,a){Q(e,o,a),i=!0},p(o,[a]){const u=a&6?Ln(r,[a&2&&{key:o[1]},a&4&&Wn(o[2])]):{};!t&&a&1&&(t=!0,u.field=o[0],Ye(()=>t=!1)),e.$set(u)},i(o){i||(F(e.$$.fragment,o),i=!0)},o(o){x(e.$$.fragment,o),i=!1},d(o){J(e,o)}}}function WV(n,e,t){const i=["field","key"];let r=rn(e,i),{field:l}=e,{key:s=""}=e;function o(c){l=c,t(0,l)}function a(c){ut.call(this,n,c)}function u(c){ut.call(this,n,c)}function f(c){ut.call(this,n,c)}return n.$$set=c=>{e=kt(kt({},e),ui(c)),t(2,r=rn(e,i)),"field"in c&&t(0,l=c.field),"key"in c&&t(1,s=c.key)},[l,s,r,o,a,u,f]}class KV extends je{constructor(e){super(),qe(this,e,WV,jV,We,{field:0,key:1})}}function VV(n){let e,t,i;const r=[{key:n[1]},n[2]];function l(o){n[3](o)}let s={};for(let o=0;o<r.length;o+=1)s=kt(s,r[o]);return n[0]!==void 0&&(s.field=n[0]),e=new Zr({props:s}),ye.push(()=>Ke(e,"field",l)),e.$on("rename",n[4]),e.$on("remove",n[5]),e.$on("duplicate",n[6]),{c(){ee(e.$$.fragment)},m(o,a){Q(e,o,a),i=!0},p(o,[a]){const u=a&6?Ln(r,[a&2&&{key:o[1]},a&4&&Wn(o[2])]):{};!t&&a&1&&(t=!0,u.field=o[0],Ye(()=>t=!1)),e.$set(u)},i(o){i||(F(e.$$.fragment,o),i=!0)},o(o){x(e.$$.fragment,o),i=!1},d(o){J(e,o)}}}function GV(n,e,t){const i=["field","key"];let r=rn(e,i),{field:l}=e,{key:s=""}=e;function o(c){l=c,t(0,l)}function a(c){ut.call(this,n,c)}function u(c){ut.call(this,n,c)}function f(c){ut.call(this,n,c)}return n.$$set=c=>{e=kt(kt({},e),ui(c)),t(2,r=rn(e,i)),"field"in c&&t(0,l=c.field),"key"in c&&t(1,s=c.key)},[l,s,r,o,a,u,f]}class YV extends je{constructor(e){super(),qe(this,e,GV,VV,We,{field:0,key:1})}}function lk(n,e,t){const i=n.slice();return i[24]=e[t],i[25]=e,i[26]=t,i}function XV(n){let e,t,i,r;function l(f){n[8](f,n[24],n[25],n[26])}function s(){return n[9](n[26])}function o(){return n[10](n[26])}var a=n[1][n[24].type];function u(f,c){let h={key:f[5](f[24]),collection:f[0]};return f[24]!==void 0&&(h.field=f[24]),{props:h}}return a&&(e=ri(a,u(n)),ye.push(()=>Ke(e,"field",l)),e.$on("remove",s),e.$on("duplicate",o),e.$on("rename",n[11])),{c(){e&&ee(e.$$.fragment),i=D()},m(f,c){e&&Q(e,f,c),S(f,i,c),r=!0},p(f,c){if(n=f,c&1&&a!==(a=n[1][n[24].type])){if(e){Ne();const h=e;x(h.$$.fragment,1,0,()=>{J(h,1)}),Me()}a?(e=ri(a,u(n)),ye.push(()=>Ke(e,"field",l)),e.$on("remove",s),e.$on("duplicate",o),e.$on("rename",n[11]),ee(e.$$.fragment),F(e.$$.fragment,1),Q(e,i.parentNode,i)):e=null}else if(a){const h={};c&1&&(h.key=n[5](n[24])),c&1&&(h.collection=n[0]),!t&&c&1&&(t=!0,h.field=n[24],Ye(()=>t=!1)),e.$set(h)}},i(f){r||(e&&F(e.$$.fragment,f),r=!0)},o(f){e&&x(e.$$.fragment,f),r=!1},d(f){f&&E(i),e&&J(e,f)}}}function sk(n,e){let t,i,r,l;function s(a){e[12](a)}let o={index:e[26],disabled:e[24]._toDelete,dragHandleClass:"drag-handle-wrapper",$$slots:{default:[XV]},$$scope:{ctx:e}};return e[0].fields!==void 0&&(o.list=e[0].fields),i=new nf({props:o}),ye.push(()=>Ke(i,"list",s)),i.$on("drag",e[13]),i.$on("sort",e[14]),{key:n,first:null,c(){t=ze(),ee(i.$$.fragment),this.first=t},m(a,u){S(a,t,u),Q(i,a,u),l=!0},p(a,u){e=a;const f={};u&1&&(f.index=e[26]),u&1&&(f.disabled=e[24]._toDelete),u&134217729&&(f.$$scope={dirty:u,ctx:e}),!r&&u&1&&(r=!0,f.list=e[0].fields,Ye(()=>r=!1)),i.$set(f)},i(a){l||(F(i.$$.fragment,a),l=!0)},o(a){x(i.$$.fragment,a),l=!1},d(a){a&&E(t),J(i,a)}}}function ZV(n){let e,t=[],i=new Map,r,l,s,o,a,u,f,c,h,p=Re(n[0].fields);const _=y=>y[24];for(let y=0;y<p.length;y+=1){let A=lk(n,p,y),M=_(A);i.set(M,t[y]=sk(M,A))}s=new AW({props:{class:"btn btn-block btn-outline"}}),s.$on("select",n[15]);function v(y){n[16](y)}let b={};return n[0]!==void 0&&(b.collection=n[0]),f=new wW({props:b}),ye.push(()=>Ke(f,"collection",v)),{c(){e=k("div");for(let y=0;y<t.length;y+=1)t[y].c();l=D(),ee(s.$$.fragment),o=D(),a=k("hr"),u=D(),ee(f.$$.fragment),m(e,"class",r="schema-fields total-"+n[0].fields.length)},m(y,A){S(y,e,A);for(let M=0;M<t.length;M+=1)t[M]&&t[M].m(e,null);S(y,l,A),Q(s,y,A),S(y,o,A),S(y,a,A),S(y,u,A),Q(f,y,A),h=!0},p(y,[A]){A&111&&(p=Re(y[0].fields),Ne(),t=In(t,A,_,1,y,p,i,e,di,sk,null,lk),Me()),(!h||A&1&&r!==(r="schema-fields total-"+y[0].fields.length))&&m(e,"class",r);const M={};!c&&A&1&&(c=!0,M.collection=y[0],Ye(()=>c=!1)),f.$set(M)},i(y){if(!h){for(let A=0;A<p.length;A+=1)F(t[A]);F(s.$$.fragment,y),F(f.$$.fragment,y),h=!0}},o(y){for(let A=0;A<t.length;A+=1)x(t[A]);x(s.$$.fragment,y),x(f.$$.fragment,y),h=!1},d(y){y&&(E(e),E(l),E(o),E(a),E(u));for(let A=0;A<t.length;A+=1)t[A].d();J(s,y),J(f,y)}}}function QV(n,e,t){let i,r;Wt(n,r_,q=>t(18,r=q));let{collection:l}=e,s;const o={text:qV,number:iV,bool:GW,email:OA,url:KV,editor:gK,markdown:kK,date:fK,select:PV,json:YK,file:zK,relation:TV,password:cV,autodate:WW,geoPoint:YV};function a(q){l.fields[q]&&(l.fields.splice(q,1),t(0,l))}function u(q){const z=l.fields[q];if(!z)return;z.onMountSelect=!1;const j=structuredClone(z);j.id="",j.system=!1,j.name=c(j.name+"_copy"),j.onMountSelect=!0,l.fields.splice(q+1,0,j),t(0,l)}function f(q="text"){const z=re.initSchemaField({name:c(),type:q});z.onMountSelect=!0;const j=l.fields.findLastIndex(W=>W.type!="autodate");z.type!="autodate"&&j>=0?l.fields.splice(j+1,0,z):l.fields.push(z),t(0,l)}function c(q="field"){var ie;let z=q,j=2,W=((ie=q.match(/\d+$/))==null?void 0:ie[0])||"",G=W?q.substring(0,q.length-W.length):q;for(;h(z);)z=G+((W<<0)+j),j++;return z}function h(q){var z;return!!((z=l==null?void 0:l.fields)!=null&&z.find(j=>j.name===q))}function p(q){return i.findIndex(z=>z===q)}function _(q,z){var j,W;!((j=l==null?void 0:l.fields)!=null&&j.length)||q===z||!z||(W=l==null?void 0:l.fields)!=null&&W.find(G=>G.name==q&&!G._toDelete)||t(0,l.indexes=l.indexes.map(G=>re.replaceIndexColumn(G,q,z)),l)}function v(){const q=l.fields||[],z=q.filter(W=>!W.system),j=structuredClone(r[l.type]);t(0,l.fields=j.fields,l);for(let W of q){if(!W.system)continue;const G=l.fields.findIndex(ie=>ie.name==W.name);G<0||t(0,l.fields[G]=Object.assign(l.fields[G],W),l)}for(let W of z)l.fields.push(W)}function b(q,z){var W;if(q===z||!z)return;let j=((W=l.passwordAuth)==null?void 0:W.identityFields)||[];for(let G=0;G<j.length;G++)j[G]==q&&(j[G]=z)}function y(q,z){_(q,z),b(q,z)}function A(q,z,j,W){j[W]=q,t(0,l)}const M=q=>a(q),N=q=>u(q),L=q=>y(q.detail.oldName,q.detail.newName);function I(q){n.$$.not_equal(l.fields,q)&&(l.fields=q,t(0,l))}const R=q=>{if(!q.detail)return;const z=q.detail.target;z.style.opacity=0,setTimeout(()=>{var j;(j=z==null?void 0:z.style)==null||j.removeProperty("opacity")},0),q.detail.dataTransfer.setDragImage(z,0,0)},$=()=>{mi({})},B=q=>f(q.detail);function H(q){l=q,t(0,l)}return n.$$set=q=>{"collection"in q&&t(0,l=q.collection)},n.$$.update=()=>{n.$$.dirty&1&&typeof l.fields>"u"&&t(0,l.fields=[],l),n.$$.dirty&129&&!l.id&&s!=l.type&&(t(7,s=l.type),v()),n.$$.dirty&1&&(i=l.fields.filter(q=>!q._toDelete))},[l,o,a,u,f,p,y,s,A,M,N,L,I,R,$,B,H]}class JV extends je{constructor(e){super(),qe(this,e,QV,ZV,We,{collection:0})}}function ok(n,e,t){const i=n.slice();return i[9]=e[t],i}function eG(n){let e,t,i,r;function l(a){n[5](a)}var s=n[1];function o(a,u){let f={id:a[8],placeholder:"eg. SELECT id, name from posts",language:"sql-select",minHeight:"150"};return a[0].viewQuery!==void 0&&(f.value=a[0].viewQuery),{props:f}}return s&&(e=ri(s,o(n)),ye.push(()=>Ke(e,"value",l)),e.$on("change",n[6])),{c(){e&&ee(e.$$.fragment),i=ze()},m(a,u){e&&Q(e,a,u),S(a,i,u),r=!0},p(a,u){if(u&2&&s!==(s=a[1])){if(e){Ne();const f=e;x(f.$$.fragment,1,0,()=>{J(f,1)}),Me()}s?(e=ri(s,o(a)),ye.push(()=>Ke(e,"value",l)),e.$on("change",a[6]),ee(e.$$.fragment),F(e.$$.fragment,1),Q(e,i.parentNode,i)):e=null}else if(s){const f={};u&256&&(f.id=a[8]),!t&&u&1&&(t=!0,f.value=a[0].viewQuery,Ye(()=>t=!1)),e.$set(f)}},i(a){r||(e&&F(e.$$.fragment,a),r=!0)},o(a){e&&x(e.$$.fragment,a),r=!1},d(a){a&&E(i),e&&J(e,a)}}}function tG(n){let e;return{c(){e=k("textarea"),e.disabled=!0,m(e,"rows","7"),m(e,"placeholder","Loading...")},m(t,i){S(t,e,i)},p:ge,i:ge,o:ge,d(t){t&&E(e)}}}function ak(n){let e,t,i=Re(n[3]),r=[];for(let l=0;l<i.length;l+=1)r[l]=uk(ok(n,i,l));return{c(){e=k("div"),t=k("div");for(let l=0;l<r.length;l+=1)r[l].c();m(t,"class","content"),m(e,"class","help-block help-block-error")},m(l,s){S(l,e,s),T(e,t);for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(t,null)},p(l,s){if(s&8){i=Re(l[3]);let o;for(o=0;o<i.length;o+=1){const a=ok(l,i,o);r[o]?r[o].p(a,s):(r[o]=uk(a),r[o].c(),r[o].m(t,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=i.length}},d(l){l&&E(e),fn(r,l)}}}function uk(n){let e,t=n[9]+"",i;return{c(){e=k("p"),i=le(t)},m(r,l){S(r,e,l),T(e,i)},p(r,l){l&8&&t!==(t=r[9]+"")&&Se(i,t)},d(r){r&&E(e)}}}function nG(n){let e,t,i,r,l,s,o,a,u,f,c;const h=[tG,eG],p=[];function _(b,y){return b[2]?0:1}l=_(n),s=p[l]=h[l](n);let v=n[3].length&&ak(n);return{c(){e=k("label"),t=k("span"),t.textContent="Select query",r=D(),s.c(),o=D(),a=k("div"),a.innerHTML=`<ul><li>Wildcard columns (<code>*</code>) are not supported.</li> <li>The query must have a unique <code>id</code> column.
                <br/>
                If your query doesn&#39;t have a suitable one, you can use the universal
                <code>(ROW_NUMBER() OVER()) as id</code>.</li> <li>Expressions must be aliased with a valid formatted field name, e.g.
                <code>MAX(balance) as maxBalance</code>.</li> <li>Combined/multi-spaced expressions must be wrapped in parenthesis, e.g.
                <code>(MAX(balance) + 1) as maxBalance</code>.</li></ul>`,u=D(),v&&v.c(),f=ze(),m(t,"class","txt"),m(e,"for",i=n[8]),m(a,"class","help-block")},m(b,y){S(b,e,y),T(e,t),S(b,r,y),p[l].m(b,y),S(b,o,y),S(b,a,y),S(b,u,y),v&&v.m(b,y),S(b,f,y),c=!0},p(b,y){(!c||y&256&&i!==(i=b[8]))&&m(e,"for",i);let A=l;l=_(b),l===A?p[l].p(b,y):(Ne(),x(p[A],1,1,()=>{p[A]=null}),Me(),s=p[l],s?s.p(b,y):(s=p[l]=h[l](b),s.c()),F(s,1),s.m(o.parentNode,o)),b[3].length?v?v.p(b,y):(v=ak(b),v.c(),v.m(f.parentNode,f)):v&&(v.d(1),v=null)},i(b){c||(F(s),c=!0)},o(b){x(s),c=!1},d(b){b&&(E(e),E(r),E(o),E(a),E(u),E(f)),p[l].d(b),v&&v.d(b)}}}function iG(n){let e,t;return e=new Pe({props:{class:"form-field required "+(n[3].length?"error":""),name:"viewQuery",$$slots:{default:[nG,({uniqueId:i})=>({8:i}),({uniqueId:i})=>i?256:0]},$$scope:{ctx:n}}}),{c(){ee(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,[r]){const l={};r&8&&(l.class="form-field required "+(i[3].length?"error":"")),r&4367&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){x(e.$$.fragment,i),t=!1},d(i){J(e,i)}}}function rG(n,e,t){let i;Wt(n,mr,c=>t(4,i=c));let{collection:r}=e,l,s=!1,o=[];function a(c){t(3,o=[]);const h=re.getNestedVal(c,"fields",null);if(re.isEmpty(h))return;if(h!=null&&h.message){o.push(h==null?void 0:h.message);return}const p=re.extractColumnsFromQuery(r==null?void 0:r.viewQuery);re.removeByValue(p,"id"),re.removeByValue(p,"created"),re.removeByValue(p,"updated");for(let _ in h)for(let v in h[_]){const b=h[_][v].message,y=p[_]||_;o.push(re.sentenize(y+": "+b))}}hi(async()=>{t(2,s=!0);try{t(1,l=(await Dn(async()=>{const{default:c}=await import("./CodeEditor-Bmd7XMbF.js");return{default:c}},__vite__mapDeps([13,1]),import.meta.url)).default)}catch(c){console.warn(c)}t(2,s=!1)});function u(c){n.$$.not_equal(r.viewQuery,c)&&(r.viewQuery=c,t(0,r))}const f=()=>{o.length&&ul("fields")};return n.$$set=c=>{"collection"in c&&t(0,r=c.collection)},n.$$.update=()=>{n.$$.dirty&16&&a(i)},[r,l,s,o,i,u,f]}class lG extends je{constructor(e){super(),qe(this,e,rG,iG,We,{collection:0})}}function fk(n,e,t){const i=n.slice();return i[15]=e[t],i}function ck(n){let e,t,i,r,l,s,o,a,u,f,c,h,p,_,v,b,y,A,M,N,L,I,R,$,B=Re(n[4]),H=[];for(let q=0;q<B.length;q+=1)H[q]=hk(fk(n,B,q));return{c(){e=k("div"),t=k("div"),i=k("div"),r=k("p"),r.textContent="The following record fields are available:",l=D(),s=k("div");for(let q=0;q<H.length;q+=1)H[q].c();o=D(),a=k("hr"),u=D(),f=k("p"),f.innerHTML="The request fields could be accessed with the special <em>@request</em> filter:",c=D(),h=k("div"),h.innerHTML="<code>@request.headers.*</code> <code>@request.query.*</code> <code>@request.body.*</code> <code>@request.auth.*</code>",p=D(),_=k("hr"),v=D(),b=k("p"),b.innerHTML=`You could also add constraints and query other collections using the
                        <em>@collection</em> filter:`,y=D(),A=k("div"),A.innerHTML="<code>@collection.ANY_COLLECTION_NAME.*</code>",M=D(),N=k("hr"),L=D(),I=k("p"),I.innerHTML=`Example rule:
                        <br/> <code>@request.auth.id != &quot;&quot; &amp;&amp; created &gt; &quot;2022-01-01 00:00:00&quot;</code>`,m(r,"class","m-b-0"),m(s,"class","inline-flex flex-gap-5"),m(a,"class","m-t-10 m-b-5"),m(f,"class","m-b-0"),m(h,"class","inline-flex flex-gap-5"),m(_,"class","m-t-10 m-b-5"),m(b,"class","m-b-0"),m(A,"class","inline-flex flex-gap-5"),m(N,"class","m-t-10 m-b-5"),m(i,"class","content"),m(t,"class","alert alert-warning m-0")},m(q,z){S(q,e,z),T(e,t),T(t,i),T(i,r),T(i,l),T(i,s);for(let j=0;j<H.length;j+=1)H[j]&&H[j].m(s,null);T(i,o),T(i,a),T(i,u),T(i,f),T(i,c),T(i,h),T(i,p),T(i,_),T(i,v),T(i,b),T(i,y),T(i,A),T(i,M),T(i,N),T(i,L),T(i,I),$=!0},p(q,z){if(z&24){B=Re(q[4]);let j;for(j=0;j<B.length;j+=1){const W=fk(q,B,j);H[j]?H[j].p(W,z):(H[j]=hk(W),H[j].c(),H[j].m(s,null))}for(;j<H.length;j+=1)H[j].d(1);H.length=B.length}},i(q){$||(q&&tn(()=>{$&&(R||(R=Et(e,En,{duration:150},!0)),R.run(1))}),$=!0)},o(q){q&&(R||(R=Et(e,En,{duration:150},!1)),R.run(0)),$=!1},d(q){q&&E(e),fn(H,q),q&&R&&R.end()}}}function dk(n){let e,t=n[15]+"",i;return{c(){e=k("code"),i=le(t)},m(r,l){S(r,e,l),T(e,i)},p(r,l){l&16&&t!==(t=r[15]+"")&&Se(i,t)},d(r){r&&E(e)}}}function hk(n){let e=!n[3].includes(n[15]),t,i=e&&dk(n);return{c(){i&&i.c(),t=ze()},m(r,l){i&&i.m(r,l),S(r,t,l)},p(r,l){l&24&&(e=!r[3].includes(r[15])),e?i?i.p(r,l):(i=dk(r),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null)},d(r){r&&E(t),i&&i.d(r)}}}function pk(n){let e,t,i,r,l,s,o,a,u;function f(b){n[8](b)}let c={label:"Create rule",formKey:"createRule",collection:n[0],$$slots:{afterLabel:[sG,({isSuperuserOnly:b})=>({14:b}),({isSuperuserOnly:b})=>b?16384:0]},$$scope:{ctx:n}};n[0].createRule!==void 0&&(c.rule=n[0].createRule),e=new No({props:c}),ye.push(()=>Ke(e,"rule",f));function h(b){n[9](b)}let p={label:"Update rule",formKey:"updateRule",collection:n[0],$$slots:{afterLabel:[oG,({isSuperuserOnly:b})=>({14:b}),({isSuperuserOnly:b})=>b?16384:0]},$$scope:{ctx:n}};n[0].updateRule!==void 0&&(p.rule=n[0].updateRule),r=new No({props:p}),ye.push(()=>Ke(r,"rule",h));function _(b){n[10](b)}let v={label:"Delete rule",formKey:"deleteRule",collection:n[0]};return n[0].deleteRule!==void 0&&(v.rule=n[0].deleteRule),o=new No({props:v}),ye.push(()=>Ke(o,"rule",_)),{c(){ee(e.$$.fragment),i=D(),ee(r.$$.fragment),s=D(),ee(o.$$.fragment)},m(b,y){Q(e,b,y),S(b,i,y),Q(r,b,y),S(b,s,y),Q(o,b,y),u=!0},p(b,y){const A={};y&1&&(A.collection=b[0]),y&278528&&(A.$$scope={dirty:y,ctx:b}),!t&&y&1&&(t=!0,A.rule=b[0].createRule,Ye(()=>t=!1)),e.$set(A);const M={};y&1&&(M.collection=b[0]),y&278528&&(M.$$scope={dirty:y,ctx:b}),!l&&y&1&&(l=!0,M.rule=b[0].updateRule,Ye(()=>l=!1)),r.$set(M);const N={};y&1&&(N.collection=b[0]),!a&&y&1&&(a=!0,N.rule=b[0].deleteRule,Ye(()=>a=!1)),o.$set(N)},i(b){u||(F(e.$$.fragment,b),F(r.$$.fragment,b),F(o.$$.fragment,b),u=!0)},o(b){x(e.$$.fragment,b),x(r.$$.fragment,b),x(o.$$.fragment,b),u=!1},d(b){b&&(E(i),E(s)),J(e,b),J(r,b),J(o,b)}}}function mk(n){let e,t,i;return{c(){e=k("i"),m(e,"class","ri-information-line link-hint")},m(r,l){S(r,e,l),t||(i=nt(_t.call(null,e,{text:"The main record fields hold the values that are going to be inserted in the database.",position:"top"})),t=!0)},d(r){r&&E(e),t=!1,i()}}}function sG(n){let e,t=!n[14]&&mk();return{c(){t&&t.c(),e=ze()},m(i,r){t&&t.m(i,r),S(i,e,r)},p(i,r){i[14]?t&&(t.d(1),t=null):t||(t=mk(),t.c(),t.m(e.parentNode,e))},d(i){i&&E(e),t&&t.d(i)}}}function gk(n){let e,t,i;return{c(){e=k("i"),m(e,"class","ri-information-line link-hint")},m(r,l){S(r,e,l),t||(i=nt(_t.call(null,e,{text:`The main record fields represent the old/existing record field values.
To target the newly submitted ones you can use @request.body.*`,position:"top"})),t=!0)},d(r){r&&E(e),t=!1,i()}}}function oG(n){let e,t=!n[14]&&gk();return{c(){t&&t.c(),e=ze()},m(i,r){t&&t.m(i,r),S(i,e,r)},p(i,r){i[14]?t&&(t.d(1),t=null):t||(t=gk(),t.c(),t.m(e.parentNode,e))},d(i){i&&E(e),t&&t.d(i)}}}function _k(n){let e,t,i,r,l,s,o,a,u,f,c;function h(b,y){return b[2]?uG:aG}let p=h(n),_=p(n),v=n[2]&&bk(n);return{c(){e=k("hr"),t=D(),i=k("button"),r=k("strong"),r.textContent="Additional auth collection rules",l=D(),_.c(),o=D(),v&&v.c(),a=ze(),m(r,"class","txt"),m(i,"type","button"),m(i,"class",s="btn btn-sm m-b-sm "+(n[2]?"btn-secondary":"btn-hint btn-transparent"))},m(b,y){S(b,e,y),S(b,t,y),S(b,i,y),T(i,r),T(i,l),_.m(i,null),S(b,o,y),v&&v.m(b,y),S(b,a,y),u=!0,f||(c=se(i,"click",n[11]),f=!0)},p(b,y){p!==(p=h(b))&&(_.d(1),_=p(b),_&&(_.c(),_.m(i,null))),(!u||y&4&&s!==(s="btn btn-sm m-b-sm "+(b[2]?"btn-secondary":"btn-hint btn-transparent")))&&m(i,"class",s),b[2]?v?(v.p(b,y),y&4&&F(v,1)):(v=bk(b),v.c(),F(v,1),v.m(a.parentNode,a)):v&&(Ne(),x(v,1,1,()=>{v=null}),Me())},i(b){u||(F(v),u=!0)},o(b){x(v),u=!1},d(b){b&&(E(e),E(t),E(i),E(o),E(a)),_.d(),v&&v.d(b),f=!1,c()}}}function aG(n){let e;return{c(){e=k("i"),m(e,"class","ri-arrow-down-s-line txt-sm")},m(t,i){S(t,e,i)},d(t){t&&E(e)}}}function uG(n){let e;return{c(){e=k("i"),m(e,"class","ri-arrow-up-s-line txt-sm")},m(t,i){S(t,e,i)},d(t){t&&E(e)}}}function bk(n){let e,t,i,r,l,s,o,a;function u(p){n[12](p)}let f={label:"Authentication rule",formKey:"authRule",placeholder:"",collection:n[0],$$slots:{default:[fG]},$$scope:{ctx:n}};n[0].authRule!==void 0&&(f.rule=n[0].authRule),t=new No({props:f}),ye.push(()=>Ke(t,"rule",u));function c(p){n[13](p)}let h={label:"Manage rule",formKey:"manageRule",placeholder:"",required:n[0].manageRule!==null,collection:n[0],$$slots:{default:[cG]},$$scope:{ctx:n}};return n[0].manageRule!==void 0&&(h.rule=n[0].manageRule),l=new No({props:h}),ye.push(()=>Ke(l,"rule",c)),{c(){e=k("div"),ee(t.$$.fragment),r=D(),ee(l.$$.fragment),m(e,"class","block")},m(p,_){S(p,e,_),Q(t,e,null),T(e,r),Q(l,e,null),a=!0},p(p,_){const v={};_&1&&(v.collection=p[0]),_&262144&&(v.$$scope={dirty:_,ctx:p}),!i&&_&1&&(i=!0,v.rule=p[0].authRule,Ye(()=>i=!1)),t.$set(v);const b={};_&1&&(b.required=p[0].manageRule!==null),_&1&&(b.collection=p[0]),_&262144&&(b.$$scope={dirty:_,ctx:p}),!s&&_&1&&(s=!0,b.rule=p[0].manageRule,Ye(()=>s=!1)),l.$set(b)},i(p){a||(F(t.$$.fragment,p),F(l.$$.fragment,p),p&&tn(()=>{a&&(o||(o=Et(e,En,{duration:150},!0)),o.run(1))}),a=!0)},o(p){x(t.$$.fragment,p),x(l.$$.fragment,p),p&&(o||(o=Et(e,En,{duration:150},!1)),o.run(0)),a=!1},d(p){p&&E(e),J(t),J(l),p&&o&&o.end()}}}function fG(n){let e,t,i,r,l,s,o;return{c(){e=k("p"),e.textContent=`This rule is executed every time before authentication allowing you to restrict who
                        can authenticate.`,t=D(),i=k("p"),i.innerHTML=`For example, to allow only verified users you can set it to
                        <code>verified = true</code>.`,r=D(),l=k("p"),l.textContent="Leave it empty to allow anyone with an account to authenticate.",s=D(),o=k("p"),o.textContent='To disable authentication entirely you can change it to "Set superusers only".'},m(a,u){S(a,e,u),S(a,t,u),S(a,i,u),S(a,r,u),S(a,l,u),S(a,s,u),S(a,o,u)},p:ge,d(a){a&&(E(e),E(t),E(i),E(r),E(l),E(s),E(o))}}}function cG(n){let e,t,i;return{c(){e=k("p"),e.innerHTML=`This rule is executed in addition to the <code>create</code> and <code>update</code> API
                        rules.`,t=D(),i=k("p"),i.textContent=`It enables superuser-like permissions to allow fully managing the auth record(s), eg.
                        changing the password without requiring to enter the old one, directly updating the
                        verified state or email, etc.`},m(r,l){S(r,e,l),S(r,t,l),S(r,i,l)},p:ge,d(r){r&&(E(e),E(t),E(i))}}}function dG(n){var z,j;let e,t,i,r,l,s=n[1]?"Hide available fields":"Show available fields",o,a,u,f,c,h,p,_,v,b,y,A,M,N,L=n[1]&&ck(n);function I(W){n[6](W)}let R={label:"List/Search rule",formKey:"listRule",collection:n[0]};n[0].listRule!==void 0&&(R.rule=n[0].listRule),f=new No({props:R}),ye.push(()=>Ke(f,"rule",I));function $(W){n[7](W)}let B={label:"View rule",formKey:"viewRule",collection:n[0]};n[0].viewRule!==void 0&&(B.rule=n[0].viewRule),p=new No({props:B}),ye.push(()=>Ke(p,"rule",$));let H=((z=n[0])==null?void 0:z.type)!=="view"&&pk(n),q=((j=n[0])==null?void 0:j.type)==="auth"&&_k(n);return{c(){e=k("div"),t=k("div"),i=k("p"),i.innerHTML=`All rules follow the
            <a href="https://pocketbase.io/docs/api-rules-and-filters" target="_blank" rel="noopener noreferrer">PocketBase filter syntax and operators
            </a>.`,r=D(),l=k("button"),o=le(s),a=D(),L&&L.c(),u=D(),ee(f.$$.fragment),h=D(),ee(p.$$.fragment),v=D(),H&&H.c(),b=D(),q&&q.c(),y=ze(),m(l,"type","button"),m(l,"class","expand-handle txt-sm txt-bold txt-nowrap link-hint"),m(t,"class","flex txt-sm txt-hint m-b-5"),m(e,"class","block m-b-sm handle")},m(W,G){S(W,e,G),T(e,t),T(t,i),T(t,r),T(t,l),T(l,o),T(e,a),L&&L.m(e,null),S(W,u,G),Q(f,W,G),S(W,h,G),Q(p,W,G),S(W,v,G),H&&H.m(W,G),S(W,b,G),q&&q.m(W,G),S(W,y,G),A=!0,M||(N=se(l,"click",n[5]),M=!0)},p(W,[G]){var ae,ue;(!A||G&2)&&s!==(s=W[1]?"Hide available fields":"Show available fields")&&Se(o,s),W[1]?L?(L.p(W,G),G&2&&F(L,1)):(L=ck(W),L.c(),F(L,1),L.m(e,null)):L&&(Ne(),x(L,1,1,()=>{L=null}),Me());const ie={};G&1&&(ie.collection=W[0]),!c&&G&1&&(c=!0,ie.rule=W[0].listRule,Ye(()=>c=!1)),f.$set(ie);const te={};G&1&&(te.collection=W[0]),!_&&G&1&&(_=!0,te.rule=W[0].viewRule,Ye(()=>_=!1)),p.$set(te),((ae=W[0])==null?void 0:ae.type)!=="view"?H?(H.p(W,G),G&1&&F(H,1)):(H=pk(W),H.c(),F(H,1),H.m(b.parentNode,b)):H&&(Ne(),x(H,1,1,()=>{H=null}),Me()),((ue=W[0])==null?void 0:ue.type)==="auth"?q?(q.p(W,G),G&1&&F(q,1)):(q=_k(W),q.c(),F(q,1),q.m(y.parentNode,y)):q&&(Ne(),x(q,1,1,()=>{q=null}),Me())},i(W){A||(F(L),F(f.$$.fragment,W),F(p.$$.fragment,W),F(H),F(q),A=!0)},o(W){x(L),x(f.$$.fragment,W),x(p.$$.fragment,W),x(H),x(q),A=!1},d(W){W&&(E(e),E(u),E(h),E(v),E(b),E(y)),L&&L.d(),J(f,W),J(p,W),H&&H.d(W),q&&q.d(W),M=!1,N()}}}function hG(n,e,t){let i,r,{collection:l}=e,s=!1,o=l.manageRule!==null||l.authRule!=="";const a=()=>t(1,s=!s);function u(y){n.$$.not_equal(l.listRule,y)&&(l.listRule=y,t(0,l))}function f(y){n.$$.not_equal(l.viewRule,y)&&(l.viewRule=y,t(0,l))}function c(y){n.$$.not_equal(l.createRule,y)&&(l.createRule=y,t(0,l))}function h(y){n.$$.not_equal(l.updateRule,y)&&(l.updateRule=y,t(0,l))}function p(y){n.$$.not_equal(l.deleteRule,y)&&(l.deleteRule=y,t(0,l))}const _=()=>{t(2,o=!o)};function v(y){n.$$.not_equal(l.authRule,y)&&(l.authRule=y,t(0,l))}function b(y){n.$$.not_equal(l.manageRule,y)&&(l.manageRule=y,t(0,l))}return n.$$set=y=>{"collection"in y&&t(0,l=y.collection)},n.$$.update=()=>{var y;n.$$.dirty&1&&t(4,i=re.getAllCollectionIdentifiers(l)),n.$$.dirty&1&&t(3,r=(y=l.fields)==null?void 0:y.filter(A=>A.hidden).map(A=>A.name))},[l,s,o,r,i,a,u,f,c,h,p,_,v,b]}class pG extends je{constructor(e){super(),qe(this,e,hG,dG,We,{collection:0})}}function vk(n,e,t){const i=n.slice();return i[27]=e[t],i}function yk(n,e,t){const i=n.slice();return i[30]=e[t],i}function kk(n,e,t){const i=n.slice();return i[33]=e[t],i}function Tk(n,e,t){const i=n.slice();return i[33]=e[t],i}function wk(n,e,t){const i=n.slice();return i[33]=e[t],i}function Ek(n){let e,t,i,r,l,s,o=n[9].length&&Sk();return{c(){e=k("div"),t=k("div"),t.innerHTML='<i class="ri-error-warning-line"></i>',i=D(),r=k("div"),l=k("p"),l.textContent=`If any of the collection changes is part of another collection rule, filter or view query,
                    you'll have to update it manually!`,s=D(),o&&o.c(),m(t,"class","icon"),m(r,"class","content txt-bold"),m(e,"class","alert alert-warning")},m(a,u){S(a,e,u),T(e,t),T(e,i),T(e,r),T(r,l),T(r,s),o&&o.m(r,null)},p(a,u){a[9].length?o||(o=Sk(),o.c(),o.m(r,null)):o&&(o.d(1),o=null)},d(a){a&&E(e),o&&o.d()}}}function Sk(n){let e;return{c(){e=k("p"),e.textContent="All data associated with the removed fields will be permanently deleted!"},m(t,i){S(t,e,i)},d(t){t&&E(e)}}}function Ck(n){let e,t,i,r,l,s,o=n[5]&&Ak(n),a=!n[4]&&Ok(n),u=Re(n[3]),f=[];for(let p=0;p<u.length;p+=1)f[p]=Lk(yk(n,u,p));let c=Re(n[7]),h=[];for(let p=0;p<c.length;p+=1)h[p]=Dk(vk(n,c,p));return{c(){e=k("h6"),e.textContent="Changes:",t=D(),i=k("ul"),o&&o.c(),r=D(),a&&a.c(),l=D();for(let p=0;p<f.length;p+=1)f[p].c();s=D();for(let p=0;p<h.length;p+=1)h[p].c();m(i,"class","changes-list svelte-xqpcsf")},m(p,_){S(p,e,_),S(p,t,_),S(p,i,_),o&&o.m(i,null),T(i,r),a&&a.m(i,null),T(i,l);for(let v=0;v<f.length;v+=1)f[v]&&f[v].m(i,null);T(i,s);for(let v=0;v<h.length;v+=1)h[v]&&h[v].m(i,null)},p(p,_){if(p[5]?o?o.p(p,_):(o=Ak(p),o.c(),o.m(i,r)):o&&(o.d(1),o=null),p[4]?a&&(a.d(1),a=null):a?a.p(p,_):(a=Ok(p),a.c(),a.m(i,l)),_[0]&8){u=Re(p[3]);let v;for(v=0;v<u.length;v+=1){const b=yk(p,u,v);f[v]?f[v].p(b,_):(f[v]=Lk(b),f[v].c(),f[v].m(i,s))}for(;v<f.length;v+=1)f[v].d(1);f.length=u.length}if(_[0]&8320){c=Re(p[7]);let v;for(v=0;v<c.length;v+=1){const b=vk(p,c,v);h[v]?h[v].p(b,_):(h[v]=Dk(b),h[v].c(),h[v].m(i,null))}for(;v<h.length;v+=1)h[v].d(1);h.length=c.length}},d(p){p&&(E(e),E(t),E(i)),o&&o.d(),a&&a.d(),fn(f,p),fn(h,p)}}}function Ak(n){var p,_;let e,t,i,r,l=((p=n[1])==null?void 0:p.name)+"",s,o,a,u,f,c=((_=n[2])==null?void 0:_.name)+"",h;return{c(){e=k("li"),t=k("div"),i=le(`Renamed collection
                        `),r=k("strong"),s=le(l),o=D(),a=k("i"),u=D(),f=k("strong"),h=le(c),m(r,"class","txt-strikethrough txt-hint"),m(a,"class","ri-arrow-right-line txt-sm"),m(f,"class","txt"),m(t,"class","inline-flex"),m(e,"class","svelte-xqpcsf")},m(v,b){S(v,e,b),T(e,t),T(t,i),T(t,r),T(r,s),T(t,o),T(t,a),T(t,u),T(t,f),T(f,h)},p(v,b){var y,A;b[0]&2&&l!==(l=((y=v[1])==null?void 0:y.name)+"")&&Se(s,l),b[0]&4&&c!==(c=((A=v[2])==null?void 0:A.name)+"")&&Se(h,c)},d(v){v&&E(e)}}}function Ok(n){let e,t,i,r=Re(n[8]),l=[];for(let f=0;f<r.length;f+=1)l[f]=Nk(wk(n,r,f));let s=Re(n[10]),o=[];for(let f=0;f<s.length;f+=1)o[f]=Mk(Tk(n,s,f));let a=Re(n[9]),u=[];for(let f=0;f<a.length;f+=1)u[f]=Ik(kk(n,a,f));return{c(){for(let f=0;f<l.length;f+=1)l[f].c();e=D();for(let f=0;f<o.length;f+=1)o[f].c();t=D();for(let f=0;f<u.length;f+=1)u[f].c();i=ze()},m(f,c){for(let h=0;h<l.length;h+=1)l[h]&&l[h].m(f,c);S(f,e,c);for(let h=0;h<o.length;h+=1)o[h]&&o[h].m(f,c);S(f,t,c);for(let h=0;h<u.length;h+=1)u[h]&&u[h].m(f,c);S(f,i,c)},p(f,c){if(c[0]&256){r=Re(f[8]);let h;for(h=0;h<r.length;h+=1){const p=wk(f,r,h);l[h]?l[h].p(p,c):(l[h]=Nk(p),l[h].c(),l[h].m(e.parentNode,e))}for(;h<l.length;h+=1)l[h].d(1);l.length=r.length}if(c[0]&1024){s=Re(f[10]);let h;for(h=0;h<s.length;h+=1){const p=Tk(f,s,h);o[h]?o[h].p(p,c):(o[h]=Mk(p),o[h].c(),o[h].m(t.parentNode,t))}for(;h<o.length;h+=1)o[h].d(1);o.length=s.length}if(c[0]&512){a=Re(f[9]);let h;for(h=0;h<a.length;h+=1){const p=kk(f,a,h);u[h]?u[h].p(p,c):(u[h]=Ik(p),u[h].c(),u[h].m(i.parentNode,i))}for(;h<u.length;h+=1)u[h].d(1);u.length=a.length}},d(f){f&&(E(e),E(t),E(i)),fn(l,f),fn(o,f),fn(u,f)}}}function Nk(n){let e,t,i,r=n[33].name+"",l,s,o;return{c(){e=k("li"),t=le(`Multiple to single value conversion of field
                        `),i=k("strong"),l=le(r),s=D(),o=k("em"),o.textContent="(will keep only the last array item)",m(o,"class","txt-sm"),m(e,"class","svelte-xqpcsf")},m(a,u){S(a,e,u),T(e,t),T(e,i),T(i,l),T(e,s),T(e,o)},p(a,u){u[0]&256&&r!==(r=a[33].name+"")&&Se(l,r)},d(a){a&&E(e)}}}function Mk(n){let e,t,i,r,l=n[33]._originalName+"",s,o,a,u,f,c=n[33].name+"",h;return{c(){e=k("li"),t=k("div"),i=le(`Renamed field
                            `),r=k("strong"),s=le(l),o=D(),a=k("i"),u=D(),f=k("strong"),h=le(c),m(r,"class","txt-strikethrough txt-hint"),m(a,"class","ri-arrow-right-line txt-sm"),m(f,"class","txt"),m(t,"class","inline-flex"),m(e,"class","svelte-xqpcsf")},m(p,_){S(p,e,_),T(e,t),T(t,i),T(t,r),T(r,s),T(t,o),T(t,a),T(t,u),T(t,f),T(f,h)},p(p,_){_[0]&1024&&l!==(l=p[33]._originalName+"")&&Se(s,l),_[0]&1024&&c!==(c=p[33].name+"")&&Se(h,c)},d(p){p&&E(e)}}}function Ik(n){let e,t,i,r=n[33].name+"",l,s;return{c(){e=k("li"),t=le("Removed field "),i=k("span"),l=le(r),s=D(),m(i,"class","txt-bold"),m(e,"class","txt-danger svelte-xqpcsf")},m(o,a){S(o,e,a),T(e,t),T(e,i),T(i,l),T(e,s)},p(o,a){a[0]&512&&r!==(r=o[33].name+"")&&Se(l,r)},d(o){o&&E(e)}}}function Lk(n){let e,t,i,r=n[30].prop+"",l,s,o,a,u,f,c,h,p=(n[30].oldRule===null?"null (superusers only)":n[30].oldRule||'""')+"",_,v,b,y,A,M,N,L,I=(n[30].newRule===null?"null (superusers only)":n[30].newRule||'""')+"",R;return{c(){e=k("li"),t=le("Changed API rule "),i=k("code"),l=le(r),s=le(`:
                    `),o=k("br"),a=D(),u=k("small"),f=k("strong"),f.textContent="Old",c=le(`:
                        `),h=k("span"),_=le(p),v=D(),b=k("br"),y=D(),A=k("small"),M=k("strong"),M.textContent="New",N=le(`:
                        `),L=k("span"),R=le(I),m(i,"class","txt-sm"),m(h,"class","txt-preline"),m(u,"class","txt-mono txt-hint"),m(L,"class","txt-preline"),m(A,"class","txt-mono txt-success"),m(e,"class","svelte-xqpcsf")},m($,B){S($,e,B),T(e,t),T(e,i),T(i,l),T(e,s),T(e,o),T(e,a),T(e,u),T(u,f),T(u,c),T(u,h),T(h,_),T(e,v),T(e,b),T(e,y),T(e,A),T(A,M),T(A,N),T(A,L),T(L,R)},p($,B){B[0]&8&&r!==(r=$[30].prop+"")&&Se(l,r),B[0]&8&&p!==(p=($[30].oldRule===null?"null (superusers only)":$[30].oldRule||'""')+"")&&Se(_,p),B[0]&8&&I!==(I=($[30].newRule===null?"null (superusers only)":$[30].newRule||'""')+"")&&Se(R,I)},d($){$&&E(e)}}}function Dk(n){let e,t,i,r=n[27].name+"",l,s,o,a,u=n[27].oldHost+"",f,c,h,p,_,v=n[27].newHost+"",b,y,A,M,N,L,I,R,$,B,H,q,z,j,W,G,ie;return{c(){e=k("li"),t=le("Changed "),i=k("code"),l=le(r),s=le(` host
                    `),o=k("div"),a=k("strong"),f=le(u),c=D(),h=k("i"),p=D(),_=k("strong"),b=le(v),y=D(),A=k("br"),M=D(),N=k("em"),L=le(`If the old and new OIDC configuration is not for the same provider consider deleting
                        all old `),I=k("code"),I.textContent="_externalAuths",R=le(` records associated to the current
                        collection and provider, otherwise it may result in account linking errors.
                        `),$=k("a"),B=le("Review existing "),H=k("code"),H.textContent="_externalAuths",q=le(` records
                            `),z=k("i"),j=D(),G=le("."),ie=D(),m(a,"class","txt-strikethrough txt-hint"),m(h,"class","ri-arrow-right-line txt-sm"),m(_,"class","txt"),m(o,"class","inline-flex m-l-5"),m(I,"class","txt-sm"),m(H,"class","txt-sm"),m(z,"class","ri-external-link-line txt-sm"),m($,"href",W=n[13](n[27].name)),m($,"target","_blank"),m(N,"class","txt-hint"),m(e,"class","svelte-xqpcsf")},m(te,ae){S(te,e,ae),T(e,t),T(e,i),T(i,l),T(e,s),T(e,o),T(o,a),T(a,f),T(o,c),T(o,h),T(o,p),T(o,_),T(_,b),T(e,y),T(e,A),T(e,M),T(e,N),T(N,L),T(N,I),T(N,R),T(N,$),T($,B),T($,H),T($,q),T($,z),T($,j),T(N,G),T(e,ie)},p(te,ae){ae[0]&128&&r!==(r=te[27].name+"")&&Se(l,r),ae[0]&128&&u!==(u=te[27].oldHost+"")&&Se(f,u),ae[0]&128&&v!==(v=te[27].newHost+"")&&Se(b,v),ae[0]&128&&W!==(W=te[13](te[27].name))&&m($,"href",W)},d(te){te&&E(e)}}}function mG(n){let e,t,i=(n[5]||n[9].length||n[10].length)&&Ek(n),r=n[11]&&Ck(n);return{c(){i&&i.c(),e=D(),r&&r.c(),t=ze()},m(l,s){i&&i.m(l,s),S(l,e,s),r&&r.m(l,s),S(l,t,s)},p(l,s){l[5]||l[9].length||l[10].length?i?i.p(l,s):(i=Ek(l),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null),l[11]?r?r.p(l,s):(r=Ck(l),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},d(l){l&&(E(e),E(t)),i&&i.d(l),r&&r.d(l)}}}function gG(n){let e;return{c(){e=k("h4"),e.textContent="Confirm collection changes"},m(t,i){S(t,e,i)},p:ge,d(t){t&&E(e)}}}function _G(n){let e,t,i,r,l;return{c(){e=k("button"),e.innerHTML='<span class="txt">Cancel</span>',t=D(),i=k("button"),i.innerHTML='<span class="txt">Confirm</span>',e.autofocus=!0,m(e,"type","button"),m(e,"class","btn btn-transparent"),m(i,"type","button"),m(i,"class","btn btn-expanded")},m(s,o){S(s,e,o),S(s,t,o),S(s,i,o),e.focus(),r||(l=[se(e,"click",n[15]),se(i,"click",n[16])],r=!0)},p:ge,d(s){s&&(E(e),E(t),E(i)),r=!1,it(l)}}}function bG(n){let e,t,i={class:"confirm-changes-panel",popup:!0,$$slots:{footer:[_G],header:[gG],default:[mG]},$$scope:{ctx:n}};return e=new Mi({props:i}),n[17](e),e.$on("hide",n[18]),e.$on("show",n[19]),{c(){ee(e.$$.fragment)},m(r,l){Q(e,r,l),t=!0},p(r,l){const s={};l[0]&4030|l[1]&512&&(s.$$scope={dirty:l,ctx:r}),e.$set(s)},i(r){t||(F(e.$$.fragment,r),t=!0)},o(r){x(e.$$.fragment,r),t=!1},d(r){n[17](null),J(e,r)}}}function vG(n,e,t){let i,r,l,s,o,a,u;const f=Sn();let c,h,p,_,v=[],b=[];async function y(W,G,ie=!0){t(1,h=W),t(2,p=G),_=ie,await L(),$(),await Ni(),i||s.length||o.length||a.length||v.length||b.length?c==null||c.show():M()}function A(){c==null||c.hide()}function M(){A(),f("confirm",_)}const N=["oidc","oidc2","oidc3"];async function L(){var W,G,ie,te;t(7,v=[]);for(let ae of N){let ue=(G=(W=h==null?void 0:h.oauth2)==null?void 0:W.providers)==null?void 0:G.find(oe=>oe.name==ae),K=(te=(ie=p==null?void 0:p.oauth2)==null?void 0:ie.providers)==null?void 0:te.find(oe=>oe.name==ae);if(!ue||!K)continue;let X=new URL(ue.authURL).host,_e=new URL(K.authURL).host;X!=_e&&await I(ae)&&v.push({name:ae,oldHost:X,newHost:_e})}}async function I(W){try{return await xe.collection("_externalAuths").getFirstListItem(xe.filter("collectionRef={:collectionId} && provider={:provider}",{collectionId:p==null?void 0:p.id,provider:W})),!0}catch{}return!1}function R(W){return`#/collections?collection=_externalAuths&filter=collectionRef%3D%22${p==null?void 0:p.id}%22+%26%26+provider%3D%22${W}%22`}function $(){if(t(3,b=[]),window.location.protocol!="https:")return;const W=["listRule","viewRule"];r||W.push("createRule","updateRule","deleteRule"),l&&W.push("manageRule","authRule");let G,ie;for(let te of W)G=h==null?void 0:h[te],ie=p==null?void 0:p[te],G!==ie&&b.push({prop:te,oldRule:G,newRule:ie})}const B=()=>A(),H=()=>M();function q(W){ye[W?"unshift":"push"](()=>{c=W,t(6,c)})}function z(W){ut.call(this,n,W)}function j(W){ut.call(this,n,W)}return n.$$.update=()=>{var W,G,ie;n.$$.dirty[0]&6&&t(5,i=(h==null?void 0:h.name)!=(p==null?void 0:p.name)),n.$$.dirty[0]&4&&t(4,r=(p==null?void 0:p.type)==="view"),n.$$.dirty[0]&4&&(l=(p==null?void 0:p.type)==="auth"),n.$$.dirty[0]&20&&t(10,s=!r&&((W=p==null?void 0:p.fields)==null?void 0:W.filter(te=>te.id&&!te._toDelete&&te._originalName!=te.name))||[]),n.$$.dirty[0]&20&&t(9,o=!r&&((G=p==null?void 0:p.fields)==null?void 0:G.filter(te=>te.id&&te._toDelete))||[]),n.$$.dirty[0]&6&&t(8,a=((ie=p==null?void 0:p.fields)==null?void 0:ie.filter(te=>{var ue;const ae=(ue=h==null?void 0:h.fields)==null?void 0:ue.find(K=>K.id==te.id);return ae?ae.maxSelect!=1&&te.maxSelect==1:!1}))||[]),n.$$.dirty[0]&56&&t(11,u=!r||i||b.length)},[A,h,p,b,r,i,c,v,a,o,s,u,M,R,y,B,H,q,z,j]}class yG extends je{constructor(e){super(),qe(this,e,vG,bG,We,{show:14,hide:0},null,[-1,-1])}get show(){return this.$$.ctx[14]}get hide(){return this.$$.ctx[0]}}function Rk(n,e,t){const i=n.slice();return i[59]=e[t][0],i[60]=e[t][1],i}function kG(n){let e,t,i;function r(s){n[44](s)}let l={};return n[2]!==void 0&&(l.collection=n[2]),e=new JV({props:l}),ye.push(()=>Ke(e,"collection",r)),{c(){ee(e.$$.fragment)},m(s,o){Q(e,s,o),i=!0},p(s,o){const a={};!t&&o[0]&4&&(t=!0,a.collection=s[2],Ye(()=>t=!1)),e.$set(a)},i(s){i||(F(e.$$.fragment,s),i=!0)},o(s){x(e.$$.fragment,s),i=!1},d(s){J(e,s)}}}function TG(n){let e,t,i;function r(s){n[43](s)}let l={};return n[2]!==void 0&&(l.collection=n[2]),e=new lG({props:l}),ye.push(()=>Ke(e,"collection",r)),{c(){ee(e.$$.fragment)},m(s,o){Q(e,s,o),i=!0},p(s,o){const a={};!t&&o[0]&4&&(t=!0,a.collection=s[2],Ye(()=>t=!1)),e.$set(a)},i(s){i||(F(e.$$.fragment,s),i=!0)},o(s){x(e.$$.fragment,s),i=!1},d(s){J(e,s)}}}function Pk(n){let e,t,i,r;function l(o){n[45](o)}let s={};return n[2]!==void 0&&(s.collection=n[2]),t=new pG({props:s}),ye.push(()=>Ke(t,"collection",l)),{c(){e=k("div"),ee(t.$$.fragment),m(e,"class","tab-item active")},m(o,a){S(o,e,a),Q(t,e,null),r=!0},p(o,a){const u={};!i&&a[0]&4&&(i=!0,u.collection=o[2],Ye(()=>i=!1)),t.$set(u)},i(o){r||(F(t.$$.fragment,o),r=!0)},o(o){x(t.$$.fragment,o),r=!1},d(o){o&&E(e),J(t)}}}function Fk(n){let e,t,i,r;function l(o){n[46](o)}let s={};return n[2]!==void 0&&(s.collection=n[2]),t=new oW({props:s}),ye.push(()=>Ke(t,"collection",l)),{c(){e=k("div"),ee(t.$$.fragment),m(e,"class","tab-item"),he(e,"active",n[3]===zu)},m(o,a){S(o,e,a),Q(t,e,null),r=!0},p(o,a){const u={};!i&&a[0]&4&&(i=!0,u.collection=o[2],Ye(()=>i=!1)),t.$set(u),(!r||a[0]&8)&&he(e,"active",o[3]===zu)},i(o){r||(F(t.$$.fragment,o),r=!0)},o(o){x(t.$$.fragment,o),r=!1},d(o){o&&E(e),J(t)}}}function wG(n){let e,t,i,r,l,s,o;const a=[TG,kG],u=[];function f(p,_){return p[17]?0:1}i=f(n),r=u[i]=a[i](n);let c=!n[15]&&n[3]===zc&&Pk(n),h=n[18]&&Fk(n);return{c(){e=k("div"),t=k("div"),r.c(),l=D(),c&&c.c(),s=D(),h&&h.c(),m(t,"class","tab-item"),he(t,"active",n[3]===So),m(e,"class","tabs-content svelte-xyiw1b")},m(p,_){S(p,e,_),T(e,t),u[i].m(t,null),T(e,l),c&&c.m(e,null),T(e,s),h&&h.m(e,null),o=!0},p(p,_){let v=i;i=f(p),i===v?u[i].p(p,_):(Ne(),x(u[v],1,1,()=>{u[v]=null}),Me(),r=u[i],r?r.p(p,_):(r=u[i]=a[i](p),r.c()),F(r,1),r.m(t,null)),(!o||_[0]&8)&&he(t,"active",p[3]===So),!p[15]&&p[3]===zc?c?(c.p(p,_),_[0]&32776&&F(c,1)):(c=Pk(p),c.c(),F(c,1),c.m(e,s)):c&&(Ne(),x(c,1,1,()=>{c=null}),Me()),p[18]?h?(h.p(p,_),_[0]&262144&&F(h,1)):(h=Fk(p),h.c(),F(h,1),h.m(e,null)):h&&(Ne(),x(h,1,1,()=>{h=null}),Me())},i(p){o||(F(r),F(c),F(h),o=!0)},o(p){x(r),x(c),x(h),o=!1},d(p){p&&E(e),u[i].d(),c&&c.d(),h&&h.d()}}}function $k(n){let e,t,i,r,l,s,o;return s=new Ar({props:{class:"dropdown dropdown-right m-t-5",$$slots:{default:[EG]},$$scope:{ctx:n}}}),{c(){e=k("div"),t=D(),i=k("div"),r=k("i"),l=D(),ee(s.$$.fragment),m(e,"class","flex-fill"),m(r,"class","ri-more-line"),m(r,"aria-hidden","true"),m(i,"tabindex","0"),m(i,"role","button"),m(i,"aria-label","More collection options"),m(i,"class","btn btn-sm btn-circle btn-transparent flex-gap-0")},m(a,u){S(a,e,u),S(a,t,u),S(a,i,u),T(i,r),T(i,l),Q(s,i,null),o=!0},p(a,u){const f={};u[0]&131076|u[2]&2&&(f.$$scope={dirty:u,ctx:a}),s.$set(f)},i(a){o||(F(s.$$.fragment,a),o=!0)},o(a){x(s.$$.fragment,a),o=!1},d(a){a&&(E(e),E(t),E(i)),J(s)}}}function Hk(n){let e,t,i,r,l;return{c(){e=k("button"),e.innerHTML='<i class="ri-file-copy-line" aria-hidden="true"></i> <span class="txt">Duplicate</span>',t=D(),i=k("hr"),m(e,"type","button"),m(e,"class","dropdown-item"),m(e,"role","menuitem")},m(s,o){S(s,e,o),S(s,t,o),S(s,i,o),r||(l=se(e,"click",n[34]),r=!0)},p:ge,d(s){s&&(E(e),E(t),E(i)),r=!1,l()}}}function Bk(n){let e,t,i;return{c(){e=k("button"),e.innerHTML='<i class="ri-eraser-line" aria-hidden="true"></i> <span class="txt">Truncate</span>',m(e,"type","button"),m(e,"class","dropdown-item txt-danger"),m(e,"role","menuitem")},m(r,l){S(r,e,l),t||(i=se(e,"click",n[35]),t=!0)},p:ge,d(r){r&&E(e),t=!1,i()}}}function xk(n){let e,t,i;return{c(){e=k("button"),e.innerHTML='<i class="ri-delete-bin-7-line" aria-hidden="true"></i> <span class="txt">Delete</span>',m(e,"type","button"),m(e,"class","dropdown-item txt-danger"),m(e,"role","menuitem")},m(r,l){S(r,e,l),t||(i=se(e,"click",Ai(ln(n[36]))),t=!0)},p:ge,d(r){r&&E(e),t=!1,i()}}}function EG(n){let e,t,i,r=!n[2].system&&Hk(n),l=!n[17]&&Bk(n),s=!n[2].system&&xk(n);return{c(){r&&r.c(),e=D(),l&&l.c(),t=D(),s&&s.c(),i=ze()},m(o,a){r&&r.m(o,a),S(o,e,a),l&&l.m(o,a),S(o,t,a),s&&s.m(o,a),S(o,i,a)},p(o,a){o[2].system?r&&(r.d(1),r=null):r?r.p(o,a):(r=Hk(o),r.c(),r.m(e.parentNode,e)),o[17]?l&&(l.d(1),l=null):l?l.p(o,a):(l=Bk(o),l.c(),l.m(t.parentNode,t)),o[2].system?s&&(s.d(1),s=null):s?s.p(o,a):(s=xk(o),s.c(),s.m(i.parentNode,i))},d(o){o&&(E(e),E(t),E(i)),r&&r.d(o),l&&l.d(o),s&&s.d(o)}}}function Uk(n){let e,t,i,r;return i=new Ar({props:{class:"dropdown dropdown-right dropdown-nowrap m-t-5",$$slots:{default:[SG]},$$scope:{ctx:n}}}),{c(){e=k("i"),t=D(),ee(i.$$.fragment),m(e,"class","ri-arrow-down-s-fill"),m(e,"aria-hidden","true")},m(l,s){S(l,e,s),S(l,t,s),Q(i,l,s),r=!0},p(l,s){const o={};s[0]&68|s[2]&2&&(o.$$scope={dirty:s,ctx:l}),i.$set(o)},i(l){r||(F(i.$$.fragment,l),r=!0)},o(l){x(i.$$.fragment,l),r=!1},d(l){l&&(E(e),E(t)),J(i,l)}}}function zk(n){let e,t,i,r,l,s=n[60]+"",o,a,u,f,c;function h(){return n[38](n[59])}return{c(){e=k("button"),t=k("i"),r=D(),l=k("span"),o=le(s),a=le(" collection"),u=D(),m(t,"class",i=Ac(re.getCollectionTypeIcon(n[59]))+" svelte-xyiw1b"),m(t,"aria-hidden","true"),m(l,"class","txt"),m(e,"type","button"),m(e,"role","menuitem"),m(e,"class","dropdown-item closable"),he(e,"selected",n[59]==n[2].type)},m(p,_){S(p,e,_),T(e,t),T(e,r),T(e,l),T(l,o),T(l,a),T(e,u),f||(c=se(e,"click",h),f=!0)},p(p,_){n=p,_[0]&64&&i!==(i=Ac(re.getCollectionTypeIcon(n[59]))+" svelte-xyiw1b")&&m(t,"class",i),_[0]&64&&s!==(s=n[60]+"")&&Se(o,s),_[0]&68&&he(e,"selected",n[59]==n[2].type)},d(p){p&&E(e),f=!1,c()}}}function SG(n){let e,t=Re(Object.entries(n[6])),i=[];for(let r=0;r<t.length;r+=1)i[r]=zk(Rk(n,t,r));return{c(){for(let r=0;r<i.length;r+=1)i[r].c();e=ze()},m(r,l){for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(r,l);S(r,e,l)},p(r,l){if(l[0]&8388676){t=Re(Object.entries(r[6]));let s;for(s=0;s<t.length;s+=1){const o=Rk(r,t,s);i[s]?i[s].p(o,l):(i[s]=zk(o),i[s].c(),i[s].m(e.parentNode,e))}for(;s<i.length;s+=1)i[s].d(1);i.length=t.length}},d(r){r&&E(e),fn(i,r)}}}function qk(n){let e;return{c(){e=k("div"),e.textContent="System collection",m(e,"class","help-block")},m(t,i){S(t,e,i)},d(t){t&&E(e)}}}function CG(n){let e,t,i,r,l,s,o,a,u,f,c,h,p,_,v,b,y=(n[6][n[2].type]||"N/A")+"",A,M,N,L,I,R,$,B,H,q,z=!n[2].id&&Uk(n),j=n[2].system&&qk();return{c(){e=k("label"),t=le("Name"),r=D(),l=k("input"),f=D(),c=k("div"),h=k("div"),p=k("span"),_=D(),v=k("span"),b=le("Type: "),A=le(y),M=D(),z&&z.c(),R=D(),j&&j.c(),$=ze(),m(e,"for",i=n[58]),m(l,"type","text"),m(l,"id",s=n[58]),l.required=!0,l.disabled=n[16],m(l,"spellcheck","false"),l.autofocus=o=!n[2].id,m(l,"placeholder",a=n[18]?'eg. "users"':'eg. "posts"'),l.value=u=n[2].name,he(l,"txt-bold",n[2].system),m(p,"aria-hidden","true"),m(v,"class","txt"),m(h,"tabindex",N=n[2].id?-1:0),m(h,"role",L=n[2].id?"":"button"),m(h,"aria-label","View types"),m(h,"class",I="btn btn-sm p-r-10 p-l-10 "+(n[2].id?"btn-transparent":"btn-outline")),he(h,"btn-disabled",!!n[2].id),m(c,"class","form-field-addon")},m(W,G){S(W,e,G),T(e,t),S(W,r,G),S(W,l,G),S(W,f,G),S(W,c,G),T(c,h),T(h,p),T(h,_),T(h,v),T(v,b),T(v,A),T(h,M),z&&z.m(h,null),S(W,R,G),j&&j.m(W,G),S(W,$,G),B=!0,n[2].id||l.focus(),H||(q=se(l,"input",n[37]),H=!0)},p(W,G){(!B||G[1]&134217728&&i!==(i=W[58]))&&m(e,"for",i),(!B||G[1]&134217728&&s!==(s=W[58]))&&m(l,"id",s),(!B||G[0]&65536)&&(l.disabled=W[16]),(!B||G[0]&4&&o!==(o=!W[2].id))&&(l.autofocus=o),(!B||G[0]&262144&&a!==(a=W[18]?'eg. "users"':'eg. "posts"'))&&m(l,"placeholder",a),(!B||G[0]&4&&u!==(u=W[2].name)&&l.value!==u)&&(l.value=u),(!B||G[0]&4)&&he(l,"txt-bold",W[2].system),(!B||G[0]&68)&&y!==(y=(W[6][W[2].type]||"N/A")+"")&&Se(A,y),W[2].id?z&&(Ne(),x(z,1,1,()=>{z=null}),Me()):z?(z.p(W,G),G[0]&4&&F(z,1)):(z=Uk(W),z.c(),F(z,1),z.m(h,null)),(!B||G[0]&4&&N!==(N=W[2].id?-1:0))&&m(h,"tabindex",N),(!B||G[0]&4&&L!==(L=W[2].id?"":"button"))&&m(h,"role",L),(!B||G[0]&4&&I!==(I="btn btn-sm p-r-10 p-l-10 "+(W[2].id?"btn-transparent":"btn-outline")))&&m(h,"class",I),(!B||G[0]&4)&&he(h,"btn-disabled",!!W[2].id),W[2].system?j||(j=qk(),j.c(),j.m($.parentNode,$)):j&&(j.d(1),j=null)},i(W){B||(F(z),B=!0)},o(W){x(z),B=!1},d(W){W&&(E(e),E(r),E(l),E(f),E(c),E(R),E($)),z&&z.d(),j&&j.d(W),H=!1,q()}}}function jk(n){let e,t,i,r,l,s;return{c(){e=k("i"),m(e,"class","ri-error-warning-fill txt-danger")},m(o,a){S(o,e,a),r=!0,l||(s=nt(t=_t.call(null,e,n[12])),l=!0)},p(o,a){t&&Kn(t.update)&&a[0]&4096&&t.update.call(null,o[12])},i(o){r||(o&&tn(()=>{r&&(i||(i=Et(e,Bn,{duration:150,start:.7},!0)),i.run(1))}),r=!0)},o(o){o&&(i||(i=Et(e,Bn,{duration:150,start:.7},!1)),i.run(0)),r=!1},d(o){o&&E(e),o&&i&&i.end(),l=!1,s()}}}function Wk(n){var a,u,f,c,h,p,_;let e,t,i,r=!re.isEmpty((a=n[5])==null?void 0:a.listRule)||!re.isEmpty((u=n[5])==null?void 0:u.viewRule)||!re.isEmpty((f=n[5])==null?void 0:f.createRule)||!re.isEmpty((c=n[5])==null?void 0:c.updateRule)||!re.isEmpty((h=n[5])==null?void 0:h.deleteRule)||!re.isEmpty((p=n[5])==null?void 0:p.authRule)||!re.isEmpty((_=n[5])==null?void 0:_.manageRule),l,s,o=r&&Kk();return{c(){e=k("button"),t=k("span"),t.textContent="API Rules",i=D(),o&&o.c(),m(t,"class","txt"),m(e,"type","button"),m(e,"class","tab-item"),he(e,"active",n[3]===zc)},m(v,b){S(v,e,b),T(e,t),T(e,i),o&&o.m(e,null),l||(s=se(e,"click",n[41]),l=!0)},p(v,b){var y,A,M,N,L,I,R;b[0]&32&&(r=!re.isEmpty((y=v[5])==null?void 0:y.listRule)||!re.isEmpty((A=v[5])==null?void 0:A.viewRule)||!re.isEmpty((M=v[5])==null?void 0:M.createRule)||!re.isEmpty((N=v[5])==null?void 0:N.updateRule)||!re.isEmpty((L=v[5])==null?void 0:L.deleteRule)||!re.isEmpty((I=v[5])==null?void 0:I.authRule)||!re.isEmpty((R=v[5])==null?void 0:R.manageRule)),r?o?b[0]&32&&F(o,1):(o=Kk(),o.c(),F(o,1),o.m(e,null)):o&&(Ne(),x(o,1,1,()=>{o=null}),Me()),b[0]&8&&he(e,"active",v[3]===zc)},d(v){v&&E(e),o&&o.d(),l=!1,s()}}}function Kk(n){let e,t,i,r,l;return{c(){e=k("i"),m(e,"class","ri-error-warning-fill txt-danger")},m(s,o){S(s,e,o),i=!0,r||(l=nt(_t.call(null,e,"Has errors")),r=!0)},i(s){i||(s&&tn(()=>{i&&(t||(t=Et(e,Bn,{duration:150,start:.7},!0)),t.run(1))}),i=!0)},o(s){s&&(t||(t=Et(e,Bn,{duration:150,start:.7},!1)),t.run(0)),i=!1},d(s){s&&E(e),s&&t&&t.end(),r=!1,l()}}}function Vk(n){let e,t,i,r=n[5]&&n[25](n[5],n[13].concat(["manageRule","authRule"])),l,s,o=r&&Gk();return{c(){e=k("button"),t=k("span"),t.textContent="Options",i=D(),o&&o.c(),m(t,"class","txt"),m(e,"type","button"),m(e,"class","tab-item"),he(e,"active",n[3]===zu)},m(a,u){S(a,e,u),T(e,t),T(e,i),o&&o.m(e,null),l||(s=se(e,"click",n[42]),l=!0)},p(a,u){u[0]&8224&&(r=a[5]&&a[25](a[5],a[13].concat(["manageRule","authRule"]))),r?o?u[0]&8224&&F(o,1):(o=Gk(),o.c(),F(o,1),o.m(e,null)):o&&(Ne(),x(o,1,1,()=>{o=null}),Me()),u[0]&8&&he(e,"active",a[3]===zu)},d(a){a&&E(e),o&&o.d(),l=!1,s()}}}function Gk(n){let e,t,i,r,l;return{c(){e=k("i"),m(e,"class","ri-error-warning-fill txt-danger")},m(s,o){S(s,e,o),i=!0,r||(l=nt(_t.call(null,e,"Has errors")),r=!0)},i(s){i||(s&&tn(()=>{i&&(t||(t=Et(e,Bn,{duration:150,start:.7},!0)),t.run(1))}),i=!0)},o(s){s&&(t||(t=Et(e,Bn,{duration:150,start:.7},!1)),t.run(0)),i=!1},d(s){s&&E(e),s&&t&&t.end(),r=!1,l()}}}function AG(n){let e,t=n[2].id?"Edit collection":"New collection",i,r,l,s,o,a,u,f,c,h,p,_=n[17]?"Query":"Fields",v,b,y=!re.isEmpty(n[12]),A,M,N,L,I,R=!!n[2].id&&(!n[2].system||!n[17])&&$k(n);o=new Pe({props:{class:"form-field collection-field-name required m-b-0",name:"name",$$slots:{default:[CG,({uniqueId:q})=>({58:q}),({uniqueId:q})=>[0,q?134217728:0]]},$$scope:{ctx:n}}});let $=y&&jk(n),B=!n[15]&&Wk(n),H=n[18]&&Vk(n);return{c(){e=k("h4"),i=le(t),r=D(),R&&R.c(),l=D(),s=k("form"),ee(o.$$.fragment),a=D(),u=k("input"),f=D(),c=k("div"),h=k("button"),p=k("span"),v=le(_),b=D(),$&&$.c(),A=D(),B&&B.c(),M=D(),H&&H.c(),m(e,"class","upsert-panel-title svelte-xyiw1b"),m(u,"type","submit"),m(u,"class","hidden"),m(u,"tabindex","-1"),m(s,"class","block"),m(p,"class","txt"),m(h,"type","button"),m(h,"class","tab-item"),he(h,"active",n[3]===So),m(c,"class","tabs-header stretched")},m(q,z){S(q,e,z),T(e,i),S(q,r,z),R&&R.m(q,z),S(q,l,z),S(q,s,z),Q(o,s,null),T(s,a),T(s,u),S(q,f,z),S(q,c,z),T(c,h),T(h,p),T(p,v),T(h,b),$&&$.m(h,null),T(c,A),B&&B.m(c,null),T(c,M),H&&H.m(c,null),N=!0,L||(I=[se(s,"submit",ln(n[39])),se(h,"click",n[40])],L=!0)},p(q,z){(!N||z[0]&4)&&t!==(t=q[2].id?"Edit collection":"New collection")&&Se(i,t),q[2].id&&(!q[2].system||!q[17])?R?(R.p(q,z),z[0]&131076&&F(R,1)):(R=$k(q),R.c(),F(R,1),R.m(l.parentNode,l)):R&&(Ne(),x(R,1,1,()=>{R=null}),Me());const j={};z[0]&327748|z[1]&134217728|z[2]&2&&(j.$$scope={dirty:z,ctx:q}),o.$set(j),(!N||z[0]&131072)&&_!==(_=q[17]?"Query":"Fields")&&Se(v,_),z[0]&4096&&(y=!re.isEmpty(q[12])),y?$?($.p(q,z),z[0]&4096&&F($,1)):($=jk(q),$.c(),F($,1),$.m(h,null)):$&&(Ne(),x($,1,1,()=>{$=null}),Me()),(!N||z[0]&8)&&he(h,"active",q[3]===So),q[15]?B&&(B.d(1),B=null):B?B.p(q,z):(B=Wk(q),B.c(),B.m(c,M)),q[18]?H?H.p(q,z):(H=Vk(q),H.c(),H.m(c,null)):H&&(H.d(1),H=null)},i(q){N||(F(R),F(o.$$.fragment,q),F($),N=!0)},o(q){x(R),x(o.$$.fragment,q),x($),N=!1},d(q){q&&(E(e),E(r),E(l),E(s),E(f),E(c)),R&&R.d(q),J(o),$&&$.d(),B&&B.d(),H&&H.d(),L=!1,it(I)}}}function Yk(n){let e,t,i,r,l,s;return r=new Ar({props:{class:"dropdown dropdown-upside dropdown-right dropdown-nowrap m-b-5",$$slots:{default:[OG]},$$scope:{ctx:n}}}),{c(){e=k("button"),t=k("i"),i=D(),ee(r.$$.fragment),m(t,"class","ri-arrow-down-s-line"),m(t,"aria-hidden","true"),m(e,"type","button"),m(e,"class","btn p-l-5 p-r-5 flex-gap-0"),e.disabled=l=!n[14]||n[9]||n[10]},m(o,a){S(o,e,a),T(e,t),T(e,i),Q(r,e,null),s=!0},p(o,a){const u={};a[2]&2&&(u.$$scope={dirty:a,ctx:o}),r.$set(u),(!s||a[0]&17920&&l!==(l=!o[14]||o[9]||o[10]))&&(e.disabled=l)},i(o){s||(F(r.$$.fragment,o),s=!0)},o(o){x(r.$$.fragment,o),s=!1},d(o){o&&E(e),J(r)}}}function OG(n){let e,t,i;return{c(){e=k("button"),e.innerHTML='<span class="txt">Save and continue</span>',m(e,"type","button"),m(e,"class","dropdown-item closable"),m(e,"role","menuitem")},m(r,l){S(r,e,l),t||(i=se(e,"click",n[33]),t=!0)},p:ge,d(r){r&&E(e),t=!1,i()}}}function NG(n){let e,t,i,r,l,s,o=n[2].id?"Save changes":"Create",a,u,f,c,h,p,_=n[2].id&&Yk(n);return{c(){e=k("button"),t=k("span"),t.textContent="Cancel",i=D(),r=k("div"),l=k("button"),s=k("span"),a=le(o),f=D(),_&&_.c(),m(t,"class","txt"),m(e,"type","button"),m(e,"class","btn btn-transparent"),e.disabled=n[9],m(s,"class","txt"),m(l,"type","button"),m(l,"title","Save and close"),m(l,"class","btn"),l.disabled=u=!n[14]||n[9]||n[10],he(l,"btn-expanded",!n[2].id),he(l,"btn-expanded-sm",!!n[2].id),he(l,"btn-loading",n[9]||n[10]),m(r,"class","btns-group no-gap")},m(v,b){S(v,e,b),T(e,t),S(v,i,b),S(v,r,b),T(r,l),T(l,s),T(s,a),T(r,f),_&&_.m(r,null),c=!0,h||(p=[se(e,"click",n[31]),se(l,"click",n[32])],h=!0)},p(v,b){(!c||b[0]&512)&&(e.disabled=v[9]),(!c||b[0]&4)&&o!==(o=v[2].id?"Save changes":"Create")&&Se(a,o),(!c||b[0]&17920&&u!==(u=!v[14]||v[9]||v[10]))&&(l.disabled=u),(!c||b[0]&4)&&he(l,"btn-expanded",!v[2].id),(!c||b[0]&4)&&he(l,"btn-expanded-sm",!!v[2].id),(!c||b[0]&1536)&&he(l,"btn-loading",v[9]||v[10]),v[2].id?_?(_.p(v,b),b[0]&4&&F(_,1)):(_=Yk(v),_.c(),F(_,1),_.m(r,null)):_&&(Ne(),x(_,1,1,()=>{_=null}),Me())},i(v){c||(F(_),c=!0)},o(v){x(_),c=!1},d(v){v&&(E(e),E(i),E(r)),_&&_.d(),h=!1,it(p)}}}function MG(n){let e,t,i,r,l={class:"overlay-panel-lg colored-header collection-panel",escClose:!1,overlayClose:!n[9],beforeHide:n[47],$$slots:{footer:[NG],header:[AG],default:[wG]},$$scope:{ctx:n}};e=new Mi({props:l}),n[48](e),e.$on("hide",n[49]),e.$on("show",n[50]);let s={};return i=new yG({props:s}),n[51](i),i.$on("confirm",n[52]),{c(){ee(e.$$.fragment),t=D(),ee(i.$$.fragment)},m(o,a){Q(e,o,a),S(o,t,a),Q(i,o,a),r=!0},p(o,a){const u={};a[0]&512&&(u.overlayClose=!o[9]),a[0]&2064&&(u.beforeHide=o[47]),a[0]&521836|a[2]&2&&(u.$$scope={dirty:a,ctx:o}),e.$set(u);const f={};i.$set(f)},i(o){r||(F(e.$$.fragment,o),F(i.$$.fragment,o),r=!0)},o(o){x(e.$$.fragment,o),x(i.$$.fragment,o),r=!1},d(o){o&&E(t),n[48](null),J(e,o),n[51](null),J(i,o)}}}const So="schema",zc="api_rules",zu="options",IG="base",Xk="auth",Zk="view";function Gm(n){return JSON.stringify(n)}function LG(n,e,t){let i,r,l,s,o,a,u,f,c;Wt(n,r_,Xe=>t(30,u=Xe)),Wt(n,Sl,Xe=>t(53,f=Xe)),Wt(n,mr,Xe=>t(5,c=Xe));const h={};h[IG]="Base",h[Zk]="View",h[Xk]="Auth";const p=Sn();let _,v,b=null,y={},A=!1,M=!1,N=!1,L=So,I=Gm(y),R="",$=[];function B(Xe){t(3,L=Xe)}function H(Xe){return j(Xe),t(11,N=!0),t(10,M=!1),t(9,A=!1),B(So),_==null?void 0:_.show()}function q(){return _==null?void 0:_.hide()}function z(){t(11,N=!1),q()}async function j(Xe){mi({}),typeof Xe<"u"?(t(28,b=Xe),t(2,y=structuredClone(Xe))):(t(28,b=null),t(2,y=structuredClone(u.base)),y.fields.push({type:"autodate",name:"created",onCreate:!0}),y.fields.push({type:"autodate",name:"updated",onCreate:!0,onUpdate:!0})),t(2,y.fields=y.fields||[],y),t(2,y._originalName=y.name||"",y),await Ni(),t(29,I=Gm(y))}async function W(Xe=!0){if(!M){t(10,M=!0);try{y.id?await(v==null?void 0:v.show(b,y,Xe)):await G(Xe)}catch{}t(10,M=!1)}}function G(Xe=!0){if(A)return;t(9,A=!0);const Kt=ie(),Ie=!y.id;let Je;return Ie?Je=xe.collections.create(Kt):Je=xe.collections.update(y.id,Kt),Je.then(Dt=>{oc(),cP(Dt),Xe?(t(11,N=!1),q()):j(Dt),Oi(y.id?"Successfully updated collection.":"Successfully created collection."),p("save",{isNew:Ie,collection:Dt}),Ie&&Cr(Sl,f=Dt,f)}).catch(Dt=>{xe.error(Dt)}).finally(()=>{t(9,A=!1)})}function ie(){const Xe=Object.assign({},y);Xe.fields=Xe.fields.slice(0);for(let Kt=Xe.fields.length-1;Kt>=0;Kt--)Xe.fields[Kt]._toDelete&&Xe.fields.splice(Kt,1);return Xe}function te(){b!=null&&b.id&&ar(`Do you really want to delete all "${b.name}" records, including their cascade delete references and files?`,()=>xe.collections.truncate(b.id).then(()=>{z(),Oi(`Successfully truncated collection "${b.name}".`),p("truncate")}).catch(Xe=>{xe.error(Xe)}))}function ae(){b!=null&&b.id&&ar(`Do you really want to delete collection "${b.name}" and all its records?`,()=>xe.collections.delete(b.id).then(()=>{z(),Oi(`Successfully deleted collection "${b.name}".`),p("delete",b),dP(b)}).catch(Xe=>{xe.error(Xe)}))}function ue(Xe){t(2,y.type=Xe,y),t(2,y=Object.assign(structuredClone(u[Xe]),y)),ul("fields")}function K(){o?ar("You have unsaved changes. Do you really want to discard them?",()=>{X()}):X()}async function X(){const Xe=b?structuredClone(b):null;if(Xe){if(Xe.id="",Xe.created="",Xe.updated="",Xe.name+="_duplicate",!re.isEmpty(Xe.fields))for(const Kt of Xe.fields)Kt.id="";if(!re.isEmpty(Xe.indexes))for(let Kt=0;Kt<Xe.indexes.length;Kt++){const Ie=re.parseIndex(Xe.indexes[Kt]);Ie.indexName="idx_"+re.randomString(10),Ie.tableName=Xe.name,Xe.indexes[Kt]=re.buildIndex(Ie)}}H(Xe),await Ni(),t(29,I="")}function _e(Xe,Kt=[]){if(re.isEmpty(Xe))return!1;const Ie=Object.keys(Xe);for(let Je of Ie)if(!Kt.includes(Je))return!0;return!1}const oe=()=>q(),Le=()=>W(),lt=()=>W(!1),St=()=>K(),bt=()=>te(),At=()=>ae(),ot=Xe=>{t(2,y.name=re.slugify(Xe.target.value),y),Xe.target.value=y.name},vt=Xe=>ue(Xe),zt=()=>{a&&W()},pt=()=>B(So),$e=()=>B(zc),Bt=()=>B(zu);function Ze(Xe){y=Xe,t(2,y),t(28,b)}function dt(Xe){y=Xe,t(2,y),t(28,b)}function Fe(Xe){y=Xe,t(2,y),t(28,b)}function Ft(Xe){y=Xe,t(2,y),t(28,b)}const cn=()=>o&&N?(ar("You have unsaved changes. Do you really want to close the panel?",()=>{t(11,N=!1),q()}),!1):!0;function Ee(Xe){ye[Xe?"unshift":"push"](()=>{_=Xe,t(7,_)})}function Ue(Xe){ut.call(this,n,Xe)}function sn(Xe){ut.call(this,n,Xe)}function gn(Xe){ye[Xe?"unshift":"push"](()=>{v=Xe,t(8,v)})}const Zt=Xe=>G(Xe.detail);return n.$$.update=()=>{var Xe;n.$$.dirty[0]&1073741824&&t(13,$=Object.keys(u.base||{})),n.$$.dirty[0]&4&&y.type==="view"&&(t(2,y.createRule=null,y),t(2,y.updateRule=null,y),t(2,y.deleteRule=null,y),t(2,y.indexes=[],y)),n.$$.dirty[0]&268435460&&y.name&&(b==null?void 0:b.name)!=y.name&&y.indexes.length>0&&t(2,y.indexes=(Xe=y.indexes)==null?void 0:Xe.map(Kt=>re.replaceIndexTableName(Kt,y.name)),y),n.$$.dirty[0]&4&&t(18,i=y.type===Xk),n.$$.dirty[0]&4&&t(17,r=y.type===Zk),n.$$.dirty[0]&32&&(c.fields||c.viewQuery||c.indexes?t(12,R=re.getNestedVal(c,"fields.message")||"Has errors"):t(12,R="")),n.$$.dirty[0]&4&&t(16,l=!!y.id&&y.system),n.$$.dirty[0]&4&&t(15,s=!!y.id&&y.system&&y.name=="_superusers"),n.$$.dirty[0]&536870916&&t(4,o=I!=Gm(y)),n.$$.dirty[0]&20&&t(14,a=!y.id||o),n.$$.dirty[0]&12&&L===zu&&y.type!=="auth"&&B(So)},[B,q,y,L,o,c,h,_,v,A,M,N,R,$,a,s,l,r,i,W,G,te,ae,ue,K,_e,H,z,b,I,u,oe,Le,lt,St,bt,At,ot,vt,zt,pt,$e,Bt,Ze,dt,Fe,Ft,cn,Ee,Ue,sn,gn,Zt]}class M_ extends je{constructor(e){super(),qe(this,e,LG,MG,We,{changeTab:0,show:26,hide:1,forceHide:27},null,[-1,-1,-1])}get changeTab(){return this.$$.ctx[0]}get show(){return this.$$.ctx[26]}get hide(){return this.$$.ctx[1]}get forceHide(){return this.$$.ctx[27]}}function DG(n){let e,t,i;return{c(){e=k("span"),m(e,"class","dragline svelte-y9un12"),he(e,"dragging",n[1])},m(r,l){S(r,e,l),n[4](e),t||(i=[se(e,"mousedown",n[5]),se(e,"touchstart",n[2])],t=!0)},p(r,[l]){l&2&&he(e,"dragging",r[1])},i:ge,o:ge,d(r){r&&E(e),n[4](null),t=!1,it(i)}}}function RG(n,e,t){const i=Sn();let{tolerance:r=0}=e,l,s=0,o=0,a=0,u=0,f=!1;function c(b){b.stopPropagation(),s=b.clientX,o=b.clientY,a=b.clientX-l.offsetLeft,u=b.clientY-l.offsetTop,document.addEventListener("touchmove",p),document.addEventListener("mousemove",p),document.addEventListener("touchend",h),document.addEventListener("mouseup",h)}function h(b){f&&(b.preventDefault(),t(1,f=!1),l.classList.remove("no-pointer-events"),i("dragstop",{event:b,elem:l})),document.removeEventListener("touchmove",p),document.removeEventListener("mousemove",p),document.removeEventListener("touchend",h),document.removeEventListener("mouseup",h)}function p(b){let y=b.clientX-s,A=b.clientY-o,M=b.clientX-a,N=b.clientY-u;!f&&Math.abs(M-l.offsetLeft)<r&&Math.abs(N-l.offsetTop)<r||(b.preventDefault(),f||(t(1,f=!0),l.classList.add("no-pointer-events"),i("dragstart",{event:b,elem:l})),i("dragging",{event:b,elem:l,diffX:y,diffY:A}))}function _(b){ye[b?"unshift":"push"](()=>{l=b,t(0,l)})}const v=b=>{b.button==0&&c(b)};return n.$$set=b=>{"tolerance"in b&&t(3,r=b.tolerance)},[l,f,c,r,_,v]}class PG extends je{constructor(e){super(),qe(this,e,RG,DG,We,{tolerance:3})}}function FG(n){let e,t,i,r,l;const s=n[5].default,o=Zn(s,n,n[4],null);return r=new PG({}),r.$on("dragstart",n[7]),r.$on("dragging",n[8]),r.$on("dragstop",n[9]),{c(){e=k("aside"),o&&o.c(),i=D(),ee(r.$$.fragment),m(e,"class",t="page-sidebar "+n[0])},m(a,u){S(a,e,u),o&&o.m(e,null),n[6](e),S(a,i,u),Q(r,a,u),l=!0},p(a,[u]){o&&o.p&&(!l||u&16)&&Jn(o,s,a,a[4],l?Qn(s,a[4],u,null):ei(a[4]),null),(!l||u&1&&t!==(t="page-sidebar "+a[0]))&&m(e,"class",t)},i(a){l||(F(o,a),F(r.$$.fragment,a),l=!0)},o(a){x(o,a),x(r.$$.fragment,a),l=!1},d(a){a&&(E(e),E(i)),o&&o.d(a),n[6](null),J(r,a)}}}const Qk="@superuserSidebarWidth";function $G(n,e,t){let{$$slots:i={},$$scope:r}=e,{class:l=""}=e,s,o,a=localStorage.getItem(Qk)||null;function u(p){ye[p?"unshift":"push"](()=>{s=p,t(1,s),t(2,a)})}const f=()=>{t(3,o=s.offsetWidth)},c=p=>{t(2,a=o+p.detail.diffX+"px")},h=()=>{re.triggerResize()};return n.$$set=p=>{"class"in p&&t(0,l=p.class),"$$scope"in p&&t(4,r=p.$$scope)},n.$$.update=()=>{n.$$.dirty&6&&a&&s&&(t(1,s.style.width=a,s),localStorage.setItem(Qk,a))},[l,s,a,o,r,i,u,f,c,h]}class NA extends je{constructor(e){super(),qe(this,e,$G,FG,We,{class:0})}}function Jk(n){let e,t,i;return{c(){e=k("i"),m(e,"class","ri-alert-line txt-sm link-hint"),m(e,"aria-hidden","true")},m(r,l){S(r,e,l),t||(i=nt(_t.call(null,e,"OAuth2 auth is enabled but the collection doesn't have any registered providers")),t=!0)},d(r){r&&E(e),t=!1,i()}}}function HG(n){let e;return{c(){e=k("i"),m(e,"class","ri-pushpin-line m-l-auto svelte-5oh3nd")},m(t,i){S(t,e,i)},d(t){t&&E(e)}}}function BG(n){let e;return{c(){e=k("i"),m(e,"class","ri-unpin-line svelte-5oh3nd")},m(t,i){S(t,e,i)},d(t){t&&E(e)}}}function xG(n){var N,L;let e,t,i,r,l,s=n[0].name+"",o,a,u,f,c,h,p,_,v,b=n[0].type=="auth"&&((N=n[0].oauth2)==null?void 0:N.enabled)&&!((L=n[0].oauth2.providers)!=null&&L.length)&&Jk();function y(I,R){return I[1]?BG:HG}let A=y(n),M=A(n);return{c(){var I;e=k("a"),t=k("i"),r=D(),l=k("span"),o=le(s),a=D(),b&&b.c(),u=D(),f=k("span"),M.c(),m(t,"class",i=Ac(re.getCollectionTypeIcon(n[0].type))+" svelte-5oh3nd"),m(t,"aria-hidden","true"),m(l,"class","txt"),m(f,"class","btn btn-xs btn-circle btn-hint btn-transparent btn-pin-collection m-l-auto svelte-5oh3nd"),m(f,"aria-label","Pin collection"),m(f,"aria-hidden","true"),m(e,"href",h="/collections?collection="+n[0].id),m(e,"class","sidebar-list-item svelte-5oh3nd"),m(e,"title",p=n[0].name),he(e,"active",((I=n[2])==null?void 0:I.id)===n[0].id)},m(I,R){S(I,e,R),T(e,t),T(e,r),T(e,l),T(l,o),T(e,a),b&&b.m(e,null),T(e,u),T(e,f),M.m(f,null),_||(v=[nt(c=_t.call(null,f,{position:"right",text:(n[1]?"Unpin":"Pin")+" collection"})),se(f,"click",Ai(ln(n[5]))),nt(qr.call(null,e))],_=!0)},p(I,[R]){var $,B,H;R&1&&i!==(i=Ac(re.getCollectionTypeIcon(I[0].type))+" svelte-5oh3nd")&&m(t,"class",i),R&1&&s!==(s=I[0].name+"")&&Se(o,s),I[0].type=="auth"&&(($=I[0].oauth2)!=null&&$.enabled)&&!((B=I[0].oauth2.providers)!=null&&B.length)?b||(b=Jk(),b.c(),b.m(e,u)):b&&(b.d(1),b=null),A!==(A=y(I))&&(M.d(1),M=A(I),M&&(M.c(),M.m(f,null))),c&&Kn(c.update)&&R&2&&c.update.call(null,{position:"right",text:(I[1]?"Unpin":"Pin")+" collection"}),R&1&&h!==(h="/collections?collection="+I[0].id)&&m(e,"href",h),R&1&&p!==(p=I[0].name)&&m(e,"title",p),R&5&&he(e,"active",((H=I[2])==null?void 0:H.id)===I[0].id)},i:ge,o:ge,d(I){I&&E(e),b&&b.d(),M.d(),_=!1,it(v)}}}function UG(n,e,t){let i,r;Wt(n,Sl,u=>t(2,r=u));let{collection:l}=e,{pinnedIds:s}=e;function o(u){s.includes(u.id)?re.removeByValue(s,u.id):s.push(u.id),t(4,s)}const a=()=>o(l);return n.$$set=u=>{"collection"in u&&t(0,l=u.collection),"pinnedIds"in u&&t(4,s=u.pinnedIds)},n.$$.update=()=>{n.$$.dirty&17&&t(1,i=s.includes(l.id))},[l,i,r,o,s,a]}class I_ extends je{constructor(e){super(),qe(this,e,UG,xG,We,{collection:0,pinnedIds:4})}}function eT(n,e,t){const i=n.slice();return i[25]=e[t],i}function tT(n,e,t){const i=n.slice();return i[25]=e[t],i}function nT(n,e,t){const i=n.slice();return i[25]=e[t],i}function iT(n){let e,t,i=[],r=new Map,l,s,o=Re(n[2]);const a=u=>u[25].id;for(let u=0;u<o.length;u+=1){let f=nT(n,o,u),c=a(f);r.set(c,i[u]=rT(c,f))}return{c(){e=k("div"),e.textContent="Pinned",t=D();for(let u=0;u<i.length;u+=1)i[u].c();l=ze(),m(e,"class","sidebar-title")},m(u,f){S(u,e,f),S(u,t,f);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(u,f);S(u,l,f),s=!0},p(u,f){f[0]&6&&(o=Re(u[2]),Ne(),i=In(i,f,a,1,u,o,r,l.parentNode,di,rT,l,nT),Me())},i(u){if(!s){for(let f=0;f<o.length;f+=1)F(i[f]);s=!0}},o(u){for(let f=0;f<i.length;f+=1)x(i[f]);s=!1},d(u){u&&(E(e),E(t),E(l));for(let f=0;f<i.length;f+=1)i[f].d(u)}}}function rT(n,e){let t,i,r,l;function s(a){e[17](a)}let o={collection:e[25]};return e[1]!==void 0&&(o.pinnedIds=e[1]),i=new I_({props:o}),ye.push(()=>Ke(i,"pinnedIds",s)),{key:n,first:null,c(){t=ze(),ee(i.$$.fragment),this.first=t},m(a,u){S(a,t,u),Q(i,a,u),l=!0},p(a,u){e=a;const f={};u[0]&4&&(f.collection=e[25]),!r&&u[0]&2&&(r=!0,f.pinnedIds=e[1],Ye(()=>r=!1)),i.$set(f)},i(a){l||(F(i.$$.fragment,a),l=!0)},o(a){x(i.$$.fragment,a),l=!1},d(a){a&&E(t),J(i,a)}}}function lT(n){let e,t=[],i=new Map,r,l,s=n[2].length&&sT(),o=Re(n[8]);const a=u=>u[25].id;for(let u=0;u<o.length;u+=1){let f=tT(n,o,u),c=a(f);i.set(c,t[u]=oT(c,f))}return{c(){s&&s.c(),e=D();for(let u=0;u<t.length;u+=1)t[u].c();r=ze()},m(u,f){s&&s.m(u,f),S(u,e,f);for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(u,f);S(u,r,f),l=!0},p(u,f){u[2].length?s||(s=sT(),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null),f[0]&258&&(o=Re(u[8]),Ne(),t=In(t,f,a,1,u,o,i,r.parentNode,di,oT,r,tT),Me())},i(u){if(!l){for(let f=0;f<o.length;f+=1)F(t[f]);l=!0}},o(u){for(let f=0;f<t.length;f+=1)x(t[f]);l=!1},d(u){u&&(E(e),E(r)),s&&s.d(u);for(let f=0;f<t.length;f+=1)t[f].d(u)}}}function sT(n){let e;return{c(){e=k("div"),e.textContent="Others",m(e,"class","sidebar-title")},m(t,i){S(t,e,i)},d(t){t&&E(e)}}}function oT(n,e){let t,i,r,l;function s(a){e[18](a)}let o={collection:e[25]};return e[1]!==void 0&&(o.pinnedIds=e[1]),i=new I_({props:o}),ye.push(()=>Ke(i,"pinnedIds",s)),{key:n,first:null,c(){t=ze(),ee(i.$$.fragment),this.first=t},m(a,u){S(a,t,u),Q(i,a,u),l=!0},p(a,u){e=a;const f={};u[0]&256&&(f.collection=e[25]),!r&&u[0]&2&&(r=!0,f.pinnedIds=e[1],Ye(()=>r=!1)),i.$set(f)},i(a){l||(F(i.$$.fragment,a),l=!0)},o(a){x(i.$$.fragment,a),l=!1},d(a){a&&E(t),J(i,a)}}}function aT(n){let e,t,i,r,l,s,o,a,u,f,c,h=!n[4].length&&uT(n),p=(n[6]||n[4].length)&&fT(n);return{c(){e=k("button"),t=k("span"),t.textContent="System",i=D(),h&&h.c(),o=D(),p&&p.c(),a=ze(),m(t,"class","txt"),m(e,"type","button"),m(e,"class","sidebar-title m-b-xs"),m(e,"aria-label",r=n[6]?"Expand system collections":"Collapse system collections"),m(e,"aria-expanded",l=n[6]||n[4].length),e.disabled=s=n[4].length,he(e,"link-hint",!n[4].length)},m(_,v){S(_,e,v),T(e,t),T(e,i),h&&h.m(e,null),S(_,o,v),p&&p.m(_,v),S(_,a,v),u=!0,f||(c=se(e,"click",n[19]),f=!0)},p(_,v){_[4].length?h&&(h.d(1),h=null):h?h.p(_,v):(h=uT(_),h.c(),h.m(e,null)),(!u||v[0]&64&&r!==(r=_[6]?"Expand system collections":"Collapse system collections"))&&m(e,"aria-label",r),(!u||v[0]&80&&l!==(l=_[6]||_[4].length))&&m(e,"aria-expanded",l),(!u||v[0]&16&&s!==(s=_[4].length))&&(e.disabled=s),(!u||v[0]&16)&&he(e,"link-hint",!_[4].length),_[6]||_[4].length?p?(p.p(_,v),v[0]&80&&F(p,1)):(p=fT(_),p.c(),F(p,1),p.m(a.parentNode,a)):p&&(Ne(),x(p,1,1,()=>{p=null}),Me())},i(_){u||(F(p),u=!0)},o(_){x(p),u=!1},d(_){_&&(E(e),E(o),E(a)),h&&h.d(),p&&p.d(_),f=!1,c()}}}function uT(n){let e,t;return{c(){e=k("i"),m(e,"class",t="ri-arrow-"+(n[6]?"up":"down")+"-s-line"),m(e,"aria-hidden","true")},m(i,r){S(i,e,r)},p(i,r){r[0]&64&&t!==(t="ri-arrow-"+(i[6]?"up":"down")+"-s-line")&&m(e,"class",t)},d(i){i&&E(e)}}}function fT(n){let e=[],t=new Map,i,r,l=Re(n[7]);const s=o=>o[25].id;for(let o=0;o<l.length;o+=1){let a=eT(n,l,o),u=s(a);t.set(u,e[o]=cT(u,a))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();i=ze()},m(o,a){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(o,a);S(o,i,a),r=!0},p(o,a){a[0]&130&&(l=Re(o[7]),Ne(),e=In(e,a,s,1,o,l,t,i.parentNode,di,cT,i,eT),Me())},i(o){if(!r){for(let a=0;a<l.length;a+=1)F(e[a]);r=!0}},o(o){for(let a=0;a<e.length;a+=1)x(e[a]);r=!1},d(o){o&&E(i);for(let a=0;a<e.length;a+=1)e[a].d(o)}}}function cT(n,e){let t,i,r,l;function s(a){e[20](a)}let o={collection:e[25]};return e[1]!==void 0&&(o.pinnedIds=e[1]),i=new I_({props:o}),ye.push(()=>Ke(i,"pinnedIds",s)),{key:n,first:null,c(){t=ze(),ee(i.$$.fragment),this.first=t},m(a,u){S(a,t,u),Q(i,a,u),l=!0},p(a,u){e=a;const f={};u[0]&128&&(f.collection=e[25]),!r&&u[0]&2&&(r=!0,f.pinnedIds=e[1],Ye(()=>r=!1)),i.$set(f)},i(a){l||(F(i.$$.fragment,a),l=!0)},o(a){x(i.$$.fragment,a),l=!1},d(a){a&&E(t),J(i,a)}}}function dT(n){let e;return{c(){e=k("p"),e.textContent="No collections found.",m(e,"class","txt-hint m-t-10 m-b-10 txt-center")},m(t,i){S(t,e,i)},d(t){t&&E(e)}}}function hT(n){let e,t,i,r;return{c(){e=k("footer"),t=k("button"),t.innerHTML='<i class="ri-add-line"></i> <span class="txt">New collection</span>',m(t,"type","button"),m(t,"class","btn btn-block btn-outline"),m(e,"class","sidebar-footer")},m(l,s){S(l,e,s),T(e,t),i||(r=se(t,"click",n[21]),i=!0)},p:ge,d(l){l&&E(e),i=!1,r()}}}function zG(n){let e,t,i,r,l,s,o,a,u,f,c,h,p,_,v,b,y,A,M=n[2].length&&iT(n),N=n[8].length&&lT(n),L=n[7].length&&aT(n),I=n[4].length&&!n[3].length&&dT(),R=!n[11]&&hT(n);return{c(){e=k("header"),t=k("div"),i=k("div"),r=k("button"),r.innerHTML='<i class="ri-close-line"></i>',l=D(),s=k("input"),o=D(),a=k("hr"),u=D(),f=k("div"),M&&M.c(),c=D(),N&&N.c(),h=D(),L&&L.c(),p=D(),I&&I.c(),_=D(),R&&R.c(),v=ze(),m(r,"type","button"),m(r,"class","btn btn-xs btn-transparent btn-circle btn-clear"),he(r,"hidden",!n[9]),m(i,"class","form-field-addon"),m(s,"type","text"),m(s,"placeholder","Search collections..."),m(s,"name","collections-search"),m(t,"class","form-field search"),he(t,"active",n[9]),m(e,"class","sidebar-header"),m(a,"class","m-t-5 m-b-xs"),m(f,"class","sidebar-content"),he(f,"fade",n[10]),he(f,"sidebar-content-compact",n[3].length>20)},m($,B){S($,e,B),T(e,t),T(t,i),T(i,r),T(t,l),T(t,s),He(s,n[0]),S($,o,B),S($,a,B),S($,u,B),S($,f,B),M&&M.m(f,null),T(f,c),N&&N.m(f,null),T(f,h),L&&L.m(f,null),T(f,p),I&&I.m(f,null),S($,_,B),R&&R.m($,B),S($,v,B),b=!0,y||(A=[se(r,"click",n[15]),se(s,"input",n[16])],y=!0)},p($,B){(!b||B[0]&512)&&he(r,"hidden",!$[9]),B[0]&1&&s.value!==$[0]&&He(s,$[0]),(!b||B[0]&512)&&he(t,"active",$[9]),$[2].length?M?(M.p($,B),B[0]&4&&F(M,1)):(M=iT($),M.c(),F(M,1),M.m(f,c)):M&&(Ne(),x(M,1,1,()=>{M=null}),Me()),$[8].length?N?(N.p($,B),B[0]&256&&F(N,1)):(N=lT($),N.c(),F(N,1),N.m(f,h)):N&&(Ne(),x(N,1,1,()=>{N=null}),Me()),$[7].length?L?(L.p($,B),B[0]&128&&F(L,1)):(L=aT($),L.c(),F(L,1),L.m(f,p)):L&&(Ne(),x(L,1,1,()=>{L=null}),Me()),$[4].length&&!$[3].length?I||(I=dT(),I.c(),I.m(f,null)):I&&(I.d(1),I=null),(!b||B[0]&1024)&&he(f,"fade",$[10]),(!b||B[0]&8)&&he(f,"sidebar-content-compact",$[3].length>20),$[11]?R&&(R.d(1),R=null):R?R.p($,B):(R=hT($),R.c(),R.m(v.parentNode,v))},i($){b||(F(M),F(N),F(L),b=!0)},o($){x(M),x(N),x(L),b=!1},d($){$&&(E(e),E(o),E(a),E(u),E(f),E(_),E(v)),M&&M.d(),N&&N.d(),L&&L.d(),I&&I.d(),R&&R.d($),y=!1,it(A)}}}function qG(n){let e,t,i,r;e=new NA({props:{class:"collection-sidebar",$$slots:{default:[zG]},$$scope:{ctx:n}}});let l={};return i=new M_({props:l}),n[22](i),{c(){ee(e.$$.fragment),t=D(),ee(i.$$.fragment)},m(s,o){Q(e,s,o),S(s,t,o),Q(i,s,o),r=!0},p(s,o){const a={};o[0]&4095|o[1]&2&&(a.$$scope={dirty:o,ctx:s}),e.$set(a);const u={};i.$set(u)},i(s){r||(F(e.$$.fragment,s),F(i.$$.fragment,s),r=!0)},o(s){x(e.$$.fragment,s),x(i.$$.fragment,s),r=!1},d(s){s&&E(t),J(e,s),n[22](null),J(i,s)}}}const pT="@pinnedCollections";function jG(){setTimeout(()=>{const n=document.querySelector(".collection-sidebar .sidebar-list-item.active");n&&(n==null||n.scrollIntoView({block:"nearest"}))},0)}function WG(n,e,t){let i,r,l,s,o,a,u,f,c,h;Wt(n,Or,z=>t(13,u=z)),Wt(n,Sl,z=>t(14,f=z)),Wt(n,Rc,z=>t(10,c=z)),Wt(n,Sa,z=>t(11,h=z));let p,_="",v=[],b=!1,y;A();function A(){t(1,v=[]);try{const z=localStorage.getItem(pT);z&&t(1,v=JSON.parse(z)||[])}catch{}}function M(){t(1,v=v.filter(z=>!!u.find(j=>j.id==z)))}const N=()=>t(0,_="");function L(){_=this.value,t(0,_)}function I(z){v=z,t(1,v)}function R(z){v=z,t(1,v)}const $=()=>{i.length||t(6,b=!b)};function B(z){v=z,t(1,v)}const H=()=>p==null?void 0:p.show();function q(z){ye[z?"unshift":"push"](()=>{p=z,t(5,p)})}return n.$$.update=()=>{n.$$.dirty[0]&8192&&u&&(M(),jG()),n.$$.dirty[0]&1&&t(4,i=_.replace(/\s+/g,"").toLowerCase()),n.$$.dirty[0]&1&&t(9,r=_!==""),n.$$.dirty[0]&2&&v&&localStorage.setItem(pT,JSON.stringify(v)),n.$$.dirty[0]&8209&&t(3,l=u.filter(z=>{var j,W,G;return z.id==_||((G=(W=(j=z.name)==null?void 0:j.replace(/\s+/g,""))==null?void 0:W.toLowerCase())==null?void 0:G.includes(i))})),n.$$.dirty[0]&10&&t(2,s=l.filter(z=>v.includes(z.id))),n.$$.dirty[0]&10&&t(8,o=l.filter(z=>!z.system&&!v.includes(z.id))),n.$$.dirty[0]&10&&t(7,a=l.filter(z=>z.system&&!v.includes(z.id))),n.$$.dirty[0]&20484&&f!=null&&f.id&&y!=f.id&&(t(12,y=f.id),f.system&&!s.find(z=>z.id==f.id)?t(6,b=!0):t(6,b=!1))},[_,v,s,l,i,p,b,a,o,r,c,h,y,u,f,N,L,I,R,$,B,H,q]}class KG extends je{constructor(e){super(),qe(this,e,WG,qG,We,{},null,[-1,-1])}}function VG(n){let e;return{c(){e=k("span"),e.textContent="N/A",m(e,"class","txt txt-hint")},m(t,i){S(t,e,i)},p:ge,d(t){t&&E(e)}}}function GG(n){let e,t,i,r,l,s,o,a,u;return{c(){e=k("div"),t=k("div"),i=le(n[2]),r=D(),l=k("div"),s=le(n[1]),o=le(" UTC"),m(t,"class","date"),m(l,"class","time svelte-5pjd03"),m(e,"class","datetime svelte-5pjd03")},m(f,c){S(f,e,c),T(e,t),T(t,i),T(e,r),T(e,l),T(l,s),T(l,o),a||(u=nt(_t.call(null,e,n[3])),a=!0)},p(f,c){c&4&&Se(i,f[2]),c&2&&Se(s,f[1])},d(f){f&&E(e),a=!1,u()}}}function YG(n){let e;function t(l,s){return l[0]?GG:VG}let i=t(n),r=i(n);return{c(){r.c(),e=ze()},m(l,s){r.m(l,s),S(l,e,s)},p(l,[s]){i===(i=t(l))&&r?r.p(l,s):(r.d(1),r=i(l),r&&(r.c(),r.m(e.parentNode,e)))},i:ge,o:ge,d(l){l&&E(e),r.d(l)}}}function XG(n,e,t){let i,r,{date:l=""}=e;const s={get text(){return re.formatToLocalDate(l)+" Local"}};return n.$$set=o=>{"date"in o&&t(0,l=o.date)},n.$$.update=()=>{n.$$.dirty&1&&t(2,i=l?l.substring(0,10):null),n.$$.dirty&1&&t(1,r=l?l.substring(10,19):null)},[l,r,i,s]}class ZG extends je{constructor(e){super(),qe(this,e,XG,YG,We,{date:0})}}function mT(n){let e;function t(l,s){return l[4]==="image"?JG:QG}let i=t(n),r=i(n);return{c(){r.c(),e=ze()},m(l,s){r.m(l,s),S(l,e,s)},p(l,s){i===(i=t(l))&&r?r.p(l,s):(r.d(1),r=i(l),r&&(r.c(),r.m(e.parentNode,e)))},d(l){l&&E(e),r.d(l)}}}function QG(n){let e,t;return{c(){e=k("object"),t=le("Cannot preview the file."),m(e,"title",n[2]),m(e,"data",n[1])},m(i,r){S(i,e,r),T(e,t)},p(i,r){r&4&&m(e,"title",i[2]),r&2&&m(e,"data",i[1])},d(i){i&&E(e)}}}function JG(n){let e,t,i;return{c(){e=k("img"),hr(e.src,t=n[1])||m(e,"src",t),m(e,"alt",i="Preview "+n[2])},m(r,l){S(r,e,l)},p(r,l){l&2&&!hr(e.src,t=r[1])&&m(e,"src",t),l&4&&i!==(i="Preview "+r[2])&&m(e,"alt",i)},d(r){r&&E(e)}}}function eY(n){var r;let e=(r=n[3])==null?void 0:r.isActive(),t,i=e&&mT(n);return{c(){i&&i.c(),t=ze()},m(l,s){i&&i.m(l,s),S(l,t,s)},p(l,s){var o;s&8&&(e=(o=l[3])==null?void 0:o.isActive()),e?i?i.p(l,s):(i=mT(l),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null)},d(l){l&&E(t),i&&i.d(l)}}}function tY(n){let e,t,i;return{c(){e=k("button"),e.innerHTML='<i class="ri-close-line"></i>',m(e,"type","button"),m(e,"class","overlay-close")},m(r,l){S(r,e,l),t||(i=se(e,"click",ln(n[0])),t=!0)},p:ge,d(r){r&&E(e),t=!1,i()}}}function nY(n){let e,t,i,r,l,s,o,a,u,f;return{c(){e=k("button"),t=le(n[2]),i=D(),r=k("i"),l=D(),s=k("div"),o=D(),a=k("button"),a.textContent="Close",m(r,"class","ri-external-link-line"),m(e,"type","button"),m(e,"title",n[2]),m(e,"class","link-hint txt-ellipsis inline-flex"),m(s,"class","flex-fill"),m(a,"type","button"),m(a,"class","btn btn-transparent")},m(c,h){S(c,e,h),T(e,t),T(e,i),T(e,r),S(c,l,h),S(c,s,h),S(c,o,h),S(c,a,h),u||(f=[se(e,"auxclick",n[5]),se(e,"click",n[5]),se(a,"click",n[0])],u=!0)},p(c,h){h&4&&Se(t,c[2]),h&4&&m(e,"title",c[2])},d(c){c&&(E(e),E(l),E(s),E(o),E(a)),u=!1,it(f)}}}function iY(n){let e,t,i={class:"preview preview-"+n[4],btnClose:!1,popup:!0,$$slots:{footer:[nY],header:[tY],default:[eY]},$$scope:{ctx:n}};return e=new Mi({props:i}),n[8](e),e.$on("show",n[9]),e.$on("hide",n[10]),{c(){ee(e.$$.fragment)},m(r,l){Q(e,r,l),t=!0},p(r,[l]){const s={};l&16&&(s.class="preview preview-"+r[4]),l&8222&&(s.$$scope={dirty:l,ctx:r}),e.$set(s)},i(r){t||(F(e.$$.fragment,r),t=!0)},o(r){x(e.$$.fragment,r),t=!1},d(r){n[8](null),J(e,r)}}}function rY(n,e,t){let i,r,l,s,o="",a;async function u(b){a=b,a&&(t(1,o=await c()),s==null||s.show())}function f(){return s==null?void 0:s.hide()}async function c(){return typeof a=="function"?await a():await a}async function h(){try{t(1,o=await c()),window.open(o,"_blank","noreferrer,noopener")}catch(b){b.isAbort||console.warn("openInNewTab file token failure:",b)}}function p(b){ye[b?"unshift":"push"](()=>{s=b,t(3,s)})}function _(b){ut.call(this,n,b)}function v(b){ut.call(this,n,b)}return n.$$.update=()=>{n.$$.dirty&2&&t(7,i=o.indexOf("?")),n.$$.dirty&130&&t(2,r=o.substring(o.lastIndexOf("/")+1,i>0?i:void 0)),n.$$.dirty&4&&t(4,l=re.getFileType(r))},[f,o,r,s,l,h,u,i,p,_,v]}class lY extends je{constructor(e){super(),qe(this,e,rY,iY,We,{show:6,hide:0})}get show(){return this.$$.ctx[6]}get hide(){return this.$$.ctx[0]}}function sY(n){let e,t,i,r,l;function s(u,f){return u[5]==="image"?fY:u[5]==="video"||u[5]==="audio"?uY:aY}let o=s(n),a=o(n);return{c(){e=k("button"),a.c(),m(e,"type","button"),m(e,"draggable",!1),m(e,"class",t="handle thumb "+(n[2]?`thumb-${n[2]}`:"")),m(e,"title",i=(n[8]?"Preview":"Download")+" "+n[1])},m(u,f){S(u,e,f),a.m(e,null),r||(l=se(e,"click",Ai(n[10])),r=!0)},p(u,f){o===(o=s(u))&&a?a.p(u,f):(a.d(1),a=o(u),a&&(a.c(),a.m(e,null))),f&4&&t!==(t="handle thumb "+(u[2]?`thumb-${u[2]}`:""))&&m(e,"class",t),f&258&&i!==(i=(u[8]?"Preview":"Download")+" "+u[1])&&m(e,"title",i)},d(u){u&&E(e),a.d(),r=!1,l()}}}function oY(n){let e,t;return{c(){e=k("div"),m(e,"class",t="thumb "+(n[2]?`thumb-${n[2]}`:""))},m(i,r){S(i,e,r)},p(i,r){r&4&&t!==(t="thumb "+(i[2]?`thumb-${i[2]}`:""))&&m(e,"class",t)},d(i){i&&E(e)}}}function aY(n){let e;return{c(){e=k("i"),m(e,"class","ri-file-3-line")},m(t,i){S(t,e,i)},p:ge,d(t){t&&E(e)}}}function uY(n){let e;return{c(){e=k("i"),m(e,"class","ri-video-line")},m(t,i){S(t,e,i)},p:ge,d(t){t&&E(e)}}}function fY(n){let e,t,i,r,l;return{c(){e=k("img"),m(e,"draggable",!1),m(e,"loading","lazy"),hr(e.src,t=n[7])||m(e,"src",t),m(e,"alt",n[1]),m(e,"title",i="Preview "+n[1])},m(s,o){S(s,e,o),r||(l=se(e,"error",n[9]),r=!0)},p(s,o){o&128&&!hr(e.src,t=s[7])&&m(e,"src",t),o&2&&m(e,"alt",s[1]),o&2&&i!==(i="Preview "+s[1])&&m(e,"title",i)},d(s){s&&E(e),r=!1,l()}}}function gT(n){let e,t,i={};return e=new lY({props:i}),n[11](e),{c(){ee(e.$$.fragment)},m(r,l){Q(e,r,l),t=!0},p(r,l){const s={};e.$set(s)},i(r){t||(F(e.$$.fragment,r),t=!0)},o(r){x(e.$$.fragment,r),t=!1},d(r){n[11](null),J(e,r)}}}function cY(n){let e,t,i;function r(a,u){return a[4]?oY:sY}let l=r(n),s=l(n),o=n[8]&&gT(n);return{c(){s.c(),e=D(),o&&o.c(),t=ze()},m(a,u){s.m(a,u),S(a,e,u),o&&o.m(a,u),S(a,t,u),i=!0},p(a,[u]){l===(l=r(a))&&s?s.p(a,u):(s.d(1),s=l(a),s&&(s.c(),s.m(e.parentNode,e))),a[8]?o?(o.p(a,u),u&256&&F(o,1)):(o=gT(a),o.c(),F(o,1),o.m(t.parentNode,t)):o&&(Ne(),x(o,1,1,()=>{o=null}),Me())},i(a){i||(F(o),i=!0)},o(a){x(o),i=!1},d(a){a&&(E(e),E(t)),s.d(a),o&&o.d(a)}}}function dY(n,e,t){let i,r,{record:l=null}=e,{filename:s=""}=e,{size:o=""}=e,a,u="",f="",c=!0;h();async function h(){t(4,c=!0);try{t(3,f=await xe.getSuperuserFileToken(l.collectionId))}catch(b){console.warn("File token failure:",b)}t(4,c=!1)}function p(){t(7,u="")}const _=async()=>{if(r)try{a==null||a.show(async()=>(t(3,f=await xe.getSuperuserFileToken(l.collectionId)),xe.files.getURL(l,s,{token:f})))}catch(b){b.isAbort||console.warn("Preview file token failure:",b)}};function v(b){ye[b?"unshift":"push"](()=>{a=b,t(6,a)})}return n.$$set=b=>{"record"in b&&t(0,l=b.record),"filename"in b&&t(1,s=b.filename),"size"in b&&t(2,o=b.size)},n.$$.update=()=>{n.$$.dirty&2&&t(5,i=re.getFileType(s)),n.$$.dirty&34&&t(8,r=["image","audio","video"].includes(i)||s.endsWith(".pdf")),n.$$.dirty&27&&t(7,u=c?"":xe.files.getURL(l,s,{thumb:"100x100",token:f}))},[l,s,o,f,c,i,a,u,r,p,_,v]}class L_ extends je{constructor(e){super(),qe(this,e,dY,cY,We,{record:0,filename:1,size:2})}}function hY(n){var u;let e,t=((u=n[0])==null?void 0:u.lon)+"",i,r,l,s,o=n[0].lat+"",a;return{c(){e=k("div"),i=le(t),r=D(),l=k("span"),l.textContent="|",s=D(),a=le(o),m(l,"class","txt-disabled txt-xs"),m(e,"class","txt")},m(f,c){S(f,e,c),T(e,i),T(e,r),T(e,l),T(e,s),T(e,a)},p(f,[c]){var h;c&1&&t!==(t=((h=f[0])==null?void 0:h.lon)+"")&&Se(i,t),c&1&&o!==(o=f[0].lat+"")&&Se(a,o)},i:ge,o:ge,d(f){f&&E(e)}}}function pY(n,e,t){let{value:i={}}=e;return n.$$set=r=>{"value"in r&&t(0,i=r.value)},[i]}class MA extends je{constructor(e){super(),qe(this,e,pY,hY,We,{value:0})}}function _T(n,e,t){const i=n.slice();return i[7]=e[t],i[8]=e,i[9]=t,i}function bT(n,e,t){const i=n.slice();i[7]=e[t];const r=re.toArray(i[0][i[7].name]).slice(0,5);return i[10]=r,i}function vT(n,e,t){const i=n.slice();return i[13]=e[t],i}function yT(n){let e,t;return e=new L_({props:{record:n[0],filename:n[13],size:"xs"}}),{c(){ee(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,r){const l={};r&1&&(l.record=i[0]),r&3&&(l.filename=i[13]),e.$set(l)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){x(e.$$.fragment,i),t=!1},d(i){J(e,i)}}}function kT(n){let e=!re.isEmpty(n[13]),t,i,r=e&&yT(n);return{c(){r&&r.c(),t=ze()},m(l,s){r&&r.m(l,s),S(l,t,s),i=!0},p(l,s){s&3&&(e=!re.isEmpty(l[13])),e?r?(r.p(l,s),s&3&&F(r,1)):(r=yT(l),r.c(),F(r,1),r.m(t.parentNode,t)):r&&(Ne(),x(r,1,1,()=>{r=null}),Me())},i(l){i||(F(r),i=!0)},o(l){x(r),i=!1},d(l){l&&E(t),r&&r.d(l)}}}function TT(n){let e,t,i=Re(n[10]),r=[];for(let s=0;s<i.length;s+=1)r[s]=kT(vT(n,i,s));const l=s=>x(r[s],1,1,()=>{r[s]=null});return{c(){for(let s=0;s<r.length;s+=1)r[s].c();e=ze()},m(s,o){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(s,o);S(s,e,o),t=!0},p(s,o){if(o&3){i=Re(s[10]);let a;for(a=0;a<i.length;a+=1){const u=vT(s,i,a);r[a]?(r[a].p(u,o),F(r[a],1)):(r[a]=kT(u),r[a].c(),F(r[a],1),r[a].m(e.parentNode,e))}for(Ne(),a=i.length;a<r.length;a+=1)l(a);Me()}},i(s){if(!t){for(let o=0;o<i.length;o+=1)F(r[o]);t=!0}},o(s){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)x(r[o]);t=!1},d(s){s&&E(e),fn(r,s)}}}function wT(n){let e=re.truncate(re.displayValue(n[0],[]),70)+"",t;return{c(){t=le(e)},m(i,r){S(i,t,r)},p(i,r){r&1&&e!==(e=re.truncate(re.displayValue(i[0],[]),70)+"")&&Se(t,e)},d(i){i&&E(t)}}}function mY(n){let e;return{c(){e=le(",")},m(t,i){S(t,e,i)},d(t){t&&E(e)}}}function gY(n){let e=re.truncate(re.displayValue(n[0],[n[7].name]),70)+"",t;return{c(){t=le(e)},m(i,r){S(i,t,r)},p(i,r){r&5&&e!==(e=re.truncate(re.displayValue(i[0],[i[7].name]),70)+"")&&Se(t,e)},i:ge,o:ge,d(i){i&&E(t)}}}function _Y(n){let e,t;return e=new MA({props:{value:n[0][n[7].name]}}),{c(){ee(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,r){const l={};r&5&&(l.value=i[0][i[7].name]),e.$set(l)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){x(e.$$.fragment,i),t=!1},d(i){J(e,i)}}}function bY(n){let e,t,i;function r(s){n[5](s,n[7])}let l={};return n[0].expand[n[7].name]!==void 0&&(l.record=n[0].expand[n[7].name]),e=new IA({props:l}),ye.push(()=>Ke(e,"record",r)),{c(){ee(e.$$.fragment)},m(s,o){Q(e,s,o),i=!0},p(s,o){n=s;const a={};!t&&o&5&&(t=!0,a.record=n[0].expand[n[7].name],Ye(()=>t=!1)),e.$set(a)},i(s){i||(F(e.$$.fragment,s),i=!0)},o(s){x(e.$$.fragment,s),i=!1},d(s){J(e,s)}}}function ET(n){let e,t,i,r,l,s=n[9]>0&&mY();const o=[bY,_Y,gY],a=[];function u(f,c){var h;return f[7].type=="relation"&&((h=f[0].expand)!=null&&h[f[7].name])?0:f[7].type=="geoPoint"?1:2}return t=u(n),i=a[t]=o[t](n),{c(){s&&s.c(),e=D(),i.c(),r=ze()},m(f,c){s&&s.m(f,c),S(f,e,c),a[t].m(f,c),S(f,r,c),l=!0},p(f,c){let h=t;t=u(f),t===h?a[t].p(f,c):(Ne(),x(a[h],1,1,()=>{a[h]=null}),Me(),i=a[t],i?i.p(f,c):(i=a[t]=o[t](f),i.c()),F(i,1),i.m(r.parentNode,r))},i(f){l||(F(i),l=!0)},o(f){x(i),l=!1},d(f){f&&(E(e),E(r)),s&&s.d(f),a[t].d(f)}}}function vY(n){let e,t,i,r=Re(n[1]),l=[];for(let c=0;c<r.length;c+=1)l[c]=TT(bT(n,r,c));const s=c=>x(l[c],1,1,()=>{l[c]=null});let o=Re(n[2]),a=[];for(let c=0;c<o.length;c+=1)a[c]=ET(_T(n,o,c));const u=c=>x(a[c],1,1,()=>{a[c]=null});let f=null;return o.length||(f=wT(n)),{c(){for(let c=0;c<l.length;c+=1)l[c].c();e=D();for(let c=0;c<a.length;c+=1)a[c].c();t=ze(),f&&f.c()},m(c,h){for(let p=0;p<l.length;p+=1)l[p]&&l[p].m(c,h);S(c,e,h);for(let p=0;p<a.length;p+=1)a[p]&&a[p].m(c,h);S(c,t,h),f&&f.m(c,h),i=!0},p(c,[h]){if(h&3){r=Re(c[1]);let p;for(p=0;p<r.length;p+=1){const _=bT(c,r,p);l[p]?(l[p].p(_,h),F(l[p],1)):(l[p]=TT(_),l[p].c(),F(l[p],1),l[p].m(e.parentNode,e))}for(Ne(),p=r.length;p<l.length;p+=1)s(p);Me()}if(h&5){o=Re(c[2]);let p;for(p=0;p<o.length;p+=1){const _=_T(c,o,p);a[p]?(a[p].p(_,h),F(a[p],1)):(a[p]=ET(_),a[p].c(),F(a[p],1),a[p].m(t.parentNode,t))}for(Ne(),p=o.length;p<a.length;p+=1)u(p);Me(),!o.length&&f?f.p(c,h):o.length?f&&(f.d(1),f=null):(f=wT(c),f.c(),f.m(t.parentNode,t))}},i(c){if(!i){for(let h=0;h<r.length;h+=1)F(l[h]);for(let h=0;h<o.length;h+=1)F(a[h]);i=!0}},o(c){l=l.filter(Boolean);for(let h=0;h<l.length;h+=1)x(l[h]);a=a.filter(Boolean);for(let h=0;h<a.length;h+=1)x(a[h]);i=!1},d(c){c&&(E(e),E(t)),fn(l,c),fn(a,c),f&&f.d(c)}}}function yY(n,e,t){let i,r;Wt(n,Or,f=>t(4,r=f));let{record:l}=e,s=[],o=[];function a(){const f=(i==null?void 0:i.fields)||[];if(t(1,s=f.filter(c=>!c.hidden&&c.presentable&&c.type=="file")),t(2,o=f.filter(c=>!c.hidden&&c.presentable&&c.type!="file")),!s.length&&!o.length){const c=f.find(h=>{var p;return!h.hidden&&h.type=="file"&&h.maxSelect==1&&((p=h.mimeTypes)==null?void 0:p.find(_=>_.startsWith("image/")))});c&&s.push(c)}}function u(f,c){n.$$.not_equal(l.expand[c.name],f)&&(l.expand[c.name]=f,t(0,l))}return n.$$set=f=>{"record"in f&&t(0,l=f.record)},n.$$.update=()=>{n.$$.dirty&17&&t(3,i=r==null?void 0:r.find(f=>f.id==(l==null?void 0:l.collectionId))),n.$$.dirty&8&&i&&a()},[l,s,o,i,r,u]}class IA extends je{constructor(e){super(),qe(this,e,yY,vY,We,{record:0})}}function kY(n){let e,t,i,r,l,s,o,a,u,f;return t=new IA({props:{record:n[0]}}),{c(){e=k("div"),ee(t.$$.fragment),i=D(),r=k("a"),l=k("i"),m(l,"class","ri-external-link-line txt-sm"),m(r,"href",s="#/collections?collection="+n[0].collectionId+"&recordId="+n[0].id),m(r,"target","_blank"),m(r,"class","inline-flex link-hint"),m(r,"rel","noopener noreferrer"),m(e,"class","record-info svelte-69icne")},m(c,h){S(c,e,h),Q(t,e,null),T(e,i),T(e,r),T(r,l),a=!0,u||(f=[nt(o=_t.call(null,r,{text:`Open relation record in new tab:
`+re.truncate(JSON.stringify(re.truncateObject(ST(n[0],"expand")),null,2),800,!0),class:"code",position:"left"})),se(r,"click",Ai(n[1])),se(r,"keydown",Ai(n[2]))],u=!0)},p(c,[h]){const p={};h&1&&(p.record=c[0]),t.$set(p),(!a||h&1&&s!==(s="#/collections?collection="+c[0].collectionId+"&recordId="+c[0].id))&&m(r,"href",s),o&&Kn(o.update)&&h&1&&o.update.call(null,{text:`Open relation record in new tab:
`+re.truncate(JSON.stringify(re.truncateObject(ST(c[0],"expand")),null,2),800,!0),class:"code",position:"left"})},i(c){a||(F(t.$$.fragment,c),a=!0)},o(c){x(t.$$.fragment,c),a=!1},d(c){c&&E(e),J(t),u=!1,it(f)}}}function ST(n,...e){const t=Object.assign({},n);for(let i of e)delete t[i];return t}function TY(n,e,t){let{record:i}=e;function r(s){ut.call(this,n,s)}function l(s){ut.call(this,n,s)}return n.$$set=s=>{"record"in s&&t(0,i=s.record)},[i,r,l]}class tp extends je{constructor(e){super(),qe(this,e,TY,kY,We,{record:0})}}function CT(n,e,t){const i=n.slice();return i[19]=e[t],i[9]=t,i}function AT(n,e,t){const i=n.slice();return i[14]=e[t],i}function OT(n,e,t){const i=n.slice();return i[7]=e[t],i[9]=t,i}function NT(n,e,t){const i=n.slice();return i[7]=e[t],i[9]=t,i}function wY(n){const e=n.slice(),t=re.toArray(e[3]);e[17]=t;const i=e[2]?10:500;return e[18]=i,e}function EY(n){var l,s;const e=n.slice(),t=re.toArray(e[3]);e[10]=t;const i=re.toArray((s=(l=e[0])==null?void 0:l.expand)==null?void 0:s[e[1].name]);e[11]=i;const r=e[2]?20:500;return e[12]=r,e}function SY(n){const e=n.slice(),t=re.trimQuotedValue(JSON.stringify(e[3]))||'""';return e[6]=t,e}function CY(n){let e,t;return{c(){e=k("div"),t=le(n[3]),m(e,"class","block txt-break fallback-block svelte-jdf51v")},m(i,r){S(i,e,r),T(e,t)},p(i,r){r&8&&Se(t,i[3])},i:ge,o:ge,d(i){i&&E(e)}}}function AY(n){let e,t=re.truncate(n[3])+"",i,r;return{c(){e=k("span"),i=le(t),m(e,"class","txt txt-ellipsis"),m(e,"title",r=re.truncate(n[3]))},m(l,s){S(l,e,s),T(e,i)},p(l,s){s&8&&t!==(t=re.truncate(l[3])+"")&&Se(i,t),s&8&&r!==(r=re.truncate(l[3]))&&m(e,"title",r)},i:ge,o:ge,d(l){l&&E(e)}}}function OY(n){let e,t,i;return t=new MA({props:{value:n[3]}}),{c(){e=k("div"),ee(t.$$.fragment),m(e,"class","label")},m(r,l){S(r,e,l),Q(t,e,null),i=!0},p(r,l){const s={};l&8&&(s.value=r[3]),t.$set(s)},i(r){i||(F(t.$$.fragment,r),i=!0)},o(r){x(t.$$.fragment,r),i=!1},d(r){r&&E(e),J(t)}}}function NY(n){let e,t=[],i=new Map,r,l,s=Re(n[17].slice(0,n[18]));const o=u=>u[9]+u[19];for(let u=0;u<s.length;u+=1){let f=CT(n,s,u),c=o(f);i.set(c,t[u]=MT(c,f))}let a=n[17].length>n[18]&&IT();return{c(){e=k("div");for(let u=0;u<t.length;u+=1)t[u].c();r=D(),a&&a.c(),m(e,"class","inline-flex"),he(e,"multiple",n[1].maxSelect!=1)},m(u,f){S(u,e,f);for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(e,null);T(e,r),a&&a.m(e,null),l=!0},p(u,f){f&13&&(s=Re(u[17].slice(0,u[18])),Ne(),t=In(t,f,o,1,u,s,i,e,di,MT,r,CT),Me()),u[17].length>u[18]?a||(a=IT(),a.c(),a.m(e,null)):a&&(a.d(1),a=null),(!l||f&2)&&he(e,"multiple",u[1].maxSelect!=1)},i(u){if(!l){for(let f=0;f<s.length;f+=1)F(t[f]);l=!0}},o(u){for(let f=0;f<t.length;f+=1)x(t[f]);l=!1},d(u){u&&E(e);for(let f=0;f<t.length;f+=1)t[f].d();a&&a.d()}}}function MY(n){let e,t,i,r,l;const s=[UY,xY],o=[];function a(f,c){return f[11].length?0:1}t=a(n),i=o[t]=s[t](n);let u=n[10].length>n[12]&&RT();return{c(){e=k("div"),i.c(),r=D(),u&&u.c(),m(e,"class","inline-flex")},m(f,c){S(f,e,c),o[t].m(e,null),T(e,r),u&&u.m(e,null),l=!0},p(f,c){let h=t;t=a(f),t===h?o[t].p(f,c):(Ne(),x(o[h],1,1,()=>{o[h]=null}),Me(),i=o[t],i?i.p(f,c):(i=o[t]=s[t](f),i.c()),F(i,1),i.m(e,r)),f[10].length>f[12]?u||(u=RT(),u.c(),u.m(e,null)):u&&(u.d(1),u=null)},i(f){l||(F(i),l=!0)},o(f){x(i),l=!1},d(f){f&&E(e),o[t].d(),u&&u.d()}}}function IY(n){let e,t=[],i=new Map,r=Re(re.toArray(n[3]));const l=s=>s[9]+s[7];for(let s=0;s<r.length;s+=1){let o=NT(n,r,s),a=l(o);i.set(a,t[s]=PT(a,o))}return{c(){e=k("div");for(let s=0;s<t.length;s+=1)t[s].c();m(e,"class","inline-flex")},m(s,o){S(s,e,o);for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(e,null)},p(s,o){o&8&&(r=Re(re.toArray(s[3])),t=In(t,o,l,1,s,r,i,e,Ol,PT,null,NT))},i:ge,o:ge,d(s){s&&E(e);for(let o=0;o<t.length;o+=1)t[o].d()}}}function LY(n){let e,t;return e=new ZG({props:{date:n[3]}}),{c(){ee(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,r){const l={};r&8&&(l.date=i[3]),e.$set(l)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){x(e.$$.fragment,i),t=!1},d(i){J(e,i)}}}function DY(n){let e,t,i,r;const l=[qY,zY],s=[];function o(a,u){return a[2]?0:1}return e=o(n),t=s[e]=l[e](n),{c(){t.c(),i=ze()},m(a,u){s[e].m(a,u),S(a,i,u),r=!0},p(a,u){let f=e;e=o(a),e===f?s[e].p(a,u):(Ne(),x(s[f],1,1,()=>{s[f]=null}),Me(),t=s[e],t?t.p(a,u):(t=s[e]=l[e](a),t.c()),F(t,1),t.m(i.parentNode,i))},i(a){r||(F(t),r=!0)},o(a){x(t),r=!1},d(a){a&&E(i),s[e].d(a)}}}function RY(n){let e,t=re.truncate(n[3])+"",i,r,l;return{c(){e=k("a"),i=le(t),m(e,"class","txt-ellipsis"),m(e,"href",n[3]),m(e,"target","_blank"),m(e,"rel","noopener noreferrer")},m(s,o){S(s,e,o),T(e,i),r||(l=[nt(_t.call(null,e,"Open in new tab")),se(e,"click",Ai(n[5]))],r=!0)},p(s,o){o&8&&t!==(t=re.truncate(s[3])+"")&&Se(i,t),o&8&&m(e,"href",s[3])},i:ge,o:ge,d(s){s&&E(e),r=!1,it(l)}}}function PY(n){let e,t;return{c(){e=k("span"),t=le(n[3]),m(e,"class","txt")},m(i,r){S(i,e,r),T(e,t)},p(i,r){r&8&&Se(t,i[3])},i:ge,o:ge,d(i){i&&E(e)}}}function FY(n){let e,t=n[3]?"True":"False",i;return{c(){e=k("span"),i=le(t),m(e,"class","label"),he(e,"label-success",!!n[3])},m(r,l){S(r,e,l),T(e,i)},p(r,l){l&8&&t!==(t=r[3]?"True":"False")&&Se(i,t),l&8&&he(e,"label-success",!!r[3])},i:ge,o:ge,d(r){r&&E(e)}}}function $Y(n){let e;return{c(){e=k("span"),e.textContent="N/A",m(e,"class","txt-hint")},m(t,i){S(t,e,i)},p:ge,i:ge,o:ge,d(t){t&&E(e)}}}function HY(n){let e,t,i,r;const l=[WY,jY],s=[];function o(a,u){return a[2]?0:1}return e=o(n),t=s[e]=l[e](n),{c(){t.c(),i=ze()},m(a,u){s[e].m(a,u),S(a,i,u),r=!0},p(a,u){let f=e;e=o(a),e===f?s[e].p(a,u):(Ne(),x(s[f],1,1,()=>{s[f]=null}),Me(),t=s[e],t?t.p(a,u):(t=s[e]=l[e](a),t.c()),F(t,1),t.m(i.parentNode,i))},i(a){r||(F(t),r=!0)},o(a){x(t),r=!1},d(a){a&&E(i),s[e].d(a)}}}function BY(n){let e,t,i,r,l,s,o,a;t=new bs({props:{value:n[3]}});let u=n[0].collectionName=="_superusers"&&n[0].id==n[4].id&&$T();return{c(){e=k("div"),ee(t.$$.fragment),i=D(),r=k("div"),l=le(n[3]),s=D(),u&&u.c(),o=ze(),m(r,"class","txt txt-ellipsis"),m(e,"class","label")},m(f,c){S(f,e,c),Q(t,e,null),T(e,i),T(e,r),T(r,l),S(f,s,c),u&&u.m(f,c),S(f,o,c),a=!0},p(f,c){const h={};c&8&&(h.value=f[3]),t.$set(h),(!a||c&8)&&Se(l,f[3]),f[0].collectionName=="_superusers"&&f[0].id==f[4].id?u||(u=$T(),u.c(),u.m(o.parentNode,o)):u&&(u.d(1),u=null)},i(f){a||(F(t.$$.fragment,f),a=!0)},o(f){x(t.$$.fragment,f),a=!1},d(f){f&&(E(e),E(s),E(o)),J(t),u&&u.d(f)}}}function MT(n,e){let t,i,r;return i=new L_({props:{record:e[0],filename:e[19],size:"sm"}}),{key:n,first:null,c(){t=ze(),ee(i.$$.fragment),this.first=t},m(l,s){S(l,t,s),Q(i,l,s),r=!0},p(l,s){e=l;const o={};s&1&&(o.record=e[0]),s&12&&(o.filename=e[19]),i.$set(o)},i(l){r||(F(i.$$.fragment,l),r=!0)},o(l){x(i.$$.fragment,l),r=!1},d(l){l&&E(t),J(i,l)}}}function IT(n){let e;return{c(){e=le("...")},m(t,i){S(t,e,i)},d(t){t&&E(e)}}}function xY(n){let e,t=Re(n[10].slice(0,n[12])),i=[];for(let r=0;r<t.length;r+=1)i[r]=LT(AT(n,t,r));return{c(){for(let r=0;r<i.length;r+=1)i[r].c();e=ze()},m(r,l){for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(r,l);S(r,e,l)},p(r,l){if(l&12){t=Re(r[10].slice(0,r[12]));let s;for(s=0;s<t.length;s+=1){const o=AT(r,t,s);i[s]?i[s].p(o,l):(i[s]=LT(o),i[s].c(),i[s].m(e.parentNode,e))}for(;s<i.length;s+=1)i[s].d(1);i.length=t.length}},i:ge,o:ge,d(r){r&&E(e),fn(i,r)}}}function UY(n){let e=[],t=new Map,i,r,l=Re(n[11].slice(0,n[12]));const s=o=>o[9]+o[7];for(let o=0;o<l.length;o+=1){let a=OT(n,l,o),u=s(a);t.set(u,e[o]=DT(u,a))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();i=ze()},m(o,a){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(o,a);S(o,i,a),r=!0},p(o,a){a&7&&(l=Re(o[11].slice(0,o[12])),Ne(),e=In(e,a,s,1,o,l,t,i.parentNode,di,DT,i,OT),Me())},i(o){if(!r){for(let a=0;a<l.length;a+=1)F(e[a]);r=!0}},o(o){for(let a=0;a<e.length;a+=1)x(e[a]);r=!1},d(o){o&&E(i);for(let a=0;a<e.length;a+=1)e[a].d(o)}}}function LT(n){let e,t=n[14]+"",i;return{c(){e=k("span"),i=le(t),m(e,"class","label")},m(r,l){S(r,e,l),T(e,i)},p(r,l){l&12&&t!==(t=r[14]+"")&&Se(i,t)},d(r){r&&E(e)}}}function DT(n,e){let t,i,r,l;return i=new tp({props:{record:e[7]}}),{key:n,first:null,c(){t=k("span"),ee(i.$$.fragment),r=D(),m(t,"class","label"),this.first=t},m(s,o){S(s,t,o),Q(i,t,null),T(t,r),l=!0},p(s,o){e=s;const a={};o&7&&(a.record=e[7]),i.$set(a)},i(s){l||(F(i.$$.fragment,s),l=!0)},o(s){x(i.$$.fragment,s),l=!1},d(s){s&&E(t),J(i)}}}function RT(n){let e;return{c(){e=le("...")},m(t,i){S(t,e,i)},d(t){t&&E(e)}}}function PT(n,e){let t,i=e[7]+"",r;return{key:n,first:null,c(){t=k("span"),r=le(i),m(t,"class","label"),this.first=t},m(l,s){S(l,t,s),T(t,r)},p(l,s){e=l,s&8&&i!==(i=e[7]+"")&&Se(r,i)},d(l){l&&E(t)}}}function zY(n){let e,t;return e=new Jg({props:{cssClass:"tinymce-preview",conf:{branding:!1,promotion:!1,menubar:!1,statusbar:!1,min_height:30,height:59,max_height:500,autoresize_bottom_margin:5,resize:!1,content_style:"body { font-size: 14px }",toolbar:"",plugins:["autoresize"],skin:"pocketbase"},value:n[3],disabled:!0}}),{c(){ee(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,r){const l={};r&8&&(l.value=i[3]),e.$set(l)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){x(e.$$.fragment,i),t=!1},d(i){J(e,i)}}}function qY(n){let e,t=re.truncate(re.plainText(n[3]),195)+"",i;return{c(){e=k("span"),i=le(t),m(e,"class","txt")},m(r,l){S(r,e,l),T(e,i)},p(r,l){l&8&&t!==(t=re.truncate(re.plainText(r[3]),195)+"")&&Se(i,t)},i:ge,o:ge,d(r){r&&E(e)}}}function jY(n){let e,t=re.truncate(n[6],500,!0)+"",i,r,l,s,o=n[6].length>500&&FT(n);return{c(){e=k("span"),i=le(t),r=D(),o&&o.c(),l=ze(),m(e,"class","txt")},m(a,u){S(a,e,u),T(e,i),S(a,r,u),o&&o.m(a,u),S(a,l,u),s=!0},p(a,u){(!s||u&8)&&t!==(t=re.truncate(a[6],500,!0)+"")&&Se(i,t),a[6].length>500?o?(o.p(a,u),u&8&&F(o,1)):(o=FT(a),o.c(),F(o,1),o.m(l.parentNode,l)):o&&(Ne(),x(o,1,1,()=>{o=null}),Me())},i(a){s||(F(o),s=!0)},o(a){x(o),s=!1},d(a){a&&(E(e),E(r),E(l)),o&&o.d(a)}}}function WY(n){let e,t=re.truncate(n[6])+"",i;return{c(){e=k("span"),i=le(t),m(e,"class","txt txt-ellipsis")},m(r,l){S(r,e,l),T(e,i)},p(r,l){l&8&&t!==(t=re.truncate(r[6])+"")&&Se(i,t)},i:ge,o:ge,d(r){r&&E(e)}}}function FT(n){let e,t;return e=new bs({props:{value:JSON.stringify(n[3],null,2)}}),{c(){ee(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,r){const l={};r&8&&(l.value=JSON.stringify(i[3],null,2)),e.$set(l)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){x(e.$$.fragment,i),t=!1},d(i){J(e,i)}}}function $T(n){let e;return{c(){e=k("span"),e.textContent="You",m(e,"class","label label-warning")},m(t,i){S(t,e,i)},d(t){t&&E(e)}}}function KY(n){let e,t,i,r,l;const s=[BY,HY,$Y,FY,PY,RY,DY,LY,IY,MY,NY,OY,AY,CY],o=[];function a(f,c){return c&8&&(e=null),f[1].primaryKey?0:f[1].type==="json"?1:(e==null&&(e=!!re.isEmpty(f[3])),e?2:f[1].type==="bool"?3:f[1].type==="number"?4:f[1].type==="url"?5:f[1].type==="editor"?6:f[1].type==="date"||f[1].type==="autodate"?7:f[1].type==="select"?8:f[1].type==="relation"?9:f[1].type==="file"?10:f[1].type==="geoPoint"?11:f[2]?12:13)}function u(f,c){return c===1?SY(f):c===9?EY(f):c===10?wY(f):f}return t=a(n,-1),i=o[t]=s[t](u(n,t)),{c(){i.c(),r=ze()},m(f,c){o[t].m(f,c),S(f,r,c),l=!0},p(f,[c]){let h=t;t=a(f,c),t===h?o[t].p(u(f,t),c):(Ne(),x(o[h],1,1,()=>{o[h]=null}),Me(),i=o[t],i?i.p(u(f,t),c):(i=o[t]=s[t](u(f,t)),i.c()),F(i,1),i.m(r.parentNode,r))},i(f){l||(F(i),l=!0)},o(f){x(i),l=!1},d(f){f&&E(r),o[t].d(f)}}}function VY(n,e,t){let i,r;Wt(n,Vh,u=>t(4,r=u));let{record:l}=e,{field:s}=e,{short:o=!1}=e;function a(u){ut.call(this,n,u)}return n.$$set=u=>{"record"in u&&t(0,l=u.record),"field"in u&&t(1,s=u.field),"short"in u&&t(2,o=u.short)},n.$$.update=()=>{n.$$.dirty&3&&t(3,i=l==null?void 0:l[s.name])},[l,s,o,i,r,a]}class LA extends je{constructor(e){super(),qe(this,e,VY,KY,We,{record:0,field:1,short:2})}}function HT(n,e,t){const i=n.slice();return i[13]=e[t],i}function BT(n){let e,t,i=n[13].name+"",r,l,s,o,a,u;return o=new LA({props:{field:n[13],record:n[3]}}),{c(){e=k("tr"),t=k("td"),r=le(i),l=D(),s=k("td"),ee(o.$$.fragment),a=D(),m(t,"class","min-width txt-hint txt-bold"),m(s,"class","col-field svelte-1nt58f7")},m(f,c){S(f,e,c),T(e,t),T(t,r),T(e,l),T(e,s),Q(o,s,null),T(e,a),u=!0},p(f,c){(!u||c&1)&&i!==(i=f[13].name+"")&&Se(r,i);const h={};c&1&&(h.field=f[13]),c&8&&(h.record=f[3]),o.$set(h)},i(f){u||(F(o.$$.fragment,f),u=!0)},o(f){x(o.$$.fragment,f),u=!1},d(f){f&&E(e),J(o)}}}function GY(n){var o;let e,t,i,r=Re((o=n[0])==null?void 0:o.fields),l=[];for(let a=0;a<r.length;a+=1)l[a]=BT(HT(n,r,a));const s=a=>x(l[a],1,1,()=>{l[a]=null});return{c(){e=k("table"),t=k("tbody");for(let a=0;a<l.length;a+=1)l[a].c();m(e,"class","table-border preview-table"),he(e,"table-loading",n[4])},m(a,u){S(a,e,u),T(e,t);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(t,null);i=!0},p(a,u){var f;if(u&9){r=Re((f=a[0])==null?void 0:f.fields);let c;for(c=0;c<r.length;c+=1){const h=HT(a,r,c);l[c]?(l[c].p(h,u),F(l[c],1)):(l[c]=BT(h),l[c].c(),F(l[c],1),l[c].m(t,null))}for(Ne(),c=r.length;c<l.length;c+=1)s(c);Me()}(!i||u&16)&&he(e,"table-loading",a[4])},i(a){if(!i){for(let u=0;u<r.length;u+=1)F(l[u]);i=!0}},o(a){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)x(l[u]);i=!1},d(a){a&&E(e),fn(l,a)}}}function YY(n){var s;let e,t,i=((s=n[0])==null?void 0:s.name)+"",r,l;return{c(){e=k("h4"),t=k("strong"),r=le(i),l=le(" record preview")},m(o,a){S(o,e,a),T(e,t),T(t,r),T(e,l)},p(o,a){var u;a&1&&i!==(i=((u=o[0])==null?void 0:u.name)+"")&&Se(r,i)},d(o){o&&E(e)}}}function XY(n){let e,t,i;return{c(){e=k("button"),e.innerHTML='<span class="txt">Close</span>',m(e,"type","button"),m(e,"class","btn btn-transparent")},m(r,l){S(r,e,l),t||(i=se(e,"click",n[7]),t=!0)},p:ge,d(r){r&&E(e),t=!1,i()}}}function ZY(n){let e,t,i={class:"record-preview-panel "+(n[5]?"overlay-panel-xl":"overlay-panel-lg"),$$slots:{footer:[XY],header:[YY],default:[GY]},$$scope:{ctx:n}};return e=new Mi({props:i}),n[8](e),e.$on("hide",n[9]),e.$on("show",n[10]),{c(){ee(e.$$.fragment)},m(r,l){Q(e,r,l),t=!0},p(r,[l]){const s={};l&32&&(s.class="record-preview-panel "+(r[5]?"overlay-panel-xl":"overlay-panel-lg")),l&65561&&(s.$$scope={dirty:l,ctx:r}),e.$set(s)},i(r){t||(F(e.$$.fragment,r),t=!0)},o(r){x(e.$$.fragment,r),t=!1},d(r){n[8](null),J(e,r)}}}function QY(n,e,t){let i,{collection:r}=e,l,s={},o=!1;function a(b){return f(b),l==null?void 0:l.show()}function u(){return t(4,o=!1),l==null?void 0:l.hide()}async function f(b){t(3,s={}),t(4,o=!0),t(3,s=await c(b)||{}),t(4,o=!1)}async function c(b){if(b&&typeof b=="string"){try{return await xe.collection(r.id).getOne(b)}catch(y){y.isAbort||(u(),console.warn("resolveModel:",y),Ts(`Unable to load record with id "${b}"`))}return null}return b}const h=()=>u();function p(b){ye[b?"unshift":"push"](()=>{l=b,t(2,l)})}function _(b){ut.call(this,n,b)}function v(b){ut.call(this,n,b)}return n.$$set=b=>{"collection"in b&&t(0,r=b.collection)},n.$$.update=()=>{var b;n.$$.dirty&1&&t(5,i=!!((b=r==null?void 0:r.fields)!=null&&b.find(y=>y.type==="editor")))},[r,u,l,s,o,i,a,h,p,_,v]}class JY extends je{constructor(e){super(),qe(this,e,QY,ZY,We,{collection:0,show:6,hide:1})}get show(){return this.$$.ctx[6]}get hide(){return this.$$.ctx[1]}}function eX(n){let e,t,i,r;return{c(){e=k("i"),m(e,"class","ri-calendar-event-line txt-disabled")},m(l,s){S(l,e,s),i||(r=nt(t=_t.call(null,e,{text:n[0].join(`
`),position:"left"})),i=!0)},p(l,[s]){t&&Kn(t.update)&&s&1&&t.update.call(null,{text:l[0].join(`
`),position:"left"})},i:ge,o:ge,d(l){l&&E(e),i=!1,r()}}}const tX="yyyy-MM-dd HH:mm:ss.SSS";function nX(n,e,t){let i,r;Wt(n,Or,a=>t(2,r=a));let{record:l}=e,s=[];function o(){t(0,s=[]);const a=i.fields||[];for(let u of a)u.type=="autodate"&&s.push(u.name+": "+re.formatToLocalDate(l[u.name],tX)+" Local")}return n.$$set=a=>{"record"in a&&t(1,l=a.record)},n.$$.update=()=>{n.$$.dirty&6&&(i=l&&r.find(a=>a.id==l.collectionId)),n.$$.dirty&2&&l&&o()},[s,l,r]}class iX extends je{constructor(e){super(),qe(this,e,nX,eX,We,{record:1})}}function xT(n,e,t){const i=n.slice();return i[9]=e[t],i}function rX(n){let e;return{c(){e=k("h6"),e.textContent="No linked OAuth2 providers.",m(e,"class","txt-hint txt-center m-t-sm m-b-sm")},m(t,i){S(t,e,i)},p:ge,d(t){t&&E(e)}}}function lX(n){let e,t=Re(n[1]),i=[];for(let r=0;r<t.length;r+=1)i[r]=UT(xT(n,t,r));return{c(){e=k("div");for(let r=0;r<i.length;r+=1)i[r].c();m(e,"class","list")},m(r,l){S(r,e,l);for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(e,null)},p(r,l){if(l&58){t=Re(r[1]);let s;for(s=0;s<t.length;s+=1){const o=xT(r,t,s);i[s]?i[s].p(o,l):(i[s]=UT(o),i[s].c(),i[s].m(e,null))}for(;s<i.length;s+=1)i[s].d(1);i.length=t.length}},d(r){r&&E(e),fn(i,r)}}}function sX(n){let e;return{c(){e=k("div"),e.innerHTML='<span class="loader"></span>',m(e,"class","block txt-center")},m(t,i){S(t,e,i)},p:ge,d(t){t&&E(e)}}}function UT(n){let e,t,i,r,l,s,o=n[4](n[9].provider)+"",a,u,f,c,h=n[9].providerId+"",p,_,v,b,y,A;function M(){return n[6](n[9])}return{c(){var N;e=k("div"),t=k("figure"),i=k("img"),l=D(),s=k("span"),a=le(o),u=D(),f=k("div"),c=le("ID: "),p=le(h),_=D(),v=k("button"),v.innerHTML='<i class="ri-close-line"></i>',b=D(),hr(i.src,r="./images/oauth2/"+((N=n[3](n[9].provider))==null?void 0:N.logo))||m(i,"src",r),m(i,"alt","Provider logo"),m(t,"class","provider-logo"),m(s,"class","txt"),m(f,"class","txt-hint"),m(v,"type","button"),m(v,"class","btn btn-transparent link-hint btn-circle btn-sm m-l-auto"),m(e,"class","list-item")},m(N,L){S(N,e,L),T(e,t),T(t,i),T(e,l),T(e,s),T(s,a),T(e,u),T(e,f),T(f,c),T(f,p),T(e,_),T(e,v),T(e,b),y||(A=se(v,"click",M),y=!0)},p(N,L){var I;n=N,L&2&&!hr(i.src,r="./images/oauth2/"+((I=n[3](n[9].provider))==null?void 0:I.logo))&&m(i,"src",r),L&2&&o!==(o=n[4](n[9].provider)+"")&&Se(a,o),L&2&&h!==(h=n[9].providerId+"")&&Se(p,h)},d(N){N&&E(e),y=!1,A()}}}function oX(n){let e;function t(l,s){var o;return l[2]?sX:(o=l[0])!=null&&o.id&&l[1].length?lX:rX}let i=t(n),r=i(n);return{c(){r.c(),e=ze()},m(l,s){r.m(l,s),S(l,e,s)},p(l,[s]){i===(i=t(l))&&r?r.p(l,s):(r.d(1),r=i(l),r&&(r.c(),r.m(e.parentNode,e)))},i:ge,o:ge,d(l){l&&E(e),r.d(l)}}}function aX(n,e,t){const i=Sn();let{record:r}=e,l=[],s=!1;function o(h){return O_.find(p=>p.key==h)||{}}function a(h){var p;return((p=o(h))==null?void 0:p.title)||re.sentenize(h,!1)}async function u(){if(!(r!=null&&r.id)){t(1,l=[]),t(2,s=!1);return}t(2,s=!0);try{t(1,l=await xe.collection("_externalAuths").getFullList({filter:xe.filter("collectionRef = {:collectionId} && recordRef = {:recordId}",{collectionId:r.collectionId,recordId:r.id})}))}catch(h){xe.error(h)}t(2,s=!1)}function f(h){!(r!=null&&r.id)||!h||ar(`Do you really want to unlink the ${a(h.provider)} provider?`,()=>xe.collection("_externalAuths").delete(h.id).then(()=>{Oi(`Successfully unlinked the ${a(h.provider)} provider.`),i("unlink",h.provider),u()}).catch(p=>{xe.error(p)}))}u();const c=h=>f(h);return n.$$set=h=>{"record"in h&&t(0,r=h.record)},[r,l,s,o,a,f,c]}class uX extends je{constructor(e){super(),qe(this,e,aX,oX,We,{record:0})}}function fX(n){let e,t,i,r,l,s,o,a,u,f;return l=new bs({props:{value:n[1]}}),{c(){e=k("div"),t=k("span"),i=le(n[1]),r=D(),ee(l.$$.fragment),s=D(),o=k("i"),m(t,"class","secret svelte-1md8247"),m(o,"class","ri-refresh-line txt-sm link-hint"),m(o,"aria-label","Refresh"),m(e,"class","flex flex-gap-5 p-5")},m(c,h){S(c,e,h),T(e,t),T(t,i),n[6](t),T(e,r),Q(l,e,null),T(e,s),T(e,o),a=!0,u||(f=[nt(_t.call(null,o,"Refresh")),se(o,"click",n[4])],u=!0)},p(c,h){(!a||h&2)&&Se(i,c[1]);const p={};h&2&&(p.value=c[1]),l.$set(p)},i(c){a||(F(l.$$.fragment,c),a=!0)},o(c){x(l.$$.fragment,c),a=!1},d(c){c&&E(e),n[6](null),J(l),u=!1,it(f)}}}function cX(n){let e,t,i,r,l,s,o,a,u,f;function c(p){n[7](p)}let h={class:"dropdown dropdown-upside dropdown-center dropdown-nowrap",$$slots:{default:[fX]},$$scope:{ctx:n}};return n[3]!==void 0&&(h.active=n[3]),r=new Ar({props:h}),ye.push(()=>Ke(r,"active",c)),r.$on("show",n[4]),{c(){e=k("button"),t=k("i"),i=D(),ee(r.$$.fragment),m(t,"class","ri-sparkling-line"),m(t,"aria-hidden","true"),m(e,"tabindex","-1"),m(e,"type","button"),m(e,"aria-label","Generate"),m(e,"class",s="btn btn-circle "+n[0]+" svelte-1md8247")},m(p,_){S(p,e,_),T(e,t),T(e,i),Q(r,e,null),a=!0,u||(f=nt(o=_t.call(null,e,n[3]?"":"Generate")),u=!0)},p(p,[_]){const v={};_&518&&(v.$$scope={dirty:_,ctx:p}),!l&&_&8&&(l=!0,v.active=p[3],Ye(()=>l=!1)),r.$set(v),(!a||_&1&&s!==(s="btn btn-circle "+p[0]+" svelte-1md8247"))&&m(e,"class",s),o&&Kn(o.update)&&_&8&&o.update.call(null,p[3]?"":"Generate")},i(p){a||(F(r.$$.fragment,p),a=!0)},o(p){x(r.$$.fragment,p),a=!1},d(p){p&&E(e),J(r),u=!1,f()}}}function dX(n,e,t){const i=Sn();let{class:r="btn-sm btn-hint btn-transparent"}=e,{length:l=32}=e,s="",o,a=!1;async function u(){if(t(1,s=re.randomSecret(l)),i("generate",s),await Ni(),o){let h=document.createRange();h.selectNode(o),window.getSelection().removeAllRanges(),window.getSelection().addRange(h)}}function f(h){ye[h?"unshift":"push"](()=>{o=h,t(2,o)})}function c(h){a=h,t(3,a)}return n.$$set=h=>{"class"in h&&t(0,r=h.class),"length"in h&&t(5,l=h.length)},[r,s,o,a,u,l,f,c]}class hX extends je{constructor(e){super(),qe(this,e,dX,cX,We,{class:0,length:5})}}function zT(n){let e,t,i,r,l=n[0].emailVisibility?"On":"Off",s,o,a,u;return{c(){e=k("div"),t=k("button"),i=k("span"),r=le("Public: "),s=le(l),m(i,"class","txt"),m(t,"type","button"),m(t,"class",o="btn btn-sm btn-transparent "+(n[0].emailVisibility?"btn-success":"btn-hint")),m(e,"class","form-field-addon email-visibility-addon svelte-1751a4d")},m(f,c){S(f,e,c),T(e,t),T(t,i),T(i,r),T(i,s),a||(u=[nt(_t.call(null,t,{text:"Make email public or private",position:"top-right"})),se(t,"click",ln(n[7]))],a=!0)},p(f,c){c&1&&l!==(l=f[0].emailVisibility?"On":"Off")&&Se(s,l),c&1&&o!==(o="btn btn-sm btn-transparent "+(f[0].emailVisibility?"btn-success":"btn-hint"))&&m(t,"class",o)},d(f){f&&E(e),a=!1,it(u)}}}function pX(n){let e,t,i,r,l,s,o,a,u,f,c,h,p=!n[5]&&zT(n);return{c(){e=k("label"),t=k("i"),i=D(),r=k("span"),r.textContent="email",s=D(),p&&p.c(),o=D(),a=k("input"),m(t,"class",re.getFieldTypeIcon("email")),m(r,"class","txt"),m(e,"for",l=n[14]),m(a,"type","email"),a.autofocus=n[1],m(a,"autocomplete","off"),m(a,"id",u=n[14]),a.required=f=n[4].required,m(a,"class","svelte-1751a4d")},m(_,v){S(_,e,v),T(e,t),T(e,i),T(e,r),S(_,s,v),p&&p.m(_,v),S(_,o,v),S(_,a,v),He(a,n[0].email),n[1]&&a.focus(),c||(h=se(a,"input",n[8]),c=!0)},p(_,v){v&16384&&l!==(l=_[14])&&m(e,"for",l),_[5]?p&&(p.d(1),p=null):p?p.p(_,v):(p=zT(_),p.c(),p.m(o.parentNode,o)),v&2&&(a.autofocus=_[1]),v&16384&&u!==(u=_[14])&&m(a,"id",u),v&16&&f!==(f=_[4].required)&&(a.required=f),v&1&&a.value!==_[0].email&&He(a,_[0].email)},d(_){_&&(E(e),E(s),E(o),E(a)),p&&p.d(_),c=!1,h()}}}function qT(n){let e,t;return e=new Pe({props:{class:"form-field form-field-toggle",name:"verified",$$slots:{default:[mX,({uniqueId:i})=>({14:i}),({uniqueId:i})=>i?16384:0]},$$scope:{ctx:n}}}),{c(){ee(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,r){const l={};r&49156&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){x(e.$$.fragment,i),t=!1},d(i){J(e,i)}}}function mX(n){let e,t,i,r,l,s,o,a;return{c(){e=k("input"),i=D(),r=k("label"),l=le("Change password"),m(e,"type","checkbox"),m(e,"id",t=n[14]),m(r,"for",s=n[14])},m(u,f){S(u,e,f),e.checked=n[2],S(u,i,f),S(u,r,f),T(r,l),o||(a=se(e,"change",n[9]),o=!0)},p(u,f){f&16384&&t!==(t=u[14])&&m(e,"id",t),f&4&&(e.checked=u[2]),f&16384&&s!==(s=u[14])&&m(r,"for",s)},d(u){u&&(E(e),E(i),E(r)),o=!1,a()}}}function jT(n){let e,t,i,r,l,s,o,a,u;return r=new Pe({props:{class:"form-field required",name:"password",$$slots:{default:[gX,({uniqueId:f})=>({14:f}),({uniqueId:f})=>f?16384:0]},$$scope:{ctx:n}}}),o=new Pe({props:{class:"form-field required",name:"passwordConfirm",$$slots:{default:[_X,({uniqueId:f})=>({14:f}),({uniqueId:f})=>f?16384:0]},$$scope:{ctx:n}}}),{c(){e=k("div"),t=k("div"),i=k("div"),ee(r.$$.fragment),l=D(),s=k("div"),ee(o.$$.fragment),m(i,"class","col-sm-6"),m(s,"class","col-sm-6"),m(t,"class","grid"),he(t,"p-t-xs",n[2]),m(e,"class","block")},m(f,c){S(f,e,c),T(e,t),T(t,i),Q(r,i,null),T(t,l),T(t,s),Q(o,s,null),u=!0},p(f,c){const h={};c&49161&&(h.$$scope={dirty:c,ctx:f}),r.$set(h);const p={};c&49153&&(p.$$scope={dirty:c,ctx:f}),o.$set(p),(!u||c&4)&&he(t,"p-t-xs",f[2])},i(f){u||(F(r.$$.fragment,f),F(o.$$.fragment,f),f&&tn(()=>{u&&(a||(a=Et(e,En,{duration:150},!0)),a.run(1))}),u=!0)},o(f){x(r.$$.fragment,f),x(o.$$.fragment,f),f&&(a||(a=Et(e,En,{duration:150},!1)),a.run(0)),u=!1},d(f){f&&E(e),J(r),J(o),f&&a&&a.end()}}}function gX(n){let e,t,i,r,l,s,o,a,u,f,c,h,p,_;return c=new hX({props:{length:Math.max(15,n[3].min||0)}}),{c(){e=k("label"),t=k("i"),i=D(),r=k("span"),r.textContent="Password",s=D(),o=k("input"),u=D(),f=k("div"),ee(c.$$.fragment),m(t,"class","ri-lock-line"),m(r,"class","txt"),m(e,"for",l=n[14]),m(o,"type","password"),m(o,"autocomplete","new-password"),m(o,"id",a=n[14]),o.required=!0,m(f,"class","form-field-addon")},m(v,b){S(v,e,b),T(e,t),T(e,i),T(e,r),S(v,s,b),S(v,o,b),He(o,n[0].password),S(v,u,b),S(v,f,b),Q(c,f,null),h=!0,p||(_=se(o,"input",n[10]),p=!0)},p(v,b){(!h||b&16384&&l!==(l=v[14]))&&m(e,"for",l),(!h||b&16384&&a!==(a=v[14]))&&m(o,"id",a),b&1&&o.value!==v[0].password&&He(o,v[0].password);const y={};b&8&&(y.length=Math.max(15,v[3].min||0)),c.$set(y)},i(v){h||(F(c.$$.fragment,v),h=!0)},o(v){x(c.$$.fragment,v),h=!1},d(v){v&&(E(e),E(s),E(o),E(u),E(f)),J(c),p=!1,_()}}}function _X(n){let e,t,i,r,l,s,o,a,u,f;return{c(){e=k("label"),t=k("i"),i=D(),r=k("span"),r.textContent="Password confirm",s=D(),o=k("input"),m(t,"class","ri-lock-line"),m(r,"class","txt"),m(e,"for",l=n[14]),m(o,"type","password"),m(o,"autocomplete","new-password"),m(o,"id",a=n[14]),o.required=!0},m(c,h){S(c,e,h),T(e,t),T(e,i),T(e,r),S(c,s,h),S(c,o,h),He(o,n[0].passwordConfirm),u||(f=se(o,"input",n[11]),u=!0)},p(c,h){h&16384&&l!==(l=c[14])&&m(e,"for",l),h&16384&&a!==(a=c[14])&&m(o,"id",a),h&1&&o.value!==c[0].passwordConfirm&&He(o,c[0].passwordConfirm)},d(c){c&&(E(e),E(s),E(o)),u=!1,f()}}}function WT(n){let e,t,i;return t=new Pe({props:{class:"form-field form-field-toggle",name:"verified",$$slots:{default:[bX,({uniqueId:r})=>({14:r}),({uniqueId:r})=>r?16384:0]},$$scope:{ctx:n}}}),{c(){e=k("div"),ee(t.$$.fragment),m(e,"class","col-lg-12")},m(r,l){S(r,e,l),Q(t,e,null),i=!0},p(r,l){const s={};l&49155&&(s.$$scope={dirty:l,ctx:r}),t.$set(s)},i(r){i||(F(t.$$.fragment,r),i=!0)},o(r){x(t.$$.fragment,r),i=!1},d(r){r&&E(e),J(t)}}}function bX(n){let e,t,i,r,l,s,o,a;return{c(){e=k("input"),i=D(),r=k("label"),l=le("Verified"),m(e,"type","checkbox"),m(e,"id",t=n[14]),m(r,"for",s=n[14])},m(u,f){S(u,e,f),e.checked=n[0].verified,S(u,i,f),S(u,r,f),T(r,l),o||(a=[se(e,"change",n[12]),se(e,"change",ln(n[13]))],o=!0)},p(u,f){f&16384&&t!==(t=u[14])&&m(e,"id",t),f&1&&(e.checked=u[0].verified),f&16384&&s!==(s=u[14])&&m(r,"for",s)},d(u){u&&(E(e),E(i),E(r)),o=!1,it(a)}}}function vX(n){var h;let e,t,i,r,l,s,o,a;i=new Pe({props:{class:"form-field "+((h=n[4])!=null&&h.required?"required":""),name:"email",$$slots:{default:[pX,({uniqueId:p})=>({14:p}),({uniqueId:p})=>p?16384:0]},$$scope:{ctx:n}}});let u=!n[1]&&qT(n),f=(n[1]||n[2])&&jT(n),c=!n[5]&&WT(n);return{c(){e=k("div"),t=k("div"),ee(i.$$.fragment),r=D(),l=k("div"),u&&u.c(),s=D(),f&&f.c(),o=D(),c&&c.c(),m(t,"class","col-lg-12"),m(l,"class","col-lg-12"),m(e,"class","grid m-b-base")},m(p,_){S(p,e,_),T(e,t),Q(i,t,null),T(e,r),T(e,l),u&&u.m(l,null),T(l,s),f&&f.m(l,null),T(e,o),c&&c.m(e,null),a=!0},p(p,[_]){var b;const v={};_&16&&(v.class="form-field "+((b=p[4])!=null&&b.required?"required":"")),_&49203&&(v.$$scope={dirty:_,ctx:p}),i.$set(v),p[1]?u&&(Ne(),x(u,1,1,()=>{u=null}),Me()):u?(u.p(p,_),_&2&&F(u,1)):(u=qT(p),u.c(),F(u,1),u.m(l,s)),p[1]||p[2]?f?(f.p(p,_),_&6&&F(f,1)):(f=jT(p),f.c(),F(f,1),f.m(l,null)):f&&(Ne(),x(f,1,1,()=>{f=null}),Me()),p[5]?c&&(Ne(),x(c,1,1,()=>{c=null}),Me()):c?(c.p(p,_),_&32&&F(c,1)):(c=WT(p),c.c(),F(c,1),c.m(e,null))},i(p){a||(F(i.$$.fragment,p),F(u),F(f),F(c),a=!0)},o(p){x(i.$$.fragment,p),x(u),x(f),x(c),a=!1},d(p){p&&E(e),J(i),u&&u.d(),f&&f.d(),c&&c.d()}}}function yX(n,e,t){let i,r,l,{record:s}=e,{collection:o}=e,{isNew:a=!(s!=null&&s.id)}=e,u=!1;const f=()=>t(0,s.emailVisibility=!s.emailVisibility,s);function c(){s.email=this.value,t(0,s),t(2,u)}function h(){u=this.checked,t(2,u)}function p(){s.password=this.value,t(0,s),t(2,u)}function _(){s.passwordConfirm=this.value,t(0,s),t(2,u)}function v(){s.verified=this.checked,t(0,s),t(2,u)}const b=y=>{a||ar("Do you really want to manually change the verified account state?",()=>{},()=>{t(0,s.verified=!y.target.checked,s)})};return n.$$set=y=>{"record"in y&&t(0,s=y.record),"collection"in y&&t(6,o=y.collection),"isNew"in y&&t(1,a=y.isNew)},n.$$.update=()=>{var y,A;n.$$.dirty&64&&t(5,i=(o==null?void 0:o.name)=="_superusers"),n.$$.dirty&64&&t(4,r=((y=o==null?void 0:o.fields)==null?void 0:y.find(M=>M.name=="email"))||{}),n.$$.dirty&64&&t(3,l=((A=o==null?void 0:o.fields)==null?void 0:A.find(M=>M.name=="password"))||{}),n.$$.dirty&4&&(u||(t(0,s.password=void 0,s),t(0,s.passwordConfirm=void 0,s),ul("password"),ul("passwordConfirm")))},[s,a,u,l,r,i,o,f,c,h,p,_,v,b]}class kX extends je{constructor(e){super(),qe(this,e,yX,vX,We,{record:0,collection:6,isNew:1})}}function KT(n){let e;function t(l,s){return l[1].primaryKey?wX:TX}let i=t(n),r=i(n);return{c(){r.c(),e=ze()},m(l,s){r.m(l,s),S(l,e,s)},p(l,s){i===(i=t(l))&&r?r.p(l,s):(r.d(1),r=i(l),r&&(r.c(),r.m(e.parentNode,e)))},d(l){l&&E(e),r.d(l)}}}function TX(n){let e,t;return{c(){e=k("i"),m(e,"class",t=re.getFieldTypeIcon(n[1].type))},m(i,r){S(i,e,r)},p(i,r){r&2&&t!==(t=re.getFieldTypeIcon(i[1].type))&&m(e,"class",t)},d(i){i&&E(e)}}}function wX(n){let e;return{c(){e=k("i"),m(e,"class",re.getFieldTypeIcon("primary"))},m(t,i){S(t,e,i)},p:ge,d(t){t&&E(e)}}}function VT(n){let e;return{c(){e=k("small"),e.textContent="Hidden",m(e,"class","label label-sm label-danger")},m(t,i){S(t,e,i)},d(t){t&&E(e)}}}function EX(n){let e,t,i,r=n[1].name+"",l,s,o,a,u=n[2]&&KT(n),f=n[1].hidden&&VT();const c=n[4].default,h=Zn(c,n,n[3],null);return{c(){e=k("label"),u&&u.c(),t=D(),i=k("span"),l=le(r),s=D(),f&&f.c(),o=D(),h&&h.c(),m(i,"class","txt"),m(e,"for",n[0])},m(p,_){S(p,e,_),u&&u.m(e,null),T(e,t),T(e,i),T(i,l),T(e,s),f&&f.m(e,null),T(e,o),h&&h.m(e,null),a=!0},p(p,[_]){p[2]?u?u.p(p,_):(u=KT(p),u.c(),u.m(e,t)):u&&(u.d(1),u=null),(!a||_&2)&&r!==(r=p[1].name+"")&&Se(l,r),p[1].hidden?f||(f=VT(),f.c(),f.m(e,o)):f&&(f.d(1),f=null),h&&h.p&&(!a||_&8)&&Jn(h,c,p,p[3],a?Qn(c,p[3],_,null):ei(p[3]),null),(!a||_&1)&&m(e,"for",p[0])},i(p){a||(F(h,p),a=!0)},o(p){x(h,p),a=!1},d(p){p&&E(e),u&&u.d(),f&&f.d(),h&&h.d(p)}}}function SX(n,e,t){let{$$slots:i={},$$scope:r}=e,{uniqueId:l}=e,{field:s}=e,{icon:o=!0}=e;return n.$$set=a=>{"uniqueId"in a&&t(0,l=a.uniqueId),"field"in a&&t(1,s=a.field),"icon"in a&&t(2,o=a.icon),"$$scope"in a&&t(3,r=a.$$scope)},[l,s,o,r,i]}class Qr extends je{constructor(e){super(),qe(this,e,SX,EX,We,{uniqueId:0,field:1,icon:2})}}function CX(n){let e,t,i,r,l,s,o;return r=new Qr({props:{uniqueId:n[3],field:n[1],icon:!1}}),{c(){e=k("input"),i=D(),ee(r.$$.fragment),m(e,"type","checkbox"),m(e,"id",t=n[3])},m(a,u){S(a,e,u),e.checked=n[0],S(a,i,u),Q(r,a,u),l=!0,s||(o=se(e,"change",n[2]),s=!0)},p(a,u){(!l||u&8&&t!==(t=a[3]))&&m(e,"id",t),u&1&&(e.checked=a[0]);const f={};u&8&&(f.uniqueId=a[3]),u&2&&(f.field=a[1]),r.$set(f)},i(a){l||(F(r.$$.fragment,a),l=!0)},o(a){x(r.$$.fragment,a),l=!1},d(a){a&&(E(e),E(i)),J(r,a),s=!1,o()}}}function AX(n){let e,t;return e=new Pe({props:{class:"form-field form-field-toggle "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[CX,({uniqueId:i})=>({3:i}),({uniqueId:i})=>i?8:0]},$$scope:{ctx:n}}}),{c(){ee(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,[r]){const l={};r&2&&(l.class="form-field form-field-toggle "+(i[1].required?"required":"")),r&2&&(l.name=i[1].name),r&27&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){x(e.$$.fragment,i),t=!1},d(i){J(e,i)}}}function OX(n,e,t){let{field:i}=e,{value:r=!1}=e;function l(){r=this.checked,t(0,r)}return n.$$set=s=>{"field"in s&&t(1,i=s.field),"value"in s&&t(0,r=s.value)},[r,i,l]}class NX extends je{constructor(e){super(),qe(this,e,OX,AX,We,{field:1,value:0})}}function GT(n){let e,t,i,r;return{c(){e=k("div"),t=k("button"),t.innerHTML='<i class="ri-close-line"></i>',m(t,"type","button"),m(t,"class","link-hint clear-btn svelte-11df51y"),m(e,"class","form-field-addon")},m(l,s){S(l,e,s),T(e,t),i||(r=[nt(_t.call(null,t,"Clear")),se(t,"click",n[5])],i=!0)},p:ge,d(l){l&&E(e),i=!1,it(r)}}}function MX(n){let e,t,i,r,l,s,o;e=new Qr({props:{uniqueId:n[8],field:n[1]}});let a=n[0]&&!n[1].required&&GT(n);function u(h){n[6](h)}function f(h){n[7](h)}let c={id:n[8],options:re.defaultFlatpickrOptions()};return n[2]!==void 0&&(c.value=n[2]),n[0]!==void 0&&(c.formattedValue=n[0]),r=new N_({props:c}),ye.push(()=>Ke(r,"value",u)),ye.push(()=>Ke(r,"formattedValue",f)),r.$on("close",n[3]),{c(){ee(e.$$.fragment),t=D(),a&&a.c(),i=D(),ee(r.$$.fragment)},m(h,p){Q(e,h,p),S(h,t,p),a&&a.m(h,p),S(h,i,p),Q(r,h,p),o=!0},p(h,p){const _={};p&256&&(_.uniqueId=h[8]),p&2&&(_.field=h[1]),e.$set(_),h[0]&&!h[1].required?a?a.p(h,p):(a=GT(h),a.c(),a.m(i.parentNode,i)):a&&(a.d(1),a=null);const v={};p&256&&(v.id=h[8]),!l&&p&4&&(l=!0,v.value=h[2],Ye(()=>l=!1)),!s&&p&1&&(s=!0,v.formattedValue=h[0],Ye(()=>s=!1)),r.$set(v)},i(h){o||(F(e.$$.fragment,h),F(r.$$.fragment,h),o=!0)},o(h){x(e.$$.fragment,h),x(r.$$.fragment,h),o=!1},d(h){h&&(E(t),E(i)),J(e,h),a&&a.d(h),J(r,h)}}}function IX(n){let e,t;return e=new Pe({props:{class:"form-field "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[MX,({uniqueId:i})=>({8:i}),({uniqueId:i})=>i?256:0]},$$scope:{ctx:n}}}),{c(){ee(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,[r]){const l={};r&2&&(l.class="form-field "+(i[1].required?"required":"")),r&2&&(l.name=i[1].name),r&775&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){x(e.$$.fragment,i),t=!1},d(i){J(e,i)}}}function LX(n,e,t){let{field:i}=e,{value:r=void 0}=e,l=r;function s(c){c.detail&&c.detail.length==3&&t(0,r=c.detail[1])}function o(){t(0,r="")}const a=()=>o();function u(c){l=c,t(2,l),t(0,r)}function f(c){r=c,t(0,r)}return n.$$set=c=>{"field"in c&&t(1,i=c.field),"value"in c&&t(0,r=c.value)},n.$$.update=()=>{n.$$.dirty&1&&r&&r.length>19&&t(0,r=r.substring(0,19)),n.$$.dirty&5&&l!=r&&t(2,l=r)},[r,i,l,s,o,a,u,f]}class DX extends je{constructor(e){super(),qe(this,e,LX,IX,We,{field:1,value:0})}}function YT(n,e,t){const i=n.slice();i[44]=e[t];const r=i[19](i[44]);return i[45]=r,i}function XT(n,e,t){const i=n.slice();return i[48]=e[t],i}function ZT(n,e,t){const i=n.slice();return i[51]=e[t],i}function RX(n){let e,t,i=[],r=new Map,l,s,o,a,u,f,c,h,p,_,v,b=Re(n[7]);const y=A=>A[51].id;for(let A=0;A<b.length;A+=1){let M=ZT(n,b,A),N=y(M);r.set(N,i[A]=QT(N,M))}return a=new Xh({props:{value:n[4],placeholder:"Record search term or filter...",autocompleteCollection:n[8]}}),a.$on("submit",n[30]),h=new a_({props:{class:"files-list",vThreshold:100,$$slots:{default:[xX]},$$scope:{ctx:n}}}),h.$on("vScrollEnd",n[32]),{c(){e=k("div"),t=k("aside");for(let A=0;A<i.length;A+=1)i[A].c();l=D(),s=k("div"),o=k("div"),ee(a.$$.fragment),u=D(),f=k("button"),f.innerHTML='<div class="txt">New record</div>',c=D(),ee(h.$$.fragment),m(t,"class","file-picker-sidebar"),m(f,"type","button"),m(f,"class","btn btn-pill btn-transparent btn-hint p-l-xs p-r-xs"),m(o,"class","flex m-b-base flex-gap-10"),m(s,"class","file-picker-content"),m(e,"class","file-picker")},m(A,M){S(A,e,M),T(e,t);for(let N=0;N<i.length;N+=1)i[N]&&i[N].m(t,null);T(e,l),T(e,s),T(s,o),Q(a,o,null),T(o,u),T(o,f),T(s,c),Q(h,s,null),p=!0,_||(v=se(f,"click",n[31]),_=!0)},p(A,M){M[0]&384&&(b=Re(A[7]),i=In(i,M,y,1,A,b,r,t,Ol,QT,null,ZT));const N={};M[0]&16&&(N.value=A[4]),M[0]&256&&(N.autocompleteCollection=A[8]),a.$set(N);const L={};M[0]&98416|M[1]&8388608&&(L.$$scope={dirty:M,ctx:A}),h.$set(L)},i(A){p||(F(a.$$.fragment,A),F(h.$$.fragment,A),p=!0)},o(A){x(a.$$.fragment,A),x(h.$$.fragment,A),p=!1},d(A){A&&E(e);for(let M=0;M<i.length;M+=1)i[M].d();J(a),J(h),_=!1,v()}}}function PX(n){let e;return{c(){e=k("h6"),e.innerHTML="You currently don&#39;t have any collection with <code>file</code> field.",m(e,"class","txt-center txt-hint")},m(t,i){S(t,e,i)},p:ge,i:ge,o:ge,d(t){t&&E(e)}}}function QT(n,e){let t,i=e[51].name+"",r,l,s,o;function a(){return e[29](e[51])}return{key:n,first:null,c(){var u;t=k("button"),r=le(i),l=D(),m(t,"type","button"),m(t,"class","sidebar-item"),he(t,"active",((u=e[8])==null?void 0:u.id)==e[51].id),this.first=t},m(u,f){S(u,t,f),T(t,r),T(t,l),s||(o=se(t,"click",ln(a)),s=!0)},p(u,f){var c;e=u,f[0]&128&&i!==(i=e[51].name+"")&&Se(r,i),f[0]&384&&he(t,"active",((c=e[8])==null?void 0:c.id)==e[51].id)},d(u){u&&E(t),s=!1,o()}}}function FX(n){var l;let e,t,i,r=((l=n[4])==null?void 0:l.length)&&JT(n);return{c(){e=k("div"),t=k("span"),t.textContent="No records with images found.",i=D(),r&&r.c(),m(t,"class","txt txt-hint"),m(e,"class","inline-flex")},m(s,o){S(s,e,o),T(e,t),T(e,i),r&&r.m(e,null)},p(s,o){var a;(a=s[4])!=null&&a.length?r?r.p(s,o):(r=JT(s),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},d(s){s&&E(e),r&&r.d()}}}function $X(n){let e=[],t=new Map,i,r=Re(n[5]);const l=s=>s[44].id;for(let s=0;s<r.length;s+=1){let o=YT(n,r,s),a=l(o);t.set(a,e[s]=t3(a,o))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();i=ze()},m(s,o){for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(s,o);S(s,i,o)},p(s,o){o[0]&1638432&&(r=Re(s[5]),e=In(e,o,l,1,s,r,t,i.parentNode,Ol,t3,i,YT))},d(s){s&&E(i);for(let o=0;o<e.length;o+=1)e[o].d(s)}}}function JT(n){let e,t,i;return{c(){e=k("button"),e.innerHTML='<span class="txt">Clear filter</span>',m(e,"type","button"),m(e,"class","btn btn-hint btn-sm")},m(r,l){S(r,e,l),t||(i=se(e,"click",ln(n[17])),t=!0)},p:ge,d(r){r&&E(e),t=!1,i()}}}function HX(n){let e;return{c(){e=k("i"),m(e,"class","ri-file-3-line")},m(t,i){S(t,e,i)},p:ge,d(t){t&&E(e)}}}function BX(n){let e,t,i;return{c(){e=k("img"),m(e,"loading","lazy"),hr(e.src,t=xe.files.getURL(n[44],n[48],{thumb:"100x100"}))||m(e,"src",t),m(e,"alt",i=n[48])},m(r,l){S(r,e,l)},p(r,l){l[0]&32&&!hr(e.src,t=xe.files.getURL(r[44],r[48],{thumb:"100x100"}))&&m(e,"src",t),l[0]&32&&i!==(i=r[48])&&m(e,"alt",i)},d(r){r&&E(e)}}}function e3(n){let e,t,i,r,l,s;function o(f,c){return c[0]&32&&(t=null),t==null&&(t=!!re.hasImageExtension(f[48])),t?BX:HX}let a=o(n,[-1,-1]),u=a(n);return{c(){e=k("button"),u.c(),i=D(),m(e,"type","button"),m(e,"class","thumb handle"),he(e,"thumb-warning",n[16](n[44],n[48]))},m(f,c){S(f,e,c),u.m(e,null),T(e,i),l||(s=[nt(r=_t.call(null,e,n[48]+`
(record: `+n[44].id+")")),se(e,"click",ln(function(){Kn(n[20](n[44],n[48]))&&n[20](n[44],n[48]).apply(this,arguments)}))],l=!0)},p(f,c){n=f,a===(a=o(n,c))&&u?u.p(n,c):(u.d(1),u=a(n),u&&(u.c(),u.m(e,i))),r&&Kn(r.update)&&c[0]&32&&r.update.call(null,n[48]+`
(record: `+n[44].id+")"),c[0]&589856&&he(e,"thumb-warning",n[16](n[44],n[48]))},d(f){f&&E(e),u.d(),l=!1,it(s)}}}function t3(n,e){let t,i,r=Re(e[45]),l=[];for(let s=0;s<r.length;s+=1)l[s]=e3(XT(e,r,s));return{key:n,first:null,c(){t=ze();for(let s=0;s<l.length;s+=1)l[s].c();i=ze(),this.first=t},m(s,o){S(s,t,o);for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(s,o);S(s,i,o)},p(s,o){if(e=s,o[0]&1638432){r=Re(e[45]);let a;for(a=0;a<r.length;a+=1){const u=XT(e,r,a);l[a]?l[a].p(u,o):(l[a]=e3(u),l[a].c(),l[a].m(i.parentNode,i))}for(;a<l.length;a+=1)l[a].d(1);l.length=r.length}},d(s){s&&(E(t),E(i)),fn(l,s)}}}function n3(n){let e;return{c(){e=k("div"),e.innerHTML='<span class="loader loader-sm active"></span>',m(e,"class","block txt-center")},m(t,i){S(t,e,i)},d(t){t&&E(e)}}}function xX(n){let e,t;function i(o,a){if(o[15])return $X;if(!o[6])return FX}let r=i(n),l=r&&r(n),s=n[6]&&n3();return{c(){l&&l.c(),e=D(),s&&s.c(),t=ze()},m(o,a){l&&l.m(o,a),S(o,e,a),s&&s.m(o,a),S(o,t,a)},p(o,a){r===(r=i(o))&&l?l.p(o,a):(l&&l.d(1),l=r&&r(o),l&&(l.c(),l.m(e.parentNode,e))),o[6]?s||(s=n3(),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null)},d(o){o&&(E(e),E(t)),l&&l.d(o),s&&s.d(o)}}}function UX(n){let e,t,i,r;const l=[PX,RX],s=[];function o(a,u){return a[7].length?1:0}return e=o(n),t=s[e]=l[e](n),{c(){t.c(),i=ze()},m(a,u){s[e].m(a,u),S(a,i,u),r=!0},p(a,u){let f=e;e=o(a),e===f?s[e].p(a,u):(Ne(),x(s[f],1,1,()=>{s[f]=null}),Me(),t=s[e],t?t.p(a,u):(t=s[e]=l[e](a),t.c()),F(t,1),t.m(i.parentNode,i))},i(a){r||(F(t),r=!0)},o(a){x(t),r=!1},d(a){a&&E(i),s[e].d(a)}}}function zX(n){let e,t;return{c(){e=k("h4"),t=le(n[0])},m(i,r){S(i,e,r),T(e,t)},p(i,r){r[0]&1&&Se(t,i[0])},d(i){i&&E(e)}}}function i3(n){let e,t;return e=new Pe({props:{class:"form-field file-picker-size-select",$$slots:{default:[qX,({uniqueId:i})=>({23:i}),({uniqueId:i})=>[i?8388608:0]]},$$scope:{ctx:n}}}),{c(){ee(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,r){const l={};r[0]&8402944|r[1]&8388608&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){x(e.$$.fragment,i),t=!1},d(i){J(e,i)}}}function qX(n){let e,t,i;function r(s){n[28](s)}let l={upside:!0,id:n[23],items:n[11],disabled:!n[13],selectPlaceholder:"Select size"};return n[12]!==void 0&&(l.keyOfSelected=n[12]),e=new Nr({props:l}),ye.push(()=>Ke(e,"keyOfSelected",r)),{c(){ee(e.$$.fragment)},m(s,o){Q(e,s,o),i=!0},p(s,o){const a={};o[0]&8388608&&(a.id=s[23]),o[0]&2048&&(a.items=s[11]),o[0]&8192&&(a.disabled=!s[13]),!t&&o[0]&4096&&(t=!0,a.keyOfSelected=s[12],Ye(()=>t=!1)),e.$set(a)},i(s){i||(F(e.$$.fragment,s),i=!0)},o(s){x(e.$$.fragment,s),i=!1},d(s){J(e,s)}}}function jX(n){var _;let e,t,i,r=re.hasImageExtension((_=n[9])==null?void 0:_.name),l,s,o,a,u,f,c,h,p=r&&i3(n);return{c(){e=k("button"),t=k("span"),t.textContent="Cancel",i=D(),p&&p.c(),l=D(),s=k("button"),o=k("span"),a=le(n[1]),m(t,"class","txt"),m(e,"type","button"),m(e,"class","btn btn-transparent m-r-auto"),e.disabled=n[6],m(o,"class","txt"),m(s,"type","button"),m(s,"class","btn btn-expanded"),s.disabled=u=!n[13]},m(v,b){S(v,e,b),T(e,t),S(v,i,b),p&&p.m(v,b),S(v,l,b),S(v,s,b),T(s,o),T(o,a),f=!0,c||(h=[se(e,"click",n[2]),se(s,"click",n[21])],c=!0)},p(v,b){var y;(!f||b[0]&64)&&(e.disabled=v[6]),b[0]&512&&(r=re.hasImageExtension((y=v[9])==null?void 0:y.name)),r?p?(p.p(v,b),b[0]&512&&F(p,1)):(p=i3(v),p.c(),F(p,1),p.m(l.parentNode,l)):p&&(Ne(),x(p,1,1,()=>{p=null}),Me()),(!f||b[0]&2)&&Se(a,v[1]),(!f||b[0]&8192&&u!==(u=!v[13]))&&(s.disabled=u)},i(v){f||(F(p),f=!0)},o(v){x(p),f=!1},d(v){v&&(E(e),E(i),E(l),E(s)),p&&p.d(v),c=!1,it(h)}}}function WX(n){let e,t,i,r;const l=[{popup:!0},{class:"file-picker-popup"},n[22]];let s={$$slots:{footer:[jX],header:[zX],default:[UX]},$$scope:{ctx:n}};for(let a=0;a<l.length;a+=1)s=kt(s,l[a]);e=new Mi({props:s}),n[33](e),e.$on("hide",n[34]),e.$on("show",n[35]);let o={collection:n[8]};return i=new pb({props:o}),n[36](i),i.$on("save",n[37]),i.$on("delete",n[38]),{c(){ee(e.$$.fragment),t=D(),ee(i.$$.fragment)},m(a,u){Q(e,a,u),S(a,t,u),Q(i,a,u),r=!0},p(a,u){const f=u[0]&4194304?Ln(l,[l[0],l[1],Wn(a[22])]):{};u[0]&131059|u[1]&8388608&&(f.$$scope={dirty:u,ctx:a}),e.$set(f);const c={};u[0]&256&&(c.collection=a[8]),i.$set(c)},i(a){r||(F(e.$$.fragment,a),F(i.$$.fragment,a),r=!0)},o(a){x(e.$$.fragment,a),x(i.$$.fragment,a),r=!1},d(a){a&&E(t),n[33](null),J(e,a),n[36](null),J(i,a)}}}const r3=50;function KX(n,e,t){let i,r,l,s;const o=["title","submitText","fileTypes","show","hide"];let a=rn(e,o),u;Wt(n,Or,pt=>t(27,u=pt));const f=Sn(),c="file_picker_"+re.randomString(5);let{title:h="Select a file"}=e,{submitText:p="Insert"}=e,{fileTypes:_=["image","document","video","audio","file"]}=e,v,b,y="",A=[],M=1,N=0,L=!1,I=[],R=[],$=[],B={},H={},q="";function z(){return ie(!0),v==null?void 0:v.show()}function j(){return v==null?void 0:v.hide()}function W(){t(5,A=[]),t(9,H={}),t(12,q="")}function G(){t(4,y="")}async function ie(pt=!1){if(B!=null&&B.id){t(6,L=!0),pt&&W();try{const $e=pt?1:M+1,Bt=re.getAllCollectionIdentifiers(B);let Ze=re.normalizeSearchFilter(y,Bt)||"";Ze&&(Ze+=" && "),Ze+="("+R.map(Ft=>`${Ft.name}:length>0`).join("||")+")";let dt="";B.type!="view"&&(dt="-@rowid");const Fe=await xe.collection(B.id).getList($e,r3,{filter:Ze,sort:dt,fields:"*:excerpt(100)",skipTotal:1,requestKey:c+"loadImagePicker"});t(5,A=re.filterDuplicatesByKey(A.concat(Fe.items))),M=Fe.page,t(26,N=Fe.items.length),t(6,L=!1)}catch($e){$e.isAbort||(xe.error($e),t(6,L=!1))}}}function te(){var $e;let pt=["100x100"];if(($e=H==null?void 0:H.record)!=null&&$e.id){for(const Bt of R)if(re.toArray(H.record[Bt.name]).includes(H.name)){pt=pt.concat(re.toArray(Bt.thumbs));break}}t(11,$=[{label:"Original size",value:""}]);for(const Bt of pt)$.push({label:`${Bt} thumb`,value:Bt});q&&!pt.includes(q)&&t(12,q="")}function ae(pt){let $e=[];for(const Bt of R){const Ze=re.toArray(pt[Bt.name]);for(const dt of Ze)_.includes(re.getFileType(dt))&&$e.push(dt)}return $e}function ue(pt,$e){t(9,H={record:pt,name:$e})}function K(){s&&(f("submit",Object.assign({size:q},H)),j())}function X(pt){q=pt,t(12,q)}const _e=pt=>{t(8,B=pt)},oe=pt=>t(4,y=pt.detail),Le=()=>b==null?void 0:b.show(),lt=()=>{l&&ie()};function St(pt){ye[pt?"unshift":"push"](()=>{v=pt,t(3,v)})}function bt(pt){ut.call(this,n,pt)}function At(pt){ut.call(this,n,pt)}function ot(pt){ye[pt?"unshift":"push"](()=>{b=pt,t(10,b)})}const vt=pt=>{re.removeByKey(A,"id",pt.detail.record.id),A.unshift(pt.detail.record),t(5,A);const $e=ae(pt.detail.record);$e.length>0&&ue(pt.detail.record,$e[0])},zt=pt=>{var $e;(($e=H==null?void 0:H.record)==null?void 0:$e.id)==pt.detail.id&&t(9,H={}),re.removeByKey(A,"id",pt.detail.id),t(5,A)};return n.$$set=pt=>{e=kt(kt({},e),ui(pt)),t(22,a=rn(e,o)),"title"in pt&&t(0,h=pt.title),"submitText"in pt&&t(1,p=pt.submitText),"fileTypes"in pt&&t(24,_=pt.fileTypes)},n.$$.update=()=>{var pt;n.$$.dirty[0]&134217728&&t(7,I=u.filter($e=>$e.type!=="view"&&!!re.toArray($e.fields).find(Bt=>{var Ze,dt;return Bt.type==="file"&&!Bt.protected&&(!((Ze=Bt.mimeTypes)!=null&&Ze.length)||!!((dt=Bt.mimeTypes)!=null&&dt.find(Fe=>Fe.startsWith("image/"))))}))),n.$$.dirty[0]&384&&!(B!=null&&B.id)&&I.length>0&&t(8,B=I[0]),n.$$.dirty[0]&256&&(R=(pt=B==null?void 0:B.fields)==null?void 0:pt.filter($e=>$e.type==="file"&&!$e.protected)),n.$$.dirty[0]&256&&B!=null&&B.id&&(G(),te()),n.$$.dirty[0]&512&&H!=null&&H.name&&te(),n.$$.dirty[0]&280&&typeof y<"u"&&B!=null&&B.id&&v!=null&&v.isActive()&&ie(!0),n.$$.dirty[0]&512&&t(16,i=($e,Bt)=>{var Ze;return(H==null?void 0:H.name)==Bt&&((Ze=H==null?void 0:H.record)==null?void 0:Ze.id)==$e.id}),n.$$.dirty[0]&32&&t(15,r=A.find($e=>ae($e).length>0)),n.$$.dirty[0]&67108928&&t(14,l=!L&&N==r3),n.$$.dirty[0]&576&&t(13,s=!L&&!!(H!=null&&H.name))},[h,p,j,v,y,A,L,I,B,H,b,$,q,s,l,r,i,G,ie,ae,ue,K,a,c,_,z,N,u,X,_e,oe,Le,lt,St,bt,At,ot,vt,zt]}class DA extends je{constructor(e){super(),qe(this,e,KX,WX,We,{title:0,submitText:1,fileTypes:24,show:25,hide:2},null,[-1,-1])}get show(){return this.$$.ctx[25]}get hide(){return this.$$.ctx[2]}}function VX(n){let e;return{c(){e=k("div"),m(e,"class","tinymce-wrapper")},m(t,i){S(t,e,i)},p:ge,i:ge,o:ge,d(t){t&&E(e)}}}function GX(n){let e,t,i;function r(s){n[6](s)}let l={id:n[11],conf:n[5]};return n[0]!==void 0&&(l.value=n[0]),e=new Jg({props:l}),ye.push(()=>Ke(e,"value",r)),e.$on("init",n[7]),{c(){ee(e.$$.fragment)},m(s,o){Q(e,s,o),i=!0},p(s,o){const a={};o&2048&&(a.id=s[11]),o&32&&(a.conf=s[5]),!t&&o&1&&(t=!0,a.value=s[0],Ye(()=>t=!1)),e.$set(a)},i(s){i||(F(e.$$.fragment,s),i=!0)},o(s){x(e.$$.fragment,s),i=!1},d(s){J(e,s)}}}function YX(n){let e,t,i,r,l,s;e=new Qr({props:{uniqueId:n[11],field:n[1]}});const o=[GX,VX],a=[];function u(f,c){return f[4]?0:1}return i=u(n),r=a[i]=o[i](n),{c(){ee(e.$$.fragment),t=D(),r.c(),l=ze()},m(f,c){Q(e,f,c),S(f,t,c),a[i].m(f,c),S(f,l,c),s=!0},p(f,c){const h={};c&2048&&(h.uniqueId=f[11]),c&2&&(h.field=f[1]),e.$set(h);let p=i;i=u(f),i===p?a[i].p(f,c):(Ne(),x(a[p],1,1,()=>{a[p]=null}),Me(),r=a[i],r?r.p(f,c):(r=a[i]=o[i](f),r.c()),F(r,1),r.m(l.parentNode,l))},i(f){s||(F(e.$$.fragment,f),F(r),s=!0)},o(f){x(e.$$.fragment,f),x(r),s=!1},d(f){f&&(E(t),E(l)),J(e,f),a[i].d(f)}}}function XX(n){let e,t,i,r;e=new Pe({props:{class:"form-field form-field-editor "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[YX,({uniqueId:s})=>({11:s}),({uniqueId:s})=>s?2048:0]},$$scope:{ctx:n}}});let l={title:"Select an image",fileTypes:["image"]};return i=new DA({props:l}),n[8](i),i.$on("submit",n[9]),{c(){ee(e.$$.fragment),t=D(),ee(i.$$.fragment)},m(s,o){Q(e,s,o),S(s,t,o),Q(i,s,o),r=!0},p(s,[o]){const a={};o&2&&(a.class="form-field form-field-editor "+(s[1].required?"required":"")),o&2&&(a.name=s[1].name),o&6207&&(a.$$scope={dirty:o,ctx:s}),e.$set(a);const u={};i.$set(u)},i(s){r||(F(e.$$.fragment,s),F(i.$$.fragment,s),r=!0)},o(s){x(e.$$.fragment,s),x(i.$$.fragment,s),r=!1},d(s){s&&E(t),J(e,s),n[8](null),J(i,s)}}}function ZX(n,e,t){let i,{field:r}=e,{value:l=""}=e,s,o,a=!1,u=null;hi(async()=>(typeof l>"u"&&t(0,l=""),u=setTimeout(()=>{t(4,a=!0)},100),()=>{clearTimeout(u)}));function f(_){l=_,t(0,l)}const c=_=>{t(3,o=_.detail.editor),o.on("collections_file_picker",()=>{s==null||s.show()})};function h(_){ye[_?"unshift":"push"](()=>{s=_,t(2,s)})}const p=_=>{o==null||o.execCommand("InsertImage",!1,xe.files.getURL(_.detail.record,_.detail.name,{thumb:_.detail.size}))};return n.$$set=_=>{"field"in _&&t(1,r=_.field),"value"in _&&t(0,l=_.value)},n.$$.update=()=>{n.$$.dirty&2&&t(5,i=Object.assign(re.defaultEditorOptions(),{convert_urls:r.convertURLs,relative_urls:!1})),n.$$.dirty&1&&typeof l>"u"&&t(0,l="")},[l,r,s,o,a,i,f,c,h,p]}class QX extends je{constructor(e){super(),qe(this,e,ZX,XX,We,{field:1,value:0})}}const JX="Bold",eZ="bold text",tZ="Markdown Cheatsheet",nZ="Close help",iZ="Close table of contents",rZ="Code",lZ="Code block",sZ="lang",oZ="code",aZ="Exit fullscreen",uZ="Exit preview only",fZ="Exit write only",cZ="Fullscreen",dZ="Heading 1",hZ="Heading 2",pZ="Heading 3",mZ="Heading 4",gZ="Heading 5",_Z="Heading 6",bZ="heading",vZ="Help",yZ="Horizontal rule",kZ="Image",TZ="alt",wZ="title",EZ="Italic",SZ="italic text",CZ="The maximum character limit has been reached",AZ="Lines",OZ="Link",NZ="link text",MZ="Ordered list",IZ="item",LZ="Preview",DZ="Preview only",RZ="Quote",PZ="quoted text",FZ="Shortcuts",$Z="Source code",HZ="Scroll sync",BZ="Table of contents",xZ="Scroll to top",UZ="Unordered list",zZ="item",qZ="Words",jZ="Write",WZ="Write only",KZ={bold:JX,boldText:eZ,cheatsheet:tZ,closeHelp:nZ,closeToc:iZ,code:rZ,codeBlock:lZ,codeLang:sZ,codeText:oZ,exitFullscreen:aZ,exitPreviewOnly:uZ,exitWriteOnly:fZ,fullscreen:cZ,h1:dZ,h2:hZ,h3:pZ,h4:mZ,h5:gZ,h6:_Z,headingText:bZ,help:vZ,hr:yZ,image:kZ,imageAlt:TZ,imageTitle:wZ,italic:EZ,italicText:SZ,limited:CZ,lines:AZ,link:OZ,linkText:NZ,ol:MZ,olItem:IZ,preview:LZ,previewOnly:DZ,quote:RZ,quotedText:PZ,shortcuts:FZ,source:$Z,sync:HZ,toc:BZ,top:xZ,ul:UZ,ulItem:zZ,words:qZ,write:jZ,writeOnly:WZ},oi={Close:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" viewBox="0 0 48 48"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="m8 8 32 32M8 40 40 8"/></svg>',H:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" viewBox="0 0 48 48"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="M12 5v38M36 5v38M12 24h24"/></svg>',H1:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" viewBox="0 0 48 48"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="M6 8v32M25 8v32M6 24h19M34.226 24 39 19.017V40"/></svg>',H2:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" viewBox="0 0 48 48"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="M6 8v32M24 8v32M7 24h16M32 25c0-3.167 2.667-5 5-5s5 1.833 5 5c0 5.7-10 9.933-10 15h10"/></svg>',H3:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" viewBox="0 0 48 48"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="M6 8v32M24 8v32M7 24h16M32 20h10l-7 9c4 0 7 2 7 6s-3 5-5 5c-2.381 0-4-1-5-2.1"/></svg>',LevelFourTitle:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" viewBox="0 0 48 48"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="M6 8v32M24 8v32M7 24h16M39.977 40V20L31 32.997v2.023h12"/></svg>',LevelFiveTitle:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" viewBox="0 0 48 48"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="M6 8v32M24 8v32M7 24h16M40 21.01h-8v7.024C32 28 34 27 37 27s4 2.534 4 6.5-1 6.5-5 6.5c-3 0-4-2-4-3.992"/></svg>',LevelSixTitle:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" viewBox="0 0 48 48"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="M6 8v32M24 8v32M7 24h16"/><path stroke="currentColor" stroke-width="4" d="M36.5 40a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11Z"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="M41.596 24.74C40.778 22.545 38.804 21 36.5 21c-3.038 0-5.5 2.686-5.5 6v7"/></svg>',TextBold:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" viewBox="0 0 48 48"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="M24 24c5.506 0 9.969-4.477 9.969-10S29.506 4 24 4H11v20h13ZM28.031 44C33.537 44 38 39.523 38 34s-4.463-10-9.969-10H11v20h17.031Z" clip-rule="evenodd"/></svg>',TextItalic:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" viewBox="0 0 48 48"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="M20 6h16M12 42h16M29 5.952 19 42"/></svg>',Quote:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" viewBox="0 0 48 48"><path fill="currentColor" fill-rule="evenodd" d="M18.853 9.116C11.323 13.952 7.14 19.58 6.303 26.003 5 36 13.94 40.893 18.47 36.497 23 32.1 20.285 26.52 17.005 24.994c-3.28-1.525-5.286-.994-4.936-3.033.35-2.038 5.016-7.69 9.116-10.322a.749.749 0 0 0 .114-1.02L20.285 9.3c-.44-.572-.862-.55-1.432-.185ZM38.679 9.116c-7.53 4.836-11.714 10.465-12.55 16.887-1.303 9.997 7.637 14.89 12.167 10.494 4.53-4.397 1.815-9.977-1.466-11.503-3.28-1.525-5.286-.994-4.936-3.033.35-2.038 5.017-7.69 9.117-10.322a.749.749 0 0 0 .113-1.02L40.11 9.3c-.44-.572-.862-.55-1.431-.185Z" clip-rule="evenodd"/></svg>',LinkOne:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" viewBox="0 0 48 48"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="m26.24 16.373-9.14-9.14c-2.661-2.661-7.035-2.603-9.768.131-2.734 2.734-2.793 7.107-.131 9.768l7.935 7.936M32.903 23.003l7.935 7.935c2.661 2.662 2.603 7.035-.13 9.769-2.735 2.734-7.108 2.792-9.77.13l-9.14-9.14"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="M26.11 26.142c2.733-2.734 2.792-7.108.13-9.769M21.799 21.798c-2.734 2.734-2.792 7.108-.131 9.769"/></svg>',Pic:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" viewBox="0 0 48 48"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="M5 10a2 2 0 0 1 2-2h34a2 2 0 0 1 2 2v28a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V10Z" clip-rule="evenodd"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="M14.5 18a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z" clip-rule="evenodd"/><path stroke="currentColor" stroke-linejoin="round" stroke-width="4" d="m15 24 5 4 6-7 17 13v4a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-4l10-10Z"/></svg>',Code:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" viewBox="0 0 48 48"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="M16 13 4 25.432 16 37M32 13l12 12.432L32 37"/><path stroke="currentColor" stroke-linecap="round" stroke-width="4" d="m28 4-7 40"/></svg>',CodeBrackets:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" viewBox="0 0 48 48"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="M16 4c-2 0-5 1-5 5v9c0 3-5 5-5 5s5 2 5 5v11c0 4 3 5 5 5M32 4c2 0 5 1 5 5v9c0 3 5 5 5 5s-5 2-5 5v11c0 4-3 5-5 5"/></svg>',ListTwo:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" viewBox="0 0 48 48"><path stroke="currentColor" stroke-linejoin="round" stroke-width="4" d="M9 42a4 4 0 1 0 0-8 4 4 0 0 0 0 8ZM9 14a4 4 0 1 0 0-8 4 4 0 0 0 0 8ZM9 28a4 4 0 1 0 0-8 4 4 0 0 0 0 8Z"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="M21 24h22M21 38h22M21 10h22"/></svg>',OrderedList:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" viewBox="0 0 48 48"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="M9 4v9M12 13H6M12 27H6M6 20s3-3 5 0-5 7-5 7M6 34.5s2-3 5-1 0 4.5 0 4.5 3 2.5 0 4.5-5-1-5-1M11 38H9M9 4 6 6M21 24h22M21 38h22M21 10h22"/></svg>',DividingLine:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" viewBox="0 0 48 48"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="M5 24h38M21 38h6M37 38h6M21 10h6M5 38h6M5 10h6M37 10h6"/></svg>',AlignTextLeftOne:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" viewBox="0 0 48 48"><path stroke="currentColor" stroke-linejoin="round" stroke-width="4" d="M39 6H9a3 3 0 0 0-3 3v30a3 3 0 0 0 3 3h30a3 3 0 0 0 3-3V9a3 3 0 0 0-3-3Z"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="M26 24H14M34 15H14M32 33H14"/></svg>',Helpcenter:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" viewBox="0 0 48 48"><path stroke="currentColor" stroke-linejoin="round" stroke-width="4" d="M39 6H9a3 3 0 0 0-3 3v30a3 3 0 0 0 3 3h30a3 3 0 0 0 3-3V9a3 3 0 0 0-3-3Z"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="M24 28.625v-4a6 6 0 1 0-6-6"/><path fill="currentColor" fill-rule="evenodd" d="M24 37.625a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z" clip-rule="evenodd"/></svg>',LeftExpand:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" viewBox="0 0 48 48"><rect width="28" height="36" x="6" y="6" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="4" rx="2"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="M42 6v36"/></svg>',RightExpand:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" viewBox="0 0 48 48"><rect width="28" height="36" x="14" y="6" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="4" rx="2"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="M6 6v36"/></svg>',OffScreen:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" viewBox="0 0 48 48"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="M33 6v9h9M15 6v9H6M15 42v-9H6M33 42v-9h8.9"/></svg>',FullScreen:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" viewBox="0 0 48 48"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="M33 6h9v9M42 33v9h-9M15 42H6v-9M6 15V6h9"/></svg>',GithubOne:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" viewBox="0 0 48 48"><path stroke="currentColor" stroke-linecap="round" stroke-width="4" d="M29.344 30.477c2.404-.5 4.585-1.366 6.28-2.638C38.52 25.668 40 22.314 40 19c0-2.324-.881-4.494-2.407-6.332-.85-1.024 1.636-8.667-.573-7.638-2.21 1.03-5.45 3.308-7.147 2.805A20.712 20.712 0 0 0 24 7c-1.8 0-3.532.223-5.147.634C16.505 8.232 14.259 6 12 5.03c-2.26-.97-1.026 6.934-1.697 7.765C8.84 14.605 8 16.73 8 19c0 3.314 1.79 6.668 4.686 8.84 1.93 1.446 4.348 2.368 7.054 2.822M19.74 30.662c-1.159 1.275-1.738 2.486-1.738 3.632v8.717M29.345 30.477c1.097 1.44 1.646 2.734 1.646 3.88v8.654M6 31.215c.899.11 1.566.524 2 1.24.652 1.075 3.074 5.063 5.825 5.063h4.177"/></svg>'},VZ=function(){var n=navigator.userAgent,e=navigator.platform,t=/gecko\/\d/i.test(n),i=/MSIE \d/.test(n),r=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(n),l=/Edge\/(\d+)/.exec(n),s=i||r||l,o=s&&(i?document.documentMode||6:+(l||r)[1]),a=!l&&/WebKit\//.test(n),u=a&&/Qt\/\d+\.\d+/.test(n),f=!l&&/Chrome\//.test(n),c=/Opera\//.test(n),h=/Apple Computer/.test(navigator.vendor),p=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(n),_=/PhantomJS/.test(n),v=h&&(/Mobile\/\w+/.test(n)||navigator.maxTouchPoints>2),b=/Android/.test(n),y=v||b||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(n),A=v||/Mac/.test(e),M=/\bCrOS\b/.test(n),N=/win/i.test(e),L=c&&n.match(/Version\/(\d*\.\d*)/);L&&(L=Number(L[1])),L&&L>=15&&(c=!1,a=!0);var I=A&&(u||c&&(L==null||L<12.11)),R=t||s&&o>=9;function $(d){return new RegExp("(^|\\s)"+d+"(?:$|\\s)\\s*")}var B=function(d,g){var C=d.className,w=$(g).exec(C);if(w){var O=C.slice(w.index+w[0].length);d.className=C.slice(0,w.index)+(O?w[1]+O:"")}};function H(d){for(var g=d.childNodes.length;g>0;--g)d.removeChild(d.firstChild);return d}function q(d,g){return H(d).appendChild(g)}function z(d,g,C,w){var O=document.createElement(d);if(C&&(O.className=C),w&&(O.style.cssText=w),typeof g=="string")O.appendChild(document.createTextNode(g));else if(g)for(var P=0;P<g.length;++P)O.appendChild(g[P]);return O}function j(d,g,C,w){var O=z(d,g,C,w);return O.setAttribute("role","presentation"),O}var W;document.createRange?W=function(d,g,C,w){var O=document.createRange();return O.setEnd(w||d,C),O.setStart(d,g),O}:W=function(d,g,C){var w=document.body.createTextRange();try{w.moveToElementText(d.parentNode)}catch{return w}return w.collapse(!0),w.moveEnd("character",C),w.moveStart("character",g),w};function G(d,g){if(g.nodeType==3&&(g=g.parentNode),d.contains)return d.contains(g);do if(g.nodeType==11&&(g=g.host),g==d)return!0;while(g=g.parentNode)}function ie(){var d;try{d=document.activeElement}catch{d=document.body||null}for(;d&&d.shadowRoot&&d.shadowRoot.activeElement;)d=d.shadowRoot.activeElement;return d}function te(d,g){var C=d.className;$(g).test(C)||(d.className+=(C?" ":"")+g)}function ae(d,g){for(var C=d.split(" "),w=0;w<C.length;w++)C[w]&&!$(C[w]).test(g)&&(g+=" "+C[w]);return g}var ue=function(d){d.select()};v?ue=function(d){d.selectionStart=0,d.selectionEnd=d.value.length}:s&&(ue=function(d){try{d.select()}catch{}});function K(d){var g=Array.prototype.slice.call(arguments,1);return function(){return d.apply(null,g)}}function X(d,g,C){g||(g={});for(var w in d)d.hasOwnProperty(w)&&(C!==!1||!g.hasOwnProperty(w))&&(g[w]=d[w]);return g}function _e(d,g,C,w,O){g==null&&(g=d.search(/[^\s\u00a0]/),g==-1&&(g=d.length));for(var P=w||0,U=O||0;;){var V=d.indexOf("	",P);if(V<0||V>=g)return U+(g-P);U+=V-P,U+=C-U%C,P=V+1}}var oe=function(){this.id=null,this.f=null,this.time=0,this.handler=K(this.onTimeout,this)};oe.prototype.onTimeout=function(d){d.id=0,d.time<=+new Date?d.f():setTimeout(d.handler,d.time-+new Date)},oe.prototype.set=function(d,g){this.f=g;var C=+new Date+d;(!this.id||C<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,d),this.time=C)};function Le(d,g){for(var C=0;C<d.length;++C)if(d[C]==g)return C;return-1}var lt=50,St={toString:function(){return"CodeMirror.Pass"}},bt={scroll:!1},At={origin:"*mouse"},ot={origin:"+move"};function vt(d,g,C){for(var w=0,O=0;;){var P=d.indexOf("	",w);P==-1&&(P=d.length);var U=P-w;if(P==d.length||O+U>=g)return w+Math.min(U,g-O);if(O+=P-w,O+=C-O%C,w=P+1,O>=g)return w}}var zt=[""];function pt(d){for(;zt.length<=d;)zt.push($e(zt)+" ");return zt[d]}function $e(d){return d[d.length-1]}function Bt(d,g){for(var C=[],w=0;w<d.length;w++)C[w]=g(d[w],w);return C}function Ze(d,g,C){for(var w=0,O=C(g);w<d.length&&C(d[w])<=O;)w++;d.splice(w,0,g)}function dt(){}function Fe(d,g){var C;return Object.create?C=Object.create(d):(dt.prototype=d,C=new dt),g&&X(g,C),C}var Ft=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function cn(d){return/\w/.test(d)||d>""&&(d.toUpperCase()!=d.toLowerCase()||Ft.test(d))}function Ee(d,g){return g?g.source.indexOf("\\w")>-1&&cn(d)?!0:g.test(d):cn(d)}function Ue(d){for(var g in d)if(d.hasOwnProperty(g)&&d[g])return!1;return!0}var sn=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function gn(d){return d.charCodeAt(0)>=768&&sn.test(d)}function Zt(d,g,C){for(;(C<0?g>0:g<d.length)&&gn(d.charAt(g));)g+=C;return g}function Xe(d,g,C){for(var w=g>C?-1:1;;){if(g==C)return g;var O=(g+C)/2,P=w<0?Math.ceil(O):Math.floor(O);if(P==g)return d(P)?g:C;d(P)?C=P:g=P+w}}function Kt(d,g,C,w){if(!d)return w(g,C,"ltr",0);for(var O=!1,P=0;P<d.length;++P){var U=d[P];(U.from<C&&U.to>g||g==C&&U.to==g)&&(w(Math.max(U.from,g),Math.min(U.to,C),U.level==1?"rtl":"ltr",P),O=!0)}O||w(g,C,"ltr")}var Ie=null;function Je(d,g,C){var w;Ie=null;for(var O=0;O<d.length;++O){var P=d[O];if(P.from<g&&P.to>g)return O;P.to==g&&(P.from!=P.to&&C=="before"?w=O:Ie=O),P.from==g&&(P.from!=P.to&&C!="before"?w=O:Ie=O)}return w??Ie}var Dt=function(){var d="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",g="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function C(ne){return ne<=247?d.charAt(ne):1424<=ne&&ne<=1524?"R":1536<=ne&&ne<=1785?g.charAt(ne-1536):1774<=ne&&ne<=2220?"r":8192<=ne&&ne<=8203?"w":ne==8204?"b":"L"}var w=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,O=/[stwN]/,P=/[LRr]/,U=/[Lb1n]/,V=/[1n]/;function Z(ne,pe,be){this.level=ne,this.from=pe,this.to=be}return function(ne,pe){var be=pe=="ltr"?"L":"R";if(ne.length==0||pe=="ltr"&&!w.test(ne))return!1;for(var Ae=ne.length,we=[],Ge=0;Ge<Ae;++Ge)we.push(C(ne.charCodeAt(Ge)));for(var Qe=0,ct=be;Qe<Ae;++Qe){var Tt=we[Qe];Tt=="m"?we[Qe]=ct:ct=Tt}for(var Nt=0,wt=be;Nt<Ae;++Nt){var Lt=we[Nt];Lt=="1"&&wt=="r"?we[Nt]="n":P.test(Lt)&&(wt=Lt,Lt=="r"&&(we[Nt]="R"))}for(var Vt=1,Ut=we[0];Vt<Ae-1;++Vt){var bn=we[Vt];bn=="+"&&Ut=="1"&&we[Vt+1]=="1"?we[Vt]="1":bn==","&&Ut==we[Vt+1]&&(Ut=="1"||Ut=="n")&&(we[Vt]=Ut),Ut=bn}for(var Gn=0;Gn<Ae;++Gn){var Wi=we[Gn];if(Wi==",")we[Gn]="N";else if(Wi=="%"){var ci=void 0;for(ci=Gn+1;ci<Ae&&we[ci]=="%";++ci);for(var Pr=Gn&&we[Gn-1]=="!"||ci<Ae&&we[ci]=="1"?"1":"N",vr=Gn;vr<ci;++vr)we[vr]=Pr;Gn=ci-1}}for(var Si=0,yr=be;Si<Ae;++Si){var Yi=we[Si];yr=="L"&&Yi=="1"?we[Si]="L":P.test(Yi)&&(yr=Yi)}for(var Li=0;Li<Ae;++Li)if(O.test(we[Li])){var Ci=void 0;for(Ci=Li+1;Ci<Ae&&O.test(we[Ci]);++Ci);for(var pi=(Li?we[Li-1]:be)=="L",kr=(Ci<Ae?we[Ci]:be)=="L",lu=pi==kr?pi?"L":"R":be,lo=Li;lo<Ci;++lo)we[lo]=lu;Li=Ci-1}for(var er=[],ns,Ki=0;Ki<Ae;)if(U.test(we[Ki])){var om=Ki;for(++Ki;Ki<Ae&&U.test(we[Ki]);++Ki);er.push(new Z(0,om,Ki))}else{var Ms=Ki,Zo=er.length,Qo=pe=="rtl"?1:0;for(++Ki;Ki<Ae&&we[Ki]!="L";++Ki);for(var rr=Ms;rr<Ki;)if(V.test(we[rr])){Ms<rr&&(er.splice(Zo,0,new Z(1,Ms,rr)),Zo+=Qo);var su=rr;for(++rr;rr<Ki&&V.test(we[rr]);++rr);er.splice(Zo,0,new Z(2,su,rr)),Zo+=Qo,Ms=rr}else++rr;Ms<Ki&&er.splice(Zo,0,new Z(1,Ms,Ki))}return pe=="ltr"&&(er[0].level==1&&(ns=ne.match(/^\s+/))&&(er[0].from=ns[0].length,er.unshift(new Z(0,0,ns[0].length))),$e(er).level==1&&(ns=ne.match(/\s+$/))&&($e(er).to-=ns[0].length,er.push(new Z(0,Ae-ns[0].length,Ae)))),pe=="rtl"?er.reverse():er}}();function Jt(d,g){var C=d.order;return C==null&&(C=d.order=Dt(d.text,g)),C}var on=[],at=function(d,g,C){if(d.addEventListener)d.addEventListener(g,C,!1);else if(d.attachEvent)d.attachEvent("on"+g,C);else{var w=d._handlers||(d._handlers={});w[g]=(w[g]||on).concat(C)}};function ti(d,g){return d._handlers&&d._handlers[g]||on}function De(d,g,C){if(d.removeEventListener)d.removeEventListener(g,C,!1);else if(d.detachEvent)d.detachEvent("on"+g,C);else{var w=d._handlers,O=w&&w[g];if(O){var P=Le(O,C);P>-1&&(w[g]=O.slice(0,P).concat(O.slice(P+1)))}}}function et(d,g){var C=ti(d,g);if(C.length)for(var w=Array.prototype.slice.call(arguments,2),O=0;O<C.length;++O)C[O].apply(null,w)}function Ot(d,g,C){return typeof g=="string"&&(g={type:g,preventDefault:function(){this.defaultPrevented=!0}}),et(d,C||g.type,d,g),el(g)||g.codemirrorIgnore}function xt(d){var g=d._handlers&&d._handlers.cursorActivity;if(g)for(var C=d.curOp.cursorActivityHandlers||(d.curOp.cursorActivityHandlers=[]),w=0;w<g.length;++w)Le(C,g[w])==-1&&C.push(g[w])}function qt(d,g){return ti(d,g).length>0}function yn(d){d.prototype.on=function(g,C){at(this,g,C)},d.prototype.off=function(g,C){De(this,g,C)}}function Nn(d){d.preventDefault?d.preventDefault():d.returnValue=!1}function fi(d){d.stopPropagation?d.stopPropagation():d.cancelBubble=!0}function el(d){return d.defaultPrevented!=null?d.defaultPrevented:d.returnValue==!1}function wi(d){Nn(d),fi(d)}function ce(d){return d.target||d.srcElement}function me(d){var g=d.which;return g==null&&(d.button&1?g=1:d.button&2?g=3:d.button&4&&(g=2)),A&&d.ctrlKey&&g==1&&(g=3),g}var Ce=function(){if(s&&o<9)return!1;var d=z("div");return"draggable"in d||"dragDrop"in d}(),Ve;function ht(d){if(Ve==null){var g=z("span","​");q(d,z("span",[g,document.createTextNode("x")])),d.firstChild.offsetHeight!=0&&(Ve=g.offsetWidth<=1&&g.offsetHeight>2&&!(s&&o<8))}var C=Ve?z("span","​"):z("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return C.setAttribute("cm-text",""),C}var Ct;function an(d){if(Ct!=null)return Ct;var g=q(d,document.createTextNode("AخA")),C=W(g,0,1).getBoundingClientRect(),w=W(g,1,2).getBoundingClientRect();return H(d),!C||C.left==C.right?!1:Ct=w.right-C.right<3}var Rt=`

b`.split(/\n/).length!=3?function(d){for(var g=0,C=[],w=d.length;g<=w;){var O=d.indexOf(`
`,g);O==-1&&(O=d.length);var P=d.slice(g,d.charAt(O-1)=="\r"?O-1:O),U=P.indexOf("\r");U!=-1?(C.push(P.slice(0,U)),g+=U+1):(C.push(P),g=O+1)}return C}:function(d){return d.split(/\r\n?|\n/)},dn=window.getSelection?function(d){try{return d.selectionStart!=d.selectionEnd}catch{return!1}}:function(d){var g;try{g=d.ownerDocument.selection.createRange()}catch{}return!g||g.parentElement()!=d?!1:g.compareEndPoints("StartToEnd",g)!=0},Pt=function(){var d=z("div");return"oncopy"in d?!0:(d.setAttribute("oncopy","return;"),typeof d.oncopy=="function")}(),Oe=null;function st(d){if(Oe!=null)return Oe;var g=q(d,z("span","x")),C=g.getBoundingClientRect(),w=W(g,0,1).getBoundingClientRect();return Oe=Math.abs(C.left-w.left)>1}var _n={},hn={};function nn(d,g){arguments.length>2&&(g.dependencies=Array.prototype.slice.call(arguments,2)),_n[d]=g}function xi(d,g){hn[d]=g}function Ui(d){if(typeof d=="string"&&hn.hasOwnProperty(d))d=hn[d];else if(d&&typeof d.name=="string"&&hn.hasOwnProperty(d.name)){var g=hn[d.name];typeof g=="string"&&(g={name:g}),d=Fe(g,d),d.name=g.name}else{if(typeof d=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(d))return Ui("application/xml");if(typeof d=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(d))return Ui("application/json")}return typeof d=="string"?{name:d}:d||{name:"null"}}function Gi(d,g){g=Ui(g);var C=_n[g.name];if(!C)return Gi(d,"text/plain");var w=C(d,g);if(Dl.hasOwnProperty(g.name)){var O=Dl[g.name];for(var P in O)O.hasOwnProperty(P)&&(w.hasOwnProperty(P)&&(w["_"+P]=w[P]),w[P]=O[P])}if(w.name=g.name,g.helperType&&(w.helperType=g.helperType),g.modeProps)for(var U in g.modeProps)w[U]=g.modeProps[U];return w}var Dl={};function Bo(d,g){var C=Dl.hasOwnProperty(d)?Dl[d]:Dl[d]={};X(g,C)}function Qi(d,g){if(g===!0)return g;if(d.copyState)return d.copyState(g);var C={};for(var w in g){var O=g[w];O instanceof Array&&(O=O.concat([])),C[w]=O}return C}function Rl(d,g){for(var C;d.innerMode&&(C=d.innerMode(g),!(!C||C.mode==d));)g=C.state,d=C.mode;return C||{mode:d,state:g}}function Jl(d,g,C){return d.startState?d.startState(g,C):!0}var Vn=function(d,g,C){this.pos=this.start=0,this.string=d,this.tabSize=g||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=C};Vn.prototype.eol=function(){return this.pos>=this.string.length},Vn.prototype.sol=function(){return this.pos==this.lineStart},Vn.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Vn.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Vn.prototype.eat=function(d){var g=this.string.charAt(this.pos),C;if(typeof d=="string"?C=g==d:C=g&&(d.test?d.test(g):d(g)),C)return++this.pos,g},Vn.prototype.eatWhile=function(d){for(var g=this.pos;this.eat(d););return this.pos>g},Vn.prototype.eatSpace=function(){for(var d=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>d},Vn.prototype.skipToEnd=function(){this.pos=this.string.length},Vn.prototype.skipTo=function(d){var g=this.string.indexOf(d,this.pos);if(g>-1)return this.pos=g,!0},Vn.prototype.backUp=function(d){this.pos-=d},Vn.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=_e(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?_e(this.string,this.lineStart,this.tabSize):0)},Vn.prototype.indentation=function(){return _e(this.string,null,this.tabSize)-(this.lineStart?_e(this.string,this.lineStart,this.tabSize):0)},Vn.prototype.match=function(d,g,C){if(typeof d=="string"){var w=function(U){return C?U.toLowerCase():U},O=this.string.substr(this.pos,d.length);if(w(O)==w(d))return g!==!1&&(this.pos+=d.length),!0}else{var P=this.string.slice(this.pos).match(d);return P&&P.index>0?null:(P&&g!==!1&&(this.pos+=P[0].length),P)}},Vn.prototype.current=function(){return this.string.slice(this.start,this.pos)},Vn.prototype.hideFirstChars=function(d,g){this.lineStart+=d;try{return g()}finally{this.lineStart-=d}},Vn.prototype.lookAhead=function(d){var g=this.lineOracle;return g&&g.lookAhead(d)},Vn.prototype.baseToken=function(){var d=this.lineOracle;return d&&d.baseToken(this.pos)};function $t(d,g){if(g-=d.first,g<0||g>=d.size)throw new Error("There is no line "+(g+d.first)+" in the document.");for(var C=d;!C.lines;)for(var w=0;;++w){var O=C.children[w],P=O.chunkSize();if(g<P){C=O;break}g-=P}return C.lines[g]}function Pl(d,g,C){var w=[],O=g.line;return d.iter(g.line,C.line+1,function(P){var U=P.text;O==C.line&&(U=U.slice(0,C.ch)),O==g.line&&(U=U.slice(g.ch)),w.push(U),++O}),w}function uf(d,g,C){var w=[];return d.iter(g,C,function(O){w.push(O.text)}),w}function gr(d,g){var C=g-d.height;if(C)for(var w=d;w;w=w.parent)w.height+=C}function pn(d){if(d.parent==null)return null;for(var g=d.parent,C=Le(g.lines,d),w=g.parent;w;g=w,w=w.parent)for(var O=0;w.children[O]!=g;++O)C+=w.children[O].chunkSize();return C+g.first}function Mr(d,g){var C=d.first;e:do{for(var w=0;w<d.children.length;++w){var O=d.children[w],P=O.height;if(g<P){d=O;continue e}g-=P,C+=O.chunkSize()}return C}while(!d.lines);for(var U=0;U<d.lines.length;++U){var V=d.lines[U],Z=V.height;if(g<Z)break;g-=Z}return C+U}function Ir(d,g){return g>=d.first&&g<d.first+d.size}function tl(d,g){return String(d.lineNumberFormatter(g+d.firstLineNumber))}function rt(d,g,C){if(C===void 0&&(C=null),!(this instanceof rt))return new rt(d,g,C);this.line=d,this.ch=g,this.sticky=C}function jt(d,g){return d.line-g.line||d.ch-g.ch}function nl(d,g){return d.sticky==g.sticky&&jt(d,g)==0}function $a(d){return rt(d.line,d.ch)}function xo(d,g){return jt(d,g)<0?g:d}function Ss(d,g){return jt(d,g)<0?d:g}function Lr(d,g){return Math.max(d.first,Math.min(g,d.first+d.size-1))}function en(d,g){if(g.line<d.first)return rt(d.first,0);var C=d.first+d.size-1;return g.line>C?rt(C,$t(d,C).text.length):ff(g,$t(d,g.line).text.length)}function ff(d,g){var C=d.ch;return C==null||C>g?rt(d.line,g):C<0?rt(d.line,0):d}function Ha(d,g){for(var C=[],w=0;w<g.length;w++)C[w]=en(d,g[w]);return C}var Xs=function(d,g){this.state=d,this.lookAhead=g},Dr=function(d,g,C,w){this.state=g,this.doc=d,this.line=C,this.maxLookAhead=w||0,this.baseTokens=null,this.baseTokenPos=1};Dr.prototype.lookAhead=function(d){var g=this.doc.getLine(this.line+d);return g!=null&&d>this.maxLookAhead&&(this.maxLookAhead=d),g},Dr.prototype.baseToken=function(d){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=d;)this.baseTokenPos+=2;var g=this.baseTokens[this.baseTokenPos+1];return{type:g&&g.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-d}},Dr.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Dr.fromSaved=function(d,g,C){return g instanceof Xs?new Dr(d,Qi(d.mode,g.state),C,g.lookAhead):new Dr(d,Qi(d.mode,g),C)},Dr.prototype.save=function(d){var g=d!==!1?Qi(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Xs(g,this.maxLookAhead):g};function Uo(d,g,C,w){var O=[d.state.modeGen],P={};de(d,g.text,d.doc.mode,C,function(ne,pe){return O.push(ne,pe)},P,w);for(var U=C.state,V=function(ne){C.baseTokens=O;var pe=d.state.overlays[ne],be=1,Ae=0;C.state=!0,de(d,g.text,pe.mode,C,function(we,Ge){for(var Qe=be;Ae<we;){var ct=O[be];ct>we&&O.splice(be,1,we,O[be+1],ct),be+=2,Ae=Math.min(we,ct)}if(Ge)if(pe.opaque)O.splice(Qe,be-Qe,we,"overlay "+Ge),be=Qe+2;else for(;Qe<be;Qe+=2){var Tt=O[Qe+1];O[Qe+1]=(Tt?Tt+" ":"")+"overlay "+Ge}},P),C.state=U,C.baseTokens=null,C.baseTokenPos=1},Z=0;Z<d.state.overlays.length;++Z)V(Z);return{styles:O,classes:P.bgClass||P.textClass?P:null}}function Fl(d,g,C){if(!g.styles||g.styles[0]!=d.state.modeGen){var w=zo(d,pn(g)),O=g.text.length>d.options.maxHighlightLength&&Qi(d.doc.mode,w.state),P=Uo(d,g,w);O&&(w.state=O),g.stateAfter=w.save(!O),g.styles=P.styles,P.classes?g.styleClasses=P.classes:g.styleClasses&&(g.styleClasses=null),C===d.doc.highlightFrontier&&(d.doc.modeFrontier=Math.max(d.doc.modeFrontier,++d.doc.highlightFrontier))}return g.styles}function zo(d,g,C){var w=d.doc,O=d.display;if(!w.mode.startState)return new Dr(w,!0,g);var P=ke(d,g,C),U=P>w.first&&$t(w,P-1).stateAfter,V=U?Dr.fromSaved(w,U,P):new Dr(w,Jl(w.mode),P);return w.iter(P,g,function(Z){Ba(d,Z.text,V);var ne=V.line;Z.stateAfter=ne==g-1||ne%5==0||ne>=O.viewFrom&&ne<O.viewTo?V.save():null,V.nextLine()}),C&&(w.modeFrontier=V.line),V}function Ba(d,g,C,w){var O=d.doc.mode,P=new Vn(g,d.options.tabSize,C);for(P.start=P.pos=w||0,g==""&&xa(O,C.state);!P.eol();)Ua(O,P,C.state),P.start=P.pos}function xa(d,g){if(d.blankLine)return d.blankLine(g);if(d.innerMode){var C=Rl(d,g);if(C.mode.blankLine)return C.mode.blankLine(C.state)}}function Ua(d,g,C,w){for(var O=0;O<10;O++){w&&(w[0]=Rl(d,C).mode);var P=d.token(g,C);if(g.pos>g.start)return P}throw new Error("Mode "+d.name+" failed to advance stream.")}var p1=function(d,g,C){this.start=d.start,this.end=d.pos,this.string=d.current(),this.type=g||null,this.state=C};function m1(d,g,C,w){var O=d.doc,P=O.mode,U;g=en(O,g);var V=$t(O,g.line),Z=zo(d,g.line,C),ne=new Vn(V.text,d.options.tabSize,Z),pe;for(w&&(pe=[]);(w||ne.pos<g.ch)&&!ne.eol();)ne.start=ne.pos,U=Ua(P,ne,Z.state),w&&pe.push(new p1(ne,U,Qi(O.mode,Z.state)));return w?pe:new p1(ne,U,Z.state)}function fe(d,g){if(d)for(;;){var C=d.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!C)break;d=d.slice(0,C.index)+d.slice(C.index+C[0].length);var w=C[1]?"bgClass":"textClass";g[w]==null?g[w]=C[2]:new RegExp("(?:^|\\s)"+C[2]+"(?:$|\\s)").test(g[w])||(g[w]+=" "+C[2])}return d}function de(d,g,C,w,O,P,U){var V=C.flattenSpans;V==null&&(V=d.options.flattenSpans);var Z=0,ne=null,pe=new Vn(g,d.options.tabSize,w),be,Ae=d.options.addModeClass&&[null];for(g==""&&fe(xa(C,w.state),P);!pe.eol();){if(pe.pos>d.options.maxHighlightLength?(V=!1,U&&Ba(d,g,w,pe.pos),pe.pos=g.length,be=null):be=fe(Ua(C,pe,w.state,Ae),P),Ae){var we=Ae[0].name;we&&(be="m-"+(be?we+" "+be:we))}if(!V||ne!=be){for(;Z<pe.start;)Z=Math.min(pe.start,Z+5e3),O(Z,ne);ne=be}pe.start=pe.pos}for(;Z<pe.pos;){var Ge=Math.min(pe.pos,Z+5e3);O(Ge,ne),Z=Ge}}function ke(d,g,C){for(var w,O,P=d.doc,U=C?-1:g-(d.doc.mode.innerMode?1e3:100),V=g;V>U;--V){if(V<=P.first)return P.first;var Z=$t(P,V-1),ne=Z.stateAfter;if(ne&&(!C||V+(ne instanceof Xs?ne.lookAhead:0)<=P.modeFrontier))return V;var pe=_e(Z.text,null,d.options.tabSize);(O==null||w>pe)&&(O=V-1,w=pe)}return O}function Be(d,g){if(d.modeFrontier=Math.min(d.modeFrontier,g),!(d.highlightFrontier<g-10)){for(var C=d.first,w=g-1;w>C;w--){var O=$t(d,w).stateAfter;if(O&&(!(O instanceof Xs)||w+O.lookAhead<g)){C=w+1;break}}d.highlightFrontier=Math.min(d.highlightFrontier,C)}}var ft=!1,Mt=!1;function Cn(){ft=!0}function Ii(){Mt=!0}function _i(d,g,C){this.marker=d,this.from=g,this.to=C}function Ei(d,g){if(d)for(var C=0;C<d.length;++C){var w=d[C];if(w.marker==g)return w}}function dl(d,g){for(var C,w=0;w<d.length;++w)d[w]!=g&&(C||(C=[])).push(d[w]);return C}function tM(d,g,C){var w=C&&window.WeakSet&&(C.markedSpans||(C.markedSpans=new WeakSet));w&&d.markedSpans&&w.has(d.markedSpans)?d.markedSpans.push(g):(d.markedSpans=d.markedSpans?d.markedSpans.concat([g]):[g],w&&w.add(d.markedSpans)),g.marker.attachLine(d)}function nM(d,g,C){var w;if(d)for(var O=0;O<d.length;++O){var P=d[O],U=P.marker,V=P.from==null||(U.inclusiveLeft?P.from<=g:P.from<g);if(V||P.from==g&&U.type=="bookmark"&&(!C||!P.marker.insertLeft)){var Z=P.to==null||(U.inclusiveRight?P.to>=g:P.to>g);(w||(w=[])).push(new _i(U,P.from,Z?null:P.to))}}return w}function iM(d,g,C){var w;if(d)for(var O=0;O<d.length;++O){var P=d[O],U=P.marker,V=P.to==null||(U.inclusiveRight?P.to>=g:P.to>g);if(V||P.from==g&&U.type=="bookmark"&&(!C||P.marker.insertLeft)){var Z=P.from==null||(U.inclusiveLeft?P.from<=g:P.from<g);(w||(w=[])).push(new _i(U,Z?null:P.from-g,P.to==null?null:P.to-g))}}return w}function vp(d,g){if(g.full)return null;var C=Ir(d,g.from.line)&&$t(d,g.from.line).markedSpans,w=Ir(d,g.to.line)&&$t(d,g.to.line).markedSpans;if(!C&&!w)return null;var O=g.from.ch,P=g.to.ch,U=jt(g.from,g.to)==0,V=nM(C,O,U),Z=iM(w,P,U),ne=g.text.length==1,pe=$e(g.text).length+(ne?O:0);if(V)for(var be=0;be<V.length;++be){var Ae=V[be];if(Ae.to==null){var we=Ei(Z,Ae.marker);we?ne&&(Ae.to=we.to==null?null:we.to+pe):Ae.to=O}}if(Z)for(var Ge=0;Ge<Z.length;++Ge){var Qe=Z[Ge];if(Qe.to!=null&&(Qe.to+=pe),Qe.from==null){var ct=Ei(V,Qe.marker);ct||(Qe.from=pe,ne&&(V||(V=[])).push(Qe))}else Qe.from+=pe,ne&&(V||(V=[])).push(Qe)}V&&(V=mb(V)),Z&&Z!=V&&(Z=mb(Z));var Tt=[V];if(!ne){var Nt=g.text.length-2,wt;if(Nt>0&&V)for(var Lt=0;Lt<V.length;++Lt)V[Lt].to==null&&(wt||(wt=[])).push(new _i(V[Lt].marker,null,null));for(var Vt=0;Vt<Nt;++Vt)Tt.push(wt);Tt.push(Z)}return Tt}function mb(d){for(var g=0;g<d.length;++g){var C=d[g];C.from!=null&&C.from==C.to&&C.marker.clearWhenEmpty!==!1&&d.splice(g--,1)}return d.length?d:null}function rM(d,g,C){var w=null;if(d.iter(g.line,C.line+1,function(we){if(we.markedSpans)for(var Ge=0;Ge<we.markedSpans.length;++Ge){var Qe=we.markedSpans[Ge].marker;Qe.readOnly&&(!w||Le(w,Qe)==-1)&&(w||(w=[])).push(Qe)}}),!w)return null;for(var O=[{from:g,to:C}],P=0;P<w.length;++P)for(var U=w[P],V=U.find(0),Z=0;Z<O.length;++Z){var ne=O[Z];if(!(jt(ne.to,V.from)<0||jt(ne.from,V.to)>0)){var pe=[Z,1],be=jt(ne.from,V.from),Ae=jt(ne.to,V.to);(be<0||!U.inclusiveLeft&&!be)&&pe.push({from:ne.from,to:V.from}),(Ae>0||!U.inclusiveRight&&!Ae)&&pe.push({from:V.to,to:ne.to}),O.splice.apply(O,pe),Z+=pe.length-3}}return O}function gb(d){var g=d.markedSpans;if(g){for(var C=0;C<g.length;++C)g[C].marker.detachLine(d);d.markedSpans=null}}function _b(d,g){if(g){for(var C=0;C<g.length;++C)g[C].marker.attachLine(d);d.markedSpans=g}}function g1(d){return d.inclusiveLeft?-1:0}function _1(d){return d.inclusiveRight?1:0}function yp(d,g){var C=d.lines.length-g.lines.length;if(C!=0)return C;var w=d.find(),O=g.find(),P=jt(w.from,O.from)||g1(d)-g1(g);if(P)return-P;var U=jt(w.to,O.to)||_1(d)-_1(g);return U||g.id-d.id}function bb(d,g){var C=Mt&&d.markedSpans,w;if(C)for(var O=void 0,P=0;P<C.length;++P)O=C[P],O.marker.collapsed&&(g?O.from:O.to)==null&&(!w||yp(w,O.marker)<0)&&(w=O.marker);return w}function vb(d){return bb(d,!0)}function b1(d){return bb(d,!1)}function lM(d,g){var C=Mt&&d.markedSpans,w;if(C)for(var O=0;O<C.length;++O){var P=C[O];P.marker.collapsed&&(P.from==null||P.from<g)&&(P.to==null||P.to>g)&&(!w||yp(w,P.marker)<0)&&(w=P.marker)}return w}function yb(d,g,C,w,O){var P=$t(d,g),U=Mt&&P.markedSpans;if(U)for(var V=0;V<U.length;++V){var Z=U[V];if(Z.marker.collapsed){var ne=Z.marker.find(0),pe=jt(ne.from,C)||g1(Z.marker)-g1(O),be=jt(ne.to,w)||_1(Z.marker)-_1(O);if(!(pe>=0&&be<=0||pe<=0&&be>=0)&&(pe<=0&&(Z.marker.inclusiveRight&&O.inclusiveLeft?jt(ne.to,C)>=0:jt(ne.to,C)>0)||pe>=0&&(Z.marker.inclusiveRight&&O.inclusiveLeft?jt(ne.from,w)<=0:jt(ne.from,w)<0)))return!0}}}function $l(d){for(var g;g=vb(d);)d=g.find(-1,!0).line;return d}function sM(d){for(var g;g=b1(d);)d=g.find(1,!0).line;return d}function oM(d){for(var g,C;g=b1(d);)d=g.find(1,!0).line,(C||(C=[])).push(d);return C}function kp(d,g){var C=$t(d,g),w=$l(C);return C==w?g:pn(w)}function kb(d,g){if(g>d.lastLine())return g;var C=$t(d,g),w;if(!Zs(d,C))return g;for(;w=b1(C);)C=w.find(1,!0).line;return pn(C)+1}function Zs(d,g){var C=Mt&&g.markedSpans;if(C){for(var w=void 0,O=0;O<C.length;++O)if(w=C[O],!!w.marker.collapsed){if(w.from==null)return!0;if(!w.marker.widgetNode&&w.from==0&&w.marker.inclusiveLeft&&Tp(d,g,w))return!0}}}function Tp(d,g,C){if(C.to==null){var w=C.marker.find(1,!0);return Tp(d,w.line,Ei(w.line.markedSpans,C.marker))}if(C.marker.inclusiveRight&&C.to==g.text.length)return!0;for(var O=void 0,P=0;P<g.markedSpans.length;++P)if(O=g.markedSpans[P],O.marker.collapsed&&!O.marker.widgetNode&&O.from==C.to&&(O.to==null||O.to!=C.from)&&(O.marker.inclusiveLeft||C.marker.inclusiveRight)&&Tp(d,g,O))return!0}function Cs(d){d=$l(d);for(var g=0,C=d.parent,w=0;w<C.lines.length;++w){var O=C.lines[w];if(O==d)break;g+=O.height}for(var P=C.parent;P;C=P,P=C.parent)for(var U=0;U<P.children.length;++U){var V=P.children[U];if(V==C)break;g+=V.height}return g}function v1(d){if(d.height==0)return 0;for(var g=d.text.length,C,w=d;C=vb(w);){var O=C.find(0,!0);w=O.from.line,g+=O.from.ch-O.to.ch}for(w=d;C=b1(w);){var P=C.find(0,!0);g-=w.text.length-P.from.ch,w=P.to.line,g+=w.text.length-P.to.ch}return g}function wp(d){var g=d.display,C=d.doc;g.maxLine=$t(C,C.first),g.maxLineLength=v1(g.maxLine),g.maxLineChanged=!0,C.iter(function(w){var O=v1(w);O>g.maxLineLength&&(g.maxLineLength=O,g.maxLine=w)})}var za=function(d,g,C){this.text=d,_b(this,g),this.height=C?C(this):1};za.prototype.lineNo=function(){return pn(this)},yn(za);function aM(d,g,C,w){d.text=g,d.stateAfter&&(d.stateAfter=null),d.styles&&(d.styles=null),d.order!=null&&(d.order=null),gb(d),_b(d,C);var O=w?w(d):1;O!=d.height&&gr(d,O)}function uM(d){d.parent=null,gb(d)}var fM={},cM={};function Tb(d,g){if(!d||/^\s*$/.test(d))return null;var C=g.addModeClass?cM:fM;return C[d]||(C[d]=d.replace(/\S+/g,"cm-$&"))}function wb(d,g){var C=j("span",null,null,a?"padding-right: .1px":null),w={pre:j("pre",[C],"CodeMirror-line"),content:C,col:0,pos:0,cm:d,trailingSpace:!1,splitSpaces:d.getOption("lineWrapping")};g.measure={};for(var O=0;O<=(g.rest?g.rest.length:0);O++){var P=O?g.rest[O-1]:g.line,U=void 0;w.pos=0,w.addToken=hM,an(d.display.measure)&&(U=Jt(P,d.doc.direction))&&(w.addToken=mM(w.addToken,U)),w.map=[];var V=g!=d.display.externalMeasured&&pn(P);gM(P,w,Fl(d,P,V)),P.styleClasses&&(P.styleClasses.bgClass&&(w.bgClass=ae(P.styleClasses.bgClass,w.bgClass||"")),P.styleClasses.textClass&&(w.textClass=ae(P.styleClasses.textClass,w.textClass||""))),w.map.length==0&&w.map.push(0,0,w.content.appendChild(ht(d.display.measure))),O==0?(g.measure.map=w.map,g.measure.cache={}):((g.measure.maps||(g.measure.maps=[])).push(w.map),(g.measure.caches||(g.measure.caches=[])).push({}))}if(a){var Z=w.content.lastChild;(/\bcm-tab\b/.test(Z.className)||Z.querySelector&&Z.querySelector(".cm-tab"))&&(w.content.className="cm-tab-wrap-hack")}return et(d,"renderLine",d,g.line,w.pre),w.pre.className&&(w.textClass=ae(w.pre.className,w.textClass||"")),w}function dM(d){var g=z("span","•","cm-invalidchar");return g.title="\\u"+d.charCodeAt(0).toString(16),g.setAttribute("aria-label",g.title),g}function hM(d,g,C,w,O,P,U){if(g){var V=d.splitSpaces?pM(g,d.trailingSpace):g,Z=d.cm.state.specialChars,ne=!1,pe;if(!Z.test(g))d.col+=g.length,pe=document.createTextNode(V),d.map.push(d.pos,d.pos+g.length,pe),s&&o<9&&(ne=!0),d.pos+=g.length;else{pe=document.createDocumentFragment();for(var be=0;;){Z.lastIndex=be;var Ae=Z.exec(g),we=Ae?Ae.index-be:g.length-be;if(we){var Ge=document.createTextNode(V.slice(be,be+we));s&&o<9?pe.appendChild(z("span",[Ge])):pe.appendChild(Ge),d.map.push(d.pos,d.pos+we,Ge),d.col+=we,d.pos+=we}if(!Ae)break;be+=we+1;var Qe=void 0;if(Ae[0]=="	"){var ct=d.cm.options.tabSize,Tt=ct-d.col%ct;Qe=pe.appendChild(z("span",pt(Tt),"cm-tab")),Qe.setAttribute("role","presentation"),Qe.setAttribute("cm-text","	"),d.col+=Tt}else Ae[0]=="\r"||Ae[0]==`
`?(Qe=pe.appendChild(z("span",Ae[0]=="\r"?"␍":"␤","cm-invalidchar")),Qe.setAttribute("cm-text",Ae[0]),d.col+=1):(Qe=d.cm.options.specialCharPlaceholder(Ae[0]),Qe.setAttribute("cm-text",Ae[0]),s&&o<9?pe.appendChild(z("span",[Qe])):pe.appendChild(Qe),d.col+=1);d.map.push(d.pos,d.pos+1,Qe),d.pos++}}if(d.trailingSpace=V.charCodeAt(g.length-1)==32,C||w||O||ne||P||U){var Nt=C||"";w&&(Nt+=w),O&&(Nt+=O);var wt=z("span",[pe],Nt,P);if(U)for(var Lt in U)U.hasOwnProperty(Lt)&&Lt!="style"&&Lt!="class"&&wt.setAttribute(Lt,U[Lt]);return d.content.appendChild(wt)}d.content.appendChild(pe)}}function pM(d,g){if(d.length>1&&!/  /.test(d))return d;for(var C=g,w="",O=0;O<d.length;O++){var P=d.charAt(O);P==" "&&C&&(O==d.length-1||d.charCodeAt(O+1)==32)&&(P=" "),w+=P,C=P==" "}return w}function mM(d,g){return function(C,w,O,P,U,V,Z){O=O?O+" cm-force-border":"cm-force-border";for(var ne=C.pos,pe=ne+w.length;;){for(var be=void 0,Ae=0;Ae<g.length&&(be=g[Ae],!(be.to>ne&&be.from<=ne));Ae++);if(be.to>=pe)return d(C,w,O,P,U,V,Z);d(C,w.slice(0,be.to-ne),O,P,null,V,Z),P=null,w=w.slice(be.to-ne),ne=be.to}}}function Eb(d,g,C,w){var O=!w&&C.widgetNode;O&&d.map.push(d.pos,d.pos+g,O),!w&&d.cm.display.input.needsContentAttribute&&(O||(O=d.content.appendChild(document.createElement("span"))),O.setAttribute("cm-marker",C.id)),O&&(d.cm.display.input.setUneditable(O),d.content.appendChild(O)),d.pos+=g,d.trailingSpace=!1}function gM(d,g,C){var w=d.markedSpans,O=d.text,P=0;if(!w){for(var U=1;U<C.length;U+=2)g.addToken(g,O.slice(P,P=C[U]),Tb(C[U+1],g.cm.options));return}for(var V=O.length,Z=0,ne=1,pe="",be,Ae,we=0,Ge,Qe,ct,Tt,Nt;;){if(we==Z){Ge=Qe=ct=Ae="",Nt=null,Tt=null,we=1/0;for(var wt=[],Lt=void 0,Vt=0;Vt<w.length;++Vt){var Ut=w[Vt],bn=Ut.marker;if(bn.type=="bookmark"&&Ut.from==Z&&bn.widgetNode)wt.push(bn);else if(Ut.from<=Z&&(Ut.to==null||Ut.to>Z||bn.collapsed&&Ut.to==Z&&Ut.from==Z)){if(Ut.to!=null&&Ut.to!=Z&&we>Ut.to&&(we=Ut.to,Qe=""),bn.className&&(Ge+=" "+bn.className),bn.css&&(Ae=(Ae?Ae+";":"")+bn.css),bn.startStyle&&Ut.from==Z&&(ct+=" "+bn.startStyle),bn.endStyle&&Ut.to==we&&(Lt||(Lt=[])).push(bn.endStyle,Ut.to),bn.title&&((Nt||(Nt={})).title=bn.title),bn.attributes)for(var Gn in bn.attributes)(Nt||(Nt={}))[Gn]=bn.attributes[Gn];bn.collapsed&&(!Tt||yp(Tt.marker,bn)<0)&&(Tt=Ut)}else Ut.from>Z&&we>Ut.from&&(we=Ut.from)}if(Lt)for(var Wi=0;Wi<Lt.length;Wi+=2)Lt[Wi+1]==we&&(Qe+=" "+Lt[Wi]);if(!Tt||Tt.from==Z)for(var ci=0;ci<wt.length;++ci)Eb(g,0,wt[ci]);if(Tt&&(Tt.from||0)==Z){if(Eb(g,(Tt.to==null?V+1:Tt.to)-Z,Tt.marker,Tt.from==null),Tt.to==null)return;Tt.to==Z&&(Tt=!1)}}if(Z>=V)break;for(var Pr=Math.min(V,we);;){if(pe){var vr=Z+pe.length;if(!Tt){var Si=vr>Pr?pe.slice(0,Pr-Z):pe;g.addToken(g,Si,be?be+Ge:Ge,ct,Z+Si.length==we?Qe:"",Ae,Nt)}if(vr>=Pr){pe=pe.slice(Pr-Z),Z=Pr;break}Z=vr,ct=""}pe=O.slice(P,P=C[ne++]),be=Tb(C[ne++],g.cm.options)}}}function Sb(d,g,C){this.line=g,this.rest=oM(g),this.size=this.rest?pn($e(this.rest))-C+1:1,this.node=this.text=null,this.hidden=Zs(d,g)}function y1(d,g,C){for(var w=[],O,P=g;P<C;P=O){var U=new Sb(d.doc,$t(d.doc,P),P);O=P+U.size,w.push(U)}return w}var qa=null;function _M(d){qa?qa.ops.push(d):d.ownsGroup=qa={ops:[d],delayedCallbacks:[]}}function bM(d){var g=d.delayedCallbacks,C=0;do{for(;C<g.length;C++)g[C].call(null);for(var w=0;w<d.ops.length;w++){var O=d.ops[w];if(O.cursorActivityHandlers)for(;O.cursorActivityCalled<O.cursorActivityHandlers.length;)O.cursorActivityHandlers[O.cursorActivityCalled++].call(null,O.cm)}}while(C<g.length)}function vM(d,g){var C=d.ownsGroup;if(C)try{bM(C)}finally{qa=null,g(C)}}var cf=null;function zi(d,g){var C=ti(d,g);if(C.length){var w=Array.prototype.slice.call(arguments,2),O;qa?O=qa.delayedCallbacks:cf?O=cf:(O=cf=[],setTimeout(yM,0));for(var P=function(V){O.push(function(){return C[V].apply(null,w)})},U=0;U<C.length;++U)P(U)}}function yM(){var d=cf;cf=null;for(var g=0;g<d.length;++g)d[g]()}function Cb(d,g,C,w){for(var O=0;O<g.changes.length;O++){var P=g.changes[O];P=="text"?TM(d,g):P=="gutter"?Ob(d,g,C,w):P=="class"?Ep(d,g):P=="widget"&&wM(d,g,w)}g.changes=null}function df(d){return d.node==d.text&&(d.node=z("div",null,null,"position: relative"),d.text.parentNode&&d.text.parentNode.replaceChild(d.node,d.text),d.node.appendChild(d.text),s&&o<8&&(d.node.style.zIndex=2)),d.node}function kM(d,g){var C=g.bgClass?g.bgClass+" "+(g.line.bgClass||""):g.line.bgClass;if(C&&(C+=" CodeMirror-linebackground"),g.background)C?g.background.className=C:(g.background.parentNode.removeChild(g.background),g.background=null);else if(C){var w=df(g);g.background=w.insertBefore(z("div",null,C),w.firstChild),d.display.input.setUneditable(g.background)}}function Ab(d,g){var C=d.display.externalMeasured;return C&&C.line==g.line?(d.display.externalMeasured=null,g.measure=C.measure,C.built):wb(d,g)}function TM(d,g){var C=g.text.className,w=Ab(d,g);g.text==g.node&&(g.node=w.pre),g.text.parentNode.replaceChild(w.pre,g.text),g.text=w.pre,w.bgClass!=g.bgClass||w.textClass!=g.textClass?(g.bgClass=w.bgClass,g.textClass=w.textClass,Ep(d,g)):C&&(g.text.className=C)}function Ep(d,g){kM(d,g),g.line.wrapClass?df(g).className=g.line.wrapClass:g.node!=g.text&&(g.node.className="");var C=g.textClass?g.textClass+" "+(g.line.textClass||""):g.line.textClass;g.text.className=C||""}function Ob(d,g,C,w){if(g.gutter&&(g.node.removeChild(g.gutter),g.gutter=null),g.gutterBackground&&(g.node.removeChild(g.gutterBackground),g.gutterBackground=null),g.line.gutterClass){var O=df(g);g.gutterBackground=z("div",null,"CodeMirror-gutter-background "+g.line.gutterClass,"left: "+(d.options.fixedGutter?w.fixedPos:-w.gutterTotalWidth)+"px; width: "+w.gutterTotalWidth+"px"),d.display.input.setUneditable(g.gutterBackground),O.insertBefore(g.gutterBackground,g.text)}var P=g.line.gutterMarkers;if(d.options.lineNumbers||P){var U=df(g),V=g.gutter=z("div",null,"CodeMirror-gutter-wrapper","left: "+(d.options.fixedGutter?w.fixedPos:-w.gutterTotalWidth)+"px");if(V.setAttribute("aria-hidden","true"),d.display.input.setUneditable(V),U.insertBefore(V,g.text),g.line.gutterClass&&(V.className+=" "+g.line.gutterClass),d.options.lineNumbers&&(!P||!P["CodeMirror-linenumbers"])&&(g.lineNumber=V.appendChild(z("div",tl(d.options,C),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+w.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+d.display.lineNumInnerWidth+"px"))),P)for(var Z=0;Z<d.display.gutterSpecs.length;++Z){var ne=d.display.gutterSpecs[Z].className,pe=P.hasOwnProperty(ne)&&P[ne];pe&&V.appendChild(z("div",[pe],"CodeMirror-gutter-elt","left: "+w.gutterLeft[ne]+"px; width: "+w.gutterWidth[ne]+"px"))}}}function wM(d,g,C){g.alignable&&(g.alignable=null);for(var w=$("CodeMirror-linewidget"),O=g.node.firstChild,P=void 0;O;O=P)P=O.nextSibling,w.test(O.className)&&g.node.removeChild(O);Nb(d,g,C)}function EM(d,g,C,w){var O=Ab(d,g);return g.text=g.node=O.pre,O.bgClass&&(g.bgClass=O.bgClass),O.textClass&&(g.textClass=O.textClass),Ep(d,g),Ob(d,g,C,w),Nb(d,g,w),g.node}function Nb(d,g,C){if(Mb(d,g.line,g,C,!0),g.rest)for(var w=0;w<g.rest.length;w++)Mb(d,g.rest[w],g,C,!1)}function Mb(d,g,C,w,O){if(g.widgets)for(var P=df(C),U=0,V=g.widgets;U<V.length;++U){var Z=V[U],ne=z("div",[Z.node],"CodeMirror-linewidget"+(Z.className?" "+Z.className:""));Z.handleMouseEvents||ne.setAttribute("cm-ignore-events","true"),SM(Z,ne,C,w),d.display.input.setUneditable(ne),O&&Z.above?P.insertBefore(ne,C.gutter||C.text):P.appendChild(ne),zi(Z,"redraw")}}function SM(d,g,C,w){if(d.noHScroll){(C.alignable||(C.alignable=[])).push(g);var O=w.wrapperWidth;g.style.left=w.fixedPos+"px",d.coverGutter||(O-=w.gutterTotalWidth,g.style.paddingLeft=w.gutterTotalWidth+"px"),g.style.width=O+"px"}d.coverGutter&&(g.style.zIndex=5,g.style.position="relative",d.noHScroll||(g.style.marginLeft=-w.gutterTotalWidth+"px"))}function hf(d){if(d.height!=null)return d.height;var g=d.doc.cm;if(!g)return 0;if(!G(document.body,d.node)){var C="position: relative;";d.coverGutter&&(C+="margin-left: -"+g.display.gutters.offsetWidth+"px;"),d.noHScroll&&(C+="width: "+g.display.wrapper.clientWidth+"px;"),q(g.display.measure,z("div",[d.node],null,C))}return d.height=d.node.parentNode.offsetHeight}function As(d,g){for(var C=ce(g);C!=d.wrapper;C=C.parentNode)if(!C||C.nodeType==1&&C.getAttribute("cm-ignore-events")=="true"||C.parentNode==d.sizer&&C!=d.mover)return!0}function k1(d){return d.lineSpace.offsetTop}function Sp(d){return d.mover.offsetHeight-d.lineSpace.offsetHeight}function Ib(d){if(d.cachedPaddingH)return d.cachedPaddingH;var g=q(d.measure,z("pre","x","CodeMirror-line-like")),C=window.getComputedStyle?window.getComputedStyle(g):g.currentStyle,w={left:parseInt(C.paddingLeft),right:parseInt(C.paddingRight)};return!isNaN(w.left)&&!isNaN(w.right)&&(d.cachedPaddingH=w),w}function es(d){return lt-d.display.nativeBarWidth}function qo(d){return d.display.scroller.clientWidth-es(d)-d.display.barWidth}function Cp(d){return d.display.scroller.clientHeight-es(d)-d.display.barHeight}function CM(d,g,C){var w=d.options.lineWrapping,O=w&&qo(d);if(!g.measure.heights||w&&g.measure.width!=O){var P=g.measure.heights=[];if(w){g.measure.width=O;for(var U=g.text.firstChild.getClientRects(),V=0;V<U.length-1;V++){var Z=U[V],ne=U[V+1];Math.abs(Z.bottom-ne.bottom)>2&&P.push((Z.bottom+ne.top)/2-C.top)}}P.push(C.bottom-C.top)}}function Lb(d,g,C){if(d.line==g)return{map:d.measure.map,cache:d.measure.cache};if(d.rest){for(var w=0;w<d.rest.length;w++)if(d.rest[w]==g)return{map:d.measure.maps[w],cache:d.measure.caches[w]};for(var O=0;O<d.rest.length;O++)if(pn(d.rest[O])>C)return{map:d.measure.maps[O],cache:d.measure.caches[O],before:!0}}}function AM(d,g){g=$l(g);var C=pn(g),w=d.display.externalMeasured=new Sb(d.doc,g,C);w.lineN=C;var O=w.built=wb(d,w);return w.text=O.pre,q(d.display.lineMeasure,O.pre),w}function Db(d,g,C,w){return ts(d,ja(d,g),C,w)}function Ap(d,g){if(g>=d.display.viewFrom&&g<d.display.viewTo)return d.display.view[Ko(d,g)];var C=d.display.externalMeasured;if(C&&g>=C.lineN&&g<C.lineN+C.size)return C}function ja(d,g){var C=pn(g),w=Ap(d,C);w&&!w.text?w=null:w&&w.changes&&(Cb(d,w,C,Lp(d)),d.curOp.forceUpdate=!0),w||(w=AM(d,g));var O=Lb(w,g,C);return{line:g,view:w,rect:null,map:O.map,cache:O.cache,before:O.before,hasHeights:!1}}function ts(d,g,C,w,O){g.before&&(C=-1);var P=C+(w||""),U;return g.cache.hasOwnProperty(P)?U=g.cache[P]:(g.rect||(g.rect=g.view.text.getBoundingClientRect()),g.hasHeights||(CM(d,g.view,g.rect),g.hasHeights=!0),U=NM(d,g,C,w),U.bogus||(g.cache[P]=U)),{left:U.left,right:U.right,top:O?U.rtop:U.top,bottom:O?U.rbottom:U.bottom}}var Rb={left:0,right:0,top:0,bottom:0};function Pb(d,g,C){for(var w,O,P,U,V,Z,ne=0;ne<d.length;ne+=3)if(V=d[ne],Z=d[ne+1],g<V?(O=0,P=1,U="left"):g<Z?(O=g-V,P=O+1):(ne==d.length-3||g==Z&&d[ne+3]>g)&&(P=Z-V,O=P-1,g>=Z&&(U="right")),O!=null){if(w=d[ne+2],V==Z&&C==(w.insertLeft?"left":"right")&&(U=C),C=="left"&&O==0)for(;ne&&d[ne-2]==d[ne-3]&&d[ne-1].insertLeft;)w=d[(ne-=3)+2],U="left";if(C=="right"&&O==Z-V)for(;ne<d.length-3&&d[ne+3]==d[ne+4]&&!d[ne+5].insertLeft;)w=d[(ne+=3)+2],U="right";break}return{node:w,start:O,end:P,collapse:U,coverStart:V,coverEnd:Z}}function OM(d,g){var C=Rb;if(g=="left")for(var w=0;w<d.length&&(C=d[w]).left==C.right;w++);else for(var O=d.length-1;O>=0&&(C=d[O]).left==C.right;O--);return C}function NM(d,g,C,w){var O=Pb(g.map,C,w),P=O.node,U=O.start,V=O.end,Z=O.collapse,ne;if(P.nodeType==3){for(var pe=0;pe<4;pe++){for(;U&&gn(g.line.text.charAt(O.coverStart+U));)--U;for(;O.coverStart+V<O.coverEnd&&gn(g.line.text.charAt(O.coverStart+V));)++V;if(s&&o<9&&U==0&&V==O.coverEnd-O.coverStart?ne=P.parentNode.getBoundingClientRect():ne=OM(W(P,U,V).getClientRects(),w),ne.left||ne.right||U==0)break;V=U,U=U-1,Z="right"}s&&o<11&&(ne=MM(d.display.measure,ne))}else{U>0&&(Z=w="right");var be;d.options.lineWrapping&&(be=P.getClientRects()).length>1?ne=be[w=="right"?be.length-1:0]:ne=P.getBoundingClientRect()}if(s&&o<9&&!U&&(!ne||!ne.left&&!ne.right)){var Ae=P.parentNode.getClientRects()[0];Ae?ne={left:Ae.left,right:Ae.left+Ka(d.display),top:Ae.top,bottom:Ae.bottom}:ne=Rb}for(var we=ne.top-g.rect.top,Ge=ne.bottom-g.rect.top,Qe=(we+Ge)/2,ct=g.view.measure.heights,Tt=0;Tt<ct.length-1&&!(Qe<ct[Tt]);Tt++);var Nt=Tt?ct[Tt-1]:0,wt=ct[Tt],Lt={left:(Z=="right"?ne.right:ne.left)-g.rect.left,right:(Z=="left"?ne.left:ne.right)-g.rect.left,top:Nt,bottom:wt};return!ne.left&&!ne.right&&(Lt.bogus=!0),d.options.singleCursorHeightPerLine||(Lt.rtop=we,Lt.rbottom=Ge),Lt}function MM(d,g){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!st(d))return g;var C=screen.logicalXDPI/screen.deviceXDPI,w=screen.logicalYDPI/screen.deviceYDPI;return{left:g.left*C,right:g.right*C,top:g.top*w,bottom:g.bottom*w}}function Fb(d){if(d.measure&&(d.measure.cache={},d.measure.heights=null,d.rest))for(var g=0;g<d.rest.length;g++)d.measure.caches[g]={}}function $b(d){d.display.externalMeasure=null,H(d.display.lineMeasure);for(var g=0;g<d.display.view.length;g++)Fb(d.display.view[g])}function pf(d){$b(d),d.display.cachedCharWidth=d.display.cachedTextHeight=d.display.cachedPaddingH=null,d.options.lineWrapping||(d.display.maxLineChanged=!0),d.display.lineNumChars=null}function Hb(){return f&&b?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Bb(){return f&&b?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Op(d){var g=$l(d),C=g.widgets,w=0;if(C)for(var O=0;O<C.length;++O)C[O].above&&(w+=hf(C[O]));return w}function T1(d,g,C,w,O){if(!O){var P=Op(g);C.top+=P,C.bottom+=P}if(w=="line")return C;w||(w="local");var U=Cs(g);if(w=="local"?U+=k1(d.display):U-=d.display.viewOffset,w=="page"||w=="window"){var V=d.display.lineSpace.getBoundingClientRect();U+=V.top+(w=="window"?0:Bb());var Z=V.left+(w=="window"?0:Hb());C.left+=Z,C.right+=Z}return C.top+=U,C.bottom+=U,C}function xb(d,g,C){if(C=="div")return g;var w=g.left,O=g.top;if(C=="page")w-=Hb(),O-=Bb();else if(C=="local"||!C){var P=d.display.sizer.getBoundingClientRect();w+=P.left,O+=P.top}var U=d.display.lineSpace.getBoundingClientRect();return{left:w-U.left,top:O-U.top}}function w1(d,g,C,w,O){return w||(w=$t(d.doc,g.line)),T1(d,w,Db(d,w,g.ch,O),C)}function Hl(d,g,C,w,O,P){w=w||$t(d.doc,g.line),O||(O=ja(d,w));function U(Ge,Qe){var ct=ts(d,O,Ge,Qe?"right":"left",P);return Qe?ct.left=ct.right:ct.right=ct.left,T1(d,w,ct,C)}var V=Jt(w,d.doc.direction),Z=g.ch,ne=g.sticky;if(Z>=w.text.length?(Z=w.text.length,ne="before"):Z<=0&&(Z=0,ne="after"),!V)return U(ne=="before"?Z-1:Z,ne=="before");function pe(Ge,Qe,ct){var Tt=V[Qe],Nt=Tt.level==1;return U(ct?Ge-1:Ge,Nt!=ct)}var be=Je(V,Z,ne),Ae=Ie,we=pe(Z,be,ne=="before");return Ae!=null&&(we.other=pe(Z,Ae,ne!="before")),we}function Ub(d,g){var C=0;g=en(d.doc,g),d.options.lineWrapping||(C=Ka(d.display)*g.ch);var w=$t(d.doc,g.line),O=Cs(w)+k1(d.display);return{left:C,right:C,top:O,bottom:O+w.height}}function Np(d,g,C,w,O){var P=rt(d,g,C);return P.xRel=O,w&&(P.outside=w),P}function Mp(d,g,C){var w=d.doc;if(C+=d.display.viewOffset,C<0)return Np(w.first,0,null,-1,-1);var O=Mr(w,C),P=w.first+w.size-1;if(O>P)return Np(w.first+w.size-1,$t(w,P).text.length,null,1,1);g<0&&(g=0);for(var U=$t(w,O);;){var V=IM(d,U,O,g,C),Z=lM(U,V.ch+(V.xRel>0||V.outside>0?1:0));if(!Z)return V;var ne=Z.find(1);if(ne.line==O)return ne;U=$t(w,O=ne.line)}}function zb(d,g,C,w){w-=Op(g);var O=g.text.length,P=Xe(function(U){return ts(d,C,U-1).bottom<=w},O,0);return O=Xe(function(U){return ts(d,C,U).top>w},P,O),{begin:P,end:O}}function qb(d,g,C,w){C||(C=ja(d,g));var O=T1(d,g,ts(d,C,w),"line").top;return zb(d,g,C,O)}function Ip(d,g,C,w){return d.bottom<=C?!1:d.top>C?!0:(w?d.left:d.right)>g}function IM(d,g,C,w,O){O-=Cs(g);var P=ja(d,g),U=Op(g),V=0,Z=g.text.length,ne=!0,pe=Jt(g,d.doc.direction);if(pe){var be=(d.options.lineWrapping?DM:LM)(d,g,C,P,pe,w,O);ne=be.level!=1,V=ne?be.from:be.to-1,Z=ne?be.to:be.from-1}var Ae=null,we=null,Ge=Xe(function(Vt){var Ut=ts(d,P,Vt);return Ut.top+=U,Ut.bottom+=U,Ip(Ut,w,O,!1)?(Ut.top<=O&&Ut.left<=w&&(Ae=Vt,we=Ut),!0):!1},V,Z),Qe,ct,Tt=!1;if(we){var Nt=w-we.left<we.right-w,wt=Nt==ne;Ge=Ae+(wt?0:1),ct=wt?"after":"before",Qe=Nt?we.left:we.right}else{!ne&&(Ge==Z||Ge==V)&&Ge++,ct=Ge==0?"after":Ge==g.text.length?"before":ts(d,P,Ge-(ne?1:0)).bottom+U<=O==ne?"after":"before";var Lt=Hl(d,rt(C,Ge,ct),"line",g,P);Qe=Lt.left,Tt=O<Lt.top?-1:O>=Lt.bottom?1:0}return Ge=Zt(g.text,Ge,1),Np(C,Ge,ct,Tt,w-Qe)}function LM(d,g,C,w,O,P,U){var V=Xe(function(be){var Ae=O[be],we=Ae.level!=1;return Ip(Hl(d,rt(C,we?Ae.to:Ae.from,we?"before":"after"),"line",g,w),P,U,!0)},0,O.length-1),Z=O[V];if(V>0){var ne=Z.level!=1,pe=Hl(d,rt(C,ne?Z.from:Z.to,ne?"after":"before"),"line",g,w);Ip(pe,P,U,!0)&&pe.top>U&&(Z=O[V-1])}return Z}function DM(d,g,C,w,O,P,U){var V=zb(d,g,w,U),Z=V.begin,ne=V.end;/\s/.test(g.text.charAt(ne-1))&&ne--;for(var pe=null,be=null,Ae=0;Ae<O.length;Ae++){var we=O[Ae];if(!(we.from>=ne||we.to<=Z)){var Ge=we.level!=1,Qe=ts(d,w,Ge?Math.min(ne,we.to)-1:Math.max(Z,we.from)).right,ct=Qe<P?P-Qe+1e9:Qe-P;(!pe||be>ct)&&(pe=we,be=ct)}}return pe||(pe=O[O.length-1]),pe.from<Z&&(pe={from:Z,to:pe.to,level:pe.level}),pe.to>ne&&(pe={from:pe.from,to:ne,level:pe.level}),pe}var jo;function Wa(d){if(d.cachedTextHeight!=null)return d.cachedTextHeight;if(jo==null){jo=z("pre",null,"CodeMirror-line-like");for(var g=0;g<49;++g)jo.appendChild(document.createTextNode("x")),jo.appendChild(z("br"));jo.appendChild(document.createTextNode("x"))}q(d.measure,jo);var C=jo.offsetHeight/50;return C>3&&(d.cachedTextHeight=C),H(d.measure),C||1}function Ka(d){if(d.cachedCharWidth!=null)return d.cachedCharWidth;var g=z("span","xxxxxxxxxx"),C=z("pre",[g],"CodeMirror-line-like");q(d.measure,C);var w=g.getBoundingClientRect(),O=(w.right-w.left)/10;return O>2&&(d.cachedCharWidth=O),O||10}function Lp(d){for(var g=d.display,C={},w={},O=g.gutters.clientLeft,P=g.gutters.firstChild,U=0;P;P=P.nextSibling,++U){var V=d.display.gutterSpecs[U].className;C[V]=P.offsetLeft+P.clientLeft+O,w[V]=P.clientWidth}return{fixedPos:Dp(g),gutterTotalWidth:g.gutters.offsetWidth,gutterLeft:C,gutterWidth:w,wrapperWidth:g.wrapper.clientWidth}}function Dp(d){return d.scroller.getBoundingClientRect().left-d.sizer.getBoundingClientRect().left}function jb(d){var g=Wa(d.display),C=d.options.lineWrapping,w=C&&Math.max(5,d.display.scroller.clientWidth/Ka(d.display)-3);return function(O){if(Zs(d.doc,O))return 0;var P=0;if(O.widgets)for(var U=0;U<O.widgets.length;U++)O.widgets[U].height&&(P+=O.widgets[U].height);return C?P+(Math.ceil(O.text.length/w)||1)*g:P+g}}function Rp(d){var g=d.doc,C=jb(d);g.iter(function(w){var O=C(w);O!=w.height&&gr(w,O)})}function Wo(d,g,C,w){var O=d.display;if(!C&&ce(g).getAttribute("cm-not-content")=="true")return null;var P,U,V=O.lineSpace.getBoundingClientRect();try{P=g.clientX-V.left,U=g.clientY-V.top}catch{return null}var Z=Mp(d,P,U),ne;if(w&&Z.xRel>0&&(ne=$t(d.doc,Z.line).text).length==Z.ch){var pe=_e(ne,ne.length,d.options.tabSize)-ne.length;Z=rt(Z.line,Math.max(0,Math.round((P-Ib(d.display).left)/Ka(d.display))-pe))}return Z}function Ko(d,g){if(g>=d.display.viewTo||(g-=d.display.viewFrom,g<0))return null;for(var C=d.display.view,w=0;w<C.length;w++)if(g-=C[w].size,g<0)return w}function _r(d,g,C,w){g==null&&(g=d.doc.first),C==null&&(C=d.doc.first+d.doc.size),w||(w=0);var O=d.display;if(w&&C<O.viewTo&&(O.updateLineNumbers==null||O.updateLineNumbers>g)&&(O.updateLineNumbers=g),d.curOp.viewChanged=!0,g>=O.viewTo)Mt&&kp(d.doc,g)<O.viewTo&&Js(d);else if(C<=O.viewFrom)Mt&&kb(d.doc,C+w)>O.viewFrom?Js(d):(O.viewFrom+=w,O.viewTo+=w);else if(g<=O.viewFrom&&C>=O.viewTo)Js(d);else if(g<=O.viewFrom){var P=E1(d,C,C+w,1);P?(O.view=O.view.slice(P.index),O.viewFrom=P.lineN,O.viewTo+=w):Js(d)}else if(C>=O.viewTo){var U=E1(d,g,g,-1);U?(O.view=O.view.slice(0,U.index),O.viewTo=U.lineN):Js(d)}else{var V=E1(d,g,g,-1),Z=E1(d,C,C+w,1);V&&Z?(O.view=O.view.slice(0,V.index).concat(y1(d,V.lineN,Z.lineN)).concat(O.view.slice(Z.index)),O.viewTo+=w):Js(d)}var ne=O.externalMeasured;ne&&(C<ne.lineN?ne.lineN+=w:g<ne.lineN+ne.size&&(O.externalMeasured=null))}function Qs(d,g,C){d.curOp.viewChanged=!0;var w=d.display,O=d.display.externalMeasured;if(O&&g>=O.lineN&&g<O.lineN+O.size&&(w.externalMeasured=null),!(g<w.viewFrom||g>=w.viewTo)){var P=w.view[Ko(d,g)];if(P.node!=null){var U=P.changes||(P.changes=[]);Le(U,C)==-1&&U.push(C)}}}function Js(d){d.display.viewFrom=d.display.viewTo=d.doc.first,d.display.view=[],d.display.viewOffset=0}function E1(d,g,C,w){var O=Ko(d,g),P,U=d.display.view;if(!Mt||C==d.doc.first+d.doc.size)return{index:O,lineN:C};for(var V=d.display.viewFrom,Z=0;Z<O;Z++)V+=U[Z].size;if(V!=g){if(w>0){if(O==U.length-1)return null;P=V+U[O].size-g,O++}else P=V-g;g+=P,C+=P}for(;kp(d.doc,C)!=C;){if(O==(w<0?0:U.length-1))return null;C+=w*U[O-(w<0?1:0)].size,O+=w}return{index:O,lineN:C}}function RM(d,g,C){var w=d.display,O=w.view;O.length==0||g>=w.viewTo||C<=w.viewFrom?(w.view=y1(d,g,C),w.viewFrom=g):(w.viewFrom>g?w.view=y1(d,g,w.viewFrom).concat(w.view):w.viewFrom<g&&(w.view=w.view.slice(Ko(d,g))),w.viewFrom=g,w.viewTo<C?w.view=w.view.concat(y1(d,w.viewTo,C)):w.viewTo>C&&(w.view=w.view.slice(0,Ko(d,C)))),w.viewTo=C}function Wb(d){for(var g=d.display.view,C=0,w=0;w<g.length;w++){var O=g[w];!O.hidden&&(!O.node||O.changes)&&++C}return C}function mf(d){d.display.input.showSelection(d.display.input.prepareSelection())}function Kb(d,g){g===void 0&&(g=!0);var C=d.doc,w={},O=w.cursors=document.createDocumentFragment(),P=w.selection=document.createDocumentFragment(),U=d.options.$customCursor;U&&(g=!0);for(var V=0;V<C.sel.ranges.length;V++)if(!(!g&&V==C.sel.primIndex)){var Z=C.sel.ranges[V];if(!(Z.from().line>=d.display.viewTo||Z.to().line<d.display.viewFrom)){var ne=Z.empty();if(U){var pe=U(d,Z);pe&&Pp(d,pe,O)}else(ne||d.options.showCursorWhenSelecting)&&Pp(d,Z.head,O);ne||PM(d,Z,P)}}return w}function Pp(d,g,C){var w=Hl(d,g,"div",null,null,!d.options.singleCursorHeightPerLine),O=C.appendChild(z("div"," ","CodeMirror-cursor"));if(O.style.left=w.left+"px",O.style.top=w.top+"px",O.style.height=Math.max(0,w.bottom-w.top)*d.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(d.getWrapperElement().className)){var P=w1(d,g,"div",null,null),U=P.right-P.left;O.style.width=(U>0?U:d.defaultCharWidth())+"px"}if(w.other){var V=C.appendChild(z("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));V.style.display="",V.style.left=w.other.left+"px",V.style.top=w.other.top+"px",V.style.height=(w.other.bottom-w.other.top)*.85+"px"}}function S1(d,g){return d.top-g.top||d.left-g.left}function PM(d,g,C){var w=d.display,O=d.doc,P=document.createDocumentFragment(),U=Ib(d.display),V=U.left,Z=Math.max(w.sizerWidth,qo(d)-w.sizer.offsetLeft)-U.right,ne=O.direction=="ltr";function pe(wt,Lt,Vt,Ut){Lt<0&&(Lt=0),Lt=Math.round(Lt),Ut=Math.round(Ut),P.appendChild(z("div",null,"CodeMirror-selected","position: absolute; left: "+wt+`px;
                             top: `+Lt+"px; width: "+(Vt??Z-wt)+`px;
                             height: `+(Ut-Lt)+"px"))}function be(wt,Lt,Vt){var Ut=$t(O,wt),bn=Ut.text.length,Gn,Wi;function ci(Si,yr){return w1(d,rt(wt,Si),"div",Ut,yr)}function Pr(Si,yr,Yi){var Li=qb(d,Ut,null,Si),Ci=yr=="ltr"==(Yi=="after")?"left":"right",pi=Yi=="after"?Li.begin:Li.end-(/\s/.test(Ut.text.charAt(Li.end-1))?2:1);return ci(pi,Ci)[Ci]}var vr=Jt(Ut,O.direction);return Kt(vr,Lt||0,Vt??bn,function(Si,yr,Yi,Li){var Ci=Yi=="ltr",pi=ci(Si,Ci?"left":"right"),kr=ci(yr-1,Ci?"right":"left"),lu=Lt==null&&Si==0,lo=Vt==null&&yr==bn,er=Li==0,ns=!vr||Li==vr.length-1;if(kr.top-pi.top<=3){var Ki=(ne?lu:lo)&&er,om=(ne?lo:lu)&&ns,Ms=Ki?V:(Ci?pi:kr).left,Zo=om?Z:(Ci?kr:pi).right;pe(Ms,pi.top,Zo-Ms,pi.bottom)}else{var Qo,rr,su,am;Ci?(Qo=ne&&lu&&er?V:pi.left,rr=ne?Z:Pr(Si,Yi,"before"),su=ne?V:Pr(yr,Yi,"after"),am=ne&&lo&&ns?Z:kr.right):(Qo=ne?Pr(Si,Yi,"before"):V,rr=!ne&&lu&&er?Z:pi.right,su=!ne&&lo&&ns?V:kr.left,am=ne?Pr(yr,Yi,"after"):Z),pe(Qo,pi.top,rr-Qo,pi.bottom),pi.bottom<kr.top&&pe(V,pi.bottom,null,kr.top),pe(su,kr.top,am-su,kr.bottom)}(!Gn||S1(pi,Gn)<0)&&(Gn=pi),S1(kr,Gn)<0&&(Gn=kr),(!Wi||S1(pi,Wi)<0)&&(Wi=pi),S1(kr,Wi)<0&&(Wi=kr)}),{start:Gn,end:Wi}}var Ae=g.from(),we=g.to();if(Ae.line==we.line)be(Ae.line,Ae.ch,we.ch);else{var Ge=$t(O,Ae.line),Qe=$t(O,we.line),ct=$l(Ge)==$l(Qe),Tt=be(Ae.line,Ae.ch,ct?Ge.text.length+1:null).end,Nt=be(we.line,ct?0:null,we.ch).start;ct&&(Tt.top<Nt.top-2?(pe(Tt.right,Tt.top,null,Tt.bottom),pe(V,Nt.top,Nt.left,Nt.bottom)):pe(Tt.right,Tt.top,Nt.left-Tt.right,Tt.bottom)),Tt.bottom<Nt.top&&pe(V,Tt.bottom,null,Nt.top)}C.appendChild(P)}function Fp(d){if(d.state.focused){var g=d.display;clearInterval(g.blinker);var C=!0;g.cursorDiv.style.visibility="",d.options.cursorBlinkRate>0?g.blinker=setInterval(function(){d.hasFocus()||Va(d),g.cursorDiv.style.visibility=(C=!C)?"":"hidden"},d.options.cursorBlinkRate):d.options.cursorBlinkRate<0&&(g.cursorDiv.style.visibility="hidden")}}function Vb(d){d.hasFocus()||(d.display.input.focus(),d.state.focused||Hp(d))}function $p(d){d.state.delayingBlurEvent=!0,setTimeout(function(){d.state.delayingBlurEvent&&(d.state.delayingBlurEvent=!1,d.state.focused&&Va(d))},100)}function Hp(d,g){d.state.delayingBlurEvent&&!d.state.draggingText&&(d.state.delayingBlurEvent=!1),d.options.readOnly!="nocursor"&&(d.state.focused||(et(d,"focus",d,g),d.state.focused=!0,te(d.display.wrapper,"CodeMirror-focused"),!d.curOp&&d.display.selForContextMenu!=d.doc.sel&&(d.display.input.reset(),a&&setTimeout(function(){return d.display.input.reset(!0)},20)),d.display.input.receivedFocus()),Fp(d))}function Va(d,g){d.state.delayingBlurEvent||(d.state.focused&&(et(d,"blur",d,g),d.state.focused=!1,B(d.display.wrapper,"CodeMirror-focused")),clearInterval(d.display.blinker),setTimeout(function(){d.state.focused||(d.display.shift=!1)},150))}function C1(d){for(var g=d.display,C=g.lineDiv.offsetTop,w=Math.max(0,g.scroller.getBoundingClientRect().top),O=g.lineDiv.getBoundingClientRect().top,P=0,U=0;U<g.view.length;U++){var V=g.view[U],Z=d.options.lineWrapping,ne=void 0,pe=0;if(!V.hidden){if(O+=V.line.height,s&&o<8){var be=V.node.offsetTop+V.node.offsetHeight;ne=be-C,C=be}else{var Ae=V.node.getBoundingClientRect();ne=Ae.bottom-Ae.top,!Z&&V.text.firstChild&&(pe=V.text.firstChild.getBoundingClientRect().right-Ae.left-1)}var we=V.line.height-ne;if((we>.005||we<-.005)&&(O<w&&(P-=we),gr(V.line,ne),Gb(V.line),V.rest))for(var Ge=0;Ge<V.rest.length;Ge++)Gb(V.rest[Ge]);if(pe>d.display.sizerWidth){var Qe=Math.ceil(pe/Ka(d.display));Qe>d.display.maxLineLength&&(d.display.maxLineLength=Qe,d.display.maxLine=V.line,d.display.maxLineChanged=!0)}}}Math.abs(P)>2&&(g.scroller.scrollTop+=P)}function Gb(d){if(d.widgets)for(var g=0;g<d.widgets.length;++g){var C=d.widgets[g],w=C.node.parentNode;w&&(C.height=w.offsetHeight)}}function A1(d,g,C){var w=C&&C.top!=null?Math.max(0,C.top):d.scroller.scrollTop;w=Math.floor(w-k1(d));var O=C&&C.bottom!=null?C.bottom:w+d.wrapper.clientHeight,P=Mr(g,w),U=Mr(g,O);if(C&&C.ensure){var V=C.ensure.from.line,Z=C.ensure.to.line;V<P?(P=V,U=Mr(g,Cs($t(g,V))+d.wrapper.clientHeight)):Math.min(Z,g.lastLine())>=U&&(P=Mr(g,Cs($t(g,Z))-d.wrapper.clientHeight),U=Z)}return{from:P,to:Math.max(U,P+1)}}function FM(d,g){if(!Ot(d,"scrollCursorIntoView")){var C=d.display,w=C.sizer.getBoundingClientRect(),O=null;if(g.top+w.top<0?O=!0:g.bottom+w.top>(window.innerHeight||document.documentElement.clientHeight)&&(O=!1),O!=null&&!_){var P=z("div","​",null,`position: absolute;
                         top: `+(g.top-C.viewOffset-k1(d.display))+`px;
                         height: `+(g.bottom-g.top+es(d)+C.barHeight)+`px;
                         left: `+g.left+"px; width: "+Math.max(2,g.right-g.left)+"px;");d.display.lineSpace.appendChild(P),P.scrollIntoView(O),d.display.lineSpace.removeChild(P)}}}function $M(d,g,C,w){w==null&&(w=0);var O;!d.options.lineWrapping&&g==C&&(C=g.sticky=="before"?rt(g.line,g.ch+1,"before"):g,g=g.ch?rt(g.line,g.sticky=="before"?g.ch-1:g.ch,"after"):g);for(var P=0;P<5;P++){var U=!1,V=Hl(d,g),Z=!C||C==g?V:Hl(d,C);O={left:Math.min(V.left,Z.left),top:Math.min(V.top,Z.top)-w,right:Math.max(V.left,Z.left),bottom:Math.max(V.bottom,Z.bottom)+w};var ne=Bp(d,O),pe=d.doc.scrollTop,be=d.doc.scrollLeft;if(ne.scrollTop!=null&&(_f(d,ne.scrollTop),Math.abs(d.doc.scrollTop-pe)>1&&(U=!0)),ne.scrollLeft!=null&&(Vo(d,ne.scrollLeft),Math.abs(d.doc.scrollLeft-be)>1&&(U=!0)),!U)break}return O}function HM(d,g){var C=Bp(d,g);C.scrollTop!=null&&_f(d,C.scrollTop),C.scrollLeft!=null&&Vo(d,C.scrollLeft)}function Bp(d,g){var C=d.display,w=Wa(d.display);g.top<0&&(g.top=0);var O=d.curOp&&d.curOp.scrollTop!=null?d.curOp.scrollTop:C.scroller.scrollTop,P=Cp(d),U={};g.bottom-g.top>P&&(g.bottom=g.top+P);var V=d.doc.height+Sp(C),Z=g.top<w,ne=g.bottom>V-w;if(g.top<O)U.scrollTop=Z?0:g.top;else if(g.bottom>O+P){var pe=Math.min(g.top,(ne?V:g.bottom)-P);pe!=O&&(U.scrollTop=pe)}var be=d.options.fixedGutter?0:C.gutters.offsetWidth,Ae=d.curOp&&d.curOp.scrollLeft!=null?d.curOp.scrollLeft:C.scroller.scrollLeft-be,we=qo(d)-C.gutters.offsetWidth,Ge=g.right-g.left>we;return Ge&&(g.right=g.left+we),g.left<10?U.scrollLeft=0:g.left<Ae?U.scrollLeft=Math.max(0,g.left+be-(Ge?0:10)):g.right>we+Ae-3&&(U.scrollLeft=g.right+(Ge?0:10)-we),U}function xp(d,g){g!=null&&(O1(d),d.curOp.scrollTop=(d.curOp.scrollTop==null?d.doc.scrollTop:d.curOp.scrollTop)+g)}function Ga(d){O1(d);var g=d.getCursor();d.curOp.scrollToPos={from:g,to:g,margin:d.options.cursorScrollMargin}}function gf(d,g,C){(g!=null||C!=null)&&O1(d),g!=null&&(d.curOp.scrollLeft=g),C!=null&&(d.curOp.scrollTop=C)}function BM(d,g){O1(d),d.curOp.scrollToPos=g}function O1(d){var g=d.curOp.scrollToPos;if(g){d.curOp.scrollToPos=null;var C=Ub(d,g.from),w=Ub(d,g.to);Yb(d,C,w,g.margin)}}function Yb(d,g,C,w){var O=Bp(d,{left:Math.min(g.left,C.left),top:Math.min(g.top,C.top)-w,right:Math.max(g.right,C.right),bottom:Math.max(g.bottom,C.bottom)+w});gf(d,O.scrollLeft,O.scrollTop)}function _f(d,g){Math.abs(d.doc.scrollTop-g)<2||(t||zp(d,{top:g}),Xb(d,g,!0),t&&zp(d),yf(d,100))}function Xb(d,g,C){g=Math.max(0,Math.min(d.display.scroller.scrollHeight-d.display.scroller.clientHeight,g)),!(d.display.scroller.scrollTop==g&&!C)&&(d.doc.scrollTop=g,d.display.scrollbars.setScrollTop(g),d.display.scroller.scrollTop!=g&&(d.display.scroller.scrollTop=g))}function Vo(d,g,C,w){g=Math.max(0,Math.min(g,d.display.scroller.scrollWidth-d.display.scroller.clientWidth)),!((C?g==d.doc.scrollLeft:Math.abs(d.doc.scrollLeft-g)<2)&&!w)&&(d.doc.scrollLeft=g,t2(d),d.display.scroller.scrollLeft!=g&&(d.display.scroller.scrollLeft=g),d.display.scrollbars.setScrollLeft(g))}function bf(d){var g=d.display,C=g.gutters.offsetWidth,w=Math.round(d.doc.height+Sp(d.display));return{clientHeight:g.scroller.clientHeight,viewHeight:g.wrapper.clientHeight,scrollWidth:g.scroller.scrollWidth,clientWidth:g.scroller.clientWidth,viewWidth:g.wrapper.clientWidth,barLeft:d.options.fixedGutter?C:0,docHeight:w,scrollHeight:w+es(d)+g.barHeight,nativeBarWidth:g.nativeBarWidth,gutterWidth:C}}var Go=function(d,g,C){this.cm=C;var w=this.vert=z("div",[z("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),O=this.horiz=z("div",[z("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");w.tabIndex=O.tabIndex=-1,d(w),d(O),at(w,"scroll",function(){w.clientHeight&&g(w.scrollTop,"vertical")}),at(O,"scroll",function(){O.clientWidth&&g(O.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,s&&o<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Go.prototype.update=function(d){var g=d.scrollWidth>d.clientWidth+1,C=d.scrollHeight>d.clientHeight+1,w=d.nativeBarWidth;if(C){this.vert.style.display="block",this.vert.style.bottom=g?w+"px":"0";var O=d.viewHeight-(g?w:0);this.vert.firstChild.style.height=Math.max(0,d.scrollHeight-d.clientHeight+O)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(g){this.horiz.style.display="block",this.horiz.style.right=C?w+"px":"0",this.horiz.style.left=d.barLeft+"px";var P=d.viewWidth-d.barLeft-(C?w:0);this.horiz.firstChild.style.width=Math.max(0,d.scrollWidth-d.clientWidth+P)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&d.clientHeight>0&&(w==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:C?w:0,bottom:g?w:0}},Go.prototype.setScrollLeft=function(d){this.horiz.scrollLeft!=d&&(this.horiz.scrollLeft=d),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Go.prototype.setScrollTop=function(d){this.vert.scrollTop!=d&&(this.vert.scrollTop=d),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Go.prototype.zeroWidthHack=function(){var d=A&&!p?"12px":"18px";this.horiz.style.height=this.vert.style.width=d,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new oe,this.disableVert=new oe},Go.prototype.enableZeroWidthBar=function(d,g,C){d.style.pointerEvents="auto";function w(){var O=d.getBoundingClientRect(),P=C=="vert"?document.elementFromPoint(O.right-1,(O.top+O.bottom)/2):document.elementFromPoint((O.right+O.left)/2,O.bottom-1);P!=d?d.style.pointerEvents="none":g.set(1e3,w)}g.set(1e3,w)},Go.prototype.clear=function(){var d=this.horiz.parentNode;d.removeChild(this.horiz),d.removeChild(this.vert)};var vf=function(){};vf.prototype.update=function(){return{bottom:0,right:0}},vf.prototype.setScrollLeft=function(){},vf.prototype.setScrollTop=function(){},vf.prototype.clear=function(){};function Ya(d,g){g||(g=bf(d));var C=d.display.barWidth,w=d.display.barHeight;Zb(d,g);for(var O=0;O<4&&C!=d.display.barWidth||w!=d.display.barHeight;O++)C!=d.display.barWidth&&d.options.lineWrapping&&C1(d),Zb(d,bf(d)),C=d.display.barWidth,w=d.display.barHeight}function Zb(d,g){var C=d.display,w=C.scrollbars.update(g);C.sizer.style.paddingRight=(C.barWidth=w.right)+"px",C.sizer.style.paddingBottom=(C.barHeight=w.bottom)+"px",C.heightForcer.style.borderBottom=w.bottom+"px solid transparent",w.right&&w.bottom?(C.scrollbarFiller.style.display="block",C.scrollbarFiller.style.height=w.bottom+"px",C.scrollbarFiller.style.width=w.right+"px"):C.scrollbarFiller.style.display="",w.bottom&&d.options.coverGutterNextToScrollbar&&d.options.fixedGutter?(C.gutterFiller.style.display="block",C.gutterFiller.style.height=w.bottom+"px",C.gutterFiller.style.width=g.gutterWidth+"px"):C.gutterFiller.style.display=""}var Qb={native:Go,null:vf};function Jb(d){d.display.scrollbars&&(d.display.scrollbars.clear(),d.display.scrollbars.addClass&&B(d.display.wrapper,d.display.scrollbars.addClass)),d.display.scrollbars=new Qb[d.options.scrollbarStyle](function(g){d.display.wrapper.insertBefore(g,d.display.scrollbarFiller),at(g,"mousedown",function(){d.state.focused&&setTimeout(function(){return d.display.input.focus()},0)}),g.setAttribute("cm-not-content","true")},function(g,C){C=="horizontal"?Vo(d,g):_f(d,g)},d),d.display.scrollbars.addClass&&te(d.display.wrapper,d.display.scrollbars.addClass)}var xM=0;function Yo(d){d.curOp={cm:d,viewChanged:!1,startHeight:d.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++xM,markArrays:null},_M(d.curOp)}function Xo(d){var g=d.curOp;g&&vM(g,function(C){for(var w=0;w<C.ops.length;w++)C.ops[w].cm.curOp=null;UM(C)})}function UM(d){for(var g=d.ops,C=0;C<g.length;C++)zM(g[C]);for(var w=0;w<g.length;w++)qM(g[w]);for(var O=0;O<g.length;O++)jM(g[O]);for(var P=0;P<g.length;P++)WM(g[P]);for(var U=0;U<g.length;U++)KM(g[U])}function zM(d){var g=d.cm,C=g.display;GM(g),d.updateMaxLine&&wp(g),d.mustUpdate=d.viewChanged||d.forceUpdate||d.scrollTop!=null||d.scrollToPos&&(d.scrollToPos.from.line<C.viewFrom||d.scrollToPos.to.line>=C.viewTo)||C.maxLineChanged&&g.options.lineWrapping,d.update=d.mustUpdate&&new N1(g,d.mustUpdate&&{top:d.scrollTop,ensure:d.scrollToPos},d.forceUpdate)}function qM(d){d.updatedDisplay=d.mustUpdate&&Up(d.cm,d.update)}function jM(d){var g=d.cm,C=g.display;d.updatedDisplay&&C1(g),d.barMeasure=bf(g),C.maxLineChanged&&!g.options.lineWrapping&&(d.adjustWidthTo=Db(g,C.maxLine,C.maxLine.text.length).left+3,g.display.sizerWidth=d.adjustWidthTo,d.barMeasure.scrollWidth=Math.max(C.scroller.clientWidth,C.sizer.offsetLeft+d.adjustWidthTo+es(g)+g.display.barWidth),d.maxScrollLeft=Math.max(0,C.sizer.offsetLeft+d.adjustWidthTo-qo(g))),(d.updatedDisplay||d.selectionChanged)&&(d.preparedSelection=C.input.prepareSelection())}function WM(d){var g=d.cm;d.adjustWidthTo!=null&&(g.display.sizer.style.minWidth=d.adjustWidthTo+"px",d.maxScrollLeft<g.doc.scrollLeft&&Vo(g,Math.min(g.display.scroller.scrollLeft,d.maxScrollLeft),!0),g.display.maxLineChanged=!1);var C=d.focus&&d.focus==ie();d.preparedSelection&&g.display.input.showSelection(d.preparedSelection,C),(d.updatedDisplay||d.startHeight!=g.doc.height)&&Ya(g,d.barMeasure),d.updatedDisplay&&jp(g,d.barMeasure),d.selectionChanged&&Fp(g),g.state.focused&&d.updateInput&&g.display.input.reset(d.typing),C&&Vb(d.cm)}function KM(d){var g=d.cm,C=g.display,w=g.doc;if(d.updatedDisplay&&e2(g,d.update),C.wheelStartX!=null&&(d.scrollTop!=null||d.scrollLeft!=null||d.scrollToPos)&&(C.wheelStartX=C.wheelStartY=null),d.scrollTop!=null&&Xb(g,d.scrollTop,d.forceScroll),d.scrollLeft!=null&&Vo(g,d.scrollLeft,!0,!0),d.scrollToPos){var O=$M(g,en(w,d.scrollToPos.from),en(w,d.scrollToPos.to),d.scrollToPos.margin);FM(g,O)}var P=d.maybeHiddenMarkers,U=d.maybeUnhiddenMarkers;if(P)for(var V=0;V<P.length;++V)P[V].lines.length||et(P[V],"hide");if(U)for(var Z=0;Z<U.length;++Z)U[Z].lines.length&&et(U[Z],"unhide");C.wrapper.offsetHeight&&(w.scrollTop=g.display.scroller.scrollTop),d.changeObjs&&et(g,"changes",g,d.changeObjs),d.update&&d.update.finish()}function Rr(d,g){if(d.curOp)return g();Yo(d);try{return g()}finally{Xo(d)}}function qi(d,g){return function(){if(d.curOp)return g.apply(d,arguments);Yo(d);try{return g.apply(d,arguments)}finally{Xo(d)}}}function ir(d){return function(){if(this.curOp)return d.apply(this,arguments);Yo(this);try{return d.apply(this,arguments)}finally{Xo(this)}}}function ji(d){return function(){var g=this.cm;if(!g||g.curOp)return d.apply(this,arguments);Yo(g);try{return d.apply(this,arguments)}finally{Xo(g)}}}function yf(d,g){d.doc.highlightFrontier<d.display.viewTo&&d.state.highlight.set(g,K(VM,d))}function VM(d){var g=d.doc;if(!(g.highlightFrontier>=d.display.viewTo)){var C=+new Date+d.options.workTime,w=zo(d,g.highlightFrontier),O=[];g.iter(w.line,Math.min(g.first+g.size,d.display.viewTo+500),function(P){if(w.line>=d.display.viewFrom){var U=P.styles,V=P.text.length>d.options.maxHighlightLength?Qi(g.mode,w.state):null,Z=Uo(d,P,w,!0);V&&(w.state=V),P.styles=Z.styles;var ne=P.styleClasses,pe=Z.classes;pe?P.styleClasses=pe:ne&&(P.styleClasses=null);for(var be=!U||U.length!=P.styles.length||ne!=pe&&(!ne||!pe||ne.bgClass!=pe.bgClass||ne.textClass!=pe.textClass),Ae=0;!be&&Ae<U.length;++Ae)be=U[Ae]!=P.styles[Ae];be&&O.push(w.line),P.stateAfter=w.save(),w.nextLine()}else P.text.length<=d.options.maxHighlightLength&&Ba(d,P.text,w),P.stateAfter=w.line%5==0?w.save():null,w.nextLine();if(+new Date>C)return yf(d,d.options.workDelay),!0}),g.highlightFrontier=w.line,g.modeFrontier=Math.max(g.modeFrontier,w.line),O.length&&Rr(d,function(){for(var P=0;P<O.length;P++)Qs(d,O[P],"text")})}}var N1=function(d,g,C){var w=d.display;this.viewport=g,this.visible=A1(w,d.doc,g),this.editorIsHidden=!w.wrapper.offsetWidth,this.wrapperHeight=w.wrapper.clientHeight,this.wrapperWidth=w.wrapper.clientWidth,this.oldDisplayWidth=qo(d),this.force=C,this.dims=Lp(d),this.events=[]};N1.prototype.signal=function(d,g){qt(d,g)&&this.events.push(arguments)},N1.prototype.finish=function(){for(var d=0;d<this.events.length;d++)et.apply(null,this.events[d])};function GM(d){var g=d.display;!g.scrollbarsClipped&&g.scroller.offsetWidth&&(g.nativeBarWidth=g.scroller.offsetWidth-g.scroller.clientWidth,g.heightForcer.style.height=es(d)+"px",g.sizer.style.marginBottom=-g.nativeBarWidth+"px",g.sizer.style.borderRightWidth=es(d)+"px",g.scrollbarsClipped=!0)}function YM(d){if(d.hasFocus())return null;var g=ie();if(!g||!G(d.display.lineDiv,g))return null;var C={activeElt:g};if(window.getSelection){var w=window.getSelection();w.anchorNode&&w.extend&&G(d.display.lineDiv,w.anchorNode)&&(C.anchorNode=w.anchorNode,C.anchorOffset=w.anchorOffset,C.focusNode=w.focusNode,C.focusOffset=w.focusOffset)}return C}function XM(d){if(!(!d||!d.activeElt||d.activeElt==ie())&&(d.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(d.activeElt.nodeName)&&d.anchorNode&&G(document.body,d.anchorNode)&&G(document.body,d.focusNode))){var g=window.getSelection(),C=document.createRange();C.setEnd(d.anchorNode,d.anchorOffset),C.collapse(!1),g.removeAllRanges(),g.addRange(C),g.extend(d.focusNode,d.focusOffset)}}function Up(d,g){var C=d.display,w=d.doc;if(g.editorIsHidden)return Js(d),!1;if(!g.force&&g.visible.from>=C.viewFrom&&g.visible.to<=C.viewTo&&(C.updateLineNumbers==null||C.updateLineNumbers>=C.viewTo)&&C.renderedView==C.view&&Wb(d)==0)return!1;n2(d)&&(Js(d),g.dims=Lp(d));var O=w.first+w.size,P=Math.max(g.visible.from-d.options.viewportMargin,w.first),U=Math.min(O,g.visible.to+d.options.viewportMargin);C.viewFrom<P&&P-C.viewFrom<20&&(P=Math.max(w.first,C.viewFrom)),C.viewTo>U&&C.viewTo-U<20&&(U=Math.min(O,C.viewTo)),Mt&&(P=kp(d.doc,P),U=kb(d.doc,U));var V=P!=C.viewFrom||U!=C.viewTo||C.lastWrapHeight!=g.wrapperHeight||C.lastWrapWidth!=g.wrapperWidth;RM(d,P,U),C.viewOffset=Cs($t(d.doc,C.viewFrom)),d.display.mover.style.top=C.viewOffset+"px";var Z=Wb(d);if(!V&&Z==0&&!g.force&&C.renderedView==C.view&&(C.updateLineNumbers==null||C.updateLineNumbers>=C.viewTo))return!1;var ne=YM(d);return Z>4&&(C.lineDiv.style.display="none"),ZM(d,C.updateLineNumbers,g.dims),Z>4&&(C.lineDiv.style.display=""),C.renderedView=C.view,XM(ne),H(C.cursorDiv),H(C.selectionDiv),C.gutters.style.height=C.sizer.style.minHeight=0,V&&(C.lastWrapHeight=g.wrapperHeight,C.lastWrapWidth=g.wrapperWidth,yf(d,400)),C.updateLineNumbers=null,!0}function e2(d,g){for(var C=g.viewport,w=!0;;w=!1){if(!w||!d.options.lineWrapping||g.oldDisplayWidth==qo(d)){if(C&&C.top!=null&&(C={top:Math.min(d.doc.height+Sp(d.display)-Cp(d),C.top)}),g.visible=A1(d.display,d.doc,C),g.visible.from>=d.display.viewFrom&&g.visible.to<=d.display.viewTo)break}else w&&(g.visible=A1(d.display,d.doc,C));if(!Up(d,g))break;C1(d);var O=bf(d);mf(d),Ya(d,O),jp(d,O),g.force=!1}g.signal(d,"update",d),(d.display.viewFrom!=d.display.reportedViewFrom||d.display.viewTo!=d.display.reportedViewTo)&&(g.signal(d,"viewportChange",d,d.display.viewFrom,d.display.viewTo),d.display.reportedViewFrom=d.display.viewFrom,d.display.reportedViewTo=d.display.viewTo)}function zp(d,g){var C=new N1(d,g);if(Up(d,C)){C1(d),e2(d,C);var w=bf(d);mf(d),Ya(d,w),jp(d,w),C.finish()}}function ZM(d,g,C){var w=d.display,O=d.options.lineNumbers,P=w.lineDiv,U=P.firstChild;function V(Ge){var Qe=Ge.nextSibling;return a&&A&&d.display.currentWheelTarget==Ge?Ge.style.display="none":Ge.parentNode.removeChild(Ge),Qe}for(var Z=w.view,ne=w.viewFrom,pe=0;pe<Z.length;pe++){var be=Z[pe];if(!be.hidden)if(!be.node||be.node.parentNode!=P){var Ae=EM(d,be,ne,C);P.insertBefore(Ae,U)}else{for(;U!=be.node;)U=V(U);var we=O&&g!=null&&g<=ne&&be.lineNumber;be.changes&&(Le(be.changes,"gutter")>-1&&(we=!1),Cb(d,be,ne,C)),we&&(H(be.lineNumber),be.lineNumber.appendChild(document.createTextNode(tl(d.options,ne)))),U=be.node.nextSibling}ne+=be.size}for(;U;)U=V(U)}function qp(d){var g=d.gutters.offsetWidth;d.sizer.style.marginLeft=g+"px",zi(d,"gutterChanged",d)}function jp(d,g){d.display.sizer.style.minHeight=g.docHeight+"px",d.display.heightForcer.style.top=g.docHeight+"px",d.display.gutters.style.height=g.docHeight+d.display.barHeight+es(d)+"px"}function t2(d){var g=d.display,C=g.view;if(!(!g.alignWidgets&&(!g.gutters.firstChild||!d.options.fixedGutter))){for(var w=Dp(g)-g.scroller.scrollLeft+d.doc.scrollLeft,O=g.gutters.offsetWidth,P=w+"px",U=0;U<C.length;U++)if(!C[U].hidden){d.options.fixedGutter&&(C[U].gutter&&(C[U].gutter.style.left=P),C[U].gutterBackground&&(C[U].gutterBackground.style.left=P));var V=C[U].alignable;if(V)for(var Z=0;Z<V.length;Z++)V[Z].style.left=P}d.options.fixedGutter&&(g.gutters.style.left=w+O+"px")}}function n2(d){if(!d.options.lineNumbers)return!1;var g=d.doc,C=tl(d.options,g.first+g.size-1),w=d.display;if(C.length!=w.lineNumChars){var O=w.measure.appendChild(z("div",[z("div",C)],"CodeMirror-linenumber CodeMirror-gutter-elt")),P=O.firstChild.offsetWidth,U=O.offsetWidth-P;return w.lineGutter.style.width="",w.lineNumInnerWidth=Math.max(P,w.lineGutter.offsetWidth-U)+1,w.lineNumWidth=w.lineNumInnerWidth+U,w.lineNumChars=w.lineNumInnerWidth?C.length:-1,w.lineGutter.style.width=w.lineNumWidth+"px",qp(d.display),!0}return!1}function Wp(d,g){for(var C=[],w=!1,O=0;O<d.length;O++){var P=d[O],U=null;if(typeof P!="string"&&(U=P.style,P=P.className),P=="CodeMirror-linenumbers")if(g)w=!0;else continue;C.push({className:P,style:U})}return g&&!w&&C.push({className:"CodeMirror-linenumbers",style:null}),C}function i2(d){var g=d.gutters,C=d.gutterSpecs;H(g),d.lineGutter=null;for(var w=0;w<C.length;++w){var O=C[w],P=O.className,U=O.style,V=g.appendChild(z("div",null,"CodeMirror-gutter "+P));U&&(V.style.cssText=U),P=="CodeMirror-linenumbers"&&(d.lineGutter=V,V.style.width=(d.lineNumWidth||1)+"px")}g.style.display=C.length?"":"none",qp(d)}function kf(d){i2(d.display),_r(d),t2(d)}function QM(d,g,C,w){var O=this;this.input=C,O.scrollbarFiller=z("div",null,"CodeMirror-scrollbar-filler"),O.scrollbarFiller.setAttribute("cm-not-content","true"),O.gutterFiller=z("div",null,"CodeMirror-gutter-filler"),O.gutterFiller.setAttribute("cm-not-content","true"),O.lineDiv=j("div",null,"CodeMirror-code"),O.selectionDiv=z("div",null,null,"position: relative; z-index: 1"),O.cursorDiv=z("div",null,"CodeMirror-cursors"),O.measure=z("div",null,"CodeMirror-measure"),O.lineMeasure=z("div",null,"CodeMirror-measure"),O.lineSpace=j("div",[O.measure,O.lineMeasure,O.selectionDiv,O.cursorDiv,O.lineDiv],null,"position: relative; outline: none");var P=j("div",[O.lineSpace],"CodeMirror-lines");O.mover=z("div",[P],null,"position: relative"),O.sizer=z("div",[O.mover],"CodeMirror-sizer"),O.sizerWidth=null,O.heightForcer=z("div",null,null,"position: absolute; height: "+lt+"px; width: 1px;"),O.gutters=z("div",null,"CodeMirror-gutters"),O.lineGutter=null,O.scroller=z("div",[O.sizer,O.heightForcer,O.gutters],"CodeMirror-scroll"),O.scroller.setAttribute("tabIndex","-1"),O.wrapper=z("div",[O.scrollbarFiller,O.gutterFiller,O.scroller],"CodeMirror"),O.wrapper.setAttribute("translate","no"),s&&o<8&&(O.gutters.style.zIndex=-1,O.scroller.style.paddingRight=0),!a&&!(t&&y)&&(O.scroller.draggable=!0),d&&(d.appendChild?d.appendChild(O.wrapper):d(O.wrapper)),O.viewFrom=O.viewTo=g.first,O.reportedViewFrom=O.reportedViewTo=g.first,O.view=[],O.renderedView=null,O.externalMeasured=null,O.viewOffset=0,O.lastWrapHeight=O.lastWrapWidth=0,O.updateLineNumbers=null,O.nativeBarWidth=O.barHeight=O.barWidth=0,O.scrollbarsClipped=!1,O.lineNumWidth=O.lineNumInnerWidth=O.lineNumChars=null,O.alignWidgets=!1,O.cachedCharWidth=O.cachedTextHeight=O.cachedPaddingH=null,O.maxLine=null,O.maxLineLength=0,O.maxLineChanged=!1,O.wheelDX=O.wheelDY=O.wheelStartX=O.wheelStartY=null,O.shift=!1,O.selForContextMenu=null,O.activeTouch=null,O.gutterSpecs=Wp(w.gutters,w.lineNumbers),i2(O),C.init(O)}var M1=0,Os=null;s?Os=-.53:t?Os=15:f?Os=-.7:h&&(Os=-1/3);function r2(d){var g=d.wheelDeltaX,C=d.wheelDeltaY;return g==null&&d.detail&&d.axis==d.HORIZONTAL_AXIS&&(g=d.detail),C==null&&d.detail&&d.axis==d.VERTICAL_AXIS?C=d.detail:C==null&&(C=d.wheelDelta),{x:g,y:C}}function JM(d){var g=r2(d);return g.x*=Os,g.y*=Os,g}function l2(d,g){var C=r2(g),w=C.x,O=C.y,P=Os;g.deltaMode===0&&(w=g.deltaX,O=g.deltaY,P=1);var U=d.display,V=U.scroller,Z=V.scrollWidth>V.clientWidth,ne=V.scrollHeight>V.clientHeight;if(w&&Z||O&&ne){if(O&&A&&a){e:for(var pe=g.target,be=U.view;pe!=V;pe=pe.parentNode)for(var Ae=0;Ae<be.length;Ae++)if(be[Ae].node==pe){d.display.currentWheelTarget=pe;break e}}if(w&&!t&&!c&&P!=null){O&&ne&&_f(d,Math.max(0,V.scrollTop+O*P)),Vo(d,Math.max(0,V.scrollLeft+w*P)),(!O||O&&ne)&&Nn(g),U.wheelStartX=null;return}if(O&&P!=null){var we=O*P,Ge=d.doc.scrollTop,Qe=Ge+U.wrapper.clientHeight;we<0?Ge=Math.max(0,Ge+we-50):Qe=Math.min(d.doc.height,Qe+we+50),zp(d,{top:Ge,bottom:Qe})}M1<20&&g.deltaMode!==0&&(U.wheelStartX==null?(U.wheelStartX=V.scrollLeft,U.wheelStartY=V.scrollTop,U.wheelDX=w,U.wheelDY=O,setTimeout(function(){if(U.wheelStartX!=null){var ct=V.scrollLeft-U.wheelStartX,Tt=V.scrollTop-U.wheelStartY,Nt=Tt&&U.wheelDY&&Tt/U.wheelDY||ct&&U.wheelDX&&ct/U.wheelDX;U.wheelStartX=U.wheelStartY=null,Nt&&(Os=(Os*M1+Nt)/(M1+1),++M1)}},200)):(U.wheelDX+=w,U.wheelDY+=O))}}var il=function(d,g){this.ranges=d,this.primIndex=g};il.prototype.primary=function(){return this.ranges[this.primIndex]},il.prototype.equals=function(d){if(d==this)return!0;if(d.primIndex!=this.primIndex||d.ranges.length!=this.ranges.length)return!1;for(var g=0;g<this.ranges.length;g++){var C=this.ranges[g],w=d.ranges[g];if(!nl(C.anchor,w.anchor)||!nl(C.head,w.head))return!1}return!0},il.prototype.deepCopy=function(){for(var d=[],g=0;g<this.ranges.length;g++)d[g]=new Hn($a(this.ranges[g].anchor),$a(this.ranges[g].head));return new il(d,this.primIndex)},il.prototype.somethingSelected=function(){for(var d=0;d<this.ranges.length;d++)if(!this.ranges[d].empty())return!0;return!1},il.prototype.contains=function(d,g){g||(g=d);for(var C=0;C<this.ranges.length;C++){var w=this.ranges[C];if(jt(g,w.from())>=0&&jt(d,w.to())<=0)return C}return-1};var Hn=function(d,g){this.anchor=d,this.head=g};Hn.prototype.from=function(){return Ss(this.anchor,this.head)},Hn.prototype.to=function(){return xo(this.anchor,this.head)},Hn.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function Bl(d,g,C){var w=d&&d.options.selectionsMayTouch,O=g[C];g.sort(function(Ae,we){return jt(Ae.from(),we.from())}),C=Le(g,O);for(var P=1;P<g.length;P++){var U=g[P],V=g[P-1],Z=jt(V.to(),U.from());if(w&&!U.empty()?Z>0:Z>=0){var ne=Ss(V.from(),U.from()),pe=xo(V.to(),U.to()),be=V.empty()?U.from()==U.head:V.from()==V.head;P<=C&&--C,g.splice(--P,2,new Hn(be?pe:ne,be?ne:pe))}}return new il(g,C)}function eo(d,g){return new il([new Hn(d,g||d)],0)}function to(d){return d.text?rt(d.from.line+d.text.length-1,$e(d.text).length+(d.text.length==1?d.from.ch:0)):d.to}function s2(d,g){if(jt(d,g.from)<0)return d;if(jt(d,g.to)<=0)return to(g);var C=d.line+g.text.length-(g.to.line-g.from.line)-1,w=d.ch;return d.line==g.to.line&&(w+=to(g).ch-g.to.ch),rt(C,w)}function Kp(d,g){for(var C=[],w=0;w<d.sel.ranges.length;w++){var O=d.sel.ranges[w];C.push(new Hn(s2(O.anchor,g),s2(O.head,g)))}return Bl(d.cm,C,d.sel.primIndex)}function o2(d,g,C){return d.line==g.line?rt(C.line,d.ch-g.ch+C.ch):rt(C.line+(d.line-g.line),d.ch)}function eI(d,g,C){for(var w=[],O=rt(d.first,0),P=O,U=0;U<g.length;U++){var V=g[U],Z=o2(V.from,O,P),ne=o2(to(V),O,P);if(O=V.to,P=ne,C=="around"){var pe=d.sel.ranges[U],be=jt(pe.head,pe.anchor)<0;w[U]=new Hn(be?ne:Z,be?Z:ne)}else w[U]=new Hn(Z,Z)}return new il(w,d.sel.primIndex)}function Vp(d){d.doc.mode=Gi(d.options,d.doc.modeOption),Tf(d)}function Tf(d){d.doc.iter(function(g){g.stateAfter&&(g.stateAfter=null),g.styles&&(g.styles=null)}),d.doc.modeFrontier=d.doc.highlightFrontier=d.doc.first,yf(d,100),d.state.modeGen++,d.curOp&&_r(d)}function a2(d,g){return g.from.ch==0&&g.to.ch==0&&$e(g.text)==""&&(!d.cm||d.cm.options.wholeLineUpdateBefore)}function Gp(d,g,C,w){function O(Nt){return C?C[Nt]:null}function P(Nt,wt,Lt){aM(Nt,wt,Lt,w),zi(Nt,"change",Nt,g)}function U(Nt,wt){for(var Lt=[],Vt=Nt;Vt<wt;++Vt)Lt.push(new za(ne[Vt],O(Vt),w));return Lt}var V=g.from,Z=g.to,ne=g.text,pe=$t(d,V.line),be=$t(d,Z.line),Ae=$e(ne),we=O(ne.length-1),Ge=Z.line-V.line;if(g.full)d.insert(0,U(0,ne.length)),d.remove(ne.length,d.size-ne.length);else if(a2(d,g)){var Qe=U(0,ne.length-1);P(be,be.text,we),Ge&&d.remove(V.line,Ge),Qe.length&&d.insert(V.line,Qe)}else if(pe==be)if(ne.length==1)P(pe,pe.text.slice(0,V.ch)+Ae+pe.text.slice(Z.ch),we);else{var ct=U(1,ne.length-1);ct.push(new za(Ae+pe.text.slice(Z.ch),we,w)),P(pe,pe.text.slice(0,V.ch)+ne[0],O(0)),d.insert(V.line+1,ct)}else if(ne.length==1)P(pe,pe.text.slice(0,V.ch)+ne[0]+be.text.slice(Z.ch),O(0)),d.remove(V.line+1,Ge);else{P(pe,pe.text.slice(0,V.ch)+ne[0],O(0)),P(be,Ae+be.text.slice(Z.ch),we);var Tt=U(1,ne.length-1);Ge>1&&d.remove(V.line+1,Ge-1),d.insert(V.line+1,Tt)}zi(d,"change",d,g)}function no(d,g,C){function w(O,P,U){if(O.linked)for(var V=0;V<O.linked.length;++V){var Z=O.linked[V];if(Z.doc!=P){var ne=U&&Z.sharedHist;C&&!ne||(g(Z.doc,ne),w(Z.doc,O,ne))}}}w(d,null,!0)}function u2(d,g){if(g.cm)throw new Error("This document is already in use.");d.doc=g,g.cm=d,Rp(d),Vp(d),f2(d),d.options.direction=g.direction,d.options.lineWrapping||wp(d),d.options.mode=g.modeOption,_r(d)}function f2(d){(d.doc.direction=="rtl"?te:B)(d.display.lineDiv,"CodeMirror-rtl")}function tI(d){Rr(d,function(){f2(d),_r(d)})}function I1(d){this.done=[],this.undone=[],this.undoDepth=d?d.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=d?d.maxGeneration:1}function Yp(d,g){var C={from:$a(g.from),to:to(g),text:Pl(d,g.from,g.to)};return h2(d,C,g.from.line,g.to.line+1),no(d,function(w){return h2(w,C,g.from.line,g.to.line+1)},!0),C}function c2(d){for(;d.length;){var g=$e(d);if(g.ranges)d.pop();else break}}function nI(d,g){if(g)return c2(d.done),$e(d.done);if(d.done.length&&!$e(d.done).ranges)return $e(d.done);if(d.done.length>1&&!d.done[d.done.length-2].ranges)return d.done.pop(),$e(d.done)}function d2(d,g,C,w){var O=d.history;O.undone.length=0;var P=+new Date,U,V;if((O.lastOp==w||O.lastOrigin==g.origin&&g.origin&&(g.origin.charAt(0)=="+"&&O.lastModTime>P-(d.cm?d.cm.options.historyEventDelay:500)||g.origin.charAt(0)=="*"))&&(U=nI(O,O.lastOp==w)))V=$e(U.changes),jt(g.from,g.to)==0&&jt(g.from,V.to)==0?V.to=to(g):U.changes.push(Yp(d,g));else{var Z=$e(O.done);for((!Z||!Z.ranges)&&L1(d.sel,O.done),U={changes:[Yp(d,g)],generation:O.generation},O.done.push(U);O.done.length>O.undoDepth;)O.done.shift(),O.done[0].ranges||O.done.shift()}O.done.push(C),O.generation=++O.maxGeneration,O.lastModTime=O.lastSelTime=P,O.lastOp=O.lastSelOp=w,O.lastOrigin=O.lastSelOrigin=g.origin,V||et(d,"historyAdded")}function iI(d,g,C,w){var O=g.charAt(0);return O=="*"||O=="+"&&C.ranges.length==w.ranges.length&&C.somethingSelected()==w.somethingSelected()&&new Date-d.history.lastSelTime<=(d.cm?d.cm.options.historyEventDelay:500)}function rI(d,g,C,w){var O=d.history,P=w&&w.origin;C==O.lastSelOp||P&&O.lastSelOrigin==P&&(O.lastModTime==O.lastSelTime&&O.lastOrigin==P||iI(d,P,$e(O.done),g))?O.done[O.done.length-1]=g:L1(g,O.done),O.lastSelTime=+new Date,O.lastSelOrigin=P,O.lastSelOp=C,w&&w.clearRedo!==!1&&c2(O.undone)}function L1(d,g){var C=$e(g);C&&C.ranges&&C.equals(d)||g.push(d)}function h2(d,g,C,w){var O=g["spans_"+d.id],P=0;d.iter(Math.max(d.first,C),Math.min(d.first+d.size,w),function(U){U.markedSpans&&((O||(O=g["spans_"+d.id]={}))[P]=U.markedSpans),++P})}function lI(d){if(!d)return null;for(var g,C=0;C<d.length;++C)d[C].marker.explicitlyCleared?g||(g=d.slice(0,C)):g&&g.push(d[C]);return g?g.length?g:null:d}function sI(d,g){var C=g["spans_"+d.id];if(!C)return null;for(var w=[],O=0;O<g.text.length;++O)w.push(lI(C[O]));return w}function p2(d,g){var C=sI(d,g),w=vp(d,g);if(!C)return w;if(!w)return C;for(var O=0;O<C.length;++O){var P=C[O],U=w[O];if(P&&U)e:for(var V=0;V<U.length;++V){for(var Z=U[V],ne=0;ne<P.length;++ne)if(P[ne].marker==Z.marker)continue e;P.push(Z)}else U&&(C[O]=U)}return C}function Xa(d,g,C){for(var w=[],O=0;O<d.length;++O){var P=d[O];if(P.ranges){w.push(C?il.prototype.deepCopy.call(P):P);continue}var U=P.changes,V=[];w.push({changes:V});for(var Z=0;Z<U.length;++Z){var ne=U[Z],pe=void 0;if(V.push({from:ne.from,to:ne.to,text:ne.text}),g)for(var be in ne)(pe=be.match(/^spans_(\d+)$/))&&Le(g,Number(pe[1]))>-1&&($e(V)[be]=ne[be],delete ne[be])}}return w}function Xp(d,g,C,w){if(w){var O=d.anchor;if(C){var P=jt(g,O)<0;P!=jt(C,O)<0?(O=g,g=C):P!=jt(g,C)<0&&(g=C)}return new Hn(O,g)}else return new Hn(C||g,g)}function D1(d,g,C,w,O){O==null&&(O=d.cm&&(d.cm.display.shift||d.extend)),Ji(d,new il([Xp(d.sel.primary(),g,C,O)],0),w)}function m2(d,g,C){for(var w=[],O=d.cm&&(d.cm.display.shift||d.extend),P=0;P<d.sel.ranges.length;P++)w[P]=Xp(d.sel.ranges[P],g[P],null,O);var U=Bl(d.cm,w,d.sel.primIndex);Ji(d,U,C)}function Zp(d,g,C,w){var O=d.sel.ranges.slice(0);O[g]=C,Ji(d,Bl(d.cm,O,d.sel.primIndex),w)}function g2(d,g,C,w){Ji(d,eo(g,C),w)}function oI(d,g,C){var w={ranges:g.ranges,update:function(O){this.ranges=[];for(var P=0;P<O.length;P++)this.ranges[P]=new Hn(en(d,O[P].anchor),en(d,O[P].head))},origin:C&&C.origin};return et(d,"beforeSelectionChange",d,w),d.cm&&et(d.cm,"beforeSelectionChange",d.cm,w),w.ranges!=g.ranges?Bl(d.cm,w.ranges,w.ranges.length-1):g}function _2(d,g,C){var w=d.history.done,O=$e(w);O&&O.ranges?(w[w.length-1]=g,R1(d,g,C)):Ji(d,g,C)}function Ji(d,g,C){R1(d,g,C),rI(d,d.sel,d.cm?d.cm.curOp.id:NaN,C)}function R1(d,g,C){(qt(d,"beforeSelectionChange")||d.cm&&qt(d.cm,"beforeSelectionChange"))&&(g=oI(d,g,C));var w=C&&C.bias||(jt(g.primary().head,d.sel.primary().head)<0?-1:1);b2(d,y2(d,g,w,!0)),!(C&&C.scroll===!1)&&d.cm&&d.cm.getOption("readOnly")!="nocursor"&&Ga(d.cm)}function b2(d,g){g.equals(d.sel)||(d.sel=g,d.cm&&(d.cm.curOp.updateInput=1,d.cm.curOp.selectionChanged=!0,xt(d.cm)),zi(d,"cursorActivity",d))}function v2(d){b2(d,y2(d,d.sel,null,!1))}function y2(d,g,C,w){for(var O,P=0;P<g.ranges.length;P++){var U=g.ranges[P],V=g.ranges.length==d.sel.ranges.length&&d.sel.ranges[P],Z=P1(d,U.anchor,V&&V.anchor,C,w),ne=P1(d,U.head,V&&V.head,C,w);(O||Z!=U.anchor||ne!=U.head)&&(O||(O=g.ranges.slice(0,P)),O[P]=new Hn(Z,ne))}return O?Bl(d.cm,O,g.primIndex):g}function Za(d,g,C,w,O){var P=$t(d,g.line);if(P.markedSpans)for(var U=0;U<P.markedSpans.length;++U){var V=P.markedSpans[U],Z=V.marker,ne="selectLeft"in Z?!Z.selectLeft:Z.inclusiveLeft,pe="selectRight"in Z?!Z.selectRight:Z.inclusiveRight;if((V.from==null||(ne?V.from<=g.ch:V.from<g.ch))&&(V.to==null||(pe?V.to>=g.ch:V.to>g.ch))){if(O&&(et(Z,"beforeCursorEnter"),Z.explicitlyCleared))if(P.markedSpans){--U;continue}else break;if(!Z.atomic)continue;if(C){var be=Z.find(w<0?1:-1),Ae=void 0;if((w<0?pe:ne)&&(be=k2(d,be,-w,be&&be.line==g.line?P:null)),be&&be.line==g.line&&(Ae=jt(be,C))&&(w<0?Ae<0:Ae>0))return Za(d,be,g,w,O)}var we=Z.find(w<0?-1:1);return(w<0?ne:pe)&&(we=k2(d,we,w,we.line==g.line?P:null)),we?Za(d,we,g,w,O):null}}return g}function P1(d,g,C,w,O){var P=w||1,U=Za(d,g,C,P,O)||!O&&Za(d,g,C,P,!0)||Za(d,g,C,-P,O)||!O&&Za(d,g,C,-P,!0);return U||(d.cantEdit=!0,rt(d.first,0))}function k2(d,g,C,w){return C<0&&g.ch==0?g.line>d.first?en(d,rt(g.line-1)):null:C>0&&g.ch==(w||$t(d,g.line)).text.length?g.line<d.first+d.size-1?rt(g.line+1,0):null:new rt(g.line,g.ch+C)}function T2(d){d.setSelection(rt(d.firstLine(),0),rt(d.lastLine()),bt)}function w2(d,g,C){var w={canceled:!1,from:g.from,to:g.to,text:g.text,origin:g.origin,cancel:function(){return w.canceled=!0}};return C&&(w.update=function(O,P,U,V){O&&(w.from=en(d,O)),P&&(w.to=en(d,P)),U&&(w.text=U),V!==void 0&&(w.origin=V)}),et(d,"beforeChange",d,w),d.cm&&et(d.cm,"beforeChange",d.cm,w),w.canceled?(d.cm&&(d.cm.curOp.updateInput=2),null):{from:w.from,to:w.to,text:w.text,origin:w.origin}}function Qa(d,g,C){if(d.cm){if(!d.cm.curOp)return qi(d.cm,Qa)(d,g,C);if(d.cm.state.suppressEdits)return}if(!((qt(d,"beforeChange")||d.cm&&qt(d.cm,"beforeChange"))&&(g=w2(d,g,!0),!g))){var w=ft&&!C&&rM(d,g.from,g.to);if(w)for(var O=w.length-1;O>=0;--O)E2(d,{from:w[O].from,to:w[O].to,text:O?[""]:g.text,origin:g.origin});else E2(d,g)}}function E2(d,g){if(!(g.text.length==1&&g.text[0]==""&&jt(g.from,g.to)==0)){var C=Kp(d,g);d2(d,g,C,d.cm?d.cm.curOp.id:NaN),wf(d,g,C,vp(d,g));var w=[];no(d,function(O,P){!P&&Le(w,O.history)==-1&&(O2(O.history,g),w.push(O.history)),wf(O,g,null,vp(O,g))})}}function F1(d,g,C){var w=d.cm&&d.cm.state.suppressEdits;if(!(w&&!C)){for(var O=d.history,P,U=d.sel,V=g=="undo"?O.done:O.undone,Z=g=="undo"?O.undone:O.done,ne=0;ne<V.length&&(P=V[ne],!(C?P.ranges&&!P.equals(d.sel):!P.ranges));ne++);if(ne!=V.length){for(O.lastOrigin=O.lastSelOrigin=null;;)if(P=V.pop(),P.ranges){if(L1(P,Z),C&&!P.equals(d.sel)){Ji(d,P,{clearRedo:!1});return}U=P}else if(w){V.push(P);return}else break;var pe=[];L1(U,Z),Z.push({changes:pe,generation:O.generation}),O.generation=P.generation||++O.maxGeneration;for(var be=qt(d,"beforeChange")||d.cm&&qt(d.cm,"beforeChange"),Ae=function(Qe){var ct=P.changes[Qe];if(ct.origin=g,be&&!w2(d,ct,!1))return V.length=0,{};pe.push(Yp(d,ct));var Tt=Qe?Kp(d,ct):$e(V);wf(d,ct,Tt,p2(d,ct)),!Qe&&d.cm&&d.cm.scrollIntoView({from:ct.from,to:to(ct)});var Nt=[];no(d,function(wt,Lt){!Lt&&Le(Nt,wt.history)==-1&&(O2(wt.history,ct),Nt.push(wt.history)),wf(wt,ct,null,p2(wt,ct))})},we=P.changes.length-1;we>=0;--we){var Ge=Ae(we);if(Ge)return Ge.v}}}}function S2(d,g){if(g!=0&&(d.first+=g,d.sel=new il(Bt(d.sel.ranges,function(O){return new Hn(rt(O.anchor.line+g,O.anchor.ch),rt(O.head.line+g,O.head.ch))}),d.sel.primIndex),d.cm)){_r(d.cm,d.first,d.first-g,g);for(var C=d.cm.display,w=C.viewFrom;w<C.viewTo;w++)Qs(d.cm,w,"gutter")}}function wf(d,g,C,w){if(d.cm&&!d.cm.curOp)return qi(d.cm,wf)(d,g,C,w);if(g.to.line<d.first){S2(d,g.text.length-1-(g.to.line-g.from.line));return}if(!(g.from.line>d.lastLine())){if(g.from.line<d.first){var O=g.text.length-1-(d.first-g.from.line);S2(d,O),g={from:rt(d.first,0),to:rt(g.to.line+O,g.to.ch),text:[$e(g.text)],origin:g.origin}}var P=d.lastLine();g.to.line>P&&(g={from:g.from,to:rt(P,$t(d,P).text.length),text:[g.text[0]],origin:g.origin}),g.removed=Pl(d,g.from,g.to),C||(C=Kp(d,g)),d.cm?aI(d.cm,g,w):Gp(d,g,w),R1(d,C,bt),d.cantEdit&&P1(d,rt(d.firstLine(),0))&&(d.cantEdit=!1)}}function aI(d,g,C){var w=d.doc,O=d.display,P=g.from,U=g.to,V=!1,Z=P.line;d.options.lineWrapping||(Z=pn($l($t(w,P.line))),w.iter(Z,U.line+1,function(we){if(we==O.maxLine)return V=!0,!0})),w.sel.contains(g.from,g.to)>-1&&xt(d),Gp(w,g,C,jb(d)),d.options.lineWrapping||(w.iter(Z,P.line+g.text.length,function(we){var Ge=v1(we);Ge>O.maxLineLength&&(O.maxLine=we,O.maxLineLength=Ge,O.maxLineChanged=!0,V=!1)}),V&&(d.curOp.updateMaxLine=!0)),Be(w,P.line),yf(d,400);var ne=g.text.length-(U.line-P.line)-1;g.full?_r(d):P.line==U.line&&g.text.length==1&&!a2(d.doc,g)?Qs(d,P.line,"text"):_r(d,P.line,U.line+1,ne);var pe=qt(d,"changes"),be=qt(d,"change");if(be||pe){var Ae={from:P,to:U,text:g.text,removed:g.removed,origin:g.origin};be&&zi(d,"change",d,Ae),pe&&(d.curOp.changeObjs||(d.curOp.changeObjs=[])).push(Ae)}d.display.selForContextMenu=null}function Ja(d,g,C,w,O){var P;w||(w=C),jt(w,C)<0&&(P=[w,C],C=P[0],w=P[1]),typeof g=="string"&&(g=d.splitLines(g)),Qa(d,{from:C,to:w,text:g,origin:O})}function C2(d,g,C,w){C<d.line?d.line+=w:g<d.line&&(d.line=g,d.ch=0)}function A2(d,g,C,w){for(var O=0;O<d.length;++O){var P=d[O],U=!0;if(P.ranges){P.copied||(P=d[O]=P.deepCopy(),P.copied=!0);for(var V=0;V<P.ranges.length;V++)C2(P.ranges[V].anchor,g,C,w),C2(P.ranges[V].head,g,C,w);continue}for(var Z=0;Z<P.changes.length;++Z){var ne=P.changes[Z];if(C<ne.from.line)ne.from=rt(ne.from.line+w,ne.from.ch),ne.to=rt(ne.to.line+w,ne.to.ch);else if(g<=ne.to.line){U=!1;break}}U||(d.splice(0,O+1),O=0)}}function O2(d,g){var C=g.from.line,w=g.to.line,O=g.text.length-(w-C)-1;A2(d.done,C,w,O),A2(d.undone,C,w,O)}function Ef(d,g,C,w){var O=g,P=g;return typeof g=="number"?P=$t(d,Lr(d,g)):O=pn(g),O==null?null:(w(P,O)&&d.cm&&Qs(d.cm,O,C),P)}function Sf(d){this.lines=d,this.parent=null;for(var g=0,C=0;C<d.length;++C)d[C].parent=this,g+=d[C].height;this.height=g}Sf.prototype={chunkSize:function(){return this.lines.length},removeInner:function(d,g){for(var C=d,w=d+g;C<w;++C){var O=this.lines[C];this.height-=O.height,uM(O),zi(O,"delete")}this.lines.splice(d,g)},collapse:function(d){d.push.apply(d,this.lines)},insertInner:function(d,g,C){this.height+=C,this.lines=this.lines.slice(0,d).concat(g).concat(this.lines.slice(d));for(var w=0;w<g.length;++w)g[w].parent=this},iterN:function(d,g,C){for(var w=d+g;d<w;++d)if(C(this.lines[d]))return!0}};function Cf(d){this.children=d;for(var g=0,C=0,w=0;w<d.length;++w){var O=d[w];g+=O.chunkSize(),C+=O.height,O.parent=this}this.size=g,this.height=C,this.parent=null}Cf.prototype={chunkSize:function(){return this.size},removeInner:function(d,g){this.size-=g;for(var C=0;C<this.children.length;++C){var w=this.children[C],O=w.chunkSize();if(d<O){var P=Math.min(g,O-d),U=w.height;if(w.removeInner(d,P),this.height-=U-w.height,O==P&&(this.children.splice(C--,1),w.parent=null),(g-=P)==0)break;d=0}else d-=O}if(this.size-g<25&&(this.children.length>1||!(this.children[0]instanceof Sf))){var V=[];this.collapse(V),this.children=[new Sf(V)],this.children[0].parent=this}},collapse:function(d){for(var g=0;g<this.children.length;++g)this.children[g].collapse(d)},insertInner:function(d,g,C){this.size+=g.length,this.height+=C;for(var w=0;w<this.children.length;++w){var O=this.children[w],P=O.chunkSize();if(d<=P){if(O.insertInner(d,g,C),O.lines&&O.lines.length>50){for(var U=O.lines.length%25+25,V=U;V<O.lines.length;){var Z=new Sf(O.lines.slice(V,V+=25));O.height-=Z.height,this.children.splice(++w,0,Z),Z.parent=this}O.lines=O.lines.slice(0,U),this.maybeSpill()}break}d-=P}},maybeSpill:function(){if(!(this.children.length<=10)){var d=this;do{var g=d.children.splice(d.children.length-5,5),C=new Cf(g);if(d.parent){d.size-=C.size,d.height-=C.height;var O=Le(d.parent.children,d);d.parent.children.splice(O+1,0,C)}else{var w=new Cf(d.children);w.parent=d,d.children=[w,C],d=w}C.parent=d.parent}while(d.children.length>10);d.parent.maybeSpill()}},iterN:function(d,g,C){for(var w=0;w<this.children.length;++w){var O=this.children[w],P=O.chunkSize();if(d<P){var U=Math.min(g,P-d);if(O.iterN(d,U,C))return!0;if((g-=U)==0)break;d=0}else d-=P}}};var Af=function(d,g,C){if(C)for(var w in C)C.hasOwnProperty(w)&&(this[w]=C[w]);this.doc=d,this.node=g};Af.prototype.clear=function(){var d=this.doc.cm,g=this.line.widgets,C=this.line,w=pn(C);if(!(w==null||!g)){for(var O=0;O<g.length;++O)g[O]==this&&g.splice(O--,1);g.length||(C.widgets=null);var P=hf(this);gr(C,Math.max(0,C.height-P)),d&&(Rr(d,function(){N2(d,C,-P),Qs(d,w,"widget")}),zi(d,"lineWidgetCleared",d,this,w))}},Af.prototype.changed=function(){var d=this,g=this.height,C=this.doc.cm,w=this.line;this.height=null;var O=hf(this)-g;O&&(Zs(this.doc,w)||gr(w,w.height+O),C&&Rr(C,function(){C.curOp.forceUpdate=!0,N2(C,w,O),zi(C,"lineWidgetChanged",C,d,pn(w))}))},yn(Af);function N2(d,g,C){Cs(g)<(d.curOp&&d.curOp.scrollTop||d.doc.scrollTop)&&xp(d,C)}function uI(d,g,C,w){var O=new Af(d,C,w),P=d.cm;return P&&O.noHScroll&&(P.display.alignWidgets=!0),Ef(d,g,"widget",function(U){var V=U.widgets||(U.widgets=[]);if(O.insertAt==null?V.push(O):V.splice(Math.min(V.length,Math.max(0,O.insertAt)),0,O),O.line=U,P&&!Zs(d,U)){var Z=Cs(U)<d.scrollTop;gr(U,U.height+hf(O)),Z&&xp(P,O.height),P.curOp.forceUpdate=!0}return!0}),P&&zi(P,"lineWidgetAdded",P,O,typeof g=="number"?g:pn(g)),O}var M2=0,io=function(d,g){this.lines=[],this.type=g,this.doc=d,this.id=++M2};io.prototype.clear=function(){if(!this.explicitlyCleared){var d=this.doc.cm,g=d&&!d.curOp;if(g&&Yo(d),qt(this,"clear")){var C=this.find();C&&zi(this,"clear",C.from,C.to)}for(var w=null,O=null,P=0;P<this.lines.length;++P){var U=this.lines[P],V=Ei(U.markedSpans,this);d&&!this.collapsed?Qs(d,pn(U),"text"):d&&(V.to!=null&&(O=pn(U)),V.from!=null&&(w=pn(U))),U.markedSpans=dl(U.markedSpans,V),V.from==null&&this.collapsed&&!Zs(this.doc,U)&&d&&gr(U,Wa(d.display))}if(d&&this.collapsed&&!d.options.lineWrapping)for(var Z=0;Z<this.lines.length;++Z){var ne=$l(this.lines[Z]),pe=v1(ne);pe>d.display.maxLineLength&&(d.display.maxLine=ne,d.display.maxLineLength=pe,d.display.maxLineChanged=!0)}w!=null&&d&&this.collapsed&&_r(d,w,O+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,d&&v2(d.doc)),d&&zi(d,"markerCleared",d,this,w,O),g&&Xo(d),this.parent&&this.parent.clear()}},io.prototype.find=function(d,g){d==null&&this.type=="bookmark"&&(d=1);for(var C,w,O=0;O<this.lines.length;++O){var P=this.lines[O],U=Ei(P.markedSpans,this);if(U.from!=null&&(C=rt(g?P:pn(P),U.from),d==-1))return C;if(U.to!=null&&(w=rt(g?P:pn(P),U.to),d==1))return w}return C&&{from:C,to:w}},io.prototype.changed=function(){var d=this,g=this.find(-1,!0),C=this,w=this.doc.cm;!g||!w||Rr(w,function(){var O=g.line,P=pn(g.line),U=Ap(w,P);if(U&&(Fb(U),w.curOp.selectionChanged=w.curOp.forceUpdate=!0),w.curOp.updateMaxLine=!0,!Zs(C.doc,O)&&C.height!=null){var V=C.height;C.height=null;var Z=hf(C)-V;Z&&gr(O,O.height+Z)}zi(w,"markerChanged",w,d)})},io.prototype.attachLine=function(d){if(!this.lines.length&&this.doc.cm){var g=this.doc.cm.curOp;(!g.maybeHiddenMarkers||Le(g.maybeHiddenMarkers,this)==-1)&&(g.maybeUnhiddenMarkers||(g.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(d)},io.prototype.detachLine=function(d){if(this.lines.splice(Le(this.lines,d),1),!this.lines.length&&this.doc.cm){var g=this.doc.cm.curOp;(g.maybeHiddenMarkers||(g.maybeHiddenMarkers=[])).push(this)}},yn(io);function eu(d,g,C,w,O){if(w&&w.shared)return fI(d,g,C,w,O);if(d.cm&&!d.cm.curOp)return qi(d.cm,eu)(d,g,C,w,O);var P=new io(d,O),U=jt(g,C);if(w&&X(w,P,!1),U>0||U==0&&P.clearWhenEmpty!==!1)return P;if(P.replacedWith&&(P.collapsed=!0,P.widgetNode=j("span",[P.replacedWith],"CodeMirror-widget"),w.handleMouseEvents||P.widgetNode.setAttribute("cm-ignore-events","true"),w.insertLeft&&(P.widgetNode.insertLeft=!0)),P.collapsed){if(yb(d,g.line,g,C,P)||g.line!=C.line&&yb(d,C.line,g,C,P))throw new Error("Inserting collapsed marker partially overlapping an existing one");Ii()}P.addToHistory&&d2(d,{from:g,to:C,origin:"markText"},d.sel,NaN);var V=g.line,Z=d.cm,ne;if(d.iter(V,C.line+1,function(be){Z&&P.collapsed&&!Z.options.lineWrapping&&$l(be)==Z.display.maxLine&&(ne=!0),P.collapsed&&V!=g.line&&gr(be,0),tM(be,new _i(P,V==g.line?g.ch:null,V==C.line?C.ch:null),d.cm&&d.cm.curOp),++V}),P.collapsed&&d.iter(g.line,C.line+1,function(be){Zs(d,be)&&gr(be,0)}),P.clearOnEnter&&at(P,"beforeCursorEnter",function(){return P.clear()}),P.readOnly&&(Cn(),(d.history.done.length||d.history.undone.length)&&d.clearHistory()),P.collapsed&&(P.id=++M2,P.atomic=!0),Z){if(ne&&(Z.curOp.updateMaxLine=!0),P.collapsed)_r(Z,g.line,C.line+1);else if(P.className||P.startStyle||P.endStyle||P.css||P.attributes||P.title)for(var pe=g.line;pe<=C.line;pe++)Qs(Z,pe,"text");P.atomic&&v2(Z.doc),zi(Z,"markerAdded",Z,P)}return P}var Of=function(d,g){this.markers=d,this.primary=g;for(var C=0;C<d.length;++C)d[C].parent=this};Of.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var d=0;d<this.markers.length;++d)this.markers[d].clear();zi(this,"clear")}},Of.prototype.find=function(d,g){return this.primary.find(d,g)},yn(Of);function fI(d,g,C,w,O){w=X(w),w.shared=!1;var P=[eu(d,g,C,w,O)],U=P[0],V=w.widgetNode;return no(d,function(Z){V&&(w.widgetNode=V.cloneNode(!0)),P.push(eu(Z,en(Z,g),en(Z,C),w,O));for(var ne=0;ne<Z.linked.length;++ne)if(Z.linked[ne].isParent)return;U=$e(P)}),new Of(P,U)}function I2(d){return d.findMarks(rt(d.first,0),d.clipPos(rt(d.lastLine())),function(g){return g.parent})}function cI(d,g){for(var C=0;C<g.length;C++){var w=g[C],O=w.find(),P=d.clipPos(O.from),U=d.clipPos(O.to);if(jt(P,U)){var V=eu(d,P,U,w.primary,w.primary.type);w.markers.push(V),V.parent=w}}}function dI(d){for(var g=function(w){var O=d[w],P=[O.primary.doc];no(O.primary.doc,function(Z){return P.push(Z)});for(var U=0;U<O.markers.length;U++){var V=O.markers[U];Le(P,V.doc)==-1&&(V.parent=null,O.markers.splice(U--,1))}},C=0;C<d.length;C++)g(C)}var hI=0,br=function(d,g,C,w,O){if(!(this instanceof br))return new br(d,g,C,w,O);C==null&&(C=0),Cf.call(this,[new Sf([new za("",null)])]),this.first=C,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=C;var P=rt(C,0);this.sel=eo(P),this.history=new I1(null),this.id=++hI,this.modeOption=g,this.lineSep=w,this.direction=O=="rtl"?"rtl":"ltr",this.extend=!1,typeof d=="string"&&(d=this.splitLines(d)),Gp(this,{from:P,to:P,text:d}),Ji(this,eo(P),bt)};br.prototype=Fe(Cf.prototype,{constructor:br,iter:function(d,g,C){C?this.iterN(d-this.first,g-d,C):this.iterN(this.first,this.first+this.size,d)},insert:function(d,g){for(var C=0,w=0;w<g.length;++w)C+=g[w].height;this.insertInner(d-this.first,g,C)},remove:function(d,g){this.removeInner(d-this.first,g)},getValue:function(d){var g=uf(this,this.first,this.first+this.size);return d===!1?g:g.join(d||this.lineSeparator())},setValue:ji(function(d){var g=rt(this.first,0),C=this.first+this.size-1;Qa(this,{from:g,to:rt(C,$t(this,C).text.length),text:this.splitLines(d),origin:"setValue",full:!0},!0),this.cm&&gf(this.cm,0,0),Ji(this,eo(g),bt)}),replaceRange:function(d,g,C,w){g=en(this,g),C=C?en(this,C):g,Ja(this,d,g,C,w)},getRange:function(d,g,C){var w=Pl(this,en(this,d),en(this,g));return C===!1?w:C===""?w.join(""):w.join(C||this.lineSeparator())},getLine:function(d){var g=this.getLineHandle(d);return g&&g.text},getLineHandle:function(d){if(Ir(this,d))return $t(this,d)},getLineNumber:function(d){return pn(d)},getLineHandleVisualStart:function(d){return typeof d=="number"&&(d=$t(this,d)),$l(d)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(d){return en(this,d)},getCursor:function(d){var g=this.sel.primary(),C;return d==null||d=="head"?C=g.head:d=="anchor"?C=g.anchor:d=="end"||d=="to"||d===!1?C=g.to():C=g.from(),C},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:ji(function(d,g,C){g2(this,en(this,typeof d=="number"?rt(d,g||0):d),null,C)}),setSelection:ji(function(d,g,C){g2(this,en(this,d),en(this,g||d),C)}),extendSelection:ji(function(d,g,C){D1(this,en(this,d),g&&en(this,g),C)}),extendSelections:ji(function(d,g){m2(this,Ha(this,d),g)}),extendSelectionsBy:ji(function(d,g){var C=Bt(this.sel.ranges,d);m2(this,Ha(this,C),g)}),setSelections:ji(function(d,g,C){if(d.length){for(var w=[],O=0;O<d.length;O++)w[O]=new Hn(en(this,d[O].anchor),en(this,d[O].head||d[O].anchor));g==null&&(g=Math.min(d.length-1,this.sel.primIndex)),Ji(this,Bl(this.cm,w,g),C)}}),addSelection:ji(function(d,g,C){var w=this.sel.ranges.slice(0);w.push(new Hn(en(this,d),en(this,g||d))),Ji(this,Bl(this.cm,w,w.length-1),C)}),getSelection:function(d){for(var g=this.sel.ranges,C,w=0;w<g.length;w++){var O=Pl(this,g[w].from(),g[w].to());C=C?C.concat(O):O}return d===!1?C:C.join(d||this.lineSeparator())},getSelections:function(d){for(var g=[],C=this.sel.ranges,w=0;w<C.length;w++){var O=Pl(this,C[w].from(),C[w].to());d!==!1&&(O=O.join(d||this.lineSeparator())),g[w]=O}return g},replaceSelection:function(d,g,C){for(var w=[],O=0;O<this.sel.ranges.length;O++)w[O]=d;this.replaceSelections(w,g,C||"+input")},replaceSelections:ji(function(d,g,C){for(var w=[],O=this.sel,P=0;P<O.ranges.length;P++){var U=O.ranges[P];w[P]={from:U.from(),to:U.to(),text:this.splitLines(d[P]),origin:C}}for(var V=g&&g!="end"&&eI(this,w,g),Z=w.length-1;Z>=0;Z--)Qa(this,w[Z]);V?_2(this,V):this.cm&&Ga(this.cm)}),undo:ji(function(){F1(this,"undo")}),redo:ji(function(){F1(this,"redo")}),undoSelection:ji(function(){F1(this,"undo",!0)}),redoSelection:ji(function(){F1(this,"redo",!0)}),setExtending:function(d){this.extend=d},getExtending:function(){return this.extend},historySize:function(){for(var d=this.history,g=0,C=0,w=0;w<d.done.length;w++)d.done[w].ranges||++g;for(var O=0;O<d.undone.length;O++)d.undone[O].ranges||++C;return{undo:g,redo:C}},clearHistory:function(){var d=this;this.history=new I1(this.history),no(this,function(g){return g.history=d.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(d){return d&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(d){return this.history.generation==(d||this.cleanGeneration)},getHistory:function(){return{done:Xa(this.history.done),undone:Xa(this.history.undone)}},setHistory:function(d){var g=this.history=new I1(this.history);g.done=Xa(d.done.slice(0),null,!0),g.undone=Xa(d.undone.slice(0),null,!0)},setGutterMarker:ji(function(d,g,C){return Ef(this,d,"gutter",function(w){var O=w.gutterMarkers||(w.gutterMarkers={});return O[g]=C,!C&&Ue(O)&&(w.gutterMarkers=null),!0})}),clearGutter:ji(function(d){var g=this;this.iter(function(C){C.gutterMarkers&&C.gutterMarkers[d]&&Ef(g,C,"gutter",function(){return C.gutterMarkers[d]=null,Ue(C.gutterMarkers)&&(C.gutterMarkers=null),!0})})}),lineInfo:function(d){var g;if(typeof d=="number"){if(!Ir(this,d)||(g=d,d=$t(this,d),!d))return null}else if(g=pn(d),g==null)return null;return{line:g,handle:d,text:d.text,gutterMarkers:d.gutterMarkers,textClass:d.textClass,bgClass:d.bgClass,wrapClass:d.wrapClass,widgets:d.widgets}},addLineClass:ji(function(d,g,C){return Ef(this,d,g=="gutter"?"gutter":"class",function(w){var O=g=="text"?"textClass":g=="background"?"bgClass":g=="gutter"?"gutterClass":"wrapClass";if(!w[O])w[O]=C;else{if($(C).test(w[O]))return!1;w[O]+=" "+C}return!0})}),removeLineClass:ji(function(d,g,C){return Ef(this,d,g=="gutter"?"gutter":"class",function(w){var O=g=="text"?"textClass":g=="background"?"bgClass":g=="gutter"?"gutterClass":"wrapClass",P=w[O];if(P)if(C==null)w[O]=null;else{var U=P.match($(C));if(!U)return!1;var V=U.index+U[0].length;w[O]=P.slice(0,U.index)+(!U.index||V==P.length?"":" ")+P.slice(V)||null}else return!1;return!0})}),addLineWidget:ji(function(d,g,C){return uI(this,d,g,C)}),removeLineWidget:function(d){d.clear()},markText:function(d,g,C){return eu(this,en(this,d),en(this,g),C,C&&C.type||"range")},setBookmark:function(d,g){var C={replacedWith:g&&(g.nodeType==null?g.widget:g),insertLeft:g&&g.insertLeft,clearWhenEmpty:!1,shared:g&&g.shared,handleMouseEvents:g&&g.handleMouseEvents};return d=en(this,d),eu(this,d,d,C,"bookmark")},findMarksAt:function(d){d=en(this,d);var g=[],C=$t(this,d.line).markedSpans;if(C)for(var w=0;w<C.length;++w){var O=C[w];(O.from==null||O.from<=d.ch)&&(O.to==null||O.to>=d.ch)&&g.push(O.marker.parent||O.marker)}return g},findMarks:function(d,g,C){d=en(this,d),g=en(this,g);var w=[],O=d.line;return this.iter(d.line,g.line+1,function(P){var U=P.markedSpans;if(U)for(var V=0;V<U.length;V++){var Z=U[V];!(Z.to!=null&&O==d.line&&d.ch>=Z.to||Z.from==null&&O!=d.line||Z.from!=null&&O==g.line&&Z.from>=g.ch)&&(!C||C(Z.marker))&&w.push(Z.marker.parent||Z.marker)}++O}),w},getAllMarks:function(){var d=[];return this.iter(function(g){var C=g.markedSpans;if(C)for(var w=0;w<C.length;++w)C[w].from!=null&&d.push(C[w].marker)}),d},posFromIndex:function(d){var g,C=this.first,w=this.lineSeparator().length;return this.iter(function(O){var P=O.text.length+w;if(P>d)return g=d,!0;d-=P,++C}),en(this,rt(C,g))},indexFromPos:function(d){d=en(this,d);var g=d.ch;if(d.line<this.first||d.ch<0)return 0;var C=this.lineSeparator().length;return this.iter(this.first,d.line,function(w){g+=w.text.length+C}),g},copy:function(d){var g=new br(uf(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return g.scrollTop=this.scrollTop,g.scrollLeft=this.scrollLeft,g.sel=this.sel,g.extend=!1,d&&(g.history.undoDepth=this.history.undoDepth,g.setHistory(this.getHistory())),g},linkedDoc:function(d){d||(d={});var g=this.first,C=this.first+this.size;d.from!=null&&d.from>g&&(g=d.from),d.to!=null&&d.to<C&&(C=d.to);var w=new br(uf(this,g,C),d.mode||this.modeOption,g,this.lineSep,this.direction);return d.sharedHist&&(w.history=this.history),(this.linked||(this.linked=[])).push({doc:w,sharedHist:d.sharedHist}),w.linked=[{doc:this,isParent:!0,sharedHist:d.sharedHist}],cI(w,I2(this)),w},unlinkDoc:function(d){if(d instanceof li&&(d=d.doc),this.linked)for(var g=0;g<this.linked.length;++g){var C=this.linked[g];if(C.doc==d){this.linked.splice(g,1),d.unlinkDoc(this),dI(I2(this));break}}if(d.history==this.history){var w=[d.id];no(d,function(O){return w.push(O.id)},!0),d.history=new I1(null),d.history.done=Xa(this.history.done,w),d.history.undone=Xa(this.history.undone,w)}},iterLinkedDocs:function(d){no(this,d)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(d){return this.lineSep?d.split(this.lineSep):Rt(d)},lineSeparator:function(){return this.lineSep||`
`},setDirection:ji(function(d){d!="rtl"&&(d="ltr"),d!=this.direction&&(this.direction=d,this.iter(function(g){return g.order=null}),this.cm&&tI(this.cm))})}),br.prototype.eachLine=br.prototype.iter;var L2=0;function pI(d){var g=this;if(D2(g),!(Ot(g,d)||As(g.display,d))){Nn(d),s&&(L2=+new Date);var C=Wo(g,d,!0),w=d.dataTransfer.files;if(!(!C||g.isReadOnly()))if(w&&w.length&&window.FileReader&&window.File)for(var O=w.length,P=Array(O),U=0,V=function(){++U==O&&qi(g,function(){C=en(g.doc,C);var we={from:C,to:C,text:g.doc.splitLines(P.filter(function(Ge){return Ge!=null}).join(g.doc.lineSeparator())),origin:"paste"};Qa(g.doc,we),_2(g.doc,eo(en(g.doc,C),en(g.doc,to(we))))})()},Z=function(we,Ge){if(g.options.allowDropFileTypes&&Le(g.options.allowDropFileTypes,we.type)==-1){V();return}var Qe=new FileReader;Qe.onerror=function(){return V()},Qe.onload=function(){var ct=Qe.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(ct)){V();return}P[Ge]=ct,V()},Qe.readAsText(we)},ne=0;ne<w.length;ne++)Z(w[ne],ne);else{if(g.state.draggingText&&g.doc.sel.contains(C)>-1){g.state.draggingText(d),setTimeout(function(){return g.display.input.focus()},20);return}try{var pe=d.dataTransfer.getData("Text");if(pe){var be;if(g.state.draggingText&&!g.state.draggingText.copy&&(be=g.listSelections()),R1(g.doc,eo(C,C)),be)for(var Ae=0;Ae<be.length;++Ae)Ja(g.doc,"",be[Ae].anchor,be[Ae].head,"drag");g.replaceSelection(pe,"around","paste"),g.display.input.focus()}}catch{}}}}function mI(d,g){if(s&&(!d.state.draggingText||+new Date-L2<100)){wi(g);return}if(!(Ot(d,g)||As(d.display,g))&&(g.dataTransfer.setData("Text",d.getSelection()),g.dataTransfer.effectAllowed="copyMove",g.dataTransfer.setDragImage&&!h)){var C=z("img",null,null,"position: fixed; left: 0; top: 0;");C.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",c&&(C.width=C.height=1,d.display.wrapper.appendChild(C),C._top=C.offsetTop),g.dataTransfer.setDragImage(C,0,0),c&&C.parentNode.removeChild(C)}}function gI(d,g){var C=Wo(d,g);if(C){var w=document.createDocumentFragment();Pp(d,C,w),d.display.dragCursor||(d.display.dragCursor=z("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),d.display.lineSpace.insertBefore(d.display.dragCursor,d.display.cursorDiv)),q(d.display.dragCursor,w)}}function D2(d){d.display.dragCursor&&(d.display.lineSpace.removeChild(d.display.dragCursor),d.display.dragCursor=null)}function R2(d){if(document.getElementsByClassName){for(var g=document.getElementsByClassName("CodeMirror"),C=[],w=0;w<g.length;w++){var O=g[w].CodeMirror;O&&C.push(O)}C.length&&C[0].operation(function(){for(var P=0;P<C.length;P++)d(C[P])})}}var P2=!1;function _I(){P2||(bI(),P2=!0)}function bI(){var d;at(window,"resize",function(){d==null&&(d=setTimeout(function(){d=null,R2(vI)},100))}),at(window,"blur",function(){return R2(Va)})}function vI(d){var g=d.display;g.cachedCharWidth=g.cachedTextHeight=g.cachedPaddingH=null,g.scrollbarsClipped=!1,d.setSize()}for(var ro={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Nf=0;Nf<10;Nf++)ro[Nf+48]=ro[Nf+96]=String(Nf);for(var $1=65;$1<=90;$1++)ro[$1]=String.fromCharCode($1);for(var Mf=1;Mf<=12;Mf++)ro[Mf+111]=ro[Mf+63235]="F"+Mf;var Ns={};Ns.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Ns.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Ns.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Ns.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Ns.default=A?Ns.macDefault:Ns.pcDefault;function yI(d){var g=d.split(/-(?!$)/);d=g[g.length-1];for(var C,w,O,P,U=0;U<g.length-1;U++){var V=g[U];if(/^(cmd|meta|m)$/i.test(V))P=!0;else if(/^a(lt)?$/i.test(V))C=!0;else if(/^(c|ctrl|control)$/i.test(V))w=!0;else if(/^s(hift)?$/i.test(V))O=!0;else throw new Error("Unrecognized modifier name: "+V)}return C&&(d="Alt-"+d),w&&(d="Ctrl-"+d),P&&(d="Cmd-"+d),O&&(d="Shift-"+d),d}function kI(d){var g={};for(var C in d)if(d.hasOwnProperty(C)){var w=d[C];if(/^(name|fallthrough|(de|at)tach)$/.test(C))continue;if(w=="..."){delete d[C];continue}for(var O=Bt(C.split(" "),yI),P=0;P<O.length;P++){var U=void 0,V=void 0;P==O.length-1?(V=O.join(" "),U=w):(V=O.slice(0,P+1).join(" "),U="...");var Z=g[V];if(!Z)g[V]=U;else if(Z!=U)throw new Error("Inconsistent bindings for "+V)}delete d[C]}for(var ne in g)d[ne]=g[ne];return d}function tu(d,g,C,w){g=H1(g);var O=g.call?g.call(d,w):g[d];if(O===!1)return"nothing";if(O==="...")return"multi";if(O!=null&&C(O))return"handled";if(g.fallthrough){if(Object.prototype.toString.call(g.fallthrough)!="[object Array]")return tu(d,g.fallthrough,C,w);for(var P=0;P<g.fallthrough.length;P++){var U=tu(d,g.fallthrough[P],C,w);if(U)return U}}}function F2(d){var g=typeof d=="string"?d:ro[d.keyCode];return g=="Ctrl"||g=="Alt"||g=="Shift"||g=="Mod"}function $2(d,g,C){var w=d;return g.altKey&&w!="Alt"&&(d="Alt-"+d),(I?g.metaKey:g.ctrlKey)&&w!="Ctrl"&&(d="Ctrl-"+d),(I?g.ctrlKey:g.metaKey)&&w!="Mod"&&(d="Cmd-"+d),!C&&g.shiftKey&&w!="Shift"&&(d="Shift-"+d),d}function H2(d,g){if(c&&d.keyCode==34&&d.char)return!1;var C=ro[d.keyCode];return C==null||d.altGraphKey?!1:(d.keyCode==3&&d.code&&(C=d.code),$2(C,d,g))}function H1(d){return typeof d=="string"?Ns[d]:d}function nu(d,g){for(var C=d.doc.sel.ranges,w=[],O=0;O<C.length;O++){for(var P=g(C[O]);w.length&&jt(P.from,$e(w).to)<=0;){var U=w.pop();if(jt(U.from,P.from)<0){P.from=U.from;break}}w.push(P)}Rr(d,function(){for(var V=w.length-1;V>=0;V--)Ja(d.doc,"",w[V].from,w[V].to,"+delete");Ga(d)})}function Qp(d,g,C){var w=Zt(d.text,g+C,C);return w<0||w>d.text.length?null:w}function Jp(d,g,C){var w=Qp(d,g.ch,C);return w==null?null:new rt(g.line,w,C<0?"after":"before")}function em(d,g,C,w,O){if(d){g.doc.direction=="rtl"&&(O=-O);var P=Jt(C,g.doc.direction);if(P){var U=O<0?$e(P):P[0],V=O<0==(U.level==1),Z=V?"after":"before",ne;if(U.level>0||g.doc.direction=="rtl"){var pe=ja(g,C);ne=O<0?C.text.length-1:0;var be=ts(g,pe,ne).top;ne=Xe(function(Ae){return ts(g,pe,Ae).top==be},O<0==(U.level==1)?U.from:U.to-1,ne),Z=="before"&&(ne=Qp(C,ne,1))}else ne=O<0?U.to:U.from;return new rt(w,ne,Z)}}return new rt(w,O<0?C.text.length:0,O<0?"before":"after")}function TI(d,g,C,w){var O=Jt(g,d.doc.direction);if(!O)return Jp(g,C,w);C.ch>=g.text.length?(C.ch=g.text.length,C.sticky="before"):C.ch<=0&&(C.ch=0,C.sticky="after");var P=Je(O,C.ch,C.sticky),U=O[P];if(d.doc.direction=="ltr"&&U.level%2==0&&(w>0?U.to>C.ch:U.from<C.ch))return Jp(g,C,w);var V=function(Tt,Nt){return Qp(g,Tt instanceof rt?Tt.ch:Tt,Nt)},Z,ne=function(Tt){return d.options.lineWrapping?(Z=Z||ja(d,g),qb(d,g,Z,Tt)):{begin:0,end:g.text.length}},pe=ne(C.sticky=="before"?V(C,-1):C.ch);if(d.doc.direction=="rtl"||U.level==1){var be=U.level==1==w<0,Ae=V(C,be?1:-1);if(Ae!=null&&(be?Ae<=U.to&&Ae<=pe.end:Ae>=U.from&&Ae>=pe.begin)){var we=be?"before":"after";return new rt(C.line,Ae,we)}}var Ge=function(Tt,Nt,wt){for(var Lt=function(Gn,Wi){return Wi?new rt(C.line,V(Gn,1),"before"):new rt(C.line,Gn,"after")};Tt>=0&&Tt<O.length;Tt+=Nt){var Vt=O[Tt],Ut=Nt>0==(Vt.level!=1),bn=Ut?wt.begin:V(wt.end,-1);if(Vt.from<=bn&&bn<Vt.to||(bn=Ut?Vt.from:V(Vt.to,-1),wt.begin<=bn&&bn<wt.end))return Lt(bn,Ut)}},Qe=Ge(P+w,w,pe);if(Qe)return Qe;var ct=w>0?pe.end:V(pe.begin,-1);return ct!=null&&!(w>0&&ct==g.text.length)&&(Qe=Ge(w>0?0:O.length-1,w,ne(ct)),Qe)?Qe:null}var If={selectAll:T2,singleSelection:function(d){return d.setSelection(d.getCursor("anchor"),d.getCursor("head"),bt)},killLine:function(d){return nu(d,function(g){if(g.empty()){var C=$t(d.doc,g.head.line).text.length;return g.head.ch==C&&g.head.line<d.lastLine()?{from:g.head,to:rt(g.head.line+1,0)}:{from:g.head,to:rt(g.head.line,C)}}else return{from:g.from(),to:g.to()}})},deleteLine:function(d){return nu(d,function(g){return{from:rt(g.from().line,0),to:en(d.doc,rt(g.to().line+1,0))}})},delLineLeft:function(d){return nu(d,function(g){return{from:rt(g.from().line,0),to:g.from()}})},delWrappedLineLeft:function(d){return nu(d,function(g){var C=d.charCoords(g.head,"div").top+5,w=d.coordsChar({left:0,top:C},"div");return{from:w,to:g.from()}})},delWrappedLineRight:function(d){return nu(d,function(g){var C=d.charCoords(g.head,"div").top+5,w=d.coordsChar({left:d.display.lineDiv.offsetWidth+100,top:C},"div");return{from:g.from(),to:w}})},undo:function(d){return d.undo()},redo:function(d){return d.redo()},undoSelection:function(d){return d.undoSelection()},redoSelection:function(d){return d.redoSelection()},goDocStart:function(d){return d.extendSelection(rt(d.firstLine(),0))},goDocEnd:function(d){return d.extendSelection(rt(d.lastLine()))},goLineStart:function(d){return d.extendSelectionsBy(function(g){return B2(d,g.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(d){return d.extendSelectionsBy(function(g){return x2(d,g.head)},{origin:"+move",bias:1})},goLineEnd:function(d){return d.extendSelectionsBy(function(g){return wI(d,g.head.line)},{origin:"+move",bias:-1})},goLineRight:function(d){return d.extendSelectionsBy(function(g){var C=d.cursorCoords(g.head,"div").top+5;return d.coordsChar({left:d.display.lineDiv.offsetWidth+100,top:C},"div")},ot)},goLineLeft:function(d){return d.extendSelectionsBy(function(g){var C=d.cursorCoords(g.head,"div").top+5;return d.coordsChar({left:0,top:C},"div")},ot)},goLineLeftSmart:function(d){return d.extendSelectionsBy(function(g){var C=d.cursorCoords(g.head,"div").top+5,w=d.coordsChar({left:0,top:C},"div");return w.ch<d.getLine(w.line).search(/\S/)?x2(d,g.head):w},ot)},goLineUp:function(d){return d.moveV(-1,"line")},goLineDown:function(d){return d.moveV(1,"line")},goPageUp:function(d){return d.moveV(-1,"page")},goPageDown:function(d){return d.moveV(1,"page")},goCharLeft:function(d){return d.moveH(-1,"char")},goCharRight:function(d){return d.moveH(1,"char")},goColumnLeft:function(d){return d.moveH(-1,"column")},goColumnRight:function(d){return d.moveH(1,"column")},goWordLeft:function(d){return d.moveH(-1,"word")},goGroupRight:function(d){return d.moveH(1,"group")},goGroupLeft:function(d){return d.moveH(-1,"group")},goWordRight:function(d){return d.moveH(1,"word")},delCharBefore:function(d){return d.deleteH(-1,"codepoint")},delCharAfter:function(d){return d.deleteH(1,"char")},delWordBefore:function(d){return d.deleteH(-1,"word")},delWordAfter:function(d){return d.deleteH(1,"word")},delGroupBefore:function(d){return d.deleteH(-1,"group")},delGroupAfter:function(d){return d.deleteH(1,"group")},indentAuto:function(d){return d.indentSelection("smart")},indentMore:function(d){return d.indentSelection("add")},indentLess:function(d){return d.indentSelection("subtract")},insertTab:function(d){return d.replaceSelection("	")},insertSoftTab:function(d){for(var g=[],C=d.listSelections(),w=d.options.tabSize,O=0;O<C.length;O++){var P=C[O].from(),U=_e(d.getLine(P.line),P.ch,w);g.push(pt(w-U%w))}d.replaceSelections(g)},defaultTab:function(d){d.somethingSelected()?d.indentSelection("add"):d.execCommand("insertTab")},transposeChars:function(d){return Rr(d,function(){for(var g=d.listSelections(),C=[],w=0;w<g.length;w++)if(g[w].empty()){var O=g[w].head,P=$t(d.doc,O.line).text;if(P){if(O.ch==P.length&&(O=new rt(O.line,O.ch-1)),O.ch>0)O=new rt(O.line,O.ch+1),d.replaceRange(P.charAt(O.ch-1)+P.charAt(O.ch-2),rt(O.line,O.ch-2),O,"+transpose");else if(O.line>d.doc.first){var U=$t(d.doc,O.line-1).text;U&&(O=new rt(O.line,1),d.replaceRange(P.charAt(0)+d.doc.lineSeparator()+U.charAt(U.length-1),rt(O.line-1,U.length-1),O,"+transpose"))}}C.push(new Hn(O,O))}d.setSelections(C)})},newlineAndIndent:function(d){return Rr(d,function(){for(var g=d.listSelections(),C=g.length-1;C>=0;C--)d.replaceRange(d.doc.lineSeparator(),g[C].anchor,g[C].head,"+input");g=d.listSelections();for(var w=0;w<g.length;w++)d.indentLine(g[w].from().line,null,!0);Ga(d)})},openLine:function(d){return d.replaceSelection(`
`,"start")},toggleOverwrite:function(d){return d.toggleOverwrite()}};function B2(d,g){var C=$t(d.doc,g),w=$l(C);return w!=C&&(g=pn(w)),em(!0,d,w,g,1)}function wI(d,g){var C=$t(d.doc,g),w=sM(C);return w!=C&&(g=pn(w)),em(!0,d,C,g,-1)}function x2(d,g){var C=B2(d,g.line),w=$t(d.doc,C.line),O=Jt(w,d.doc.direction);if(!O||O[0].level==0){var P=Math.max(C.ch,w.text.search(/\S/)),U=g.line==C.line&&g.ch<=P&&g.ch;return rt(C.line,U?0:P,C.sticky)}return C}function B1(d,g,C){if(typeof g=="string"&&(g=If[g],!g))return!1;d.display.input.ensurePolled();var w=d.display.shift,O=!1;try{d.isReadOnly()&&(d.state.suppressEdits=!0),C&&(d.display.shift=!1),O=g(d)!=St}finally{d.display.shift=w,d.state.suppressEdits=!1}return O}function EI(d,g,C){for(var w=0;w<d.state.keyMaps.length;w++){var O=tu(g,d.state.keyMaps[w],C,d);if(O)return O}return d.options.extraKeys&&tu(g,d.options.extraKeys,C,d)||tu(g,d.options.keyMap,C,d)}var SI=new oe;function Lf(d,g,C,w){var O=d.state.keySeq;if(O){if(F2(g))return"handled";if(/\'$/.test(g)?d.state.keySeq=null:SI.set(50,function(){d.state.keySeq==O&&(d.state.keySeq=null,d.display.input.reset())}),U2(d,O+" "+g,C,w))return!0}return U2(d,g,C,w)}function U2(d,g,C,w){var O=EI(d,g,w);return O=="multi"&&(d.state.keySeq=g),O=="handled"&&zi(d,"keyHandled",d,g,C),(O=="handled"||O=="multi")&&(Nn(C),Fp(d)),!!O}function z2(d,g){var C=H2(g,!0);return C?g.shiftKey&&!d.state.keySeq?Lf(d,"Shift-"+C,g,function(w){return B1(d,w,!0)})||Lf(d,C,g,function(w){if(typeof w=="string"?/^go[A-Z]/.test(w):w.motion)return B1(d,w)}):Lf(d,C,g,function(w){return B1(d,w)}):!1}function CI(d,g,C){return Lf(d,"'"+C+"'",g,function(w){return B1(d,w,!0)})}var tm=null;function q2(d){var g=this;if(!(d.target&&d.target!=g.display.input.getField())&&(g.curOp.focus=ie(),!Ot(g,d))){s&&o<11&&d.keyCode==27&&(d.returnValue=!1);var C=d.keyCode;g.display.shift=C==16||d.shiftKey;var w=z2(g,d);c&&(tm=w?C:null,!w&&C==88&&!Pt&&(A?d.metaKey:d.ctrlKey)&&g.replaceSelection("",null,"cut")),t&&!A&&!w&&C==46&&d.shiftKey&&!d.ctrlKey&&document.execCommand&&document.execCommand("cut"),C==18&&!/\bCodeMirror-crosshair\b/.test(g.display.lineDiv.className)&&AI(g)}}function AI(d){var g=d.display.lineDiv;te(g,"CodeMirror-crosshair");function C(w){(w.keyCode==18||!w.altKey)&&(B(g,"CodeMirror-crosshair"),De(document,"keyup",C),De(document,"mouseover",C))}at(document,"keyup",C),at(document,"mouseover",C)}function j2(d){d.keyCode==16&&(this.doc.sel.shift=!1),Ot(this,d)}function W2(d){var g=this;if(!(d.target&&d.target!=g.display.input.getField())&&!(As(g.display,d)||Ot(g,d)||d.ctrlKey&&!d.altKey||A&&d.metaKey)){var C=d.keyCode,w=d.charCode;if(c&&C==tm){tm=null,Nn(d);return}if(!(c&&(!d.which||d.which<10)&&z2(g,d))){var O=String.fromCharCode(w??C);O!="\b"&&(CI(g,d,O)||g.display.input.onKeyPress(d))}}}var OI=400,nm=function(d,g,C){this.time=d,this.pos=g,this.button=C};nm.prototype.compare=function(d,g,C){return this.time+OI>d&&jt(g,this.pos)==0&&C==this.button};var Df,Rf;function NI(d,g){var C=+new Date;return Rf&&Rf.compare(C,d,g)?(Df=Rf=null,"triple"):Df&&Df.compare(C,d,g)?(Rf=new nm(C,d,g),Df=null,"double"):(Df=new nm(C,d,g),Rf=null,"single")}function K2(d){var g=this,C=g.display;if(!(Ot(g,d)||C.activeTouch&&C.input.supportsTouch())){if(C.input.ensurePolled(),C.shift=d.shiftKey,As(C,d)){a||(C.scroller.draggable=!1,setTimeout(function(){return C.scroller.draggable=!0},100));return}if(!im(g,d)){var w=Wo(g,d),O=me(d),P=w?NI(w,O):"single";window.focus(),O==1&&g.state.selectingText&&g.state.selectingText(d),!(w&&MI(g,O,w,P,d))&&(O==1?w?LI(g,w,P,d):ce(d)==C.scroller&&Nn(d):O==2?(w&&D1(g.doc,w),setTimeout(function(){return C.input.focus()},20)):O==3&&(R?g.display.input.onContextMenu(d):$p(g)))}}}function MI(d,g,C,w,O){var P="Click";return w=="double"?P="Double"+P:w=="triple"&&(P="Triple"+P),P=(g==1?"Left":g==2?"Middle":"Right")+P,Lf(d,$2(P,O),O,function(U){if(typeof U=="string"&&(U=If[U]),!U)return!1;var V=!1;try{d.isReadOnly()&&(d.state.suppressEdits=!0),V=U(d,C)!=St}finally{d.state.suppressEdits=!1}return V})}function II(d,g,C){var w=d.getOption("configureMouse"),O=w?w(d,g,C):{};if(O.unit==null){var P=M?C.shiftKey&&C.metaKey:C.altKey;O.unit=P?"rectangle":g=="single"?"char":g=="double"?"word":"line"}return(O.extend==null||d.doc.extend)&&(O.extend=d.doc.extend||C.shiftKey),O.addNew==null&&(O.addNew=A?C.metaKey:C.ctrlKey),O.moveOnDrag==null&&(O.moveOnDrag=!(A?C.altKey:C.ctrlKey)),O}function LI(d,g,C,w){s?setTimeout(K(Vb,d),0):d.curOp.focus=ie();var O=II(d,C,w),P=d.doc.sel,U;d.options.dragDrop&&Ce&&!d.isReadOnly()&&C=="single"&&(U=P.contains(g))>-1&&(jt((U=P.ranges[U]).from(),g)<0||g.xRel>0)&&(jt(U.to(),g)>0||g.xRel<0)?DI(d,w,g,O):RI(d,w,g,O)}function DI(d,g,C,w){var O=d.display,P=!1,U=qi(d,function(ne){a&&(O.scroller.draggable=!1),d.state.draggingText=!1,d.state.delayingBlurEvent&&(d.hasFocus()?d.state.delayingBlurEvent=!1:$p(d)),De(O.wrapper.ownerDocument,"mouseup",U),De(O.wrapper.ownerDocument,"mousemove",V),De(O.scroller,"dragstart",Z),De(O.scroller,"drop",U),P||(Nn(ne),w.addNew||D1(d.doc,C,null,null,w.extend),a&&!h||s&&o==9?setTimeout(function(){O.wrapper.ownerDocument.body.focus({preventScroll:!0}),O.input.focus()},20):O.input.focus())}),V=function(ne){P=P||Math.abs(g.clientX-ne.clientX)+Math.abs(g.clientY-ne.clientY)>=10},Z=function(){return P=!0};a&&(O.scroller.draggable=!0),d.state.draggingText=U,U.copy=!w.moveOnDrag,at(O.wrapper.ownerDocument,"mouseup",U),at(O.wrapper.ownerDocument,"mousemove",V),at(O.scroller,"dragstart",Z),at(O.scroller,"drop",U),d.state.delayingBlurEvent=!0,setTimeout(function(){return O.input.focus()},20),O.scroller.dragDrop&&O.scroller.dragDrop()}function V2(d,g,C){if(C=="char")return new Hn(g,g);if(C=="word")return d.findWordAt(g);if(C=="line")return new Hn(rt(g.line,0),en(d.doc,rt(g.line+1,0)));var w=C(d,g);return new Hn(w.from,w.to)}function RI(d,g,C,w){s&&$p(d);var O=d.display,P=d.doc;Nn(g);var U,V,Z=P.sel,ne=Z.ranges;if(w.addNew&&!w.extend?(V=P.sel.contains(C),V>-1?U=ne[V]:U=new Hn(C,C)):(U=P.sel.primary(),V=P.sel.primIndex),w.unit=="rectangle")w.addNew||(U=new Hn(C,C)),C=Wo(d,g,!0,!0),V=-1;else{var pe=V2(d,C,w.unit);w.extend?U=Xp(U,pe.anchor,pe.head,w.extend):U=pe}w.addNew?V==-1?(V=ne.length,Ji(P,Bl(d,ne.concat([U]),V),{scroll:!1,origin:"*mouse"})):ne.length>1&&ne[V].empty()&&w.unit=="char"&&!w.extend?(Ji(P,Bl(d,ne.slice(0,V).concat(ne.slice(V+1)),0),{scroll:!1,origin:"*mouse"}),Z=P.sel):Zp(P,V,U,At):(V=0,Ji(P,new il([U],0),At),Z=P.sel);var be=C;function Ae(wt){if(jt(be,wt)!=0)if(be=wt,w.unit=="rectangle"){for(var Lt=[],Vt=d.options.tabSize,Ut=_e($t(P,C.line).text,C.ch,Vt),bn=_e($t(P,wt.line).text,wt.ch,Vt),Gn=Math.min(Ut,bn),Wi=Math.max(Ut,bn),ci=Math.min(C.line,wt.line),Pr=Math.min(d.lastLine(),Math.max(C.line,wt.line));ci<=Pr;ci++){var vr=$t(P,ci).text,Si=vt(vr,Gn,Vt);Gn==Wi?Lt.push(new Hn(rt(ci,Si),rt(ci,Si))):vr.length>Si&&Lt.push(new Hn(rt(ci,Si),rt(ci,vt(vr,Wi,Vt))))}Lt.length||Lt.push(new Hn(C,C)),Ji(P,Bl(d,Z.ranges.slice(0,V).concat(Lt),V),{origin:"*mouse",scroll:!1}),d.scrollIntoView(wt)}else{var yr=U,Yi=V2(d,wt,w.unit),Li=yr.anchor,Ci;jt(Yi.anchor,Li)>0?(Ci=Yi.head,Li=Ss(yr.from(),Yi.anchor)):(Ci=Yi.anchor,Li=xo(yr.to(),Yi.head));var pi=Z.ranges.slice(0);pi[V]=PI(d,new Hn(en(P,Li),Ci)),Ji(P,Bl(d,pi,V),At)}}var we=O.wrapper.getBoundingClientRect(),Ge=0;function Qe(wt){var Lt=++Ge,Vt=Wo(d,wt,!0,w.unit=="rectangle");if(Vt)if(jt(Vt,be)!=0){d.curOp.focus=ie(),Ae(Vt);var Ut=A1(O,P);(Vt.line>=Ut.to||Vt.line<Ut.from)&&setTimeout(qi(d,function(){Ge==Lt&&Qe(wt)}),150)}else{var bn=wt.clientY<we.top?-20:wt.clientY>we.bottom?20:0;bn&&setTimeout(qi(d,function(){Ge==Lt&&(O.scroller.scrollTop+=bn,Qe(wt))}),50)}}function ct(wt){d.state.selectingText=!1,Ge=1/0,wt&&(Nn(wt),O.input.focus()),De(O.wrapper.ownerDocument,"mousemove",Tt),De(O.wrapper.ownerDocument,"mouseup",Nt),P.history.lastSelOrigin=null}var Tt=qi(d,function(wt){wt.buttons===0||!me(wt)?ct(wt):Qe(wt)}),Nt=qi(d,ct);d.state.selectingText=Nt,at(O.wrapper.ownerDocument,"mousemove",Tt),at(O.wrapper.ownerDocument,"mouseup",Nt)}function PI(d,g){var C=g.anchor,w=g.head,O=$t(d.doc,C.line);if(jt(C,w)==0&&C.sticky==w.sticky)return g;var P=Jt(O);if(!P)return g;var U=Je(P,C.ch,C.sticky),V=P[U];if(V.from!=C.ch&&V.to!=C.ch)return g;var Z=U+(V.from==C.ch==(V.level!=1)?0:1);if(Z==0||Z==P.length)return g;var ne;if(w.line!=C.line)ne=(w.line-C.line)*(d.doc.direction=="ltr"?1:-1)>0;else{var pe=Je(P,w.ch,w.sticky),be=pe-U||(w.ch-C.ch)*(V.level==1?-1:1);pe==Z-1||pe==Z?ne=be<0:ne=be>0}var Ae=P[Z+(ne?-1:0)],we=ne==(Ae.level==1),Ge=we?Ae.from:Ae.to,Qe=we?"after":"before";return C.ch==Ge&&C.sticky==Qe?g:new Hn(new rt(C.line,Ge,Qe),w)}function G2(d,g,C,w){var O,P;if(g.touches)O=g.touches[0].clientX,P=g.touches[0].clientY;else try{O=g.clientX,P=g.clientY}catch{return!1}if(O>=Math.floor(d.display.gutters.getBoundingClientRect().right))return!1;w&&Nn(g);var U=d.display,V=U.lineDiv.getBoundingClientRect();if(P>V.bottom||!qt(d,C))return el(g);P-=V.top-U.viewOffset;for(var Z=0;Z<d.display.gutterSpecs.length;++Z){var ne=U.gutters.childNodes[Z];if(ne&&ne.getBoundingClientRect().right>=O){var pe=Mr(d.doc,P),be=d.display.gutterSpecs[Z];return et(d,C,d,pe,be.className,g),el(g)}}}function im(d,g){return G2(d,g,"gutterClick",!0)}function Y2(d,g){As(d.display,g)||FI(d,g)||Ot(d,g,"contextmenu")||R||d.display.input.onContextMenu(g)}function FI(d,g){return qt(d,"gutterContextMenu")?G2(d,g,"gutterContextMenu",!1):!1}function X2(d){d.display.wrapper.className=d.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+d.options.theme.replace(/(^|\s)\s*/g," cm-s-"),pf(d)}var iu={toString:function(){return"CodeMirror.Init"}},Z2={},x1={};function $I(d){var g=d.optionHandlers;function C(w,O,P,U){d.defaults[w]=O,P&&(g[w]=U?function(V,Z,ne){ne!=iu&&P(V,Z,ne)}:P)}d.defineOption=C,d.Init=iu,C("value","",function(w,O){return w.setValue(O)},!0),C("mode",null,function(w,O){w.doc.modeOption=O,Vp(w)},!0),C("indentUnit",2,Vp,!0),C("indentWithTabs",!1),C("smartIndent",!0),C("tabSize",4,function(w){Tf(w),pf(w),_r(w)},!0),C("lineSeparator",null,function(w,O){if(w.doc.lineSep=O,!!O){var P=[],U=w.doc.first;w.doc.iter(function(Z){for(var ne=0;;){var pe=Z.text.indexOf(O,ne);if(pe==-1)break;ne=pe+O.length,P.push(rt(U,pe))}U++});for(var V=P.length-1;V>=0;V--)Ja(w.doc,O,P[V],rt(P[V].line,P[V].ch+O.length))}}),C("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(w,O,P){w.state.specialChars=new RegExp(O.source+(O.test("	")?"":"|	"),"g"),P!=iu&&w.refresh()}),C("specialCharPlaceholder",dM,function(w){return w.refresh()},!0),C("electricChars",!0),C("inputStyle",y?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),C("spellcheck",!1,function(w,O){return w.getInputField().spellcheck=O},!0),C("autocorrect",!1,function(w,O){return w.getInputField().autocorrect=O},!0),C("autocapitalize",!1,function(w,O){return w.getInputField().autocapitalize=O},!0),C("rtlMoveVisually",!N),C("wholeLineUpdateBefore",!0),C("theme","default",function(w){X2(w),kf(w)},!0),C("keyMap","default",function(w,O,P){var U=H1(O),V=P!=iu&&H1(P);V&&V.detach&&V.detach(w,U),U.attach&&U.attach(w,V||null)}),C("extraKeys",null),C("configureMouse",null),C("lineWrapping",!1,BI,!0),C("gutters",[],function(w,O){w.display.gutterSpecs=Wp(O,w.options.lineNumbers),kf(w)},!0),C("fixedGutter",!0,function(w,O){w.display.gutters.style.left=O?Dp(w.display)+"px":"0",w.refresh()},!0),C("coverGutterNextToScrollbar",!1,function(w){return Ya(w)},!0),C("scrollbarStyle","native",function(w){Jb(w),Ya(w),w.display.scrollbars.setScrollTop(w.doc.scrollTop),w.display.scrollbars.setScrollLeft(w.doc.scrollLeft)},!0),C("lineNumbers",!1,function(w,O){w.display.gutterSpecs=Wp(w.options.gutters,O),kf(w)},!0),C("firstLineNumber",1,kf,!0),C("lineNumberFormatter",function(w){return w},kf,!0),C("showCursorWhenSelecting",!1,mf,!0),C("resetSelectionOnContextMenu",!0),C("lineWiseCopyCut",!0),C("pasteLinesPerSelection",!0),C("selectionsMayTouch",!1),C("readOnly",!1,function(w,O){O=="nocursor"&&(Va(w),w.display.input.blur()),w.display.input.readOnlyChanged(O)}),C("screenReaderLabel",null,function(w,O){O=O===""?null:O,w.display.input.screenReaderLabelChanged(O)}),C("disableInput",!1,function(w,O){O||w.display.input.reset()},!0),C("dragDrop",!0,HI),C("allowDropFileTypes",null),C("cursorBlinkRate",530),C("cursorScrollMargin",0),C("cursorHeight",1,mf,!0),C("singleCursorHeightPerLine",!0,mf,!0),C("workTime",100),C("workDelay",100),C("flattenSpans",!0,Tf,!0),C("addModeClass",!1,Tf,!0),C("pollInterval",100),C("undoDepth",200,function(w,O){return w.doc.history.undoDepth=O}),C("historyEventDelay",1250),C("viewportMargin",10,function(w){return w.refresh()},!0),C("maxHighlightLength",1e4,Tf,!0),C("moveInputWithCursor",!0,function(w,O){O||w.display.input.resetPosition()}),C("tabindex",null,function(w,O){return w.display.input.getField().tabIndex=O||""}),C("autofocus",null),C("direction","ltr",function(w,O){return w.doc.setDirection(O)},!0),C("phrases",null)}function HI(d,g,C){var w=C&&C!=iu;if(!g!=!w){var O=d.display.dragFunctions,P=g?at:De;P(d.display.scroller,"dragstart",O.start),P(d.display.scroller,"dragenter",O.enter),P(d.display.scroller,"dragover",O.over),P(d.display.scroller,"dragleave",O.leave),P(d.display.scroller,"drop",O.drop)}}function BI(d){d.options.lineWrapping?(te(d.display.wrapper,"CodeMirror-wrap"),d.display.sizer.style.minWidth="",d.display.sizerWidth=null):(B(d.display.wrapper,"CodeMirror-wrap"),wp(d)),Rp(d),_r(d),pf(d),setTimeout(function(){return Ya(d)},100)}function li(d,g){var C=this;if(!(this instanceof li))return new li(d,g);this.options=g=g?X(g):{},X(Z2,g,!1);var w=g.value;typeof w=="string"?w=new br(w,g.mode,null,g.lineSeparator,g.direction):g.mode&&(w.modeOption=g.mode),this.doc=w;var O=new li.inputStyles[g.inputStyle](this),P=this.display=new QM(d,w,O,g);P.wrapper.CodeMirror=this,X2(this),g.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Jb(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new oe,keySeq:null,specialChars:null},g.autofocus&&!y&&P.input.focus(),s&&o<11&&setTimeout(function(){return C.display.input.reset(!0)},20),xI(this),_I(),Yo(this),this.curOp.forceUpdate=!0,u2(this,w),g.autofocus&&!y||this.hasFocus()?setTimeout(function(){C.hasFocus()&&!C.state.focused&&Hp(C)},20):Va(this);for(var U in x1)x1.hasOwnProperty(U)&&x1[U](this,g[U],iu);n2(this),g.finishInit&&g.finishInit(this);for(var V=0;V<rm.length;++V)rm[V](this);Xo(this),a&&g.lineWrapping&&getComputedStyle(P.lineDiv).textRendering=="optimizelegibility"&&(P.lineDiv.style.textRendering="auto")}li.defaults=Z2,li.optionHandlers=x1;function xI(d){var g=d.display;at(g.scroller,"mousedown",qi(d,K2)),s&&o<11?at(g.scroller,"dblclick",qi(d,function(Z){if(!Ot(d,Z)){var ne=Wo(d,Z);if(!(!ne||im(d,Z)||As(d.display,Z))){Nn(Z);var pe=d.findWordAt(ne);D1(d.doc,pe.anchor,pe.head)}}})):at(g.scroller,"dblclick",function(Z){return Ot(d,Z)||Nn(Z)}),at(g.scroller,"contextmenu",function(Z){return Y2(d,Z)}),at(g.input.getField(),"contextmenu",function(Z){g.scroller.contains(Z.target)||Y2(d,Z)});var C,w={end:0};function O(){g.activeTouch&&(C=setTimeout(function(){return g.activeTouch=null},1e3),w=g.activeTouch,w.end=+new Date)}function P(Z){if(Z.touches.length!=1)return!1;var ne=Z.touches[0];return ne.radiusX<=1&&ne.radiusY<=1}function U(Z,ne){if(ne.left==null)return!0;var pe=ne.left-Z.left,be=ne.top-Z.top;return pe*pe+be*be>20*20}at(g.scroller,"touchstart",function(Z){if(!Ot(d,Z)&&!P(Z)&&!im(d,Z)){g.input.ensurePolled(),clearTimeout(C);var ne=+new Date;g.activeTouch={start:ne,moved:!1,prev:ne-w.end<=300?w:null},Z.touches.length==1&&(g.activeTouch.left=Z.touches[0].pageX,g.activeTouch.top=Z.touches[0].pageY)}}),at(g.scroller,"touchmove",function(){g.activeTouch&&(g.activeTouch.moved=!0)}),at(g.scroller,"touchend",function(Z){var ne=g.activeTouch;if(ne&&!As(g,Z)&&ne.left!=null&&!ne.moved&&new Date-ne.start<300){var pe=d.coordsChar(g.activeTouch,"page"),be;!ne.prev||U(ne,ne.prev)?be=new Hn(pe,pe):!ne.prev.prev||U(ne,ne.prev.prev)?be=d.findWordAt(pe):be=new Hn(rt(pe.line,0),en(d.doc,rt(pe.line+1,0))),d.setSelection(be.anchor,be.head),d.focus(),Nn(Z)}O()}),at(g.scroller,"touchcancel",O),at(g.scroller,"scroll",function(){g.scroller.clientHeight&&(_f(d,g.scroller.scrollTop),Vo(d,g.scroller.scrollLeft,!0),et(d,"scroll",d))}),at(g.scroller,"mousewheel",function(Z){return l2(d,Z)}),at(g.scroller,"DOMMouseScroll",function(Z){return l2(d,Z)}),at(g.wrapper,"scroll",function(){return g.wrapper.scrollTop=g.wrapper.scrollLeft=0}),g.dragFunctions={enter:function(Z){Ot(d,Z)||wi(Z)},over:function(Z){Ot(d,Z)||(gI(d,Z),wi(Z))},start:function(Z){return mI(d,Z)},drop:qi(d,pI),leave:function(Z){Ot(d,Z)||D2(d)}};var V=g.input.getField();at(V,"keyup",function(Z){return j2.call(d,Z)}),at(V,"keydown",qi(d,q2)),at(V,"keypress",qi(d,W2)),at(V,"focus",function(Z){return Hp(d,Z)}),at(V,"blur",function(Z){return Va(d,Z)})}var rm=[];li.defineInitHook=function(d){return rm.push(d)};function Pf(d,g,C,w){var O=d.doc,P;C==null&&(C="add"),C=="smart"&&(O.mode.indent?P=zo(d,g).state:C="prev");var U=d.options.tabSize,V=$t(O,g),Z=_e(V.text,null,U);V.stateAfter&&(V.stateAfter=null);var ne=V.text.match(/^\s*/)[0],pe;if(!w&&!/\S/.test(V.text))pe=0,C="not";else if(C=="smart"&&(pe=O.mode.indent(P,V.text.slice(ne.length),V.text),pe==St||pe>150)){if(!w)return;C="prev"}C=="prev"?g>O.first?pe=_e($t(O,g-1).text,null,U):pe=0:C=="add"?pe=Z+d.options.indentUnit:C=="subtract"?pe=Z-d.options.indentUnit:typeof C=="number"&&(pe=Z+C),pe=Math.max(0,pe);var be="",Ae=0;if(d.options.indentWithTabs)for(var we=Math.floor(pe/U);we;--we)Ae+=U,be+="	";if(Ae<pe&&(be+=pt(pe-Ae)),be!=ne)return Ja(O,be,rt(g,0),rt(g,ne.length),"+input"),V.stateAfter=null,!0;for(var Ge=0;Ge<O.sel.ranges.length;Ge++){var Qe=O.sel.ranges[Ge];if(Qe.head.line==g&&Qe.head.ch<ne.length){var ct=rt(g,ne.length);Zp(O,Ge,new Hn(ct,ct));break}}}var xl=null;function U1(d){xl=d}function lm(d,g,C,w,O){var P=d.doc;d.display.shift=!1,w||(w=P.sel);var U=+new Date-200,V=O=="paste"||d.state.pasteIncoming>U,Z=Rt(g),ne=null;if(V&&w.ranges.length>1)if(xl&&xl.text.join(`
`)==g){if(w.ranges.length%xl.text.length==0){ne=[];for(var pe=0;pe<xl.text.length;pe++)ne.push(P.splitLines(xl.text[pe]))}}else Z.length==w.ranges.length&&d.options.pasteLinesPerSelection&&(ne=Bt(Z,function(Tt){return[Tt]}));for(var be=d.curOp.updateInput,Ae=w.ranges.length-1;Ae>=0;Ae--){var we=w.ranges[Ae],Ge=we.from(),Qe=we.to();we.empty()&&(C&&C>0?Ge=rt(Ge.line,Ge.ch-C):d.state.overwrite&&!V?Qe=rt(Qe.line,Math.min($t(P,Qe.line).text.length,Qe.ch+$e(Z).length)):V&&xl&&xl.lineWise&&xl.text.join(`
`)==Z.join(`
`)&&(Ge=Qe=rt(Ge.line,0)));var ct={from:Ge,to:Qe,text:ne?ne[Ae%ne.length]:Z,origin:O||(V?"paste":d.state.cutIncoming>U?"cut":"+input")};Qa(d.doc,ct),zi(d,"inputRead",d,ct)}g&&!V&&J2(d,g),Ga(d),d.curOp.updateInput<2&&(d.curOp.updateInput=be),d.curOp.typing=!0,d.state.pasteIncoming=d.state.cutIncoming=-1}function Q2(d,g){var C=d.clipboardData&&d.clipboardData.getData("Text");if(C)return d.preventDefault(),!g.isReadOnly()&&!g.options.disableInput&&Rr(g,function(){return lm(g,C,0,null,"paste")}),!0}function J2(d,g){if(!(!d.options.electricChars||!d.options.smartIndent))for(var C=d.doc.sel,w=C.ranges.length-1;w>=0;w--){var O=C.ranges[w];if(!(O.head.ch>100||w&&C.ranges[w-1].head.line==O.head.line)){var P=d.getModeAt(O.head),U=!1;if(P.electricChars){for(var V=0;V<P.electricChars.length;V++)if(g.indexOf(P.electricChars.charAt(V))>-1){U=Pf(d,O.head.line,"smart");break}}else P.electricInput&&P.electricInput.test($t(d.doc,O.head.line).text.slice(0,O.head.ch))&&(U=Pf(d,O.head.line,"smart"));U&&zi(d,"electricInput",d,O.head.line)}}}function ev(d){for(var g=[],C=[],w=0;w<d.doc.sel.ranges.length;w++){var O=d.doc.sel.ranges[w].head.line,P={anchor:rt(O,0),head:rt(O+1,0)};C.push(P),g.push(d.getRange(P.anchor,P.head))}return{text:g,ranges:C}}function tv(d,g,C,w){d.setAttribute("autocorrect",C?"":"off"),d.setAttribute("autocapitalize",w?"":"off"),d.setAttribute("spellcheck",!!g)}function nv(){var d=z("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),g=z("div",[d],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return a?d.style.width="1000px":d.setAttribute("wrap","off"),v&&(d.style.border="1px solid black"),tv(d),g}function UI(d){var g=d.optionHandlers,C=d.helpers={};d.prototype={constructor:d,focus:function(){window.focus(),this.display.input.focus()},setOption:function(w,O){var P=this.options,U=P[w];P[w]==O&&w!="mode"||(P[w]=O,g.hasOwnProperty(w)&&qi(this,g[w])(this,O,U),et(this,"optionChange",this,w))},getOption:function(w){return this.options[w]},getDoc:function(){return this.doc},addKeyMap:function(w,O){this.state.keyMaps[O?"push":"unshift"](H1(w))},removeKeyMap:function(w){for(var O=this.state.keyMaps,P=0;P<O.length;++P)if(O[P]==w||O[P].name==w)return O.splice(P,1),!0},addOverlay:ir(function(w,O){var P=w.token?w:d.getMode(this.options,w);if(P.startState)throw new Error("Overlays may not be stateful.");Ze(this.state.overlays,{mode:P,modeSpec:w,opaque:O&&O.opaque,priority:O&&O.priority||0},function(U){return U.priority}),this.state.modeGen++,_r(this)}),removeOverlay:ir(function(w){for(var O=this.state.overlays,P=0;P<O.length;++P){var U=O[P].modeSpec;if(U==w||typeof w=="string"&&U.name==w){O.splice(P,1),this.state.modeGen++,_r(this);return}}}),indentLine:ir(function(w,O,P){typeof O!="string"&&typeof O!="number"&&(O==null?O=this.options.smartIndent?"smart":"prev":O=O?"add":"subtract"),Ir(this.doc,w)&&Pf(this,w,O,P)}),indentSelection:ir(function(w){for(var O=this.doc.sel.ranges,P=-1,U=0;U<O.length;U++){var V=O[U];if(V.empty())V.head.line>P&&(Pf(this,V.head.line,w,!0),P=V.head.line,U==this.doc.sel.primIndex&&Ga(this));else{var Z=V.from(),ne=V.to(),pe=Math.max(P,Z.line);P=Math.min(this.lastLine(),ne.line-(ne.ch?0:1))+1;for(var be=pe;be<P;++be)Pf(this,be,w);var Ae=this.doc.sel.ranges;Z.ch==0&&O.length==Ae.length&&Ae[U].from().ch>0&&Zp(this.doc,U,new Hn(Z,Ae[U].to()),bt)}}}),getTokenAt:function(w,O){return m1(this,w,O)},getLineTokens:function(w,O){return m1(this,rt(w),O,!0)},getTokenTypeAt:function(w){w=en(this.doc,w);var O=Fl(this,$t(this.doc,w.line)),P=0,U=(O.length-1)/2,V=w.ch,Z;if(V==0)Z=O[2];else for(;;){var ne=P+U>>1;if((ne?O[ne*2-1]:0)>=V)U=ne;else if(O[ne*2+1]<V)P=ne+1;else{Z=O[ne*2+2];break}}var pe=Z?Z.indexOf("overlay "):-1;return pe<0?Z:pe==0?null:Z.slice(0,pe-1)},getModeAt:function(w){var O=this.doc.mode;return O.innerMode?d.innerMode(O,this.getTokenAt(w).state).mode:O},getHelper:function(w,O){return this.getHelpers(w,O)[0]},getHelpers:function(w,O){var P=[];if(!C.hasOwnProperty(O))return P;var U=C[O],V=this.getModeAt(w);if(typeof V[O]=="string")U[V[O]]&&P.push(U[V[O]]);else if(V[O])for(var Z=0;Z<V[O].length;Z++){var ne=U[V[O][Z]];ne&&P.push(ne)}else V.helperType&&U[V.helperType]?P.push(U[V.helperType]):U[V.name]&&P.push(U[V.name]);for(var pe=0;pe<U._global.length;pe++){var be=U._global[pe];be.pred(V,this)&&Le(P,be.val)==-1&&P.push(be.val)}return P},getStateAfter:function(w,O){var P=this.doc;return w=Lr(P,w??P.first+P.size-1),zo(this,w+1,O).state},cursorCoords:function(w,O){var P,U=this.doc.sel.primary();return w==null?P=U.head:typeof w=="object"?P=en(this.doc,w):P=w?U.from():U.to(),Hl(this,P,O||"page")},charCoords:function(w,O){return w1(this,en(this.doc,w),O||"page")},coordsChar:function(w,O){return w=xb(this,w,O||"page"),Mp(this,w.left,w.top)},lineAtHeight:function(w,O){return w=xb(this,{top:w,left:0},O||"page").top,Mr(this.doc,w+this.display.viewOffset)},heightAtLine:function(w,O,P){var U=!1,V;if(typeof w=="number"){var Z=this.doc.first+this.doc.size-1;w<this.doc.first?w=this.doc.first:w>Z&&(w=Z,U=!0),V=$t(this.doc,w)}else V=w;return T1(this,V,{top:0,left:0},O||"page",P||U).top+(U?this.doc.height-Cs(V):0)},defaultTextHeight:function(){return Wa(this.display)},defaultCharWidth:function(){return Ka(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(w,O,P,U,V){var Z=this.display;w=Hl(this,en(this.doc,w));var ne=w.bottom,pe=w.left;if(O.style.position="absolute",O.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(O),Z.sizer.appendChild(O),U=="over")ne=w.top;else if(U=="above"||U=="near"){var be=Math.max(Z.wrapper.clientHeight,this.doc.height),Ae=Math.max(Z.sizer.clientWidth,Z.lineSpace.clientWidth);(U=="above"||w.bottom+O.offsetHeight>be)&&w.top>O.offsetHeight?ne=w.top-O.offsetHeight:w.bottom+O.offsetHeight<=be&&(ne=w.bottom),pe+O.offsetWidth>Ae&&(pe=Ae-O.offsetWidth)}O.style.top=ne+"px",O.style.left=O.style.right="",V=="right"?(pe=Z.sizer.clientWidth-O.offsetWidth,O.style.right="0px"):(V=="left"?pe=0:V=="middle"&&(pe=(Z.sizer.clientWidth-O.offsetWidth)/2),O.style.left=pe+"px"),P&&HM(this,{left:pe,top:ne,right:pe+O.offsetWidth,bottom:ne+O.offsetHeight})},triggerOnKeyDown:ir(q2),triggerOnKeyPress:ir(W2),triggerOnKeyUp:j2,triggerOnMouseDown:ir(K2),execCommand:function(w){if(If.hasOwnProperty(w))return If[w].call(null,this)},triggerElectric:ir(function(w){J2(this,w)}),findPosH:function(w,O,P,U){var V=1;O<0&&(V=-1,O=-O);for(var Z=en(this.doc,w),ne=0;ne<O&&(Z=sm(this.doc,Z,V,P,U),!Z.hitSide);++ne);return Z},moveH:ir(function(w,O){var P=this;this.extendSelectionsBy(function(U){return P.display.shift||P.doc.extend||U.empty()?sm(P.doc,U.head,w,O,P.options.rtlMoveVisually):w<0?U.from():U.to()},ot)}),deleteH:ir(function(w,O){var P=this.doc.sel,U=this.doc;P.somethingSelected()?U.replaceSelection("",null,"+delete"):nu(this,function(V){var Z=sm(U,V.head,w,O,!1);return w<0?{from:Z,to:V.head}:{from:V.head,to:Z}})}),findPosV:function(w,O,P,U){var V=1,Z=U;O<0&&(V=-1,O=-O);for(var ne=en(this.doc,w),pe=0;pe<O;++pe){var be=Hl(this,ne,"div");if(Z==null?Z=be.left:be.left=Z,ne=iv(this,be,V,P),ne.hitSide)break}return ne},moveV:ir(function(w,O){var P=this,U=this.doc,V=[],Z=!this.display.shift&&!U.extend&&U.sel.somethingSelected();if(U.extendSelectionsBy(function(pe){if(Z)return w<0?pe.from():pe.to();var be=Hl(P,pe.head,"div");pe.goalColumn!=null&&(be.left=pe.goalColumn),V.push(be.left);var Ae=iv(P,be,w,O);return O=="page"&&pe==U.sel.primary()&&xp(P,w1(P,Ae,"div").top-be.top),Ae},ot),V.length)for(var ne=0;ne<U.sel.ranges.length;ne++)U.sel.ranges[ne].goalColumn=V[ne]}),findWordAt:function(w){var O=this.doc,P=$t(O,w.line).text,U=w.ch,V=w.ch;if(P){var Z=this.getHelper(w,"wordChars");(w.sticky=="before"||V==P.length)&&U?--U:++V;for(var ne=P.charAt(U),pe=Ee(ne,Z)?function(be){return Ee(be,Z)}:/\s/.test(ne)?function(be){return/\s/.test(be)}:function(be){return!/\s/.test(be)&&!Ee(be)};U>0&&pe(P.charAt(U-1));)--U;for(;V<P.length&&pe(P.charAt(V));)++V}return new Hn(rt(w.line,U),rt(w.line,V))},toggleOverwrite:function(w){w!=null&&w==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?te(this.display.cursorDiv,"CodeMirror-overwrite"):B(this.display.cursorDiv,"CodeMirror-overwrite"),et(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==ie()},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:ir(function(w,O){gf(this,w,O)}),getScrollInfo:function(){var w=this.display.scroller;return{left:w.scrollLeft,top:w.scrollTop,height:w.scrollHeight-es(this)-this.display.barHeight,width:w.scrollWidth-es(this)-this.display.barWidth,clientHeight:Cp(this),clientWidth:qo(this)}},scrollIntoView:ir(function(w,O){w==null?(w={from:this.doc.sel.primary().head,to:null},O==null&&(O=this.options.cursorScrollMargin)):typeof w=="number"?w={from:rt(w,0),to:null}:w.from==null&&(w={from:w,to:null}),w.to||(w.to=w.from),w.margin=O||0,w.from.line!=null?BM(this,w):Yb(this,w.from,w.to,w.margin)}),setSize:ir(function(w,O){var P=this,U=function(Z){return typeof Z=="number"||/^\d+$/.test(String(Z))?Z+"px":Z};w!=null&&(this.display.wrapper.style.width=U(w)),O!=null&&(this.display.wrapper.style.height=U(O)),this.options.lineWrapping&&$b(this);var V=this.display.viewFrom;this.doc.iter(V,this.display.viewTo,function(Z){if(Z.widgets){for(var ne=0;ne<Z.widgets.length;ne++)if(Z.widgets[ne].noHScroll){Qs(P,V,"widget");break}}++V}),this.curOp.forceUpdate=!0,et(this,"refresh",this)}),operation:function(w){return Rr(this,w)},startOperation:function(){return Yo(this)},endOperation:function(){return Xo(this)},refresh:ir(function(){var w=this.display.cachedTextHeight;_r(this),this.curOp.forceUpdate=!0,pf(this),gf(this,this.doc.scrollLeft,this.doc.scrollTop),qp(this.display),(w==null||Math.abs(w-Wa(this.display))>.5||this.options.lineWrapping)&&Rp(this),et(this,"refresh",this)}),swapDoc:ir(function(w){var O=this.doc;return O.cm=null,this.state.selectingText&&this.state.selectingText(),u2(this,w),pf(this),this.display.input.reset(),gf(this,w.scrollLeft,w.scrollTop),this.curOp.forceScroll=!0,zi(this,"swapDoc",this,O),O}),phrase:function(w){var O=this.options.phrases;return O&&Object.prototype.hasOwnProperty.call(O,w)?O[w]:w},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},yn(d),d.registerHelper=function(w,O,P){C.hasOwnProperty(w)||(C[w]=d[w]={_global:[]}),C[w][O]=P},d.registerGlobalHelper=function(w,O,P,U){d.registerHelper(w,O,U),C[w]._global.push({pred:P,val:U})}}function sm(d,g,C,w,O){var P=g,U=C,V=$t(d,g.line),Z=O&&d.direction=="rtl"?-C:C;function ne(){var Nt=g.line+Z;return Nt<d.first||Nt>=d.first+d.size?!1:(g=new rt(Nt,g.ch,g.sticky),V=$t(d,Nt))}function pe(Nt){var wt;if(w=="codepoint"){var Lt=V.text.charCodeAt(g.ch+(C>0?0:-1));if(isNaN(Lt))wt=null;else{var Vt=C>0?Lt>=55296&&Lt<56320:Lt>=56320&&Lt<57343;wt=new rt(g.line,Math.max(0,Math.min(V.text.length,g.ch+C*(Vt?2:1))),-C)}}else O?wt=TI(d.cm,V,g,C):wt=Jp(V,g,C);if(wt==null)if(!Nt&&ne())g=em(O,d.cm,V,g.line,Z);else return!1;else g=wt;return!0}if(w=="char"||w=="codepoint")pe();else if(w=="column")pe(!0);else if(w=="word"||w=="group")for(var be=null,Ae=w=="group",we=d.cm&&d.cm.getHelper(g,"wordChars"),Ge=!0;!(C<0&&!pe(!Ge));Ge=!1){var Qe=V.text.charAt(g.ch)||`
`,ct=Ee(Qe,we)?"w":Ae&&Qe==`
`?"n":!Ae||/\s/.test(Qe)?null:"p";if(Ae&&!Ge&&!ct&&(ct="s"),be&&be!=ct){C<0&&(C=1,pe(),g.sticky="after");break}if(ct&&(be=ct),C>0&&!pe(!Ge))break}var Tt=P1(d,g,P,U,!0);return nl(P,Tt)&&(Tt.hitSide=!0),Tt}function iv(d,g,C,w){var O=d.doc,P=g.left,U;if(w=="page"){var V=Math.min(d.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),Z=Math.max(V-.5*Wa(d.display),3);U=(C>0?g.bottom:g.top)+C*Z}else w=="line"&&(U=C>0?g.bottom+3:g.top-3);for(var ne;ne=Mp(d,P,U),!!ne.outside;){if(C<0?U<=0:U>=O.height){ne.hitSide=!0;break}U+=C*5}return ne}var qn=function(d){this.cm=d,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new oe,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};qn.prototype.init=function(d){var g=this,C=this,w=C.cm,O=C.div=d.lineDiv;O.contentEditable=!0,tv(O,w.options.spellcheck,w.options.autocorrect,w.options.autocapitalize);function P(V){for(var Z=V.target;Z;Z=Z.parentNode){if(Z==O)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(Z.className))break}return!1}at(O,"paste",function(V){!P(V)||Ot(w,V)||Q2(V,w)||o<=11&&setTimeout(qi(w,function(){return g.updateFromDOM()}),20)}),at(O,"compositionstart",function(V){g.composing={data:V.data,done:!1}}),at(O,"compositionupdate",function(V){g.composing||(g.composing={data:V.data,done:!1})}),at(O,"compositionend",function(V){g.composing&&(V.data!=g.composing.data&&g.readFromDOMSoon(),g.composing.done=!0)}),at(O,"touchstart",function(){return C.forceCompositionEnd()}),at(O,"input",function(){g.composing||g.readFromDOMSoon()});function U(V){if(!(!P(V)||Ot(w,V))){if(w.somethingSelected())U1({lineWise:!1,text:w.getSelections()}),V.type=="cut"&&w.replaceSelection("",null,"cut");else if(w.options.lineWiseCopyCut){var Z=ev(w);U1({lineWise:!0,text:Z.text}),V.type=="cut"&&w.operation(function(){w.setSelections(Z.ranges,0,bt),w.replaceSelection("",null,"cut")})}else return;if(V.clipboardData){V.clipboardData.clearData();var ne=xl.text.join(`
`);if(V.clipboardData.setData("Text",ne),V.clipboardData.getData("Text")==ne){V.preventDefault();return}}var pe=nv(),be=pe.firstChild;w.display.lineSpace.insertBefore(pe,w.display.lineSpace.firstChild),be.value=xl.text.join(`
`);var Ae=ie();ue(be),setTimeout(function(){w.display.lineSpace.removeChild(pe),Ae.focus(),Ae==O&&C.showPrimarySelection()},50)}}at(O,"copy",U),at(O,"cut",U)},qn.prototype.screenReaderLabelChanged=function(d){d?this.div.setAttribute("aria-label",d):this.div.removeAttribute("aria-label")},qn.prototype.prepareSelection=function(){var d=Kb(this.cm,!1);return d.focus=ie()==this.div,d},qn.prototype.showSelection=function(d,g){!d||!this.cm.display.view.length||((d.focus||g)&&this.showPrimarySelection(),this.showMultipleSelections(d))},qn.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},qn.prototype.showPrimarySelection=function(){var d=this.getSelection(),g=this.cm,C=g.doc.sel.primary(),w=C.from(),O=C.to();if(g.display.viewTo==g.display.viewFrom||w.line>=g.display.viewTo||O.line<g.display.viewFrom){d.removeAllRanges();return}var P=z1(g,d.anchorNode,d.anchorOffset),U=z1(g,d.focusNode,d.focusOffset);if(!(P&&!P.bad&&U&&!U.bad&&jt(Ss(P,U),w)==0&&jt(xo(P,U),O)==0)){var V=g.display.view,Z=w.line>=g.display.viewFrom&&rv(g,w)||{node:V[0].measure.map[2],offset:0},ne=O.line<g.display.viewTo&&rv(g,O);if(!ne){var pe=V[V.length-1].measure,be=pe.maps?pe.maps[pe.maps.length-1]:pe.map;ne={node:be[be.length-1],offset:be[be.length-2]-be[be.length-3]}}if(!Z||!ne){d.removeAllRanges();return}var Ae=d.rangeCount&&d.getRangeAt(0),we;try{we=W(Z.node,Z.offset,ne.offset,ne.node)}catch{}we&&(!t&&g.state.focused?(d.collapse(Z.node,Z.offset),we.collapsed||(d.removeAllRanges(),d.addRange(we))):(d.removeAllRanges(),d.addRange(we)),Ae&&d.anchorNode==null?d.addRange(Ae):t&&this.startGracePeriod()),this.rememberSelection()}},qn.prototype.startGracePeriod=function(){var d=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){d.gracePeriod=!1,d.selectionChanged()&&d.cm.operation(function(){return d.cm.curOp.selectionChanged=!0})},20)},qn.prototype.showMultipleSelections=function(d){q(this.cm.display.cursorDiv,d.cursors),q(this.cm.display.selectionDiv,d.selection)},qn.prototype.rememberSelection=function(){var d=this.getSelection();this.lastAnchorNode=d.anchorNode,this.lastAnchorOffset=d.anchorOffset,this.lastFocusNode=d.focusNode,this.lastFocusOffset=d.focusOffset},qn.prototype.selectionInEditor=function(){var d=this.getSelection();if(!d.rangeCount)return!1;var g=d.getRangeAt(0).commonAncestorContainer;return G(this.div,g)},qn.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||ie()!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},qn.prototype.blur=function(){this.div.blur()},qn.prototype.getField=function(){return this.div},qn.prototype.supportsTouch=function(){return!0},qn.prototype.receivedFocus=function(){var d=this,g=this;this.selectionInEditor()?setTimeout(function(){return d.pollSelection()},20):Rr(this.cm,function(){return g.cm.curOp.selectionChanged=!0});function C(){g.cm.state.focused&&(g.pollSelection(),g.polling.set(g.cm.options.pollInterval,C))}this.polling.set(this.cm.options.pollInterval,C)},qn.prototype.selectionChanged=function(){var d=this.getSelection();return d.anchorNode!=this.lastAnchorNode||d.anchorOffset!=this.lastAnchorOffset||d.focusNode!=this.lastFocusNode||d.focusOffset!=this.lastFocusOffset},qn.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var d=this.getSelection(),g=this.cm;if(b&&f&&this.cm.display.gutterSpecs.length&&zI(d.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var C=z1(g,d.anchorNode,d.anchorOffset),w=z1(g,d.focusNode,d.focusOffset);C&&w&&Rr(g,function(){Ji(g.doc,eo(C,w),bt),(C.bad||w.bad)&&(g.curOp.selectionChanged=!0)})}}},qn.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var d=this.cm,g=d.display,C=d.doc.sel.primary(),w=C.from(),O=C.to();if(w.ch==0&&w.line>d.firstLine()&&(w=rt(w.line-1,$t(d.doc,w.line-1).length)),O.ch==$t(d.doc,O.line).text.length&&O.line<d.lastLine()&&(O=rt(O.line+1,0)),w.line<g.viewFrom||O.line>g.viewTo-1)return!1;var P,U,V;w.line==g.viewFrom||(P=Ko(d,w.line))==0?(U=pn(g.view[0].line),V=g.view[0].node):(U=pn(g.view[P].line),V=g.view[P-1].node.nextSibling);var Z=Ko(d,O.line),ne,pe;if(Z==g.view.length-1?(ne=g.viewTo-1,pe=g.lineDiv.lastChild):(ne=pn(g.view[Z+1].line)-1,pe=g.view[Z+1].node.previousSibling),!V)return!1;for(var be=d.doc.splitLines(qI(d,V,pe,U,ne)),Ae=Pl(d.doc,rt(U,0),rt(ne,$t(d.doc,ne).text.length));be.length>1&&Ae.length>1;)if($e(be)==$e(Ae))be.pop(),Ae.pop(),ne--;else if(be[0]==Ae[0])be.shift(),Ae.shift(),U++;else break;for(var we=0,Ge=0,Qe=be[0],ct=Ae[0],Tt=Math.min(Qe.length,ct.length);we<Tt&&Qe.charCodeAt(we)==ct.charCodeAt(we);)++we;for(var Nt=$e(be),wt=$e(Ae),Lt=Math.min(Nt.length-(be.length==1?we:0),wt.length-(Ae.length==1?we:0));Ge<Lt&&Nt.charCodeAt(Nt.length-Ge-1)==wt.charCodeAt(wt.length-Ge-1);)++Ge;if(be.length==1&&Ae.length==1&&U==w.line)for(;we&&we>w.ch&&Nt.charCodeAt(Nt.length-Ge-1)==wt.charCodeAt(wt.length-Ge-1);)we--,Ge++;be[be.length-1]=Nt.slice(0,Nt.length-Ge).replace(/^\u200b+/,""),be[0]=be[0].slice(we).replace(/\u200b+$/,"");var Vt=rt(U,we),Ut=rt(ne,Ae.length?$e(Ae).length-Ge:0);if(be.length>1||be[0]||jt(Vt,Ut))return Ja(d.doc,be,Vt,Ut,"+input"),!0},qn.prototype.ensurePolled=function(){this.forceCompositionEnd()},qn.prototype.reset=function(){this.forceCompositionEnd()},qn.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},qn.prototype.readFromDOMSoon=function(){var d=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(d.readDOMTimeout=null,d.composing)if(d.composing.done)d.composing=null;else return;d.updateFromDOM()},80))},qn.prototype.updateFromDOM=function(){var d=this;(this.cm.isReadOnly()||!this.pollContent())&&Rr(this.cm,function(){return _r(d.cm)})},qn.prototype.setUneditable=function(d){d.contentEditable="false"},qn.prototype.onKeyPress=function(d){d.charCode==0||this.composing||(d.preventDefault(),this.cm.isReadOnly()||qi(this.cm,lm)(this.cm,String.fromCharCode(d.charCode==null?d.keyCode:d.charCode),0))},qn.prototype.readOnlyChanged=function(d){this.div.contentEditable=String(d!="nocursor")},qn.prototype.onContextMenu=function(){},qn.prototype.resetPosition=function(){},qn.prototype.needsContentAttribute=!0;function rv(d,g){var C=Ap(d,g.line);if(!C||C.hidden)return null;var w=$t(d.doc,g.line),O=Lb(C,w,g.line),P=Jt(w,d.doc.direction),U="left";if(P){var V=Je(P,g.ch);U=V%2?"right":"left"}var Z=Pb(O.map,g.ch,U);return Z.offset=Z.collapse=="right"?Z.end:Z.start,Z}function zI(d){for(var g=d;g;g=g.parentNode)if(/CodeMirror-gutter-wrapper/.test(g.className))return!0;return!1}function ru(d,g){return g&&(d.bad=!0),d}function qI(d,g,C,w,O){var P="",U=!1,V=d.doc.lineSeparator(),Z=!1;function ne(we){return function(Ge){return Ge.id==we}}function pe(){U&&(P+=V,Z&&(P+=V),U=Z=!1)}function be(we){we&&(pe(),P+=we)}function Ae(we){if(we.nodeType==1){var Ge=we.getAttribute("cm-text");if(Ge){be(Ge);return}var Qe=we.getAttribute("cm-marker"),ct;if(Qe){var Tt=d.findMarks(rt(w,0),rt(O+1,0),ne(+Qe));Tt.length&&(ct=Tt[0].find(0))&&be(Pl(d.doc,ct.from,ct.to).join(V));return}if(we.getAttribute("contenteditable")=="false")return;var Nt=/^(pre|div|p|li|table|br)$/i.test(we.nodeName);if(!/^br$/i.test(we.nodeName)&&we.textContent.length==0)return;Nt&&pe();for(var wt=0;wt<we.childNodes.length;wt++)Ae(we.childNodes[wt]);/^(pre|p)$/i.test(we.nodeName)&&(Z=!0),Nt&&(U=!0)}else we.nodeType==3&&be(we.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;Ae(g),g!=C;)g=g.nextSibling,Z=!1;return P}function z1(d,g,C){var w;if(g==d.display.lineDiv){if(w=d.display.lineDiv.childNodes[C],!w)return ru(d.clipPos(rt(d.display.viewTo-1)),!0);g=null,C=0}else for(w=g;;w=w.parentNode){if(!w||w==d.display.lineDiv)return null;if(w.parentNode&&w.parentNode==d.display.lineDiv)break}for(var O=0;O<d.display.view.length;O++){var P=d.display.view[O];if(P.node==w)return jI(P,g,C)}}function jI(d,g,C){var w=d.text.firstChild,O=!1;if(!g||!G(w,g))return ru(rt(pn(d.line),0),!0);if(g==w&&(O=!0,g=w.childNodes[C],C=0,!g)){var P=d.rest?$e(d.rest):d.line;return ru(rt(pn(P),P.text.length),O)}var U=g.nodeType==3?g:null,V=g;for(!U&&g.childNodes.length==1&&g.firstChild.nodeType==3&&(U=g.firstChild,C&&(C=U.nodeValue.length));V.parentNode!=w;)V=V.parentNode;var Z=d.measure,ne=Z.maps;function pe(ct,Tt,Nt){for(var wt=-1;wt<(ne?ne.length:0);wt++)for(var Lt=wt<0?Z.map:ne[wt],Vt=0;Vt<Lt.length;Vt+=3){var Ut=Lt[Vt+2];if(Ut==ct||Ut==Tt){var bn=pn(wt<0?d.line:d.rest[wt]),Gn=Lt[Vt]+Nt;return(Nt<0||Ut!=ct)&&(Gn=Lt[Vt+(Nt?1:0)]),rt(bn,Gn)}}}var be=pe(U,V,C);if(be)return ru(be,O);for(var Ae=V.nextSibling,we=U?U.nodeValue.length-C:0;Ae;Ae=Ae.nextSibling){if(be=pe(Ae,Ae.firstChild,0),be)return ru(rt(be.line,be.ch-we),O);we+=Ae.textContent.length}for(var Ge=V.previousSibling,Qe=C;Ge;Ge=Ge.previousSibling){if(be=pe(Ge,Ge.firstChild,-1),be)return ru(rt(be.line,be.ch+Qe),O);Qe+=Ge.textContent.length}}var bi=function(d){this.cm=d,this.prevInput="",this.pollingFast=!1,this.polling=new oe,this.hasSelection=!1,this.composing=null};bi.prototype.init=function(d){var g=this,C=this,w=this.cm;this.createField(d);var O=this.textarea;d.wrapper.insertBefore(this.wrapper,d.wrapper.firstChild),v&&(O.style.width="0px"),at(O,"input",function(){s&&o>=9&&g.hasSelection&&(g.hasSelection=null),C.poll()}),at(O,"paste",function(U){Ot(w,U)||Q2(U,w)||(w.state.pasteIncoming=+new Date,C.fastPoll())});function P(U){if(!Ot(w,U)){if(w.somethingSelected())U1({lineWise:!1,text:w.getSelections()});else if(w.options.lineWiseCopyCut){var V=ev(w);U1({lineWise:!0,text:V.text}),U.type=="cut"?w.setSelections(V.ranges,null,bt):(C.prevInput="",O.value=V.text.join(`
`),ue(O))}else return;U.type=="cut"&&(w.state.cutIncoming=+new Date)}}at(O,"cut",P),at(O,"copy",P),at(d.scroller,"paste",function(U){if(!(As(d,U)||Ot(w,U))){if(!O.dispatchEvent){w.state.pasteIncoming=+new Date,C.focus();return}var V=new Event("paste");V.clipboardData=U.clipboardData,O.dispatchEvent(V)}}),at(d.lineSpace,"selectstart",function(U){As(d,U)||Nn(U)}),at(O,"compositionstart",function(){var U=w.getCursor("from");C.composing&&C.composing.range.clear(),C.composing={start:U,range:w.markText(U,w.getCursor("to"),{className:"CodeMirror-composing"})}}),at(O,"compositionend",function(){C.composing&&(C.poll(),C.composing.range.clear(),C.composing=null)})},bi.prototype.createField=function(d){this.wrapper=nv(),this.textarea=this.wrapper.firstChild},bi.prototype.screenReaderLabelChanged=function(d){d?this.textarea.setAttribute("aria-label",d):this.textarea.removeAttribute("aria-label")},bi.prototype.prepareSelection=function(){var d=this.cm,g=d.display,C=d.doc,w=Kb(d);if(d.options.moveInputWithCursor){var O=Hl(d,C.sel.primary().head,"div"),P=g.wrapper.getBoundingClientRect(),U=g.lineDiv.getBoundingClientRect();w.teTop=Math.max(0,Math.min(g.wrapper.clientHeight-10,O.top+U.top-P.top)),w.teLeft=Math.max(0,Math.min(g.wrapper.clientWidth-10,O.left+U.left-P.left))}return w},bi.prototype.showSelection=function(d){var g=this.cm,C=g.display;q(C.cursorDiv,d.cursors),q(C.selectionDiv,d.selection),d.teTop!=null&&(this.wrapper.style.top=d.teTop+"px",this.wrapper.style.left=d.teLeft+"px")},bi.prototype.reset=function(d){if(!(this.contextMenuPending||this.composing)){var g=this.cm;if(g.somethingSelected()){this.prevInput="";var C=g.getSelection();this.textarea.value=C,g.state.focused&&ue(this.textarea),s&&o>=9&&(this.hasSelection=C)}else d||(this.prevInput=this.textarea.value="",s&&o>=9&&(this.hasSelection=null))}},bi.prototype.getField=function(){return this.textarea},bi.prototype.supportsTouch=function(){return!1},bi.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!y||ie()!=this.textarea))try{this.textarea.focus()}catch{}},bi.prototype.blur=function(){this.textarea.blur()},bi.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},bi.prototype.receivedFocus=function(){this.slowPoll()},bi.prototype.slowPoll=function(){var d=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){d.poll(),d.cm.state.focused&&d.slowPoll()})},bi.prototype.fastPoll=function(){var d=!1,g=this;g.pollingFast=!0;function C(){var w=g.poll();!w&&!d?(d=!0,g.polling.set(60,C)):(g.pollingFast=!1,g.slowPoll())}g.polling.set(20,C)},bi.prototype.poll=function(){var d=this,g=this.cm,C=this.textarea,w=this.prevInput;if(this.contextMenuPending||!g.state.focused||dn(C)&&!w&&!this.composing||g.isReadOnly()||g.options.disableInput||g.state.keySeq)return!1;var O=C.value;if(O==w&&!g.somethingSelected())return!1;if(s&&o>=9&&this.hasSelection===O||A&&/[\uf700-\uf7ff]/.test(O))return g.display.input.reset(),!1;if(g.doc.sel==g.display.selForContextMenu){var P=O.charCodeAt(0);if(P==8203&&!w&&(w="​"),P==8666)return this.reset(),this.cm.execCommand("undo")}for(var U=0,V=Math.min(w.length,O.length);U<V&&w.charCodeAt(U)==O.charCodeAt(U);)++U;return Rr(g,function(){lm(g,O.slice(U),w.length-U,null,d.composing?"*compose":null),O.length>1e3||O.indexOf(`
`)>-1?C.value=d.prevInput="":d.prevInput=O,d.composing&&(d.composing.range.clear(),d.composing.range=g.markText(d.composing.start,g.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},bi.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},bi.prototype.onKeyPress=function(){s&&o>=9&&(this.hasSelection=null),this.fastPoll()},bi.prototype.onContextMenu=function(d){var g=this,C=g.cm,w=C.display,O=g.textarea;g.contextMenuPending&&g.contextMenuPending();var P=Wo(C,d),U=w.scroller.scrollTop;if(!P||c)return;var V=C.options.resetSelectionOnContextMenu;V&&C.doc.sel.contains(P)==-1&&qi(C,Ji)(C.doc,eo(P),bt);var Z=O.style.cssText,ne=g.wrapper.style.cssText,pe=g.wrapper.offsetParent.getBoundingClientRect();g.wrapper.style.cssText="position: static",O.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(d.clientY-pe.top-5)+"px; left: "+(d.clientX-pe.left-5)+`px;
      z-index: 1000; background: `+(s?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var be;a&&(be=window.scrollY),w.input.focus(),a&&window.scrollTo(null,be),w.input.reset(),C.somethingSelected()||(O.value=g.prevInput=" "),g.contextMenuPending=we,w.selForContextMenu=C.doc.sel,clearTimeout(w.detectingSelectAll);function Ae(){if(O.selectionStart!=null){var Qe=C.somethingSelected(),ct="​"+(Qe?O.value:"");O.value="⇚",O.value=ct,g.prevInput=Qe?"":"​",O.selectionStart=1,O.selectionEnd=ct.length,w.selForContextMenu=C.doc.sel}}function we(){if(g.contextMenuPending==we&&(g.contextMenuPending=!1,g.wrapper.style.cssText=ne,O.style.cssText=Z,s&&o<9&&w.scrollbars.setScrollTop(w.scroller.scrollTop=U),O.selectionStart!=null)){(!s||s&&o<9)&&Ae();var Qe=0,ct=function(){w.selForContextMenu==C.doc.sel&&O.selectionStart==0&&O.selectionEnd>0&&g.prevInput=="​"?qi(C,T2)(C):Qe++<10?w.detectingSelectAll=setTimeout(ct,500):(w.selForContextMenu=null,w.input.reset())};w.detectingSelectAll=setTimeout(ct,200)}}if(s&&o>=9&&Ae(),R){wi(d);var Ge=function(){De(window,"mouseup",Ge),setTimeout(we,20)};at(window,"mouseup",Ge)}else setTimeout(we,50)},bi.prototype.readOnlyChanged=function(d){d||this.reset(),this.textarea.disabled=d=="nocursor",this.textarea.readOnly=!!d},bi.prototype.setUneditable=function(){},bi.prototype.needsContentAttribute=!1;function WI(d,g){if(g=g?X(g):{},g.value=d.value,!g.tabindex&&d.tabIndex&&(g.tabindex=d.tabIndex),!g.placeholder&&d.placeholder&&(g.placeholder=d.placeholder),g.autofocus==null){var C=ie();g.autofocus=C==d||d.getAttribute("autofocus")!=null&&C==document.body}function w(){d.value=V.getValue()}var O;if(d.form&&(at(d.form,"submit",w),!g.leaveSubmitMethodAlone)){var P=d.form;O=P.submit;try{var U=P.submit=function(){w(),P.submit=O,P.submit(),P.submit=U}}catch{}}g.finishInit=function(Z){Z.save=w,Z.getTextArea=function(){return d},Z.toTextArea=function(){Z.toTextArea=isNaN,w(),d.parentNode.removeChild(Z.getWrapperElement()),d.style.display="",d.form&&(De(d.form,"submit",w),!g.leaveSubmitMethodAlone&&typeof d.form.submit=="function"&&(d.form.submit=O))}},d.style.display="none";var V=li(function(Z){return d.parentNode.insertBefore(Z,d.nextSibling)},g);return V}function KI(d){d.off=De,d.on=at,d.wheelEventPixels=JM,d.Doc=br,d.splitLines=Rt,d.countColumn=_e,d.findColumn=vt,d.isWordChar=cn,d.Pass=St,d.signal=et,d.Line=za,d.changeEnd=to,d.scrollbarModel=Qb,d.Pos=rt,d.cmpPos=jt,d.modes=_n,d.mimeModes=hn,d.resolveMode=Ui,d.getMode=Gi,d.modeExtensions=Dl,d.extendMode=Bo,d.copyState=Qi,d.startState=Jl,d.innerMode=Rl,d.commands=If,d.keyMap=Ns,d.keyName=H2,d.isModifierKey=F2,d.lookupKey=tu,d.normalizeKeyMap=kI,d.StringStream=Vn,d.SharedTextMarker=Of,d.TextMarker=io,d.LineWidget=Af,d.e_preventDefault=Nn,d.e_stopPropagation=fi,d.e_stop=wi,d.addClass=te,d.contains=G,d.rmClass=B,d.keyNames=ro}$I(li),UI(li);var VI="iter insert remove copy getEditor constructor".split(" ");for(var q1 in br.prototype)br.prototype.hasOwnProperty(q1)&&Le(VI,q1)<0&&(li.prototype[q1]=function(d){return function(){return d.apply(this.doc,arguments)}}(br.prototype[q1]));return yn(br),li.inputStyles={textarea:bi,contenteditable:qn},li.defineMode=function(d){!li.defaults.mode&&d!="null"&&(li.defaults.mode=d),nn.apply(this,arguments)},li.defineMIME=xi,li.defineMode("null",function(){return{token:function(d){return d.skipToEnd()}}}),li.defineMIME("text/plain","null"),li.defineExtension=function(d,g){li.prototype[d]=g},li.defineDocExtension=function(d,g){br.prototype[d]=g},li.fromTextArea=WI,KI(li),li.version="5.65.3",li},GZ=function(n){n.defineOption("placeholder","",function(o,a,u){var f=u&&u!=n.Init;if(a&&!f)o.on("blur",r),o.on("change",l),o.on("swapDoc",l),n.on(o.getInputField(),"compositionupdate",o.state.placeholderCompose=function(){i(o)}),l(o);else if(!a&&f){o.off("blur",r),o.off("change",l),o.off("swapDoc",l),n.off(o.getInputField(),"compositionupdate",o.state.placeholderCompose),e(o);var c=o.getWrapperElement();c.className=c.className.replace(" CodeMirror-empty","")}a&&!o.hasFocus()&&r(o)});function e(o){o.state.placeholder&&(o.state.placeholder.parentNode.removeChild(o.state.placeholder),o.state.placeholder=null)}function t(o){e(o);var a=o.state.placeholder=document.createElement("pre");a.style.cssText="height: 0; overflow: visible",a.style.direction=o.getOption("direction"),a.className="CodeMirror-placeholder CodeMirror-line-like";var u=o.getOption("placeholder");typeof u=="string"&&(u=document.createTextNode(u)),a.appendChild(u),o.display.lineSpace.insertBefore(a,o.display.lineSpace.firstChild)}function i(o){setTimeout(function(){var a=!1;if(o.lineCount()==1){var u=o.getInputField();a=u.nodeName=="TEXTAREA"?!o.getLine(0).length:!/[^\u200b]/.test(u.querySelector(".CodeMirror-line").textContent)}a?t(o):e(o)},20)}function r(o){s(o)&&t(o)}function l(o){var a=o.getWrapperElement(),u=s(o);a.className=a.className.replace(" CodeMirror-empty","")+(u?" CodeMirror-empty":""),u?t(o):e(o)}function s(o){return o.lineCount()===1&&o.getLine(0)===""}},YZ=function(n){var e=/^(\s*)(>[> ]*|[*+-] \[[x ]\]\s|[*+-]\s|(\d+)([.)]))(\s*)/,t=/^(\s*)(>[> ]*|[*+-] \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/,i=/[*+-]\s/;n.commands.newlineAndIndentContinueMarkdownList=function(l){if(l.getOption("disableInput"))return n.Pass;for(var s=l.listSelections(),o=[],a=0;a<s.length;a++){var u=s[a].head,f=l.getStateAfter(u.line),c=n.innerMode(l.getMode(),f);if(c.mode.name!=="markdown"&&c.mode.helperType!=="markdown"){l.execCommand("newlineAndIndent");return}else f=c.state;var h=f.list!==!1,p=f.quote!==0,_=l.getLine(u.line),v=e.exec(_),b=/^\s*$/.test(_.slice(0,u.ch));if(!s[a].empty()||!h&&!p||!v||b){l.execCommand("newlineAndIndent");return}if(t.test(_)){var y=p&&/>\s*$/.test(_),A=!/>\s*$/.test(_);(y||A)&&l.replaceRange("",{line:u.line,ch:0},{line:u.line,ch:u.ch+1}),o[a]=`
`}else{var M=v[1],N=v[5],L=!(i.test(v[2])||v[2].indexOf(">")>=0),I=L?parseInt(v[3],10)+1+v[4]:v[2].replace("x"," ");o[a]=`
`+M+I+N,L&&r(l,u)}}l.replaceSelections(o)};function r(l,s){var o=s.line,a=0,u=0,f=e.exec(l.getLine(o)),c=f[1];do{a+=1;var h=o+a,p=l.getLine(h),_=e.exec(p);if(_){var v=_[1],b=parseInt(f[3],10)+a-u,y=parseInt(_[3],10),A=y;if(c===v&&!isNaN(y))b===y&&(A=y+1),b>y&&(A=b+1),l.replaceRange(p.replace(e,v+A+_[4]+_[5]),{line:h,ch:0},{line:h,ch:p.length});else{if(c.length>v.length||c.length<v.length&&a===1)return;u+=1}}}while(_)}},XZ=function(n){n.overlayMode=function(e,t,i){return{startState:function(){return{base:n.startState(e),overlay:n.startState(t),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(r){return{base:n.copyState(e,r.base),overlay:n.copyState(t,r.overlay),basePos:r.basePos,baseCur:null,overlayPos:r.overlayPos,overlayCur:null}},token:function(r,l){return(r!=l.streamSeen||Math.min(l.basePos,l.overlayPos)<r.start)&&(l.streamSeen=r,l.basePos=l.overlayPos=r.start),r.start==l.basePos&&(l.baseCur=e.token(r,l.base),l.basePos=r.pos),r.start==l.overlayPos&&(r.pos=r.start,l.overlayCur=t.token(r,l.overlay),l.overlayPos=r.pos),r.pos=Math.min(l.basePos,l.overlayPos),l.overlayCur==null?l.baseCur:l.baseCur!=null&&l.overlay.combineTokens||i&&l.overlay.combineTokens==null?l.baseCur+" "+l.overlayCur:l.overlayCur},indent:e.indent&&function(r,l,s){return e.indent(r.base,l,s)},electricChars:e.electricChars,innerMode:function(r){return{state:r.base,mode:e}},blankLine:function(r){var l,s;return e.blankLine&&(l=e.blankLine(r.base)),t.blankLine&&(s=t.blankLine(r.overlay)),s==null?l:i&&l!=null?l+" "+s:s}}}},ZZ=function(n){var e=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?«»“”‘’]))/i;n.defineMode("gfm",function(t,i){var r=0;function l(u){return u.code=!1,null}var s={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(u){return{code:u.code,codeBlock:u.codeBlock,ateSpace:u.ateSpace}},token:function(u,f){if(f.combineTokens=null,f.codeBlock)return u.match(/^```+/)?(f.codeBlock=!1,null):(u.skipToEnd(),null);if(u.sol()&&(f.code=!1),u.sol()&&u.match(/^```+/))return u.skipToEnd(),f.codeBlock=!0,null;if(u.peek()==="`"){u.next();var c=u.pos;u.eatWhile("`");var h=1+u.pos-c;return f.code?h===r&&(f.code=!1):(r=h,f.code=!0),null}else if(f.code)return u.next(),null;if(u.eatSpace())return f.ateSpace=!0,null;if((u.sol()||f.ateSpace)&&(f.ateSpace=!1,i.gitHubSpice!==!1)){if(u.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?=.{0,6}\d)(?:[a-f0-9]{7,40}\b)/))return f.combineTokens=!0,"link";if(u.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))return f.combineTokens=!0,"link"}return u.match(e)&&u.string.slice(u.start-2,u.start)!="]("&&(u.start==0||/\W/.test(u.string.charAt(u.start-1)))?(f.combineTokens=!0,"link"):(u.next(),null)},blankLine:l},o={taskLists:!0,strikethrough:!0,emoji:!0};for(var a in i)o[a]=i[a];return o.name="markdown",n.overlayMode(n.getMode(t,o),s)},"markdown"),n.defineMIME("text/x-gfm","gfm")},QZ=function(n){n.defineMode("markdown",function(e,t){var i=n.getMode(e,"text/html"),r=i.name=="null";function l(K){if(n.findModeByName){var X=n.findModeByName(K);X&&(K=X.mime||X.mimes[0])}var _e=n.getMode(e,K);return _e.name=="null"?null:_e}t.highlightFormatting===void 0&&(t.highlightFormatting=!1),t.maxBlockquoteDepth===void 0&&(t.maxBlockquoteDepth=0),t.taskLists===void 0&&(t.taskLists=!1),t.strikethrough===void 0&&(t.strikethrough=!1),t.emoji===void 0&&(t.emoji=!1),t.fencedCodeBlockHighlighting===void 0&&(t.fencedCodeBlockHighlighting=!0),t.fencedCodeBlockDefaultMode===void 0&&(t.fencedCodeBlockDefaultMode="text/plain"),t.xml===void 0&&(t.xml=!0),t.tokenTypeOverrides===void 0&&(t.tokenTypeOverrides={});var s={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var o in s)s.hasOwnProperty(o)&&t.tokenTypeOverrides[o]&&(s[o]=t.tokenTypeOverrides[o]);var a=/^([*\-_])(?:\s*\1){2,}\s*$/,u=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,f=/^\[(x| )\](?=\s)/i,c=t.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,h=/^ {0,3}(?:\={1,}|-{2,})\s*$/,p=/^[^#!\[\]*_\\<>` "'(~:]+/,_=/^(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/,v=/^\s*\[[^\]]+?\]:.*$/,b=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/,y="    ";function A(K,X,_e){return X.f=X.inline=_e,_e(K,X)}function M(K,X,_e){return X.f=X.block=_e,_e(K,X)}function N(K){return!K||!/\S/.test(K.string)}function L(K){if(K.linkTitle=!1,K.linkHref=!1,K.linkText=!1,K.em=!1,K.strong=!1,K.strikethrough=!1,K.quote=0,K.indentedCode=!1,K.f==R){var X=r;if(!X){var _e=n.innerMode(i,K.htmlState);X=_e.mode.name=="xml"&&_e.state.tagStart===null&&!_e.state.context&&_e.state.tokenize.isInText}X&&(K.f=q,K.block=I,K.htmlState=null)}return K.trailingSpace=0,K.trailingSpaceNewLine=!1,K.prevLine=K.thisLine,K.thisLine={stream:null},null}function I(K,X){var _e=K.column()===X.indentation,oe=N(X.prevLine.stream),Le=X.indentedCode,lt=X.prevLine.hr,St=X.list!==!1,bt=(X.listStack[X.listStack.length-1]||0)+3;X.indentedCode=!1;var At=X.indentation;if(X.indentationDiff===null&&(X.indentationDiff=X.indentation,St)){for(X.list=null;At<X.listStack[X.listStack.length-1];)X.listStack.pop(),X.listStack.length?X.indentation=X.listStack[X.listStack.length-1]:X.list=!1;X.list!==!1&&(X.indentationDiff=At-X.listStack[X.listStack.length-1])}var ot=!oe&&!lt&&!X.prevLine.header&&(!St||!Le)&&!X.prevLine.fencedCodeEnd,vt=(X.list===!1||lt||oe)&&X.indentation<=bt&&K.match(a),zt=null;if(X.indentationDiff>=4&&(Le||X.prevLine.fencedCodeEnd||X.prevLine.header||oe))return K.skipToEnd(),X.indentedCode=!0,s.code;if(K.eatSpace())return null;if(_e&&X.indentation<=bt&&(zt=K.match(c))&&zt[1].length<=6)return X.quote=0,X.header=zt[1].length,X.thisLine.header=!0,t.highlightFormatting&&(X.formatting="header"),X.f=X.inline,B(X);if(X.indentation<=bt&&K.eat(">"))return X.quote=_e?1:X.quote+1,t.highlightFormatting&&(X.formatting="quote"),K.eatSpace(),B(X);if(!vt&&!X.setext&&_e&&X.indentation<=bt&&(zt=K.match(u))){var pt=zt[1]?"ol":"ul";return X.indentation=At+K.current().length,X.list=!0,X.quote=0,X.listStack.push(X.indentation),X.em=!1,X.strong=!1,X.code=!1,X.strikethrough=!1,t.taskLists&&K.match(f,!1)&&(X.taskList=!0),X.f=X.inline,t.highlightFormatting&&(X.formatting=["list","list-"+pt]),B(X)}else{if(_e&&X.indentation<=bt&&(zt=K.match(_,!0)))return X.quote=0,X.fencedEndRE=new RegExp(zt[1]+"+ *$"),X.localMode=t.fencedCodeBlockHighlighting&&l(zt[2]||t.fencedCodeBlockDefaultMode),X.localMode&&(X.localState=n.startState(X.localMode)),X.f=X.block=$,t.highlightFormatting&&(X.formatting="code-block"),X.code=-1,B(X);if(X.setext||(!ot||!St)&&!X.quote&&X.list===!1&&!X.code&&!vt&&!v.test(K.string)&&(zt=K.lookAhead(1))&&(zt=zt.match(h)))return X.setext?(X.header=X.setext,X.setext=0,K.skipToEnd(),t.highlightFormatting&&(X.formatting="header")):(X.header=zt[0].charAt(0)=="="?1:2,X.setext=X.header),X.thisLine.header=!0,X.f=X.inline,B(X);if(vt)return K.skipToEnd(),X.hr=!0,X.thisLine.hr=!0,s.hr;if(K.peek()==="[")return A(K,X,ie)}return A(K,X,X.inline)}function R(K,X){var _e=i.token(K,X.htmlState);if(!r){var oe=n.innerMode(i,X.htmlState);(oe.mode.name=="xml"&&oe.state.tagStart===null&&!oe.state.context&&oe.state.tokenize.isInText||X.md_inside&&K.current().indexOf(">")>-1)&&(X.f=q,X.block=I,X.htmlState=null)}return _e}function $(K,X){var _e=X.listStack[X.listStack.length-1]||0,oe=X.indentation<_e,Le=_e+3;if(X.fencedEndRE&&X.indentation<=Le&&(oe||K.match(X.fencedEndRE))){t.highlightFormatting&&(X.formatting="code-block");var lt;return oe||(lt=B(X)),X.localMode=X.localState=null,X.block=I,X.f=q,X.fencedEndRE=null,X.code=0,X.thisLine.fencedCodeEnd=!0,oe?M(K,X,X.block):lt}else return X.localMode?X.localMode.token(K,X.localState):(K.skipToEnd(),s.code)}function B(K){var X=[];if(K.formatting){X.push(s.formatting),typeof K.formatting=="string"&&(K.formatting=[K.formatting]);for(var _e=0;_e<K.formatting.length;_e++)X.push(s.formatting+"-"+K.formatting[_e]),K.formatting[_e]==="header"&&X.push(s.formatting+"-"+K.formatting[_e]+"-"+K.header),K.formatting[_e]==="quote"&&(!t.maxBlockquoteDepth||t.maxBlockquoteDepth>=K.quote?X.push(s.formatting+"-"+K.formatting[_e]+"-"+K.quote):X.push("error"))}if(K.taskOpen)return X.push("meta"),X.length?X.join(" "):null;if(K.taskClosed)return X.push("property"),X.length?X.join(" "):null;if(K.linkHref?X.push(s.linkHref,"url"):(K.strong&&X.push(s.strong),K.em&&X.push(s.em),K.strikethrough&&X.push(s.strikethrough),K.emoji&&X.push(s.emoji),K.linkText&&X.push(s.linkText),K.code&&X.push(s.code),K.image&&X.push(s.image),K.imageAltText&&X.push(s.imageAltText,"link"),K.imageMarker&&X.push(s.imageMarker)),K.header&&X.push(s.header,s.header+"-"+K.header),K.quote&&(X.push(s.quote),!t.maxBlockquoteDepth||t.maxBlockquoteDepth>=K.quote?X.push(s.quote+"-"+K.quote):X.push(s.quote+"-"+t.maxBlockquoteDepth)),K.list!==!1){var oe=(K.listStack.length-1)%3;oe?oe===1?X.push(s.list2):X.push(s.list3):X.push(s.list1)}return K.trailingSpaceNewLine?X.push("trailing-space-new-line"):K.trailingSpace&&X.push("trailing-space-"+(K.trailingSpace%2?"a":"b")),X.length?X.join(" "):null}function H(K,X){if(K.match(p,!0))return B(X)}function q(K,X){var _e=X.text(K,X);if(typeof _e<"u")return _e;if(X.list)return X.list=null,B(X);if(X.taskList){var oe=K.match(f,!0)[1]===" ";return oe?X.taskOpen=!0:X.taskClosed=!0,t.highlightFormatting&&(X.formatting="task"),X.taskList=!1,B(X)}if(X.taskOpen=!1,X.taskClosed=!1,X.header&&K.match(/^#+$/,!0))return t.highlightFormatting&&(X.formatting="header"),B(X);var Le=K.next();if(X.linkTitle){X.linkTitle=!1;var lt=Le;Le==="("&&(lt=")"),lt=(lt+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1");var St="^\\s*(?:[^"+lt+"\\\\]+|\\\\\\\\|\\\\.)"+lt;if(K.match(new RegExp(St),!0))return s.linkHref}if(Le==="`"){var bt=X.formatting;t.highlightFormatting&&(X.formatting="code"),K.eatWhile("`");var At=K.current().length;if(X.code==0&&(!X.quote||At==1))return X.code=At,B(X);if(At==X.code){var ot=B(X);return X.code=0,ot}else return X.formatting=bt,B(X)}else if(X.code)return B(X);if(Le==="\\"&&(K.next(),t.highlightFormatting)){var vt=B(X),zt=s.formatting+"-escape";return vt?vt+" "+zt:zt}if(Le==="!"&&K.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return X.imageMarker=!0,X.image=!0,t.highlightFormatting&&(X.formatting="image"),B(X);if(Le==="["&&X.imageMarker&&K.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return X.imageMarker=!1,X.imageAltText=!0,t.highlightFormatting&&(X.formatting="image"),B(X);if(Le==="]"&&X.imageAltText){t.highlightFormatting&&(X.formatting="image");var vt=B(X);return X.imageAltText=!1,X.image=!1,X.inline=X.f=j,vt}if(Le==="["&&!X.image)return X.linkText&&K.match(/^.*?\]/)||(X.linkText=!0,t.highlightFormatting&&(X.formatting="link")),B(X);if(Le==="]"&&X.linkText){t.highlightFormatting&&(X.formatting="link");var vt=B(X);return X.linkText=!1,X.inline=X.f=K.match(/\(.*?\)| ?\[.*?\]/,!1)?j:q,vt}if(Le==="<"&&K.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){X.f=X.inline=z,t.highlightFormatting&&(X.formatting="link");var vt=B(X);return vt?vt+=" ":vt="",vt+s.linkInline}if(Le==="<"&&K.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){X.f=X.inline=z,t.highlightFormatting&&(X.formatting="link");var vt=B(X);return vt?vt+=" ":vt="",vt+s.linkEmail}if(t.xml&&Le==="<"&&K.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1)){var pt=K.string.indexOf(">",K.pos);if(pt!=-1){var $e=K.string.substring(K.start,pt);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test($e)&&(X.md_inside=!0)}return K.backUp(1),X.htmlState=n.startState(i),M(K,X,R)}if(t.xml&&Le==="<"&&K.match(/^\/\w*?>/))return X.md_inside=!1,"tag";if(Le==="*"||Le==="_"){for(var Bt=1,Ze=K.pos==1?" ":K.string.charAt(K.pos-2);Bt<3&&K.eat(Le);)Bt++;var dt=K.peek()||" ",Fe=!/\s/.test(dt)&&(!b.test(dt)||/\s/.test(Ze)||b.test(Ze)),Ft=!/\s/.test(Ze)&&(!b.test(Ze)||/\s/.test(dt)||b.test(dt)),cn=null,Ee=null;if(Bt%2&&(!X.em&&Fe&&(Le==="*"||!Ft||b.test(Ze))?cn=!0:X.em==Le&&Ft&&(Le==="*"||!Fe||b.test(dt))&&(cn=!1)),Bt>1&&(!X.strong&&Fe&&(Le==="*"||!Ft||b.test(Ze))?Ee=!0:X.strong==Le&&Ft&&(Le==="*"||!Fe||b.test(dt))&&(Ee=!1)),Ee!=null||cn!=null){t.highlightFormatting&&(X.formatting=cn==null?"strong":Ee==null?"em":"strong em"),cn===!0&&(X.em=Le),Ee===!0&&(X.strong=Le);var ot=B(X);return cn===!1&&(X.em=!1),Ee===!1&&(X.strong=!1),ot}}else if(Le===" "&&(K.eat("*")||K.eat("_"))){if(K.peek()===" ")return B(X);K.backUp(1)}if(t.strikethrough){if(Le==="~"&&K.eatWhile(Le)){if(X.strikethrough){t.highlightFormatting&&(X.formatting="strikethrough");var ot=B(X);return X.strikethrough=!1,ot}else if(K.match(/^[^\s]/,!1))return X.strikethrough=!0,t.highlightFormatting&&(X.formatting="strikethrough"),B(X)}else if(Le===" "&&K.match("~~",!0)){if(K.peek()===" ")return B(X);K.backUp(2)}}if(t.emoji&&Le===":"&&K.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)){X.emoji=!0,t.highlightFormatting&&(X.formatting="emoji");var Ue=B(X);return X.emoji=!1,Ue}return Le===" "&&(K.match(/^ +$/,!1)?X.trailingSpace++:X.trailingSpace&&(X.trailingSpaceNewLine=!0)),B(X)}function z(K,X){var _e=K.next();if(_e===">"){X.f=X.inline=q,t.highlightFormatting&&(X.formatting="link");var oe=B(X);return oe?oe+=" ":oe="",oe+s.linkInline}return K.match(/^[^>]+/,!0),s.linkInline}function j(K,X){if(K.eatSpace())return null;var _e=K.next();return _e==="("||_e==="["?(X.f=X.inline=G(_e==="("?")":"]"),t.highlightFormatting&&(X.formatting="link-string"),X.linkHref=!0,B(X)):"error"}var W={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/};function G(K){return function(X,_e){var oe=X.next();if(oe===K){_e.f=_e.inline=q,t.highlightFormatting&&(_e.formatting="link-string");var Le=B(_e);return _e.linkHref=!1,Le}return X.match(W[K]),_e.linkHref=!0,B(_e)}}function ie(K,X){return K.match(/^([^\]\\]|\\.)*\]:/,!1)?(X.f=te,K.next(),t.highlightFormatting&&(X.formatting="link"),X.linkText=!0,B(X)):A(K,X,q)}function te(K,X){if(K.match("]:",!0)){X.f=X.inline=ae,t.highlightFormatting&&(X.formatting="link");var _e=B(X);return X.linkText=!1,_e}return K.match(/^([^\]\\]|\\.)+/,!0),s.linkText}function ae(K,X){return K.eatSpace()?null:(K.match(/^[^\s]+/,!0),K.peek()===void 0?X.linkTitle=!0:K.match(/^(?:\s+(?:"(?:[^"\\]|\\.)+"|'(?:[^'\\]|\\.)+'|\((?:[^)\\]|\\.)+\)))?/,!0),X.f=X.inline=q,s.linkHref+" url")}var ue={startState:function(){return{f:I,prevLine:{stream:null},thisLine:{stream:null},block:I,htmlState:null,indentation:0,inline:q,text:H,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(K){return{f:K.f,prevLine:K.prevLine,thisLine:K.thisLine,block:K.block,htmlState:K.htmlState&&n.copyState(i,K.htmlState),indentation:K.indentation,localMode:K.localMode,localState:K.localMode?n.copyState(K.localMode,K.localState):null,inline:K.inline,text:K.text,formatting:!1,linkText:K.linkText,linkTitle:K.linkTitle,linkHref:K.linkHref,code:K.code,em:K.em,strong:K.strong,strikethrough:K.strikethrough,emoji:K.emoji,header:K.header,setext:K.setext,hr:K.hr,taskList:K.taskList,list:K.list,listStack:K.listStack.slice(0),quote:K.quote,indentedCode:K.indentedCode,trailingSpace:K.trailingSpace,trailingSpaceNewLine:K.trailingSpaceNewLine,md_inside:K.md_inside,fencedEndRE:K.fencedEndRE}},token:function(K,X){if(X.formatting=!1,K!=X.thisLine.stream){if(X.header=0,X.hr=!1,K.match(/^\s*$/,!0))return L(X),null;if(X.prevLine=X.thisLine,X.thisLine={stream:K},X.taskList=!1,X.trailingSpace=0,X.trailingSpaceNewLine=!1,!X.localState&&(X.f=X.block,X.f!=R)){var _e=K.match(/^\s*/,!0)[0].replace(/\t/g,y).length;if(X.indentation=_e,X.indentationDiff=null,_e>0)return null}}return X.f(K,X)},innerMode:function(K){return K.block==R?{state:K.htmlState,mode:i}:K.localState?{state:K.localState,mode:K.localMode}:{state:K,mode:ue}},indent:function(K,X,_e){return K.block==R&&i.indent?i.indent(K.htmlState,X,_e):K.localState&&K.localMode.indent?K.localMode.indent(K.localState,X,_e):n.Pass},blankLine:L,getType:B,blockCommentStart:"<!--",blockCommentEnd:"-->",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return ue},"xml"),n.defineMIME("text/markdown","markdown"),n.defineMIME("text/x-markdown","markdown")},JZ=function(n){var e={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},t={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};n.defineMode("xml",function(i,r){var l=i.indentUnit,s={},o=r.htmlMode?e:t;for(var a in o)s[a]=o[a];for(var a in r)s[a]=r[a];var u,f;function c(j,W){function G(ae){return W.tokenize=ae,ae(j,W)}var ie=j.next();if(ie=="<")return j.eat("!")?j.eat("[")?j.match("CDATA[")?G(_("atom","]]>")):null:j.match("--")?G(_("comment","-->")):j.match("DOCTYPE",!0,!0)?(j.eatWhile(/[\w\._\-]/),G(v(1))):null:j.eat("?")?(j.eatWhile(/[\w\._\-]/),W.tokenize=_("meta","?>"),"meta"):(u=j.eat("/")?"closeTag":"openTag",W.tokenize=h,"tag bracket");if(ie=="&"){var te;return j.eat("#")?j.eat("x")?te=j.eatWhile(/[a-fA-F\d]/)&&j.eat(";"):te=j.eatWhile(/[\d]/)&&j.eat(";"):te=j.eatWhile(/[\w\.\-:]/)&&j.eat(";"),te?"atom":"error"}else return j.eatWhile(/[^&<]/),null}c.isInText=!0;function h(j,W){var G=j.next();if(G==">"||G=="/"&&j.eat(">"))return W.tokenize=c,u=G==">"?"endTag":"selfcloseTag","tag bracket";if(G=="=")return u="equals",null;if(G=="<"){W.tokenize=c,W.state=N,W.tagName=W.tagStart=null;var ie=W.tokenize(j,W);return ie?ie+" tag error":"tag error"}else return/[\'\"]/.test(G)?(W.tokenize=p(G),W.stringStartCol=j.column(),W.tokenize(j,W)):(j.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function p(j){var W=function(G,ie){for(;!G.eol();)if(G.next()==j){ie.tokenize=h;break}return"string"};return W.isInAttribute=!0,W}function _(j,W){return function(G,ie){for(;!G.eol();){if(G.match(W)){ie.tokenize=c;break}G.next()}return j}}function v(j){return function(W,G){for(var ie;(ie=W.next())!=null;){if(ie=="<")return G.tokenize=v(j+1),G.tokenize(W,G);if(ie==">")if(j==1){G.tokenize=c;break}else return G.tokenize=v(j-1),G.tokenize(W,G)}return"meta"}}function b(j){return j&&j.toLowerCase()}function y(j,W,G){this.prev=j.context,this.tagName=W||"",this.indent=j.indented,this.startOfLine=G,(s.doNotIndent.hasOwnProperty(W)||j.context&&j.context.noIndent)&&(this.noIndent=!0)}function A(j){j.context&&(j.context=j.context.prev)}function M(j,W){for(var G;;){if(!j.context||(G=j.context.tagName,!s.contextGrabbers.hasOwnProperty(b(G))||!s.contextGrabbers[b(G)].hasOwnProperty(b(W))))return;A(j)}}function N(j,W,G){return j=="openTag"?(G.tagStart=W.column(),L):j=="closeTag"?I:N}function L(j,W,G){return j=="word"?(G.tagName=W.current(),f="tag",B):s.allowMissingTagName&&j=="endTag"?(f="tag bracket",B(j,W,G)):(f="error",L)}function I(j,W,G){if(j=="word"){var ie=W.current();return G.context&&G.context.tagName!=ie&&s.implicitlyClosed.hasOwnProperty(b(G.context.tagName))&&A(G),G.context&&G.context.tagName==ie||s.matchClosing===!1?(f="tag",R):(f="tag error",$)}else return s.allowMissingTagName&&j=="endTag"?(f="tag bracket",R(j,W,G)):(f="error",$)}function R(j,W,G){return j!="endTag"?(f="error",R):(A(G),N)}function $(j,W,G){return f="error",R(j,W,G)}function B(j,W,G){if(j=="word")return f="attribute",H;if(j=="endTag"||j=="selfcloseTag"){var ie=G.tagName,te=G.tagStart;return G.tagName=G.tagStart=null,j=="selfcloseTag"||s.autoSelfClosers.hasOwnProperty(b(ie))?M(G,ie):(M(G,ie),G.context=new y(G,ie,te==G.indented)),N}return f="error",B}function H(j,W,G){return j=="equals"?q:(s.allowMissing||(f="error"),B(j,W,G))}function q(j,W,G){return j=="string"?z:j=="word"&&s.allowUnquoted?(f="string",B):(f="error",B(j,W,G))}function z(j,W,G){return j=="string"?z:B(j,W,G)}return{startState:function(j){var W={tokenize:c,state:N,indented:j||0,tagName:null,tagStart:null,context:null};return j!=null&&(W.baseIndent=j),W},token:function(j,W){if(!W.tagName&&j.sol()&&(W.indented=j.indentation()),j.eatSpace())return null;u=null;var G=W.tokenize(j,W);return(G||u)&&G!="comment"&&(f=null,W.state=W.state(u||G,j,W),f&&(G=f=="error"?G+" error":f)),G},indent:function(j,W,G){var ie=j.context;if(j.tokenize.isInAttribute)return j.tagStart==j.indented?j.stringStartCol+1:j.indented+l;if(ie&&ie.noIndent)return n.Pass;if(j.tokenize!=h&&j.tokenize!=c)return G?G.match(/^(\s*)/)[0].length:0;if(j.tagName)return s.multilineTagIndentPastTag!==!1?j.tagStart+j.tagName.length+2:j.tagStart+l*(s.multilineTagIndentFactor||1);if(s.alignCDATA&&/<!\[CDATA\[/.test(W))return 0;var te=W&&/^<(\/)?([\w_:\.-]*)/.exec(W);if(te&&te[1])for(;ie;)if(ie.tagName==te[2]){ie=ie.prev;break}else if(s.implicitlyClosed.hasOwnProperty(b(ie.tagName)))ie=ie.prev;else break;else if(te)for(;ie;){var ae=s.contextGrabbers[b(ie.tagName)];if(ae&&ae.hasOwnProperty(b(te[2])))ie=ie.prev;else break}for(;ie&&ie.prev&&!ie.startOfLine;)ie=ie.prev;return ie?ie.indent+l:j.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:s.htmlMode?"html":"xml",helperType:s.htmlMode?"html":"xml",skipAttribute:function(j){j.state==q&&(j.state=B)},xmlCurrentTag:function(j){return j.tagName?{name:j.tagName,close:j.type=="closeTag"}:null},xmlCurrentContext:function(j){for(var W=[],G=j.context;G;G=G.prev)W.push(G.tagName);return W.reverse()}}}),n.defineMIME("text/xml","xml"),n.defineMIME("application/xml","xml"),n.mimeModes.hasOwnProperty("text/html")||n.defineMIME("text/html",{name:"xml",htmlMode:!0})},eQ=function(n){var e=0,t=1,i=2;n.defineMode("yaml-frontmatter",function(r,l){var s=n.getMode(r,"yaml"),o=n.getMode(r,l&&l.base||"gfm");function a(u){return u.state==t?{mode:s,state:u.yaml}:{mode:o,state:u.inner}}return{startState:function(){return{state:e,yaml:null,inner:n.startState(o)}},copyState:function(u){return{state:u.state,yaml:u.yaml&&n.copyState(s,u.yaml),inner:n.copyState(o,u.inner)}},token:function(u,f){if(f.state==e)return u.match("---",!1)?(f.state=t,f.yaml=n.startState(s),s.token(u,f.yaml)):(f.state=i,o.token(u,f.inner));if(f.state==t){var c=u.sol()&&u.match(/(---|\.\.\.)/,!1),h=s.token(u,f.yaml);return c&&(f.state=i,f.yaml=null),h}else return o.token(u,f.inner)},innerMode:a,indent:function(u,f,c){var h=a(u);return h.mode.indent?h.mode.indent(h.state,f,c):n.Pass},blankLine:function(u){var f=a(u);if(f.mode.blankLine)return f.mode.blankLine(f.state)}}})},tQ=function(n){n.defineMode("yaml",function(){var e=["true","false","on","off","yes","no"],t=new RegExp("\\b(("+e.join(")|(")+"))$","i");return{token:function(i,r){var l=i.peek(),s=r.escaped;if(r.escaped=!1,l=="#"&&(i.pos==0||/\s/.test(i.string.charAt(i.pos-1))))return i.skipToEnd(),"comment";if(i.match(/^('([^']|\\.)*'?|"([^"]|\\.)*"?)/))return"string";if(r.literal&&i.indentation()>r.keyCol)return i.skipToEnd(),"string";if(r.literal&&(r.literal=!1),i.sol()){if(r.keyCol=0,r.pair=!1,r.pairStart=!1,i.match("---")||i.match("..."))return"def";if(i.match(/\s*-\s+/))return"meta"}if(i.match(/^(\{|\}|\[|\])/))return l=="{"?r.inlinePairs++:l=="}"?r.inlinePairs--:l=="["?r.inlineList++:r.inlineList--,"meta";if(r.inlineList>0&&!s&&l==",")return i.next(),"meta";if(r.inlinePairs>0&&!s&&l==",")return r.keyCol=0,r.pair=!1,r.pairStart=!1,i.next(),"meta";if(r.pairStart){if(i.match(/^\s*(\||\>)\s*/))return r.literal=!0,"meta";if(i.match(/^\s*(\&|\*)[a-z0-9\._-]+\b/i))return"variable-2";if(r.inlinePairs==0&&i.match(/^\s*-?[0-9\.\,]+\s?$/)||r.inlinePairs>0&&i.match(/^\s*-?[0-9\.\,]+\s?(?=(,|}))/))return"number";if(i.match(t))return"keyword"}return!r.pair&&i.match(/^\s*(?:[,\[\]{}&*!|>'"%@`][^\s'":]|[^,\[\]{}#&*!|>'"%@`])[^#]*?(?=\s*:($|\s))/)?(r.pair=!0,r.keyCol=i.indentation(),"atom"):r.pair&&i.match(/^:\s*/)?(r.pairStart=!0,"meta"):(r.pairStart=!1,r.escaped=l=="\\",i.next(),null)},startState:function(){return{pair:!1,pairStart:!1,keyCol:0,inlinePairs:0,inlineList:0,literal:!1,escaped:!1}},lineComment:"#",fold:"indent"}}),n.defineMIME("text/x-yaml","yaml"),n.defineMIME("text/yaml","yaml")};var nQ=function(n){n===void 0&&(n={});var e=n.accept;e===void 0&&(e="");var t=n.capture;t===void 0&&(t=!1);var i=n.multiple;i===void 0&&(i=!1);var r=document.createElement("input");return r.type="file",r.accept=e,r.capture=t,r.multiple=i,r},RA=function(n){return new Promise(function(e){var t=nQ(n);t.addEventListener("change",function(){return e(t.files||null)}),setTimeout(function(){var i=new MouseEvent("click");t.dispatchEvent(i)},0)})};function iQ(){const n=VZ();return GZ(n),XZ(n),JZ(n),QZ(n),ZZ(n),tQ(n),eQ(n),YZ(n),n}function rQ(n,e){return{wrapText(t,i=t){const r=e.somethingSelected()?e.listSelections()[0]:e.findWordAt(e.getCursor()),l=r.from(),s=r.to(),o=e.getRange(l,s),a=n.Pos(l.line,l.ch-t.length),u=n.Pos(s.line,s.ch+i.length);if(e.getRange(a,l)===t&&e.getRange(s,u)===i)e.replaceRange(o,a,u),e.setSelection(a,n.Pos(a.line,a.ch+o.length));else{e.replaceRange(t+o+i,l,s);const f=e.getCursor();e.setSelection(n.Pos(f.line,f.ch-i.length-o.length),n.Pos(f.line,f.ch-i.length))}},replaceLines(t){const[i]=e.listSelections(),r=[n.Pos(i.from().line,0),n.Pos(i.to().line)],l=e.getRange(...r).split(`
`);e.replaceRange(l.map(t).join(`
`),...r),e.setSelection(...r)},appendBlock(t){const i=e.getCursor();let r=-1;for(let l=i.line;l<e.lineCount();l++)if(!e.getLine(l).trim()){r=l;break}return r===-1&&(e.replaceRange(`
`,n.Pos(e.lineCount())),r=e.lineCount()),e.replaceRange(`
`+t,n.Pos(r)),n.Pos(r+1,0)},selectFiles:RA}}function Ym(n,e){let t=e.length-2;for(let i=0;i<e.length;i++)if(n<e[i]){t=i-1;break}return t=Math.max(t,0),t}const uo=(n,e=!1)=>{const t=e?"Shift-":"",i=typeof navigator<"u"&&/Mac/.test(navigator.platform)?"Cmd-":"Ctrl-";return t+i+n};async function PA({editor:n,appendBlock:e,codemirror:t},i,r){const l=await i(r),s=e(l.map(({url:o,alt:a,title:u},f)=>(a=a??r[f].name,`![${a}](${o}${u?` "${u}"`:""})`)).join(`

`));n.setSelection(s,t.Pos(s.line+l.length*2-2)),n.focus()}function lQ(n,e,t){const i=[{icon:oi.H,handler:{type:"dropdown",actions:[1,2,3,4,5,6].map(l=>({title:n[`h${l}`],icon:[oi.H1,oi.H2,oi.H3,oi.LevelFourTitle,oi.LevelFiveTitle,oi.LevelSixTitle][l-1],cheatsheet:l<=3?`${"#".repeat(l)} ${n.headingText}`:void 0,handler:{type:"action",click({replaceLines:s,editor:o}){s(a=>(a=a.trim().replace(/^#*/,"").trim(),a="#".repeat(l)+" "+a,a)),o.focus()}}}))}},{title:n.bold,icon:oi.TextBold,cheatsheet:`**${n.boldText}**`,handler:{type:"action",shortcut:uo("B"),click({wrapText:l,editor:s}){l("**"),s.focus()}}},{title:n.italic,icon:oi.TextItalic,cheatsheet:`*${n.italicText}*`,handler:{type:"action",shortcut:uo("I"),click({wrapText:l,editor:s}){l("*"),s.focus()}}},{title:n.quote,icon:oi.Quote,cheatsheet:`> ${n.quotedText}`,handler:{type:"action",click({replaceLines:l,editor:s}){l(o=>"> "+o),s.focus()}}},{title:n.link,icon:oi.LinkOne,cheatsheet:`[${n.linkText}](url)`,handler:{type:"action",shortcut:uo("K"),click({editor:l,wrapText:s,codemirror:o}){s("[","](url)");const a=l.getCursor();l.setSelection(o.Pos(a.line,a.ch+2),o.Pos(a.line,a.ch+5)),l.focus()}}},{title:n.image,icon:oi.Pic,cheatsheet:`![${n.imageAlt}](url "${n.imageTitle}")`,handler:t?{type:"action",shortcut:uo("I",!0),async click(l){const s=await RA({accept:"image/*",multiple:!0});s!=null&&s.length&&await PA(l,t,Array.from(s))}}:void 0},{title:n.code,icon:oi.Code,cheatsheet:"`"+n.codeText+"`",handler:{type:"action",shortcut:uo("K",!0),click({wrapText:l,editor:s}){l("`"),s.focus()}}},{title:n.codeBlock,icon:oi.CodeBrackets,cheatsheet:"```"+n.codeLang+"↵",handler:{type:"action",shortcut:uo("C",!0),click({editor:l,appendBlock:s,codemirror:o}){const a=s("```js\n```");l.setSelection(o.Pos(a.line,3),o.Pos(a.line,5)),l.focus()}}},{title:n.ul,icon:oi.ListTwo,cheatsheet:`- ${n.ulItem}`,handler:{type:"action",shortcut:uo("U",!0),click({replaceLines:l,editor:s}){l(o=>"- "+o),s.focus()}}},{title:n.ol,icon:oi.OrderedList,cheatsheet:`1. ${n.olItem}`,handler:{type:"action",shortcut:uo("O",!0),click({replaceLines:l,editor:s}){l((o,a)=>`${a+1}. ${o}`),s.focus()}}},{title:n.hr,icon:oi.DividingLine,cheatsheet:"---"}],r=[];return e.forEach(({actions:l})=>{l&&l.forEach(s=>{!s.position||s.position!=="right"?i.push(s):r.unshift(s)})}),{leftActions:i,rightActions:r}}function l3(n,e,t){const i=n.slice();return i[5]=e[t],i}function s3(n,e,t){const i=n.slice();return i[5]=e[t],i}function o3(n){let e,t,i=n[5].icon+"",r,l=n[5].title+"",s,o,a,u=n[5].cheatsheet+"",f;return{c(){e=k("li"),t=k("div"),r=k("div"),s=le(l),o=k("div"),a=k("code"),f=le(u),m(t,"class","bytemd-help-icon"),m(r,"class","bytemd-help-title"),m(o,"class","bytemd-help-content")},m(c,h){S(c,e,h),T(e,t),t.innerHTML=i,T(e,r),T(r,s),T(e,o),T(o,a),T(a,f)},p(c,h){h&4&&i!==(i=c[5].icon+"")&&(t.innerHTML=i),h&4&&l!==(l=c[5].title+"")&&Se(s,l),h&4&&u!==(u=c[5].cheatsheet+"")&&Se(f,u)},d(c){c&&E(e)}}}function a3(n){let e,t=n[5].cheatsheet&&o3(n);return{c(){t&&t.c(),e=ze()},m(i,r){t&&t.m(i,r),S(i,e,r)},p(i,r){i[5].cheatsheet?t?t.p(i,r):(t=o3(i),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(i){i&&E(e),t&&t.d(i)}}}function u3(n){let e,t,i=n[5].icon+"",r,l=n[5].title+"",s,o,a,u=n[5].handler.shortcut+"",f;return{c(){e=k("li"),t=k("div"),r=k("div"),s=le(l),o=k("div"),a=k("kbd"),f=le(u),m(t,"class","bytemd-help-icon"),m(r,"class","bytemd-help-title"),m(o,"class","bytemd-help-content")},m(c,h){S(c,e,h),T(e,t),t.innerHTML=i,T(e,r),T(r,s),T(e,o),T(o,a),T(a,f)},p(c,h){h&4&&i!==(i=c[5].icon+"")&&(t.innerHTML=i),h&4&&l!==(l=c[5].title+"")&&Se(s,l),h&4&&u!==(u=c[5].handler.shortcut+"")&&Se(f,u)},d(c){c&&E(e)}}}function f3(n){let e,t=n[5].handler&&n[5].handler.type==="action"&&n[5].handler.shortcut&&u3(n);return{c(){t&&t.c(),e=ze()},m(i,r){t&&t.m(i,r),S(i,e,r)},p(i,r){i[5].handler&&i[5].handler.type==="action"&&i[5].handler.shortcut?t?t.p(i,r):(t=u3(i),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(i){i&&E(e),t&&t.d(i)}}}function sQ(n){let e,t,i=n[0].cheatsheet+"",r,l,s,o=n[0].shortcuts+"",a,u,f=Re(n[2]),c=[];for(let _=0;_<f.length;_+=1)c[_]=a3(s3(n,f,_));let h=Re(n[2]),p=[];for(let _=0;_<h.length;_+=1)p[_]=f3(l3(n,h,_));return{c(){e=k("div"),t=k("h2"),r=le(i),l=k("ul");for(let _=0;_<c.length;_+=1)c[_].c();s=k("h2"),a=le(o),u=k("ul");for(let _=0;_<p.length;_+=1)p[_].c();m(e,"class","bytemd-help"),he(e,"bytemd-hidden",!n[1])},m(_,v){S(_,e,v),T(e,t),T(t,r),T(e,l);for(let b=0;b<c.length;b+=1)c[b]&&c[b].m(l,null);T(e,s),T(s,a),T(e,u);for(let b=0;b<p.length;b+=1)p[b]&&p[b].m(u,null)},p(_,[v]){if(v&1&&i!==(i=_[0].cheatsheet+"")&&Se(r,i),v&4){f=Re(_[2]);let b;for(b=0;b<f.length;b+=1){const y=s3(_,f,b);c[b]?c[b].p(y,v):(c[b]=a3(y),c[b].c(),c[b].m(l,null))}for(;b<c.length;b+=1)c[b].d(1);c.length=f.length}if(v&1&&o!==(o=_[0].shortcuts+"")&&Se(a,o),v&4){h=Re(_[2]);let b;for(b=0;b<h.length;b+=1){const y=l3(_,h,b);p[b]?p[b].p(y,v):(p[b]=f3(y),p[b].c(),p[b].m(u,null))}for(;b<p.length;b+=1)p[b].d(1);p.length=h.length}v&2&&he(e,"bytemd-hidden",!_[1])},i:ge,o:ge,d(_){_&&E(e),fn(c,_),fn(p,_)}}}function oQ(n,e,t){let i,{actions:r}=e,{locale:l}=e,{visible:s}=e;function o(a){let u=[];return a.forEach(f=>{const{handler:c,cheatsheet:h}=f;(c==null?void 0:c.type)==="dropdown"&&u.push(...o(c.actions)),h&&u.push(f)}),u}return n.$$set=a=>{"actions"in a&&t(3,r=a.actions),"locale"in a&&t(0,l=a.locale),"visible"in a&&t(1,s=a.visible)},n.$$.update=()=>{n.$$.dirty&8&&t(2,i=o(r))},[l,s,i,r]}class aQ extends je{constructor(e){super(),qe(this,e,oQ,sQ,We,{actions:3,locale:0,visible:1})}}var uQ=/[a-zA-Z0-9_\u0392-\u03c9\u00c0-\u00ff\u0600-\u06ff]+|[\u4e00-\u9fff\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g,fQ=function(n){var e=n.match(uQ),t=0;if(!e)return 0;for(var i=0;i<e.length;i++)e[i].charCodeAt(0)>=19968?t+=e[i].length:t+=1;return t};const cQ=Ju(fQ);function c3(n){let e,t=n[2].limited+"",i;return{c(){e=k("span"),i=le(t),m(e,"class","bytemd-status-error")},m(r,l){S(r,e,l),T(e,i)},p(r,l){l&4&&t!==(t=r[2].limited+"")&&Se(i,t)},d(r){r&&E(e)}}}function d3(n){let e,t,i=n[2].sync+"",r,l,s;return{c(){e=k("label"),t=k("input"),r=le(i),m(t,"type","checkbox"),t.checked=n[1]},m(o,a){S(o,e,a),T(e,t),T(e,r),l||(s=se(t,"change",n[8]),l=!0)},p(o,a){a&2&&(t.checked=o[1]),a&4&&i!==(i=o[2].sync+"")&&Se(r,i)},d(o){o&&E(e),l=!1,s()}}}function dQ(n){let e,t,i,r=n[2].words+"",l,s,o,a,u,f=n[2].lines+"",c,h,p,_,v,b,y=n[2].top+"",A,M,N,L=n[3]&&c3(n),I=n[0]&&d3(n);return{c(){e=k("div"),t=k("div"),i=k("span"),l=le(r),s=le(": "),o=k("strong"),a=le(n[5]),u=k("span"),c=le(f),h=le(": "),p=k("strong"),_=le(n[4]),L&&L.c(),v=k("div"),I&&I.c(),b=k("span"),A=le(y),m(t,"class","bytemd-status-left"),m(v,"class","bytemd-status-right"),m(e,"class","bytemd-status")},m(R,$){S(R,e,$),T(e,t),T(t,i),T(i,l),T(i,s),T(i,o),T(o,a),T(t,u),T(u,c),T(u,h),T(u,p),T(p,_),L&&L.m(t,null),T(e,v),I&&I.m(v,null),T(v,b),T(b,A),M||(N=[se(b,"click",n[9]),se(b,"keydown",Fu(n[10]))],M=!0)},p(R,[$]){$&4&&r!==(r=R[2].words+"")&&Se(l,r),$&32&&Se(a,R[5]),$&4&&f!==(f=R[2].lines+"")&&Se(c,f),$&16&&Se(_,R[4]),R[3]?L?L.p(R,$):(L=c3(R),L.c(),L.m(t,null)):L&&(L.d(1),L=null),R[0]?I?I.p(R,$):(I=d3(R),I.c(),I.m(v,b)):I&&(I.d(1),I=null),$&4&&y!==(y=R[2].top+"")&&Se(A,y)},i:ge,o:ge,d(R){R&&E(e),L&&L.d(),I&&I.d(),M=!1,it(N)}}}function hQ(n,e,t){let i,r,{showSync:l}=e,{value:s}=e,{syncEnabled:o}=e,{locale:a}=e,{islimited:u}=e;const f=Sn(),c=()=>f("sync",!o),h=()=>f("top"),p=_=>["Enter","Space"].includes(_.code)&&f("top");return n.$$set=_=>{"showSync"in _&&t(0,l=_.showSync),"value"in _&&t(7,s=_.value),"syncEnabled"in _&&t(1,o=_.syncEnabled),"locale"in _&&t(2,a=_.locale),"islimited"in _&&t(3,u=_.islimited)},n.$$.update=()=>{n.$$.dirty&128&&t(5,i=cQ(s)),n.$$.dirty&128&&t(4,r=s.split(`
`).length)},[l,o,a,u,r,i,f,s,c,h,p]}class pQ extends je{constructor(e){super(),qe(this,e,hQ,dQ,We,{showSync:0,value:7,syncEnabled:1,locale:2,islimited:3})}}const D_=function(n){if(n==null)return bQ;if(typeof n=="string")return _Q(n);if(typeof n=="object")return Array.isArray(n)?mQ(n):gQ(n);if(typeof n=="function")return np(n);throw new Error("Expected function, string, or object as test")};function mQ(n){const e=[];let t=-1;for(;++t<n.length;)e[t]=D_(n[t]);return np(i);function i(...r){let l=-1;for(;++l<e.length;)if(e[l].call(this,...r))return!0;return!1}}function gQ(n){return np(e);function e(t){let i;for(i in n)if(t[i]!==n[i])return!1;return!0}}function _Q(n){return np(e);function e(t){return t&&t.type===n}}function np(n){return e;function e(t,...i){return!!(t&&typeof t=="object"&&"type"in t&&n.call(this,t,...i))}}function bQ(){return!0}const vQ=!0,h3=!1,yQ="skip",FA=function(n,e,t,i){typeof e=="function"&&typeof t!="function"&&(i=t,t=e,e=null);const r=D_(e),l=i?-1:1;s(n,void 0,[])();function s(o,a,u){const f=o&&typeof o=="object"?o:{};if(typeof f.type=="string"){const h=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(c,"name",{value:"node ("+(o.type+(h?"<"+h+">":""))+")"})}return c;function c(){let h=[],p,_,v;if((!e||r(o,a,u[u.length-1]||null))&&(h=kQ(t(o,u)),h[0]===h3))return h;if(o.children&&h[0]!==yQ)for(_=(i?o.children.length:-1)+l,v=u.concat(o);_>-1&&_<o.children.length;){if(p=s(o.children[_],_,v)(),p[0]===h3)return p;_=typeof p[1]=="number"?p[1]:_+l}return h}}};function kQ(n){return Array.isArray(n)?n:typeof n=="number"?[vQ,n]:[n]}const ip=function(n,e,t,i){typeof e=="function"&&typeof t!="function"&&(i=t,t=e,e=null),FA(n,e,r,i);function r(l,s){const o=s[s.length-1];return t(l,o?o.children.indexOf(l):null,o)}};function p3(n,e,t){const i=n.slice();return i[11]=e[t],i[13]=t,i}function m3(n){let e,t=n[11].text+"",i,r,l,s,o;function a(){return n[8](n[13])}function u(...f){return n[9](n[13],...f)}return{c(){e=k("li"),i=le(t),m(e,"class",r=`bytemd-toc-${n[11].level}`),m(e,"style",l=`padding-left:${(n[11].level-n[3])*16+8}px`),he(e,"bytemd-toc-active",n[4]===n[13]),he(e,"bytemd-toc-first",n[11].level===n[3])},m(f,c){S(f,e,c),T(e,i),s||(o=[se(e,"click",a),se(e,"keydown",Fu(u))],s=!0)},p(f,c){n=f,c&4&&t!==(t=n[11].text+"")&&Se(i,t),c&4&&r!==(r=`bytemd-toc-${n[11].level}`)&&m(e,"class",r),c&12&&l!==(l=`padding-left:${(n[11].level-n[3])*16+8}px`)&&m(e,"style",l),c&20&&he(e,"bytemd-toc-active",n[4]===n[13]),c&12&&he(e,"bytemd-toc-first",n[11].level===n[3])},d(f){f&&E(e),s=!1,it(o)}}}function TQ(n){let e,t,i=n[0].toc+"",r,l,s=Re(n[2]),o=[];for(let a=0;a<s.length;a+=1)o[a]=m3(p3(n,s,a));return{c(){e=k("div"),t=k("h2"),r=le(i),l=k("ul");for(let a=0;a<o.length;a+=1)o[a].c();m(e,"class","bytemd-toc"),he(e,"bytemd-hidden",!n[1])},m(a,u){S(a,e,u),T(e,t),T(t,r),T(e,l);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(l,null)},p(a,[u]){if(u&1&&i!==(i=a[0].toc+"")&&Se(r,i),u&60){s=Re(a[2]);let f;for(f=0;f<s.length;f+=1){const c=p3(a,s,f);o[f]?o[f].p(c,u):(o[f]=m3(c),o[f].c(),o[f].m(l,null))}for(;f<o.length;f+=1)o[f].d(1);o.length=s.length}u&2&&he(e,"bytemd-hidden",!a[1])},i:ge,o:ge,d(a){a&&E(e),fn(o,a)}}}function wQ(n,e,t){let{hast:i}=e,{currentBlockIndex:r}=e,{locale:l}=e,{visible:s}=e;const o=Sn();let a,u=6,f=0;function c(_){let v="";return ip(_,b=>{b.type==="text"&&(v+=b.value)}),v}const h=_=>{o("click",_)},p=(_,v)=>{["Enter","Space"].includes(v.code)&&o("click",_)};return n.$$set=_=>{"hast"in _&&t(6,i=_.hast),"currentBlockIndex"in _&&t(7,r=_.currentBlockIndex),"locale"in _&&t(0,l=_.locale),"visible"in _&&t(1,s=_.visible)},n.$$.update=()=>{n.$$.dirty&204&&(t(2,a=[]),t(4,f=0),i.children.filter(_=>_.type==="element").forEach((_,v)=>{if(_.tagName[0]==="h"&&_.children.length){const b=Number(_.tagName[1]);t(3,u=Math.min(u,b)),a.push({level:b,text:c(_)})}r>=v&&t(4,f=a.length-1)}))},[l,s,a,u,f,o,i,r,h,p]}class EQ extends je{constructor(e){super(),qe(this,e,wQ,TQ,$h,{hast:6,currentBlockIndex:7,locale:0,visible:1})}}var Vr="top",Cl="bottom",Al="right",Gr="left",R_="auto",s1=[Vr,Cl,Al,Gr],qu="start",qc="end",SQ="clippingParents",$A="viewport",qf="popper",CQ="reference",g3=s1.reduce(function(n,e){return n.concat([e+"-"+qu,e+"-"+qc])},[]),HA=[].concat(s1,[R_]).reduce(function(n,e){return n.concat([e,e+"-"+qu,e+"-"+qc])},[]),AQ="beforeRead",OQ="read",NQ="afterRead",MQ="beforeMain",IQ="main",LQ="afterMain",DQ="beforeWrite",RQ="write",PQ="afterWrite",FQ=[AQ,OQ,NQ,MQ,IQ,LQ,DQ,RQ,PQ];function ws(n){return n?(n.nodeName||"").toLowerCase():null}function cl(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function Aa(n){var e=cl(n).Element;return n instanceof e||n instanceof Element}function Tl(n){var e=cl(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function P_(n){if(typeof ShadowRoot>"u")return!1;var e=cl(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function $Q(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var i=e.styles[t]||{},r=e.attributes[t]||{},l=e.elements[t];!Tl(l)||!ws(l)||(Object.assign(l.style,i),Object.keys(r).forEach(function(s){var o=r[s];o===!1?l.removeAttribute(s):l.setAttribute(s,o===!0?"":o)}))})}function HQ(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(i){var r=e.elements[i],l=e.attributes[i]||{},s=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:t[i]),o=s.reduce(function(a,u){return a[u]="",a},{});!Tl(r)||!ws(r)||(Object.assign(r.style,o),Object.keys(l).forEach(function(a){r.removeAttribute(a)}))})}}const BA={name:"applyStyles",enabled:!0,phase:"write",fn:$Q,effect:HQ,requires:["computeStyles"]};function vs(n){return n.split("-")[0]}var Ta=Math.max,kh=Math.min,ju=Math.round;function yg(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function xA(){return!/^((?!chrome|android).)*safari/i.test(yg())}function Wu(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var i=n.getBoundingClientRect(),r=1,l=1;e&&Tl(n)&&(r=n.offsetWidth>0&&ju(i.width)/n.offsetWidth||1,l=n.offsetHeight>0&&ju(i.height)/n.offsetHeight||1);var s=Aa(n)?cl(n):window,o=s.visualViewport,a=!xA()&&t,u=(i.left+(a&&o?o.offsetLeft:0))/r,f=(i.top+(a&&o?o.offsetTop:0))/l,c=i.width/r,h=i.height/l;return{width:c,height:h,top:f,right:u+c,bottom:f+h,left:u,x:u,y:f}}function F_(n){var e=Wu(n),t=n.offsetWidth,i=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:i}}function UA(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&P_(t)){var i=e;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function js(n){return cl(n).getComputedStyle(n)}function BQ(n){return["table","td","th"].indexOf(ws(n))>=0}function Fo(n){return((Aa(n)?n.ownerDocument:n.document)||window.document).documentElement}function rp(n){return ws(n)==="html"?n:n.assignedSlot||n.parentNode||(P_(n)?n.host:null)||Fo(n)}function _3(n){return!Tl(n)||js(n).position==="fixed"?null:n.offsetParent}function xQ(n){var e=/firefox/i.test(yg()),t=/Trident/i.test(yg());if(t&&Tl(n)){var i=js(n);if(i.position==="fixed")return null}var r=rp(n);for(P_(r)&&(r=r.host);Tl(r)&&["html","body"].indexOf(ws(r))<0;){var l=js(r);if(l.transform!=="none"||l.perspective!=="none"||l.contain==="paint"||["transform","perspective"].indexOf(l.willChange)!==-1||e&&l.willChange==="filter"||e&&l.filter&&l.filter!=="none")return r;r=r.parentNode}return null}function o1(n){for(var e=cl(n),t=_3(n);t&&BQ(t)&&js(t).position==="static";)t=_3(t);return t&&(ws(t)==="html"||ws(t)==="body"&&js(t).position==="static")?e:t||xQ(n)||e}function $_(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function gc(n,e,t){return Ta(n,kh(e,t))}function UQ(n,e,t){var i=gc(n,e,t);return i>t?t:i}function zA(){return{top:0,right:0,bottom:0,left:0}}function qA(n){return Object.assign({},zA(),n)}function jA(n,e){return e.reduce(function(t,i){return t[i]=n,t},{})}var zQ=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,qA(typeof e!="number"?e:jA(e,s1))};function qQ(n){var e,t=n.state,i=n.name,r=n.options,l=t.elements.arrow,s=t.modifiersData.popperOffsets,o=vs(t.placement),a=$_(o),u=[Gr,Al].indexOf(o)>=0,f=u?"height":"width";if(!(!l||!s)){var c=zQ(r.padding,t),h=F_(l),p=a==="y"?Vr:Gr,_=a==="y"?Cl:Al,v=t.rects.reference[f]+t.rects.reference[a]-s[a]-t.rects.popper[f],b=s[a]-t.rects.reference[a],y=o1(l),A=y?a==="y"?y.clientHeight||0:y.clientWidth||0:0,M=v/2-b/2,N=c[p],L=A-h[f]-c[_],I=A/2-h[f]/2+M,R=gc(N,I,L),$=a;t.modifiersData[i]=(e={},e[$]=R,e.centerOffset=R-I,e)}}function jQ(n){var e=n.state,t=n.options,i=t.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||UA(e.elements.popper,r)&&(e.elements.arrow=r))}const WQ={name:"arrow",enabled:!0,phase:"main",fn:qQ,effect:jQ,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ku(n){return n.split("-")[1]}var KQ={top:"auto",right:"auto",bottom:"auto",left:"auto"};function VQ(n,e){var t=n.x,i=n.y,r=e.devicePixelRatio||1;return{x:ju(t*r)/r||0,y:ju(i*r)/r||0}}function b3(n){var e,t=n.popper,i=n.popperRect,r=n.placement,l=n.variation,s=n.offsets,o=n.position,a=n.gpuAcceleration,u=n.adaptive,f=n.roundOffsets,c=n.isFixed,h=s.x,p=h===void 0?0:h,_=s.y,v=_===void 0?0:_,b=typeof f=="function"?f({x:p,y:v}):{x:p,y:v};p=b.x,v=b.y;var y=s.hasOwnProperty("x"),A=s.hasOwnProperty("y"),M=Gr,N=Vr,L=window;if(u){var I=o1(t),R="clientHeight",$="clientWidth";if(I===cl(t)&&(I=Fo(t),js(I).position!=="static"&&o==="absolute"&&(R="scrollHeight",$="scrollWidth")),I=I,r===Vr||(r===Gr||r===Al)&&l===qc){N=Cl;var B=c&&I===L&&L.visualViewport?L.visualViewport.height:I[R];v-=B-i.height,v*=a?1:-1}if(r===Gr||(r===Vr||r===Cl)&&l===qc){M=Al;var H=c&&I===L&&L.visualViewport?L.visualViewport.width:I[$];p-=H-i.width,p*=a?1:-1}}var q=Object.assign({position:o},u&&KQ),z=f===!0?VQ({x:p,y:v},cl(t)):{x:p,y:v};if(p=z.x,v=z.y,a){var j;return Object.assign({},q,(j={},j[N]=A?"0":"",j[M]=y?"0":"",j.transform=(L.devicePixelRatio||1)<=1?"translate("+p+"px, "+v+"px)":"translate3d("+p+"px, "+v+"px, 0)",j))}return Object.assign({},q,(e={},e[N]=A?v+"px":"",e[M]=y?p+"px":"",e.transform="",e))}function GQ(n){var e=n.state,t=n.options,i=t.gpuAcceleration,r=i===void 0?!0:i,l=t.adaptive,s=l===void 0?!0:l,o=t.roundOffsets,a=o===void 0?!0:o,u={placement:vs(e.placement),variation:Ku(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,b3(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:a})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,b3(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:a})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const YQ={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:GQ,data:{}};var gd={passive:!0};function XQ(n){var e=n.state,t=n.instance,i=n.options,r=i.scroll,l=r===void 0?!0:r,s=i.resize,o=s===void 0?!0:s,a=cl(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return l&&u.forEach(function(f){f.addEventListener("scroll",t.update,gd)}),o&&a.addEventListener("resize",t.update,gd),function(){l&&u.forEach(function(f){f.removeEventListener("scroll",t.update,gd)}),o&&a.removeEventListener("resize",t.update,gd)}}const ZQ={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:XQ,data:{}};var QQ={left:"right",right:"left",bottom:"top",top:"bottom"};function Zd(n){return n.replace(/left|right|bottom|top/g,function(e){return QQ[e]})}var JQ={start:"end",end:"start"};function v3(n){return n.replace(/start|end/g,function(e){return JQ[e]})}function H_(n){var e=cl(n),t=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:t,scrollTop:i}}function B_(n){return Wu(Fo(n)).left+H_(n).scrollLeft}function eJ(n,e){var t=cl(n),i=Fo(n),r=t.visualViewport,l=i.clientWidth,s=i.clientHeight,o=0,a=0;if(r){l=r.width,s=r.height;var u=xA();(u||!u&&e==="fixed")&&(o=r.offsetLeft,a=r.offsetTop)}return{width:l,height:s,x:o+B_(n),y:a}}function tJ(n){var e,t=Fo(n),i=H_(n),r=(e=n.ownerDocument)==null?void 0:e.body,l=Ta(t.scrollWidth,t.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=Ta(t.scrollHeight,t.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),o=-i.scrollLeft+B_(n),a=-i.scrollTop;return js(r||t).direction==="rtl"&&(o+=Ta(t.clientWidth,r?r.clientWidth:0)-l),{width:l,height:s,x:o,y:a}}function x_(n){var e=js(n),t=e.overflow,i=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+r+i)}function WA(n){return["html","body","#document"].indexOf(ws(n))>=0?n.ownerDocument.body:Tl(n)&&x_(n)?n:WA(rp(n))}function _c(n,e){var t;e===void 0&&(e=[]);var i=WA(n),r=i===((t=n.ownerDocument)==null?void 0:t.body),l=cl(i),s=r?[l].concat(l.visualViewport||[],x_(i)?i:[]):i,o=e.concat(s);return r?o:o.concat(_c(rp(s)))}function kg(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function nJ(n,e){var t=Wu(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function y3(n,e,t){return e===$A?kg(eJ(n,t)):Aa(e)?nJ(e,t):kg(tJ(Fo(n)))}function iJ(n){var e=_c(rp(n)),t=["absolute","fixed"].indexOf(js(n).position)>=0,i=t&&Tl(n)?o1(n):n;return Aa(i)?e.filter(function(r){return Aa(r)&&UA(r,i)&&ws(r)!=="body"}):[]}function rJ(n,e,t,i){var r=e==="clippingParents"?iJ(n):[].concat(e),l=[].concat(r,[t]),s=l[0],o=l.reduce(function(a,u){var f=y3(n,u,i);return a.top=Ta(f.top,a.top),a.right=kh(f.right,a.right),a.bottom=kh(f.bottom,a.bottom),a.left=Ta(f.left,a.left),a},y3(n,s,i));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function KA(n){var e=n.reference,t=n.element,i=n.placement,r=i?vs(i):null,l=i?Ku(i):null,s=e.x+e.width/2-t.width/2,o=e.y+e.height/2-t.height/2,a;switch(r){case Vr:a={x:s,y:e.y-t.height};break;case Cl:a={x:s,y:e.y+e.height};break;case Al:a={x:e.x+e.width,y:o};break;case Gr:a={x:e.x-t.width,y:o};break;default:a={x:e.x,y:e.y}}var u=r?$_(r):null;if(u!=null){var f=u==="y"?"height":"width";switch(l){case qu:a[u]=a[u]-(e[f]/2-t[f]/2);break;case qc:a[u]=a[u]+(e[f]/2-t[f]/2);break}}return a}function jc(n,e){e===void 0&&(e={});var t=e,i=t.placement,r=i===void 0?n.placement:i,l=t.strategy,s=l===void 0?n.strategy:l,o=t.boundary,a=o===void 0?SQ:o,u=t.rootBoundary,f=u===void 0?$A:u,c=t.elementContext,h=c===void 0?qf:c,p=t.altBoundary,_=p===void 0?!1:p,v=t.padding,b=v===void 0?0:v,y=qA(typeof b!="number"?b:jA(b,s1)),A=h===qf?CQ:qf,M=n.rects.popper,N=n.elements[_?A:h],L=rJ(Aa(N)?N:N.contextElement||Fo(n.elements.popper),a,f,s),I=Wu(n.elements.reference),R=KA({reference:I,element:M,placement:r}),$=kg(Object.assign({},M,R)),B=h===qf?$:I,H={top:L.top-B.top+y.top,bottom:B.bottom-L.bottom+y.bottom,left:L.left-B.left+y.left,right:B.right-L.right+y.right},q=n.modifiersData.offset;if(h===qf&&q){var z=q[r];Object.keys(H).forEach(function(j){var W=[Al,Cl].indexOf(j)>=0?1:-1,G=[Vr,Cl].indexOf(j)>=0?"y":"x";H[j]+=z[G]*W})}return H}function lJ(n,e){e===void 0&&(e={});var t=e,i=t.placement,r=t.boundary,l=t.rootBoundary,s=t.padding,o=t.flipVariations,a=t.allowedAutoPlacements,u=a===void 0?HA:a,f=Ku(i),c=f?o?g3:g3.filter(function(_){return Ku(_)===f}):s1,h=c.filter(function(_){return u.indexOf(_)>=0});h.length===0&&(h=c);var p=h.reduce(function(_,v){return _[v]=jc(n,{placement:v,boundary:r,rootBoundary:l,padding:s})[vs(v)],_},{});return Object.keys(p).sort(function(_,v){return p[_]-p[v]})}function sJ(n){if(vs(n)===R_)return[];var e=Zd(n);return[v3(n),e,v3(e)]}function oJ(n){var e=n.state,t=n.options,i=n.name;if(!e.modifiersData[i]._skip){for(var r=t.mainAxis,l=r===void 0?!0:r,s=t.altAxis,o=s===void 0?!0:s,a=t.fallbackPlacements,u=t.padding,f=t.boundary,c=t.rootBoundary,h=t.altBoundary,p=t.flipVariations,_=p===void 0?!0:p,v=t.allowedAutoPlacements,b=e.options.placement,y=vs(b),A=y===b,M=a||(A||!_?[Zd(b)]:sJ(b)),N=[b].concat(M).reduce(function(Le,lt){return Le.concat(vs(lt)===R_?lJ(e,{placement:lt,boundary:f,rootBoundary:c,padding:u,flipVariations:_,allowedAutoPlacements:v}):lt)},[]),L=e.rects.reference,I=e.rects.popper,R=new Map,$=!0,B=N[0],H=0;H<N.length;H++){var q=N[H],z=vs(q),j=Ku(q)===qu,W=[Vr,Cl].indexOf(z)>=0,G=W?"width":"height",ie=jc(e,{placement:q,boundary:f,rootBoundary:c,altBoundary:h,padding:u}),te=W?j?Al:Gr:j?Cl:Vr;L[G]>I[G]&&(te=Zd(te));var ae=Zd(te),ue=[];if(l&&ue.push(ie[z]<=0),o&&ue.push(ie[te]<=0,ie[ae]<=0),ue.every(function(Le){return Le})){B=q,$=!1;break}R.set(q,ue)}if($)for(var K=_?3:1,X=function(lt){var St=N.find(function(bt){var At=R.get(bt);if(At)return At.slice(0,lt).every(function(ot){return ot})});if(St)return B=St,"break"},_e=K;_e>0;_e--){var oe=X(_e);if(oe==="break")break}e.placement!==B&&(e.modifiersData[i]._skip=!0,e.placement=B,e.reset=!0)}}const aJ={name:"flip",enabled:!0,phase:"main",fn:oJ,requiresIfExists:["offset"],data:{_skip:!1}};function k3(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function T3(n){return[Vr,Al,Cl,Gr].some(function(e){return n[e]>=0})}function uJ(n){var e=n.state,t=n.name,i=e.rects.reference,r=e.rects.popper,l=e.modifiersData.preventOverflow,s=jc(e,{elementContext:"reference"}),o=jc(e,{altBoundary:!0}),a=k3(s,i),u=k3(o,r,l),f=T3(a),c=T3(u);e.modifiersData[t]={referenceClippingOffsets:a,popperEscapeOffsets:u,isReferenceHidden:f,hasPopperEscaped:c},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":c})}const fJ={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:uJ};function cJ(n,e,t){var i=vs(n),r=[Gr,Vr].indexOf(i)>=0?-1:1,l=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,s=l[0],o=l[1];return s=s||0,o=(o||0)*r,[Gr,Al].indexOf(i)>=0?{x:o,y:s}:{x:s,y:o}}function dJ(n){var e=n.state,t=n.options,i=n.name,r=t.offset,l=r===void 0?[0,0]:r,s=HA.reduce(function(f,c){return f[c]=cJ(c,e.rects,l),f},{}),o=s[e.placement],a=o.x,u=o.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=a,e.modifiersData.popperOffsets.y+=u),e.modifiersData[i]=s}const hJ={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:dJ};function pJ(n){var e=n.state,t=n.name;e.modifiersData[t]=KA({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const mJ={name:"popperOffsets",enabled:!0,phase:"read",fn:pJ,data:{}};function gJ(n){return n==="x"?"y":"x"}function _J(n){var e=n.state,t=n.options,i=n.name,r=t.mainAxis,l=r===void 0?!0:r,s=t.altAxis,o=s===void 0?!1:s,a=t.boundary,u=t.rootBoundary,f=t.altBoundary,c=t.padding,h=t.tether,p=h===void 0?!0:h,_=t.tetherOffset,v=_===void 0?0:_,b=jc(e,{boundary:a,rootBoundary:u,padding:c,altBoundary:f}),y=vs(e.placement),A=Ku(e.placement),M=!A,N=$_(y),L=gJ(N),I=e.modifiersData.popperOffsets,R=e.rects.reference,$=e.rects.popper,B=typeof v=="function"?v(Object.assign({},e.rects,{placement:e.placement})):v,H=typeof B=="number"?{mainAxis:B,altAxis:B}:Object.assign({mainAxis:0,altAxis:0},B),q=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,z={x:0,y:0};if(I){if(l){var j,W=N==="y"?Vr:Gr,G=N==="y"?Cl:Al,ie=N==="y"?"height":"width",te=I[N],ae=te+b[W],ue=te-b[G],K=p?-$[ie]/2:0,X=A===qu?R[ie]:$[ie],_e=A===qu?-$[ie]:-R[ie],oe=e.elements.arrow,Le=p&&oe?F_(oe):{width:0,height:0},lt=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:zA(),St=lt[W],bt=lt[G],At=gc(0,R[ie],Le[ie]),ot=M?R[ie]/2-K-At-St-H.mainAxis:X-At-St-H.mainAxis,vt=M?-R[ie]/2+K+At+bt+H.mainAxis:_e+At+bt+H.mainAxis,zt=e.elements.arrow&&o1(e.elements.arrow),pt=zt?N==="y"?zt.clientTop||0:zt.clientLeft||0:0,$e=(j=q==null?void 0:q[N])!=null?j:0,Bt=te+ot-$e-pt,Ze=te+vt-$e,dt=gc(p?kh(ae,Bt):ae,te,p?Ta(ue,Ze):ue);I[N]=dt,z[N]=dt-te}if(o){var Fe,Ft=N==="x"?Vr:Gr,cn=N==="x"?Cl:Al,Ee=I[L],Ue=L==="y"?"height":"width",sn=Ee+b[Ft],gn=Ee-b[cn],Zt=[Vr,Gr].indexOf(y)!==-1,Xe=(Fe=q==null?void 0:q[L])!=null?Fe:0,Kt=Zt?sn:Ee-R[Ue]-$[Ue]-Xe+H.altAxis,Ie=Zt?Ee+R[Ue]+$[Ue]-Xe-H.altAxis:gn,Je=p&&Zt?UQ(Kt,Ee,Ie):gc(p?Kt:sn,Ee,p?Ie:gn);I[L]=Je,z[L]=Je-Ee}e.modifiersData[i]=z}}const bJ={name:"preventOverflow",enabled:!0,phase:"main",fn:_J,requiresIfExists:["offset"]};function vJ(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function yJ(n){return n===cl(n)||!Tl(n)?H_(n):vJ(n)}function kJ(n){var e=n.getBoundingClientRect(),t=ju(e.width)/n.offsetWidth||1,i=ju(e.height)/n.offsetHeight||1;return t!==1||i!==1}function TJ(n,e,t){t===void 0&&(t=!1);var i=Tl(e),r=Tl(e)&&kJ(e),l=Fo(e),s=Wu(n,r,t),o={scrollLeft:0,scrollTop:0},a={x:0,y:0};return(i||!i&&!t)&&((ws(e)!=="body"||x_(l))&&(o=yJ(e)),Tl(e)?(a=Wu(e,!0),a.x+=e.clientLeft,a.y+=e.clientTop):l&&(a.x=B_(l))),{x:s.left+o.scrollLeft-a.x,y:s.top+o.scrollTop-a.y,width:s.width,height:s.height}}function wJ(n){var e=new Map,t=new Set,i=[];n.forEach(function(l){e.set(l.name,l)});function r(l){t.add(l.name);var s=[].concat(l.requires||[],l.requiresIfExists||[]);s.forEach(function(o){if(!t.has(o)){var a=e.get(o);a&&r(a)}}),i.push(l)}return n.forEach(function(l){t.has(l.name)||r(l)}),i}function EJ(n){var e=wJ(n);return FQ.reduce(function(t,i){return t.concat(e.filter(function(r){return r.phase===i}))},[])}function SJ(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function CJ(n){var e=n.reduce(function(t,i){var r=t[i.name];return t[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,t},{});return Object.keys(e).map(function(t){return e[t]})}var w3={placement:"bottom",modifiers:[],strategy:"absolute"};function E3(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function AJ(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,i=t===void 0?[]:t,r=e.defaultOptions,l=r===void 0?w3:r;return function(o,a,u){u===void 0&&(u=l);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},w3,l),modifiersData:{},elements:{reference:o,popper:a},attributes:{},styles:{}},c=[],h=!1,p={state:f,setOptions:function(y){var A=typeof y=="function"?y(f.options):y;v(),f.options=Object.assign({},l,f.options,A),f.scrollParents={reference:Aa(o)?_c(o):o.contextElement?_c(o.contextElement):[],popper:_c(a)};var M=EJ(CJ([].concat(i,f.options.modifiers)));return f.orderedModifiers=M.filter(function(N){return N.enabled}),_(),p.update()},forceUpdate:function(){if(!h){var y=f.elements,A=y.reference,M=y.popper;if(E3(A,M)){f.rects={reference:TJ(A,o1(M),f.options.strategy==="fixed"),popper:F_(M)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(H){return f.modifiersData[H.name]=Object.assign({},H.data)});for(var N=0;N<f.orderedModifiers.length;N++){if(f.reset===!0){f.reset=!1,N=-1;continue}var L=f.orderedModifiers[N],I=L.fn,R=L.options,$=R===void 0?{}:R,B=L.name;typeof I=="function"&&(f=I({state:f,options:$,name:B,instance:p})||f)}}}},update:SJ(function(){return new Promise(function(b){p.forceUpdate(),b(f)})}),destroy:function(){v(),h=!0}};if(!E3(o,a))return p;p.setOptions(u).then(function(b){!h&&u.onFirstUpdate&&u.onFirstUpdate(b)});function _(){f.orderedModifiers.forEach(function(b){var y=b.name,A=b.options,M=A===void 0?{}:A,N=b.effect;if(typeof N=="function"){var L=N({state:f,name:y,instance:p,options:M}),I=function(){};c.push(L||I)}})}function v(){c.forEach(function(b){return b()}),c=[]}return p}}var OJ=[ZQ,mJ,YQ,BA,hJ,aJ,bJ,WQ,fJ],NJ=AJ({defaultModifiers:OJ}),MJ="tippy-box",VA="tippy-content",IJ="tippy-backdrop",GA="tippy-arrow",YA="tippy-svg-arrow",yo={passive:!0,capture:!0},XA=function(){return document.body};function Xm(n,e,t){if(Array.isArray(n)){var i=n[e];return i??(Array.isArray(t)?t[e]:t)}return n}function U_(n,e){var t={}.toString.call(n);return t.indexOf("[object")===0&&t.indexOf(e+"]")>-1}function ZA(n,e){return typeof n=="function"?n.apply(void 0,e):n}function S3(n,e){if(e===0)return n;var t;return function(i){clearTimeout(t),t=setTimeout(function(){n(i)},e)}}function LJ(n,e){var t=Object.assign({},n);return e.forEach(function(i){delete t[i]}),t}function DJ(n){return n.split(/\s+/).filter(Boolean)}function pa(n){return[].concat(n)}function C3(n,e){n.indexOf(e)===-1&&n.push(e)}function RJ(n){return n.filter(function(e,t){return n.indexOf(e)===t})}function PJ(n){return n.split("-")[0]}function Th(n){return[].slice.call(n)}function A3(n){return Object.keys(n).reduce(function(e,t){return n[t]!==void 0&&(e[t]=n[t]),e},{})}function bc(){return document.createElement("div")}function lp(n){return["Element","Fragment"].some(function(e){return U_(n,e)})}function FJ(n){return U_(n,"NodeList")}function $J(n){return U_(n,"MouseEvent")}function HJ(n){return!!(n&&n._tippy&&n._tippy.reference===n)}function BJ(n){return lp(n)?[n]:FJ(n)?Th(n):Array.isArray(n)?n:Th(document.querySelectorAll(n))}function Zm(n,e){n.forEach(function(t){t&&(t.style.transitionDuration=e+"ms")})}function O3(n,e){n.forEach(function(t){t&&t.setAttribute("data-state",e)})}function xJ(n){var e,t=pa(n),i=t[0];return i!=null&&(e=i.ownerDocument)!=null&&e.body?i.ownerDocument:document}function UJ(n,e){var t=e.clientX,i=e.clientY;return n.every(function(r){var l=r.popperRect,s=r.popperState,o=r.props,a=o.interactiveBorder,u=PJ(s.placement),f=s.modifiersData.offset;if(!f)return!0;var c=u==="bottom"?f.top.y:0,h=u==="top"?f.bottom.y:0,p=u==="right"?f.left.x:0,_=u==="left"?f.right.x:0,v=l.top-i+c>a,b=i-l.bottom-h>a,y=l.left-t+p>a,A=t-l.right-_>a;return v||b||y||A})}function Qm(n,e,t){var i=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(r){n[i](r,t)})}function N3(n,e){for(var t=e;t;){var i;if(n.contains(t))return!0;t=t.getRootNode==null||(i=t.getRootNode())==null?void 0:i.host}return!1}var cs={isTouch:!1},M3=0;function zJ(){cs.isTouch||(cs.isTouch=!0,window.performance&&document.addEventListener("mousemove",QA))}function QA(){var n=performance.now();n-M3<20&&(cs.isTouch=!1,document.removeEventListener("mousemove",QA)),M3=n}function qJ(){var n=document.activeElement;if(HJ(n)){var e=n._tippy;n.blur&&!e.state.isVisible&&n.blur()}}function jJ(){document.addEventListener("touchstart",zJ,yo),window.addEventListener("blur",qJ)}var WJ=typeof window<"u"&&typeof document<"u",KJ=WJ?!!window.msCrypto:!1,VJ={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},GJ={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},ol=Object.assign({appendTo:XA,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},VJ,GJ),YJ=Object.keys(ol),XJ=function(e){var t=Object.keys(e);t.forEach(function(i){ol[i]=e[i]})};function JA(n){var e=n.plugins||[],t=e.reduce(function(i,r){var l=r.name,s=r.defaultValue;if(l){var o;i[l]=n[l]!==void 0?n[l]:(o=ol[l])!=null?o:s}return i},{});return Object.assign({},n,t)}function ZJ(n,e){var t=e?Object.keys(JA(Object.assign({},ol,{plugins:e}))):YJ,i=t.reduce(function(r,l){var s=(n.getAttribute("data-tippy-"+l)||"").trim();if(!s)return r;if(l==="content")r[l]=s;else try{r[l]=JSON.parse(s)}catch{r[l]=s}return r},{});return i}function I3(n,e){var t=Object.assign({},e,{content:ZA(e.content,[n])},e.ignoreAttributes?{}:ZJ(n,e.plugins));return t.aria=Object.assign({},ol.aria,t.aria),t.aria={expanded:t.aria.expanded==="auto"?e.interactive:t.aria.expanded,content:t.aria.content==="auto"?e.interactive?null:"describedby":t.aria.content},t}var QJ=function(){return"innerHTML"};function Tg(n,e){n[QJ()]=e}function L3(n){var e=bc();return n===!0?e.className=GA:(e.className=YA,lp(n)?e.appendChild(n):Tg(e,n)),e}function D3(n,e){lp(e.content)?(Tg(n,""),n.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?Tg(n,e.content):n.textContent=e.content)}function wg(n){var e=n.firstElementChild,t=Th(e.children);return{box:e,content:t.find(function(i){return i.classList.contains(VA)}),arrow:t.find(function(i){return i.classList.contains(GA)||i.classList.contains(YA)}),backdrop:t.find(function(i){return i.classList.contains(IJ)})}}function eO(n){var e=bc(),t=bc();t.className=MJ,t.setAttribute("data-state","hidden"),t.setAttribute("tabindex","-1");var i=bc();i.className=VA,i.setAttribute("data-state","hidden"),D3(i,n.props),e.appendChild(t),t.appendChild(i),r(n.props,n.props);function r(l,s){var o=wg(e),a=o.box,u=o.content,f=o.arrow;s.theme?a.setAttribute("data-theme",s.theme):a.removeAttribute("data-theme"),typeof s.animation=="string"?a.setAttribute("data-animation",s.animation):a.removeAttribute("data-animation"),s.inertia?a.setAttribute("data-inertia",""):a.removeAttribute("data-inertia"),a.style.maxWidth=typeof s.maxWidth=="number"?s.maxWidth+"px":s.maxWidth,s.role?a.setAttribute("role",s.role):a.removeAttribute("role"),(l.content!==s.content||l.allowHTML!==s.allowHTML)&&D3(u,n.props),s.arrow?f?l.arrow!==s.arrow&&(a.removeChild(f),a.appendChild(L3(s.arrow))):a.appendChild(L3(s.arrow)):f&&a.removeChild(f)}return{popper:e,onUpdate:r}}eO.$$tippy=!0;var JJ=1,_d=[],Jm=[];function eee(n,e){var t=I3(n,Object.assign({},ol,JA(A3(e)))),i,r,l,s=!1,o=!1,a=!1,u=!1,f,c,h,p=[],_=S3(Bt,t.interactiveDebounce),v,b=JJ++,y=null,A=RJ(t.plugins),M={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},N={id:b,reference:n,popper:bc(),popperInstance:y,props:t,state:M,plugins:A,clearDelayTimeouts:Kt,setProps:Ie,setContent:Je,show:Dt,hide:Jt,hideWithInteractivity:on,enable:Zt,disable:Xe,unmount:at,destroy:ti};if(!t.render)return N;var L=t.render(N),I=L.popper,R=L.onUpdate;I.setAttribute("data-tippy-root",""),I.id="tippy-"+N.id,N.popper=I,n._tippy=N,I._tippy=N;var $=A.map(function(De){return De.fn(N)}),B=n.hasAttribute("aria-expanded");return zt(),K(),te(),ae("onCreate",[N]),t.showOnCreate&&sn(),I.addEventListener("mouseenter",function(){N.props.interactive&&N.state.isVisible&&N.clearDelayTimeouts()}),I.addEventListener("mouseleave",function(){N.props.interactive&&N.props.trigger.indexOf("mouseenter")>=0&&W().addEventListener("mousemove",_)}),N;function H(){var De=N.props.touch;return Array.isArray(De)?De:[De,0]}function q(){return H()[0]==="hold"}function z(){var De;return!!((De=N.props.render)!=null&&De.$$tippy)}function j(){return v||n}function W(){var De=j().parentNode;return De?xJ(De):document}function G(){return wg(I)}function ie(De){return N.state.isMounted&&!N.state.isVisible||cs.isTouch||f&&f.type==="focus"?0:Xm(N.props.delay,De?0:1,ol.delay)}function te(De){De===void 0&&(De=!1),I.style.pointerEvents=N.props.interactive&&!De?"":"none",I.style.zIndex=""+N.props.zIndex}function ae(De,et,Ot){if(Ot===void 0&&(Ot=!0),$.forEach(function(qt){qt[De]&&qt[De].apply(qt,et)}),Ot){var xt;(xt=N.props)[De].apply(xt,et)}}function ue(){var De=N.props.aria;if(De.content){var et="aria-"+De.content,Ot=I.id,xt=pa(N.props.triggerTarget||n);xt.forEach(function(qt){var yn=qt.getAttribute(et);if(N.state.isVisible)qt.setAttribute(et,yn?yn+" "+Ot:Ot);else{var Nn=yn&&yn.replace(Ot,"").trim();Nn?qt.setAttribute(et,Nn):qt.removeAttribute(et)}})}}function K(){if(!(B||!N.props.aria.expanded)){var De=pa(N.props.triggerTarget||n);De.forEach(function(et){N.props.interactive?et.setAttribute("aria-expanded",N.state.isVisible&&et===j()?"true":"false"):et.removeAttribute("aria-expanded")})}}function X(){W().removeEventListener("mousemove",_),_d=_d.filter(function(De){return De!==_})}function _e(De){if(!(cs.isTouch&&(a||De.type==="mousedown"))){var et=De.composedPath&&De.composedPath()[0]||De.target;if(!(N.props.interactive&&N3(I,et))){if(pa(N.props.triggerTarget||n).some(function(Ot){return N3(Ot,et)})){if(cs.isTouch||N.state.isVisible&&N.props.trigger.indexOf("click")>=0)return}else ae("onClickOutside",[N,De]);N.props.hideOnClick===!0&&(N.clearDelayTimeouts(),N.hide(),o=!0,setTimeout(function(){o=!1}),N.state.isMounted||St())}}}function oe(){a=!0}function Le(){a=!1}function lt(){var De=W();De.addEventListener("mousedown",_e,!0),De.addEventListener("touchend",_e,yo),De.addEventListener("touchstart",Le,yo),De.addEventListener("touchmove",oe,yo)}function St(){var De=W();De.removeEventListener("mousedown",_e,!0),De.removeEventListener("touchend",_e,yo),De.removeEventListener("touchstart",Le,yo),De.removeEventListener("touchmove",oe,yo)}function bt(De,et){ot(De,function(){!N.state.isVisible&&I.parentNode&&I.parentNode.contains(I)&&et()})}function At(De,et){ot(De,et)}function ot(De,et){var Ot=G().box;function xt(qt){qt.target===Ot&&(Qm(Ot,"remove",xt),et())}if(De===0)return et();Qm(Ot,"remove",c),Qm(Ot,"add",xt),c=xt}function vt(De,et,Ot){Ot===void 0&&(Ot=!1);var xt=pa(N.props.triggerTarget||n);xt.forEach(function(qt){qt.addEventListener(De,et,Ot),p.push({node:qt,eventType:De,handler:et,options:Ot})})}function zt(){q()&&(vt("touchstart",$e,{passive:!0}),vt("touchend",Ze,{passive:!0})),DJ(N.props.trigger).forEach(function(De){if(De!=="manual")switch(vt(De,$e),De){case"mouseenter":vt("mouseleave",Ze);break;case"focus":vt(KJ?"focusout":"blur",dt);break;case"focusin":vt("focusout",dt);break}})}function pt(){p.forEach(function(De){var et=De.node,Ot=De.eventType,xt=De.handler,qt=De.options;et.removeEventListener(Ot,xt,qt)}),p=[]}function $e(De){var et,Ot=!1;if(!(!N.state.isEnabled||Fe(De)||o)){var xt=((et=f)==null?void 0:et.type)==="focus";f=De,v=De.currentTarget,K(),!N.state.isVisible&&$J(De)&&_d.forEach(function(qt){return qt(De)}),De.type==="click"&&(N.props.trigger.indexOf("mouseenter")<0||s)&&N.props.hideOnClick!==!1&&N.state.isVisible?Ot=!0:sn(De),De.type==="click"&&(s=!Ot),Ot&&!xt&&gn(De)}}function Bt(De){var et=De.target,Ot=j().contains(et)||I.contains(et);if(!(De.type==="mousemove"&&Ot)){var xt=Ue().concat(I).map(function(qt){var yn,Nn=qt._tippy,fi=(yn=Nn.popperInstance)==null?void 0:yn.state;return fi?{popperRect:qt.getBoundingClientRect(),popperState:fi,props:t}:null}).filter(Boolean);UJ(xt,De)&&(X(),gn(De))}}function Ze(De){var et=Fe(De)||N.props.trigger.indexOf("click")>=0&&s;if(!et){if(N.props.interactive){N.hideWithInteractivity(De);return}gn(De)}}function dt(De){N.props.trigger.indexOf("focusin")<0&&De.target!==j()||N.props.interactive&&De.relatedTarget&&I.contains(De.relatedTarget)||gn(De)}function Fe(De){return cs.isTouch?q()!==De.type.indexOf("touch")>=0:!1}function Ft(){cn();var De=N.props,et=De.popperOptions,Ot=De.placement,xt=De.offset,qt=De.getReferenceClientRect,yn=De.moveTransition,Nn=z()?wg(I).arrow:null,fi=qt?{getBoundingClientRect:qt,contextElement:qt.contextElement||j()}:n,el={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(me){var Ce=me.state;if(z()){var Ve=G(),ht=Ve.box;["placement","reference-hidden","escaped"].forEach(function(Ct){Ct==="placement"?ht.setAttribute("data-placement",Ce.placement):Ce.attributes.popper["data-popper-"+Ct]?ht.setAttribute("data-"+Ct,""):ht.removeAttribute("data-"+Ct)}),Ce.attributes.popper={}}}},wi=[{name:"offset",options:{offset:xt}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!yn}},el];z()&&Nn&&wi.push({name:"arrow",options:{element:Nn,padding:3}}),wi.push.apply(wi,(et==null?void 0:et.modifiers)||[]),N.popperInstance=NJ(fi,I,Object.assign({},et,{placement:Ot,onFirstUpdate:h,modifiers:wi}))}function cn(){N.popperInstance&&(N.popperInstance.destroy(),N.popperInstance=null)}function Ee(){var De=N.props.appendTo,et,Ot=j();N.props.interactive&&De===XA||De==="parent"?et=Ot.parentNode:et=ZA(De,[Ot]),et.contains(I)||et.appendChild(I),N.state.isMounted=!0,Ft()}function Ue(){return Th(I.querySelectorAll("[data-tippy-root]"))}function sn(De){N.clearDelayTimeouts(),De&&ae("onTrigger",[N,De]),lt();var et=ie(!0),Ot=H(),xt=Ot[0],qt=Ot[1];cs.isTouch&&xt==="hold"&&qt&&(et=qt),et?i=setTimeout(function(){N.show()},et):N.show()}function gn(De){if(N.clearDelayTimeouts(),ae("onUntrigger",[N,De]),!N.state.isVisible){St();return}if(!(N.props.trigger.indexOf("mouseenter")>=0&&N.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(De.type)>=0&&s)){var et=ie(!1);et?r=setTimeout(function(){N.state.isVisible&&N.hide()},et):l=requestAnimationFrame(function(){N.hide()})}}function Zt(){N.state.isEnabled=!0}function Xe(){N.hide(),N.state.isEnabled=!1}function Kt(){clearTimeout(i),clearTimeout(r),cancelAnimationFrame(l)}function Ie(De){if(!N.state.isDestroyed){ae("onBeforeUpdate",[N,De]),pt();var et=N.props,Ot=I3(n,Object.assign({},et,A3(De),{ignoreAttributes:!0}));N.props=Ot,zt(),et.interactiveDebounce!==Ot.interactiveDebounce&&(X(),_=S3(Bt,Ot.interactiveDebounce)),et.triggerTarget&&!Ot.triggerTarget?pa(et.triggerTarget).forEach(function(xt){xt.removeAttribute("aria-expanded")}):Ot.triggerTarget&&n.removeAttribute("aria-expanded"),K(),te(),R&&R(et,Ot),N.popperInstance&&(Ft(),Ue().forEach(function(xt){requestAnimationFrame(xt._tippy.popperInstance.forceUpdate)})),ae("onAfterUpdate",[N,De])}}function Je(De){N.setProps({content:De})}function Dt(){var De=N.state.isVisible,et=N.state.isDestroyed,Ot=!N.state.isEnabled,xt=cs.isTouch&&!N.props.touch,qt=Xm(N.props.duration,0,ol.duration);if(!(De||et||Ot||xt)&&!j().hasAttribute("disabled")&&(ae("onShow",[N],!1),N.props.onShow(N)!==!1)){if(N.state.isVisible=!0,z()&&(I.style.visibility="visible"),te(),lt(),N.state.isMounted||(I.style.transition="none"),z()){var yn=G(),Nn=yn.box,fi=yn.content;Zm([Nn,fi],0)}h=function(){var wi;if(!(!N.state.isVisible||u)){if(u=!0,I.offsetHeight,I.style.transition=N.props.moveTransition,z()&&N.props.animation){var ce=G(),me=ce.box,Ce=ce.content;Zm([me,Ce],qt),O3([me,Ce],"visible")}ue(),K(),C3(Jm,N),(wi=N.popperInstance)==null||wi.forceUpdate(),ae("onMount",[N]),N.props.animation&&z()&&At(qt,function(){N.state.isShown=!0,ae("onShown",[N])})}},Ee()}}function Jt(){var De=!N.state.isVisible,et=N.state.isDestroyed,Ot=!N.state.isEnabled,xt=Xm(N.props.duration,1,ol.duration);if(!(De||et||Ot)&&(ae("onHide",[N],!1),N.props.onHide(N)!==!1)){if(N.state.isVisible=!1,N.state.isShown=!1,u=!1,s=!1,z()&&(I.style.visibility="hidden"),X(),St(),te(!0),z()){var qt=G(),yn=qt.box,Nn=qt.content;N.props.animation&&(Zm([yn,Nn],xt),O3([yn,Nn],"hidden"))}ue(),K(),N.props.animation?z()&&bt(xt,N.unmount):N.unmount()}}function on(De){W().addEventListener("mousemove",_),C3(_d,_),_(De)}function at(){N.state.isVisible&&N.hide(),N.state.isMounted&&(cn(),Ue().forEach(function(De){De._tippy.unmount()}),I.parentNode&&I.parentNode.removeChild(I),Jm=Jm.filter(function(De){return De!==N}),N.state.isMounted=!1,ae("onHidden",[N]))}function ti(){N.state.isDestroyed||(N.clearDelayTimeouts(),N.unmount(),pt(),delete n._tippy,N.state.isDestroyed=!0,ae("onDestroy",[N]))}}function Vu(n,e){e===void 0&&(e={});var t=ol.plugins.concat(e.plugins||[]);jJ();var i=Object.assign({},e,{plugins:t}),r=BJ(n),l=r.reduce(function(s,o){var a=o&&eee(o,i);return a&&s.push(a),s},[]);return lp(n)?l[0]:l}Vu.defaultProps=ol;Vu.setDefaultProps=XJ;Vu.currentInput=cs;Object.assign({},BA,{effect:function(e){var t=e.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow)}});var tee={mouseover:"mouseenter",focusin:"focus",click:"click"};function nee(n,e){var t=[],i=[],r=!1,l=e.target,s=LJ(e,["target"]),o=Object.assign({},s,{trigger:"manual",touch:!1}),a=Object.assign({touch:ol.touch},s,{showOnCreate:!0}),u=Vu(n,o),f=pa(u);function c(b){if(!(!b.target||r)){var y=b.target.closest(l);if(y){var A=y.getAttribute("data-tippy-trigger")||e.trigger||ol.trigger;if(!y._tippy&&!(b.type==="touchstart"&&typeof a.touch=="boolean")&&!(b.type!=="touchstart"&&A.indexOf(tee[b.type])<0)){var M=Vu(y,a);M&&(i=i.concat(M))}}}}function h(b,y,A,M){M===void 0&&(M=!1),b.addEventListener(y,A,M),t.push({node:b,eventType:y,handler:A,options:M})}function p(b){var y=b.reference;h(y,"touchstart",c,yo),h(y,"mouseover",c),h(y,"focusin",c),h(y,"click",c)}function _(){t.forEach(function(b){var y=b.node,A=b.eventType,M=b.handler,N=b.options;y.removeEventListener(A,M,N)}),t=[]}function v(b){var y=b.destroy,A=b.enable,M=b.disable;b.destroy=function(N){N===void 0&&(N=!0),N&&i.forEach(function(L){L.destroy()}),i=[],_(),y()},b.enable=function(){A(),i.forEach(function(N){return N.enable()}),r=!1},b.disable=function(){M(),i.forEach(function(N){return N.disable()}),r=!0},p(b)}return f.forEach(v),u}Vu.setDefaultProps({render:eO});function R3(n,e,t){const i=n.slice();return i[25]=e[t],i[27]=t,i}function P3(n,e,t){const i=n.slice();return i[25]=e[t],i[27]=t,i}function iee(n){let e,t=n[2].write+"",i,r,l=n[2].preview+"",s,o,a;return{c(){e=k("div"),i=le(t),r=k("div"),s=le(l),m(e,"class","bytemd-toolbar-tab"),he(e,"bytemd-toolbar-tab-active",n[1]!=="preview"),m(r,"class","bytemd-toolbar-tab"),he(r,"bytemd-toolbar-tab-active",n[1]==="preview")},m(u,f){S(u,e,f),T(e,i),S(u,r,f),T(r,s),o||(a=[se(e,"click",n[16]),se(e,"keydown",Fu(n[17])),se(r,"click",n[18]),se(r,"keydown",Fu(n[19]))],o=!0)},p(u,f){f&4&&t!==(t=u[2].write+"")&&Se(i,t),f&2&&he(e,"bytemd-toolbar-tab-active",u[1]!=="preview"),f&4&&l!==(l=u[2].preview+"")&&Se(s,l),f&2&&he(r,"bytemd-toolbar-tab-active",u[1]==="preview")},d(u){u&&(E(e),E(r)),o=!1,it(a)}}}function ree(n){let e,t=Re(n[3]),i=[];for(let r=0;r<t.length;r+=1)i[r]=$3(P3(n,t,r));return{c(){for(let r=0;r<i.length;r+=1)i[r].c();e=ze()},m(r,l){for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(r,l);S(r,e,l)},p(r,l){if(l&8){t=Re(r[3]);let s;for(s=0;s<t.length;s+=1){const o=P3(r,t,s);i[s]?i[s].p(o,l):(i[s]=$3(o),i[s].c(),i[s].m(e.parentNode,e))}for(;s<i.length;s+=1)i[s].d(1);i.length=t.length}},d(r){r&&E(e),fn(i,r)}}}function F3(n){let e,t=n[25].icon+"";return{c(){e=k("div"),m(e,"class",["bytemd-toolbar-icon",wh].join(" ")),m(e,"bytemd-tippy-path",n[27])},m(i,r){S(i,e,r),e.innerHTML=t},p(i,r){r&8&&t!==(t=i[25].icon+"")&&(e.innerHTML=t)},d(i){i&&E(e)}}}function $3(n){let e,t=n[25].handler&&F3(n);return{c(){t&&t.c(),e=ze()},m(i,r){t&&t.m(i,r),S(i,e,r)},p(i,r){i[25].handler?t?t.p(i,r):(t=F3(i),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(i){i&&E(e),t&&t.d(i)}}}function H3(n){let e,t=n[25].icon+"";return{c(){e=k("div"),m(e,"class",["bytemd-toolbar-icon",wh,Qd].join(" ")),m(e,"bytemd-tippy-path",n[27]),he(e,"bytemd-toolbar-icon-active",n[25].active)},m(i,r){S(i,e,r),e.innerHTML=t},p(i,r){r&32&&t!==(t=i[25].icon+"")&&(e.innerHTML=t),r&32&&he(e,"bytemd-toolbar-icon-active",i[25].active)},d(i){i&&E(e)}}}function B3(n){let e,t=!n[25].hidden&&H3(n);return{c(){t&&t.c(),e=ze()},m(i,r){t&&t.m(i,r),S(i,e,r)},p(i,r){i[25].hidden?t&&(t.d(1),t=null):t?t.p(i,r):(t=H3(i),t.c(),t.m(e.parentNode,e))},d(i){i&&E(e),t&&t.d(i)}}}function lee(n){let e,t,i,r,l;function s(c,h){return c[0]?ree:iee}let o=s(n),a=o(n),u=Re(n[5]),f=[];for(let c=0;c<u.length;c+=1)f[c]=B3(R3(n,u,c));return{c(){e=k("div"),t=k("div"),a.c(),i=k("div");for(let c=0;c<f.length;c+=1)f[c].c();m(t,"class","bytemd-toolbar-left"),m(i,"class","bytemd-toolbar-right"),m(e,"class","bytemd-toolbar")},m(c,h){S(c,e,h),T(e,t),a.m(t,null),T(e,i);for(let p=0;p<f.length;p+=1)f[p]&&f[p].m(i,null);n[20](e),r||(l=[se(e,"click",n[7]),se(e,"keydown",Fu(n[21]))],r=!0)},p(c,[h]){if(o===(o=s(c))&&a?a.p(c,h):(a.d(1),a=o(c),a&&(a.c(),a.m(t,null))),h&32){u=Re(c[5]);let p;for(p=0;p<u.length;p+=1){const _=R3(c,u,p);f[p]?f[p].p(_,h):(f[p]=B3(_),f[p].c(),f[p].m(i,null))}for(;p<f.length;p+=1)f[p].d(1);f.length=u.length}},i:ge,o:ge,d(c){c&&E(e),a.d(),fn(f,c),n[20](null),r=!1,it(l)}}}const wh="bytemd-tippy",Qd="bytemd-tippy-right",e0="bytemd-tippy-path";function see(n,e,t){let i,r,l,s,o;const a=Sn();let u,{context:f}=e,{split:c}=e,{activeTab:h}=e,{fullscreen:p}=e,{sidebar:_}=e,{locale:v}=e,{actions:b}=e,{rightAfferentActions:y}=e;function A(z){var G,ie;const j=(ie=(G=z.getAttribute(e0))==null?void 0:G.split("-"))==null?void 0:ie.map(te=>parseInt(te,10));if(!j)return;let W={title:"",handler:{type:"dropdown",actions:z.classList.contains(Qd)?o:b}};return j==null||j.forEach(te=>{var ae;((ae=W.handler)==null?void 0:ae.type)==="dropdown"&&(W=W.handler.actions[te])}),{paths:j,item:W}}let M;function N(){M=nee(u,{target:`.${wh}`,onCreate({setProps:z,reference:j}){const W=A(j);if(!W)return;const{item:G,paths:ie}=W,{handler:te}=G;if(te){if(te.type==="action")z({content:G.title,onHidden(ae){ae.destroy()}});else if(te.type==="dropdown"){const ae=document.createElement("div");if(ae.classList.add("bytemd-dropdown"),G.title){const ue=document.createElement("div");ue.classList.add("bytemd-dropdown-title"),ue.appendChild(document.createTextNode(G.title)),ae.appendChild(ue)}te.actions.forEach((ue,K)=>{var _e;const X=document.createElement("div");X.classList.add("bytemd-dropdown-item"),X.setAttribute(e0,[...ie,K].join("-")),((_e=ue.handler)==null?void 0:_e.type)==="dropdown"&&X.classList.add(wh),j.classList.contains(Qd)&&X.classList.add(Qd),X.innerHTML=`${ue.icon?`<div class="bytemd-dropdown-item-icon">${ue.icon}</div>`:""}<div class="bytemd-dropdown-item-title">${ue.title}</div>`,ae.appendChild(X)}),z({allowHTML:!0,showOnCreate:!0,theme:"light-border",placement:"bottom-start",interactive:!0,interactiveDebounce:50,arrow:!1,offset:[0,4],content:ae.outerHTML,onHidden(ue){ue.destroy()},onCreate(ue){[...ue.popper.querySelectorAll(".bytemd-dropdown-item")].forEach((K,X)=>{var oe;const _e=(oe=te.actions[X])==null?void 0:oe.handler;if((_e==null?void 0:_e.type)==="action"){const{mouseenter:Le,mouseleave:lt}=_e;Le&&K.addEventListener("mouseenter",()=>{Le(f)}),lt&&K.addEventListener("mouseleave",()=>{lt(f)})}})}})}}}})}hi(()=>{N()});function L(z){var G,ie;const j=z.target.closest(`[${e0}]`);if(!j)return;const W=(ie=(G=A(j))==null?void 0:G.item)==null?void 0:ie.handler;(W==null?void 0:W.type)==="action"&&W.click(f),M==null||M.destroy(),N()}const I=()=>a("tab","write"),R=z=>["Enter","Space"].includes(z.code)&&a("tab","write"),$=()=>a("tab","preview"),B=z=>["Enter","Space"].includes(z.code)&&a("tab","preview");function H(z){ye[z?"unshift":"push"](()=>{u=z,t(4,u)})}const q=z=>["Enter","Space"].includes(z.code)&&L(z);return n.$$set=z=>{"context"in z&&t(8,f=z.context),"split"in z&&t(0,c=z.split),"activeTab"in z&&t(1,h=z.activeTab),"fullscreen"in z&&t(9,p=z.fullscreen),"sidebar"in z&&t(10,_=z.sidebar),"locale"in z&&t(2,v=z.locale),"actions"in z&&t(3,b=z.actions),"rightAfferentActions"in z&&t(11,y=z.rightAfferentActions)},n.$$.update=()=>{n.$$.dirty&1024&&t(15,i=_==="toc"),n.$$.dirty&1024&&t(14,r=_==="help"),n.$$.dirty&2&&t(13,l=h==="write"),n.$$.dirty&2&&t(12,s=h==="preview"),n.$$.dirty&64005&&t(5,o=[{title:i?v.closeToc:v.toc,icon:oi.AlignTextLeftOne,handler:{type:"action",click(){a("click","toc")}},active:i},{title:r?v.closeHelp:v.help,icon:oi.Helpcenter,handler:{type:"action",click(){a("click","help")}},active:r},{title:l?v.exitWriteOnly:v.writeOnly,icon:oi.LeftExpand,handler:{type:"action",click(){a("tab","write")}},active:l,hidden:!c},{title:s?v.exitPreviewOnly:v.previewOnly,icon:oi.RightExpand,handler:{type:"action",click(){a("tab","preview")}},active:s,hidden:!c},{title:p?v.exitFullscreen:v.fullscreen,icon:p?oi.OffScreen:oi.FullScreen,handler:{type:"action",click(){a("click","fullscreen")}}},{title:v.source,icon:oi.GithubOne,handler:{type:"action",click(){window.open("https://github.com/bytedance/bytemd")}}},...y])},[c,h,v,b,u,o,a,L,f,p,_,y,s,l,r,i,I,R,$,B,H,q]}class oee extends je{constructor(e){super(),qe(this,e,see,lee,$h,{context:8,split:0,activeTab:1,fullscreen:9,sidebar:10,locale:2,actions:3,rightAfferentActions:11})}}const z_={strip:["script"],clobberPrefix:"user-content-",clobber:["name","id"],ancestors:{tbody:["table"],tfoot:["table"],thead:["table"],td:["table"],th:["table"],tr:["table"]},protocols:{href:["http","https","mailto","xmpp","irc","ircs"],cite:["http","https"],src:["http","https"],longDesc:["http","https"]},tagNames:["h1","h2","h3","h4","h5","h6","br","b","i","strong","em","a","pre","code","img","tt","div","ins","del","sup","sub","p","ol","ul","table","thead","tbody","tfoot","blockquote","dl","dt","dd","kbd","q","samp","var","hr","ruby","rt","rp","li","tr","td","th","s","strike","summary","details","caption","figure","figcaption","abbr","bdo","cite","dfn","mark","small","span","time","wbr","input"],attributes:{a:["href"],img:["src","longDesc"],input:[["type","checkbox"],["disabled",!0]],li:[["className","task-list-item"]],div:["itemScope","itemType"],blockquote:["cite"],del:["cite"],ins:["cite"],q:["cite"],"*":["abbr","accept","acceptCharset","accessKey","action","align","alt","ariaDescribedBy","ariaHidden","ariaLabel","ariaLabelledBy","axis","border","cellPadding","cellSpacing","char","charOff","charSet","checked","clear","cols","colSpan","color","compact","coords","dateTime","dir","disabled","encType","htmlFor","frame","headers","height","hrefLang","hSpace","isMap","id","label","lang","maxLength","media","method","multiple","name","noHref","noShade","noWrap","open","prompt","readOnly","rel","rev","rows","rowSpan","rules","scope","selected","shape","size","span","start","summary","tabIndex","target","title","type","useMap","vAlign","value","vSpace","width","itemProp"]},required:{input:{type:"checkbox",disabled:!0}}},ds={}.hasOwnProperty,t0={root:{children:x3},doctype:uee,comment:fee,element:{tagName:nO,properties:cee,children:x3},text:{value:pee},"*":{data:U3,position:U3}};function aee(n,e){let t={type:"root",children:[]};if(n&&typeof n=="object"&&n.type){const i=tO(Object.assign({},z_,e||{}),n,[]);i&&(Array.isArray(i)?i.length===1?t=i[0]:t.children=i:t=i)}return t}function tO(n,e,t){const i=e&&e.type,r={type:e.type};let l;if(ds.call(t0,i)){let s=t0[i];if(typeof s=="function"&&(s=s(n,e)),s){const o=Object.assign({},s,t0["*"]);let a;l=!0;for(a in o)if(ds.call(o,a)){const u=o[a](n,e[a],e,t);u===!1?(l=void 0,r[a]=e[a]):u!=null&&(r[a]=u)}}}return l?r:r.type==="element"&&n.strip&&!n.strip.includes(r.tagName)?r.children:void 0}function x3(n,e,t,i){const r=[];if(Array.isArray(e)){let l=-1;for(t.type==="element"&&i.push(t.tagName);++l<e.length;){const s=tO(n,e[l],i);s&&(Array.isArray(s)?r.push(...s):r.push(s))}t.type==="element"&&i.pop()}return r}function uee(n){return n.allowDoctypes?{name:dee}:void 0}function fee(n){return n.allowComments?{value:hee}:void 0}function cee(n,e,t,i){const r=nO(n,t.tagName,t,i),l=n.attributes||{},s=n.required||{},o=e||{},a=Object.assign({},z3(l["*"]),z3(r&&ds.call(l,r)?l[r]:[])),u={};let f;for(f in o)if(ds.call(o,f)){let c=o[f],h;if(ds.call(a,f))h=a[f];else if(_ee(f)&&ds.call(a,"data*"))h=a["data*"];else continue;c=Array.isArray(c)?mee(n,c,f,h):iO(n,c,f,h),c!=null&&(u[f]=c)}if(r&&ds.call(s,r))for(f in s[r])ds.call(u,f)||(u[f]=s[r][f]);return u}function dee(){return"html"}function nO(n,e,t,i){const r=typeof e=="string"?e:"";let l=-1;if(!r||r==="*"||n.tagNames&&!n.tagNames.includes(r))return!1;if(n.ancestors&&ds.call(n.ancestors,r)){for(;++l<n.ancestors[r].length;)if(i.includes(n.ancestors[r][l]))return r;return!1}return r}function hee(n,e){const t=typeof e=="string"?e:"",i=t.indexOf("-->");return i<0?t:t.slice(0,i)}function pee(n,e){return typeof e=="string"?e:""}function U3(n,e){return e}function mee(n,e,t,i){let r=-1;const l=[];for(;++r<e.length;){const s=iO(n,e[r],t,i);s!=null&&l.push(s)}return l}function iO(n,e,t,i){if((typeof e=="boolean"||typeof e=="number"||typeof e=="string")&&gee(n,e,t)&&(i.length===0||i.some(r=>r&&typeof r=="object"&&"flags"in r?r.test(String(e)):r===e)))return n.clobberPrefix&&n.clobber&&n.clobber.includes(t)?n.clobberPrefix+e:e}function gee(n,e,t){const i=String(e),r=i.indexOf(":"),l=i.indexOf("?"),s=i.indexOf("#"),o=i.indexOf("/"),a=n.protocols&&ds.call(n.protocols,t)?n.protocols[t].concat():[];let u=-1;if(a.length===0||r<0||o>-1&&r>o||l>-1&&r>l||s>-1&&r>s)return!0;for(;++u<a.length;)if(r===a[u].length&&i.slice(0,a[u].length)===a[u])return!0;return!1}function z3(n){const e={};let t=-1;for(;++t<n.length;){const i=n[t];Array.isArray(i)?e[i[0]]=i.slice(1):e[i]=[]}return e}function _ee(n){return n.length>4&&n.slice(0,4).toLowerCase()==="data"}var Zl={};const bee=[65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111];Zl.REPLACEMENT_CHARACTER="�";Zl.CODE_POINTS={EOF:-1,NULL:0,TABULATION:9,CARRIAGE_RETURN:13,LINE_FEED:10,FORM_FEED:12,SPACE:32,EXCLAMATION_MARK:33,QUOTATION_MARK:34,NUMBER_SIGN:35,AMPERSAND:38,APOSTROPHE:39,HYPHEN_MINUS:45,SOLIDUS:47,DIGIT_0:48,DIGIT_9:57,SEMICOLON:59,LESS_THAN_SIGN:60,EQUALS_SIGN:61,GREATER_THAN_SIGN:62,QUESTION_MARK:63,LATIN_CAPITAL_A:65,LATIN_CAPITAL_F:70,LATIN_CAPITAL_X:88,LATIN_CAPITAL_Z:90,RIGHT_SQUARE_BRACKET:93,GRAVE_ACCENT:96,LATIN_SMALL_A:97,LATIN_SMALL_F:102,LATIN_SMALL_X:120,LATIN_SMALL_Z:122,REPLACEMENT_CHARACTER:65533};Zl.CODE_POINT_SEQUENCES={DASH_DASH_STRING:[45,45],DOCTYPE_STRING:[68,79,67,84,89,80,69],CDATA_START_STRING:[91,67,68,65,84,65,91],SCRIPT_STRING:[115,99,114,105,112,116],PUBLIC_STRING:[80,85,66,76,73,67],SYSTEM_STRING:[83,89,83,84,69,77]};Zl.isSurrogate=function(n){return n>=55296&&n<=57343};Zl.isSurrogatePair=function(n){return n>=56320&&n<=57343};Zl.getSurrogatePairCodePoint=function(n,e){return(n-55296)*1024+9216+e};Zl.isControlCodePoint=function(n){return n!==32&&n!==10&&n!==13&&n!==9&&n!==12&&n>=1&&n<=31||n>=127&&n<=159};Zl.isUndefinedCodePoint=function(n){return n>=64976&&n<=65007||bee.indexOf(n)>-1};var q_={controlCharacterInInputStream:"control-character-in-input-stream",noncharacterInInputStream:"noncharacter-in-input-stream",surrogateInInputStream:"surrogate-in-input-stream",nonVoidHtmlElementStartTagWithTrailingSolidus:"non-void-html-element-start-tag-with-trailing-solidus",endTagWithAttributes:"end-tag-with-attributes",endTagWithTrailingSolidus:"end-tag-with-trailing-solidus",unexpectedSolidusInTag:"unexpected-solidus-in-tag",unexpectedNullCharacter:"unexpected-null-character",unexpectedQuestionMarkInsteadOfTagName:"unexpected-question-mark-instead-of-tag-name",invalidFirstCharacterOfTagName:"invalid-first-character-of-tag-name",unexpectedEqualsSignBeforeAttributeName:"unexpected-equals-sign-before-attribute-name",missingEndTagName:"missing-end-tag-name",unexpectedCharacterInAttributeName:"unexpected-character-in-attribute-name",unknownNamedCharacterReference:"unknown-named-character-reference",missingSemicolonAfterCharacterReference:"missing-semicolon-after-character-reference",unexpectedCharacterAfterDoctypeSystemIdentifier:"unexpected-character-after-doctype-system-identifier",unexpectedCharacterInUnquotedAttributeValue:"unexpected-character-in-unquoted-attribute-value",eofBeforeTagName:"eof-before-tag-name",eofInTag:"eof-in-tag",missingAttributeValue:"missing-attribute-value",missingWhitespaceBetweenAttributes:"missing-whitespace-between-attributes",missingWhitespaceAfterDoctypePublicKeyword:"missing-whitespace-after-doctype-public-keyword",missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers:"missing-whitespace-between-doctype-public-and-system-identifiers",missingWhitespaceAfterDoctypeSystemKeyword:"missing-whitespace-after-doctype-system-keyword",missingQuoteBeforeDoctypePublicIdentifier:"missing-quote-before-doctype-public-identifier",missingQuoteBeforeDoctypeSystemIdentifier:"missing-quote-before-doctype-system-identifier",missingDoctypePublicIdentifier:"missing-doctype-public-identifier",missingDoctypeSystemIdentifier:"missing-doctype-system-identifier",abruptDoctypePublicIdentifier:"abrupt-doctype-public-identifier",abruptDoctypeSystemIdentifier:"abrupt-doctype-system-identifier",cdataInHtmlContent:"cdata-in-html-content",incorrectlyOpenedComment:"incorrectly-opened-comment",eofInScriptHtmlCommentLikeText:"eof-in-script-html-comment-like-text",eofInDoctype:"eof-in-doctype",nestedComment:"nested-comment",abruptClosingOfEmptyComment:"abrupt-closing-of-empty-comment",eofInComment:"eof-in-comment",incorrectlyClosedComment:"incorrectly-closed-comment",eofInCdata:"eof-in-cdata",absenceOfDigitsInNumericCharacterReference:"absence-of-digits-in-numeric-character-reference",nullCharacterReference:"null-character-reference",surrogateCharacterReference:"surrogate-character-reference",characterReferenceOutsideUnicodeRange:"character-reference-outside-unicode-range",controlCharacterReference:"control-character-reference",noncharacterCharacterReference:"noncharacter-character-reference",missingWhitespaceBeforeDoctypeName:"missing-whitespace-before-doctype-name",missingDoctypeName:"missing-doctype-name",invalidCharacterSequenceAfterDoctypeName:"invalid-character-sequence-after-doctype-name",duplicateAttribute:"duplicate-attribute",nonConformingDoctype:"non-conforming-doctype",missingDoctype:"missing-doctype",misplacedDoctype:"misplaced-doctype",endTagWithoutMatchingOpenElement:"end-tag-without-matching-open-element",closingOfElementWithOpenChildElements:"closing-of-element-with-open-child-elements",disallowedContentInNoscriptInHead:"disallowed-content-in-noscript-in-head",openElementsLeftAfterEof:"open-elements-left-after-eof",abandonedHeadElementChild:"abandoned-head-element-child",misplacedStartTagForHeadElement:"misplaced-start-tag-for-head-element",nestedNoscriptInHead:"nested-noscript-in-head",eofInElementThatCanContainOnlyText:"eof-in-element-that-can-contain-only-text"};const bu=Zl,n0=q_,sa=bu.CODE_POINTS,vee=65536;let yee=class{constructor(){this.html=null,this.pos=-1,this.lastGapPos=-1,this.lastCharPos=-1,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=vee}_err(){}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(e){if(this.pos!==this.lastCharPos){const t=this.html.charCodeAt(this.pos+1);if(bu.isSurrogatePair(t))return this.pos++,this._addGap(),bu.getSurrogatePairCodePoint(e,t)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,sa.EOF;return this._err(n0.surrogateInInputStream),e}dropParsedChunk(){this.pos>this.bufferWaterline&&(this.lastCharPos-=this.pos,this.html=this.html.substring(this.pos),this.pos=0,this.lastGapPos=-1,this.gapStack=[])}write(e,t){this.html?this.html+=e:this.html=e,this.lastCharPos=this.html.length-1,this.endOfChunkHit=!1,this.lastChunkWritten=t}insertHtmlAtCurrentPos(e){this.html=this.html.substring(0,this.pos+1)+e+this.html.substring(this.pos+1,this.html.length),this.lastCharPos=this.html.length-1,this.endOfChunkHit=!1}advance(){if(this.pos++,this.pos>this.lastCharPos)return this.endOfChunkHit=!this.lastChunkWritten,sa.EOF;let e=this.html.charCodeAt(this.pos);return this.skipNextNewLine&&e===sa.LINE_FEED?(this.skipNextNewLine=!1,this._addGap(),this.advance()):e===sa.CARRIAGE_RETURN?(this.skipNextNewLine=!0,sa.LINE_FEED):(this.skipNextNewLine=!1,bu.isSurrogate(e)&&(e=this._processSurrogate(e)),e>31&&e<127||e===sa.LINE_FEED||e===sa.CARRIAGE_RETURN||e>159&&e<64976||this._checkForProblematicCharacters(e),e)}_checkForProblematicCharacters(e){bu.isControlCodePoint(e)?this._err(n0.controlCharacterInInputStream):bu.isUndefinedCodePoint(e)&&this._err(n0.noncharacterInInputStream)}retreat(){this.pos===this.lastGapPos&&(this.lastGapPos=this.gapStack.pop(),this.pos--),this.pos--}};var kee=yee,Tee=new Uint16Array([4,52,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,106,303,412,810,1432,1701,1796,1987,2114,2360,2420,2484,3170,3251,4140,4393,4575,4610,5106,5512,5728,6117,6274,6315,6345,6427,6516,7002,7910,8733,9323,9870,10170,10631,10893,11318,11386,11467,12773,13092,14474,14922,15448,15542,16419,17666,18166,18611,19004,19095,19298,19397,4,16,69,77,97,98,99,102,103,108,109,110,111,112,114,115,116,117,140,150,158,169,176,194,199,210,216,222,226,242,256,266,283,294,108,105,103,5,198,1,59,148,1,198,80,5,38,1,59,156,1,38,99,117,116,101,5,193,1,59,167,1,193,114,101,118,101,59,1,258,4,2,105,121,182,191,114,99,5,194,1,59,189,1,194,59,1,1040,114,59,3,55349,56580,114,97,118,101,5,192,1,59,208,1,192,112,104,97,59,1,913,97,99,114,59,1,256,100,59,1,10835,4,2,103,112,232,237,111,110,59,1,260,102,59,3,55349,56632,112,108,121,70,117,110,99,116,105,111,110,59,1,8289,105,110,103,5,197,1,59,264,1,197,4,2,99,115,272,277,114,59,3,55349,56476,105,103,110,59,1,8788,105,108,100,101,5,195,1,59,292,1,195,109,108,5,196,1,59,301,1,196,4,8,97,99,101,102,111,114,115,117,321,350,354,383,388,394,400,405,4,2,99,114,327,336,107,115,108,97,115,104,59,1,8726,4,2,118,119,342,345,59,1,10983,101,100,59,1,8966,121,59,1,1041,4,3,99,114,116,362,369,379,97,117,115,101,59,1,8757,110,111,117,108,108,105,115,59,1,8492,97,59,1,914,114,59,3,55349,56581,112,102,59,3,55349,56633,101,118,101,59,1,728,99,114,59,1,8492,109,112,101,113,59,1,8782,4,14,72,79,97,99,100,101,102,104,105,108,111,114,115,117,442,447,456,504,542,547,569,573,577,616,678,784,790,796,99,121,59,1,1063,80,89,5,169,1,59,454,1,169,4,3,99,112,121,464,470,497,117,116,101,59,1,262,4,2,59,105,476,478,1,8914,116,97,108,68,105,102,102,101,114,101,110,116,105,97,108,68,59,1,8517,108,101,121,115,59,1,8493,4,4,97,101,105,111,514,520,530,535,114,111,110,59,1,268,100,105,108,5,199,1,59,528,1,199,114,99,59,1,264,110,105,110,116,59,1,8752,111,116,59,1,266,4,2,100,110,553,560,105,108,108,97,59,1,184,116,101,114,68,111,116,59,1,183,114,59,1,8493,105,59,1,935,114,99,108,101,4,4,68,77,80,84,591,596,603,609,111,116,59,1,8857,105,110,117,115,59,1,8854,108,117,115,59,1,8853,105,109,101,115,59,1,8855,111,4,2,99,115,623,646,107,119,105,115,101,67,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8754,101,67,117,114,108,121,4,2,68,81,658,671,111,117,98,108,101,81,117,111,116,101,59,1,8221,117,111,116,101,59,1,8217,4,4,108,110,112,117,688,701,736,753,111,110,4,2,59,101,696,698,1,8759,59,1,10868,4,3,103,105,116,709,717,722,114,117,101,110,116,59,1,8801,110,116,59,1,8751,111,117,114,73,110,116,101,103,114,97,108,59,1,8750,4,2,102,114,742,745,59,1,8450,111,100,117,99,116,59,1,8720,110,116,101,114,67,108,111,99,107,119,105,115,101,67,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8755,111,115,115,59,1,10799,99,114,59,3,55349,56478,112,4,2,59,67,803,805,1,8915,97,112,59,1,8781,4,11,68,74,83,90,97,99,101,102,105,111,115,834,850,855,860,865,888,903,916,921,1011,1415,4,2,59,111,840,842,1,8517,116,114,97,104,100,59,1,10513,99,121,59,1,1026,99,121,59,1,1029,99,121,59,1,1039,4,3,103,114,115,873,879,883,103,101,114,59,1,8225,114,59,1,8609,104,118,59,1,10980,4,2,97,121,894,900,114,111,110,59,1,270,59,1,1044,108,4,2,59,116,910,912,1,8711,97,59,1,916,114,59,3,55349,56583,4,2,97,102,927,998,4,2,99,109,933,992,114,105,116,105,99,97,108,4,4,65,68,71,84,950,957,978,985,99,117,116,101,59,1,180,111,4,2,116,117,964,967,59,1,729,98,108,101,65,99,117,116,101,59,1,733,114,97,118,101,59,1,96,105,108,100,101,59,1,732,111,110,100,59,1,8900,102,101,114,101,110,116,105,97,108,68,59,1,8518,4,4,112,116,117,119,1021,1026,1048,1249,102,59,3,55349,56635,4,3,59,68,69,1034,1036,1041,1,168,111,116,59,1,8412,113,117,97,108,59,1,8784,98,108,101,4,6,67,68,76,82,85,86,1065,1082,1101,1189,1211,1236,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8751,111,4,2,116,119,1089,1092,59,1,168,110,65,114,114,111,119,59,1,8659,4,2,101,111,1107,1141,102,116,4,3,65,82,84,1117,1124,1136,114,114,111,119,59,1,8656,105,103,104,116,65,114,114,111,119,59,1,8660,101,101,59,1,10980,110,103,4,2,76,82,1149,1177,101,102,116,4,2,65,82,1158,1165,114,114,111,119,59,1,10232,105,103,104,116,65,114,114,111,119,59,1,10234,105,103,104,116,65,114,114,111,119,59,1,10233,105,103,104,116,4,2,65,84,1199,1206,114,114,111,119,59,1,8658,101,101,59,1,8872,112,4,2,65,68,1218,1225,114,114,111,119,59,1,8657,111,119,110,65,114,114,111,119,59,1,8661,101,114,116,105,99,97,108,66,97,114,59,1,8741,110,4,6,65,66,76,82,84,97,1264,1292,1299,1352,1391,1408,114,114,111,119,4,3,59,66,85,1276,1278,1283,1,8595,97,114,59,1,10515,112,65,114,114,111,119,59,1,8693,114,101,118,101,59,1,785,101,102,116,4,3,82,84,86,1310,1323,1334,105,103,104,116,86,101,99,116,111,114,59,1,10576,101,101,86,101,99,116,111,114,59,1,10590,101,99,116,111,114,4,2,59,66,1345,1347,1,8637,97,114,59,1,10582,105,103,104,116,4,2,84,86,1362,1373,101,101,86,101,99,116,111,114,59,1,10591,101,99,116,111,114,4,2,59,66,1384,1386,1,8641,97,114,59,1,10583,101,101,4,2,59,65,1399,1401,1,8868,114,114,111,119,59,1,8615,114,114,111,119,59,1,8659,4,2,99,116,1421,1426,114,59,3,55349,56479,114,111,107,59,1,272,4,16,78,84,97,99,100,102,103,108,109,111,112,113,115,116,117,120,1466,1470,1478,1489,1515,1520,1525,1536,1544,1593,1609,1617,1650,1664,1668,1677,71,59,1,330,72,5,208,1,59,1476,1,208,99,117,116,101,5,201,1,59,1487,1,201,4,3,97,105,121,1497,1503,1512,114,111,110,59,1,282,114,99,5,202,1,59,1510,1,202,59,1,1069,111,116,59,1,278,114,59,3,55349,56584,114,97,118,101,5,200,1,59,1534,1,200,101,109,101,110,116,59,1,8712,4,2,97,112,1550,1555,99,114,59,1,274,116,121,4,2,83,86,1563,1576,109,97,108,108,83,113,117,97,114,101,59,1,9723,101,114,121,83,109,97,108,108,83,113,117,97,114,101,59,1,9643,4,2,103,112,1599,1604,111,110,59,1,280,102,59,3,55349,56636,115,105,108,111,110,59,1,917,117,4,2,97,105,1624,1640,108,4,2,59,84,1631,1633,1,10869,105,108,100,101,59,1,8770,108,105,98,114,105,117,109,59,1,8652,4,2,99,105,1656,1660,114,59,1,8496,109,59,1,10867,97,59,1,919,109,108,5,203,1,59,1675,1,203,4,2,105,112,1683,1689,115,116,115,59,1,8707,111,110,101,110,116,105,97,108,69,59,1,8519,4,5,99,102,105,111,115,1713,1717,1722,1762,1791,121,59,1,1060,114,59,3,55349,56585,108,108,101,100,4,2,83,86,1732,1745,109,97,108,108,83,113,117,97,114,101,59,1,9724,101,114,121,83,109,97,108,108,83,113,117,97,114,101,59,1,9642,4,3,112,114,117,1770,1775,1781,102,59,3,55349,56637,65,108,108,59,1,8704,114,105,101,114,116,114,102,59,1,8497,99,114,59,1,8497,4,12,74,84,97,98,99,100,102,103,111,114,115,116,1822,1827,1834,1848,1855,1877,1882,1887,1890,1896,1978,1984,99,121,59,1,1027,5,62,1,59,1832,1,62,109,109,97,4,2,59,100,1843,1845,1,915,59,1,988,114,101,118,101,59,1,286,4,3,101,105,121,1863,1869,1874,100,105,108,59,1,290,114,99,59,1,284,59,1,1043,111,116,59,1,288,114,59,3,55349,56586,59,1,8921,112,102,59,3,55349,56638,101,97,116,101,114,4,6,69,70,71,76,83,84,1915,1933,1944,1953,1959,1971,113,117,97,108,4,2,59,76,1925,1927,1,8805,101,115,115,59,1,8923,117,108,108,69,113,117,97,108,59,1,8807,114,101,97,116,101,114,59,1,10914,101,115,115,59,1,8823,108,97,110,116,69,113,117,97,108,59,1,10878,105,108,100,101,59,1,8819,99,114,59,3,55349,56482,59,1,8811,4,8,65,97,99,102,105,111,115,117,2005,2012,2026,2032,2036,2049,2073,2089,82,68,99,121,59,1,1066,4,2,99,116,2018,2023,101,107,59,1,711,59,1,94,105,114,99,59,1,292,114,59,1,8460,108,98,101,114,116,83,112,97,99,101,59,1,8459,4,2,112,114,2055,2059,102,59,1,8461,105,122,111,110,116,97,108,76,105,110,101,59,1,9472,4,2,99,116,2079,2083,114,59,1,8459,114,111,107,59,1,294,109,112,4,2,68,69,2097,2107,111,119,110,72,117,109,112,59,1,8782,113,117,97,108,59,1,8783,4,14,69,74,79,97,99,100,102,103,109,110,111,115,116,117,2144,2149,2155,2160,2171,2189,2194,2198,2209,2245,2307,2329,2334,2341,99,121,59,1,1045,108,105,103,59,1,306,99,121,59,1,1025,99,117,116,101,5,205,1,59,2169,1,205,4,2,105,121,2177,2186,114,99,5,206,1,59,2184,1,206,59,1,1048,111,116,59,1,304,114,59,1,8465,114,97,118,101,5,204,1,59,2207,1,204,4,3,59,97,112,2217,2219,2238,1,8465,4,2,99,103,2225,2229,114,59,1,298,105,110,97,114,121,73,59,1,8520,108,105,101,115,59,1,8658,4,2,116,118,2251,2281,4,2,59,101,2257,2259,1,8748,4,2,103,114,2265,2271,114,97,108,59,1,8747,115,101,99,116,105,111,110,59,1,8898,105,115,105,98,108,101,4,2,67,84,2293,2300,111,109,109,97,59,1,8291,105,109,101,115,59,1,8290,4,3,103,112,116,2315,2320,2325,111,110,59,1,302,102,59,3,55349,56640,97,59,1,921,99,114,59,1,8464,105,108,100,101,59,1,296,4,2,107,109,2347,2352,99,121,59,1,1030,108,5,207,1,59,2358,1,207,4,5,99,102,111,115,117,2372,2386,2391,2397,2414,4,2,105,121,2378,2383,114,99,59,1,308,59,1,1049,114,59,3,55349,56589,112,102,59,3,55349,56641,4,2,99,101,2403,2408,114,59,3,55349,56485,114,99,121,59,1,1032,107,99,121,59,1,1028,4,7,72,74,97,99,102,111,115,2436,2441,2446,2452,2467,2472,2478,99,121,59,1,1061,99,121,59,1,1036,112,112,97,59,1,922,4,2,101,121,2458,2464,100,105,108,59,1,310,59,1,1050,114,59,3,55349,56590,112,102,59,3,55349,56642,99,114,59,3,55349,56486,4,11,74,84,97,99,101,102,108,109,111,115,116,2508,2513,2520,2562,2585,2981,2986,3004,3011,3146,3167,99,121,59,1,1033,5,60,1,59,2518,1,60,4,5,99,109,110,112,114,2532,2538,2544,2548,2558,117,116,101,59,1,313,98,100,97,59,1,923,103,59,1,10218,108,97,99,101,116,114,102,59,1,8466,114,59,1,8606,4,3,97,101,121,2570,2576,2582,114,111,110,59,1,317,100,105,108,59,1,315,59,1,1051,4,2,102,115,2591,2907,116,4,10,65,67,68,70,82,84,85,86,97,114,2614,2663,2672,2728,2735,2760,2820,2870,2888,2895,4,2,110,114,2620,2633,103,108,101,66,114,97,99,107,101,116,59,1,10216,114,111,119,4,3,59,66,82,2644,2646,2651,1,8592,97,114,59,1,8676,105,103,104,116,65,114,114,111,119,59,1,8646,101,105,108,105,110,103,59,1,8968,111,4,2,117,119,2679,2692,98,108,101,66,114,97,99,107,101,116,59,1,10214,110,4,2,84,86,2699,2710,101,101,86,101,99,116,111,114,59,1,10593,101,99,116,111,114,4,2,59,66,2721,2723,1,8643,97,114,59,1,10585,108,111,111,114,59,1,8970,105,103,104,116,4,2,65,86,2745,2752,114,114,111,119,59,1,8596,101,99,116,111,114,59,1,10574,4,2,101,114,2766,2792,101,4,3,59,65,86,2775,2777,2784,1,8867,114,114,111,119,59,1,8612,101,99,116,111,114,59,1,10586,105,97,110,103,108,101,4,3,59,66,69,2806,2808,2813,1,8882,97,114,59,1,10703,113,117,97,108,59,1,8884,112,4,3,68,84,86,2829,2841,2852,111,119,110,86,101,99,116,111,114,59,1,10577,101,101,86,101,99,116,111,114,59,1,10592,101,99,116,111,114,4,2,59,66,2863,2865,1,8639,97,114,59,1,10584,101,99,116,111,114,4,2,59,66,2881,2883,1,8636,97,114,59,1,10578,114,114,111,119,59,1,8656,105,103,104,116,97,114,114,111,119,59,1,8660,115,4,6,69,70,71,76,83,84,2922,2936,2947,2956,2962,2974,113,117,97,108,71,114,101,97,116,101,114,59,1,8922,117,108,108,69,113,117,97,108,59,1,8806,114,101,97,116,101,114,59,1,8822,101,115,115,59,1,10913,108,97,110,116,69,113,117,97,108,59,1,10877,105,108,100,101,59,1,8818,114,59,3,55349,56591,4,2,59,101,2992,2994,1,8920,102,116,97,114,114,111,119,59,1,8666,105,100,111,116,59,1,319,4,3,110,112,119,3019,3110,3115,103,4,4,76,82,108,114,3030,3058,3070,3098,101,102,116,4,2,65,82,3039,3046,114,114,111,119,59,1,10229,105,103,104,116,65,114,114,111,119,59,1,10231,105,103,104,116,65,114,114,111,119,59,1,10230,101,102,116,4,2,97,114,3079,3086,114,114,111,119,59,1,10232,105,103,104,116,97,114,114,111,119,59,1,10234,105,103,104,116,97,114,114,111,119,59,1,10233,102,59,3,55349,56643,101,114,4,2,76,82,3123,3134,101,102,116,65,114,114,111,119,59,1,8601,105,103,104,116,65,114,114,111,119,59,1,8600,4,3,99,104,116,3154,3158,3161,114,59,1,8466,59,1,8624,114,111,107,59,1,321,59,1,8810,4,8,97,99,101,102,105,111,115,117,3188,3192,3196,3222,3227,3237,3243,3248,112,59,1,10501,121,59,1,1052,4,2,100,108,3202,3213,105,117,109,83,112,97,99,101,59,1,8287,108,105,110,116,114,102,59,1,8499,114,59,3,55349,56592,110,117,115,80,108,117,115,59,1,8723,112,102,59,3,55349,56644,99,114,59,1,8499,59,1,924,4,9,74,97,99,101,102,111,115,116,117,3271,3276,3283,3306,3422,3427,4120,4126,4137,99,121,59,1,1034,99,117,116,101,59,1,323,4,3,97,101,121,3291,3297,3303,114,111,110,59,1,327,100,105,108,59,1,325,59,1,1053,4,3,103,115,119,3314,3380,3415,97,116,105,118,101,4,3,77,84,86,3327,3340,3365,101,100,105,117,109,83,112,97,99,101,59,1,8203,104,105,4,2,99,110,3348,3357,107,83,112,97,99,101,59,1,8203,83,112,97,99,101,59,1,8203,101,114,121,84,104,105,110,83,112,97,99,101,59,1,8203,116,101,100,4,2,71,76,3389,3405,114,101,97,116,101,114,71,114,101,97,116,101,114,59,1,8811,101,115,115,76,101,115,115,59,1,8810,76,105,110,101,59,1,10,114,59,3,55349,56593,4,4,66,110,112,116,3437,3444,3460,3464,114,101,97,107,59,1,8288,66,114,101,97,107,105,110,103,83,112,97,99,101,59,1,160,102,59,1,8469,4,13,59,67,68,69,71,72,76,78,80,82,83,84,86,3492,3494,3517,3536,3578,3657,3685,3784,3823,3860,3915,4066,4107,1,10988,4,2,111,117,3500,3510,110,103,114,117,101,110,116,59,1,8802,112,67,97,112,59,1,8813,111,117,98,108,101,86,101,114,116,105,99,97,108,66,97,114,59,1,8742,4,3,108,113,120,3544,3552,3571,101,109,101,110,116,59,1,8713,117,97,108,4,2,59,84,3561,3563,1,8800,105,108,100,101,59,3,8770,824,105,115,116,115,59,1,8708,114,101,97,116,101,114,4,7,59,69,70,71,76,83,84,3600,3602,3609,3621,3631,3637,3650,1,8815,113,117,97,108,59,1,8817,117,108,108,69,113,117,97,108,59,3,8807,824,114,101,97,116,101,114,59,3,8811,824,101,115,115,59,1,8825,108,97,110,116,69,113,117,97,108,59,3,10878,824,105,108,100,101,59,1,8821,117,109,112,4,2,68,69,3666,3677,111,119,110,72,117,109,112,59,3,8782,824,113,117,97,108,59,3,8783,824,101,4,2,102,115,3692,3724,116,84,114,105,97,110,103,108,101,4,3,59,66,69,3709,3711,3717,1,8938,97,114,59,3,10703,824,113,117,97,108,59,1,8940,115,4,6,59,69,71,76,83,84,3739,3741,3748,3757,3764,3777,1,8814,113,117,97,108,59,1,8816,114,101,97,116,101,114,59,1,8824,101,115,115,59,3,8810,824,108,97,110,116,69,113,117,97,108,59,3,10877,824,105,108,100,101,59,1,8820,101,115,116,101,100,4,2,71,76,3795,3812,114,101,97,116,101,114,71,114,101,97,116,101,114,59,3,10914,824,101,115,115,76,101,115,115,59,3,10913,824,114,101,99,101,100,101,115,4,3,59,69,83,3838,3840,3848,1,8832,113,117,97,108,59,3,10927,824,108,97,110,116,69,113,117,97,108,59,1,8928,4,2,101,105,3866,3881,118,101,114,115,101,69,108,101,109,101,110,116,59,1,8716,103,104,116,84,114,105,97,110,103,108,101,4,3,59,66,69,3900,3902,3908,1,8939,97,114,59,3,10704,824,113,117,97,108,59,1,8941,4,2,113,117,3921,3973,117,97,114,101,83,117,4,2,98,112,3933,3952,115,101,116,4,2,59,69,3942,3945,3,8847,824,113,117,97,108,59,1,8930,101,114,115,101,116,4,2,59,69,3963,3966,3,8848,824,113,117,97,108,59,1,8931,4,3,98,99,112,3981,4e3,4045,115,101,116,4,2,59,69,3990,3993,3,8834,8402,113,117,97,108,59,1,8840,99,101,101,100,115,4,4,59,69,83,84,4015,4017,4025,4037,1,8833,113,117,97,108,59,3,10928,824,108,97,110,116,69,113,117,97,108,59,1,8929,105,108,100,101,59,3,8831,824,101,114,115,101,116,4,2,59,69,4056,4059,3,8835,8402,113,117,97,108,59,1,8841,105,108,100,101,4,4,59,69,70,84,4080,4082,4089,4100,1,8769,113,117,97,108,59,1,8772,117,108,108,69,113,117,97,108,59,1,8775,105,108,100,101,59,1,8777,101,114,116,105,99,97,108,66,97,114,59,1,8740,99,114,59,3,55349,56489,105,108,100,101,5,209,1,59,4135,1,209,59,1,925,4,14,69,97,99,100,102,103,109,111,112,114,115,116,117,118,4170,4176,4187,4205,4212,4217,4228,4253,4259,4292,4295,4316,4337,4346,108,105,103,59,1,338,99,117,116,101,5,211,1,59,4185,1,211,4,2,105,121,4193,4202,114,99,5,212,1,59,4200,1,212,59,1,1054,98,108,97,99,59,1,336,114,59,3,55349,56594,114,97,118,101,5,210,1,59,4226,1,210,4,3,97,101,105,4236,4241,4246,99,114,59,1,332,103,97,59,1,937,99,114,111,110,59,1,927,112,102,59,3,55349,56646,101,110,67,117,114,108,121,4,2,68,81,4272,4285,111,117,98,108,101,81,117,111,116,101,59,1,8220,117,111,116,101,59,1,8216,59,1,10836,4,2,99,108,4301,4306,114,59,3,55349,56490,97,115,104,5,216,1,59,4314,1,216,105,4,2,108,109,4323,4332,100,101,5,213,1,59,4330,1,213,101,115,59,1,10807,109,108,5,214,1,59,4344,1,214,101,114,4,2,66,80,4354,4380,4,2,97,114,4360,4364,114,59,1,8254,97,99,4,2,101,107,4372,4375,59,1,9182,101,116,59,1,9140,97,114,101,110,116,104,101,115,105,115,59,1,9180,4,9,97,99,102,104,105,108,111,114,115,4413,4422,4426,4431,4435,4438,4448,4471,4561,114,116,105,97,108,68,59,1,8706,121,59,1,1055,114,59,3,55349,56595,105,59,1,934,59,1,928,117,115,77,105,110,117,115,59,1,177,4,2,105,112,4454,4467,110,99,97,114,101,112,108,97,110,101,59,1,8460,102,59,1,8473,4,4,59,101,105,111,4481,4483,4526,4531,1,10939,99,101,100,101,115,4,4,59,69,83,84,4498,4500,4507,4519,1,8826,113,117,97,108,59,1,10927,108,97,110,116,69,113,117,97,108,59,1,8828,105,108,100,101,59,1,8830,109,101,59,1,8243,4,2,100,112,4537,4543,117,99,116,59,1,8719,111,114,116,105,111,110,4,2,59,97,4555,4557,1,8759,108,59,1,8733,4,2,99,105,4567,4572,114,59,3,55349,56491,59,1,936,4,4,85,102,111,115,4585,4594,4599,4604,79,84,5,34,1,59,4592,1,34,114,59,3,55349,56596,112,102,59,1,8474,99,114,59,3,55349,56492,4,12,66,69,97,99,101,102,104,105,111,114,115,117,4636,4642,4650,4681,4704,4763,4767,4771,5047,5069,5081,5094,97,114,114,59,1,10512,71,5,174,1,59,4648,1,174,4,3,99,110,114,4658,4664,4668,117,116,101,59,1,340,103,59,1,10219,114,4,2,59,116,4675,4677,1,8608,108,59,1,10518,4,3,97,101,121,4689,4695,4701,114,111,110,59,1,344,100,105,108,59,1,342,59,1,1056,4,2,59,118,4710,4712,1,8476,101,114,115,101,4,2,69,85,4722,4748,4,2,108,113,4728,4736,101,109,101,110,116,59,1,8715,117,105,108,105,98,114,105,117,109,59,1,8651,112,69,113,117,105,108,105,98,114,105,117,109,59,1,10607,114,59,1,8476,111,59,1,929,103,104,116,4,8,65,67,68,70,84,85,86,97,4792,4840,4849,4905,4912,4972,5022,5040,4,2,110,114,4798,4811,103,108,101,66,114,97,99,107,101,116,59,1,10217,114,111,119,4,3,59,66,76,4822,4824,4829,1,8594,97,114,59,1,8677,101,102,116,65,114,114,111,119,59,1,8644,101,105,108,105,110,103,59,1,8969,111,4,2,117,119,4856,4869,98,108,101,66,114,97,99,107,101,116,59,1,10215,110,4,2,84,86,4876,4887,101,101,86,101,99,116,111,114,59,1,10589,101,99,116,111,114,4,2,59,66,4898,4900,1,8642,97,114,59,1,10581,108,111,111,114,59,1,8971,4,2,101,114,4918,4944,101,4,3,59,65,86,4927,4929,4936,1,8866,114,114,111,119,59,1,8614,101,99,116,111,114,59,1,10587,105,97,110,103,108,101,4,3,59,66,69,4958,4960,4965,1,8883,97,114,59,1,10704,113,117,97,108,59,1,8885,112,4,3,68,84,86,4981,4993,5004,111,119,110,86,101,99,116,111,114,59,1,10575,101,101,86,101,99,116,111,114,59,1,10588,101,99,116,111,114,4,2,59,66,5015,5017,1,8638,97,114,59,1,10580,101,99,116,111,114,4,2,59,66,5033,5035,1,8640,97,114,59,1,10579,114,114,111,119,59,1,8658,4,2,112,117,5053,5057,102,59,1,8477,110,100,73,109,112,108,105,101,115,59,1,10608,105,103,104,116,97,114,114,111,119,59,1,8667,4,2,99,104,5087,5091,114,59,1,8475,59,1,8625,108,101,68,101,108,97,121,101,100,59,1,10740,4,13,72,79,97,99,102,104,105,109,111,113,115,116,117,5134,5150,5157,5164,5198,5203,5259,5265,5277,5283,5374,5380,5385,4,2,67,99,5140,5146,72,99,121,59,1,1065,121,59,1,1064,70,84,99,121,59,1,1068,99,117,116,101,59,1,346,4,5,59,97,101,105,121,5176,5178,5184,5190,5195,1,10940,114,111,110,59,1,352,100,105,108,59,1,350,114,99,59,1,348,59,1,1057,114,59,3,55349,56598,111,114,116,4,4,68,76,82,85,5216,5227,5238,5250,111,119,110,65,114,114,111,119,59,1,8595,101,102,116,65,114,114,111,119,59,1,8592,105,103,104,116,65,114,114,111,119,59,1,8594,112,65,114,114,111,119,59,1,8593,103,109,97,59,1,931,97,108,108,67,105,114,99,108,101,59,1,8728,112,102,59,3,55349,56650,4,2,114,117,5289,5293,116,59,1,8730,97,114,101,4,4,59,73,83,85,5306,5308,5322,5367,1,9633,110,116,101,114,115,101,99,116,105,111,110,59,1,8851,117,4,2,98,112,5329,5347,115,101,116,4,2,59,69,5338,5340,1,8847,113,117,97,108,59,1,8849,101,114,115,101,116,4,2,59,69,5358,5360,1,8848,113,117,97,108,59,1,8850,110,105,111,110,59,1,8852,99,114,59,3,55349,56494,97,114,59,1,8902,4,4,98,99,109,112,5395,5420,5475,5478,4,2,59,115,5401,5403,1,8912,101,116,4,2,59,69,5411,5413,1,8912,113,117,97,108,59,1,8838,4,2,99,104,5426,5468,101,101,100,115,4,4,59,69,83,84,5440,5442,5449,5461,1,8827,113,117,97,108,59,1,10928,108,97,110,116,69,113,117,97,108,59,1,8829,105,108,100,101,59,1,8831,84,104,97,116,59,1,8715,59,1,8721,4,3,59,101,115,5486,5488,5507,1,8913,114,115,101,116,4,2,59,69,5498,5500,1,8835,113,117,97,108,59,1,8839,101,116,59,1,8913,4,11,72,82,83,97,99,102,104,105,111,114,115,5536,5546,5552,5567,5579,5602,5607,5655,5695,5701,5711,79,82,78,5,222,1,59,5544,1,222,65,68,69,59,1,8482,4,2,72,99,5558,5563,99,121,59,1,1035,121,59,1,1062,4,2,98,117,5573,5576,59,1,9,59,1,932,4,3,97,101,121,5587,5593,5599,114,111,110,59,1,356,100,105,108,59,1,354,59,1,1058,114,59,3,55349,56599,4,2,101,105,5613,5631,4,2,114,116,5619,5627,101,102,111,114,101,59,1,8756,97,59,1,920,4,2,99,110,5637,5647,107,83,112,97,99,101,59,3,8287,8202,83,112,97,99,101,59,1,8201,108,100,101,4,4,59,69,70,84,5668,5670,5677,5688,1,8764,113,117,97,108,59,1,8771,117,108,108,69,113,117,97,108,59,1,8773,105,108,100,101,59,1,8776,112,102,59,3,55349,56651,105,112,108,101,68,111,116,59,1,8411,4,2,99,116,5717,5722,114,59,3,55349,56495,114,111,107,59,1,358,4,14,97,98,99,100,102,103,109,110,111,112,114,115,116,117,5758,5789,5805,5823,5830,5835,5846,5852,5921,5937,6089,6095,6101,6108,4,2,99,114,5764,5774,117,116,101,5,218,1,59,5772,1,218,114,4,2,59,111,5781,5783,1,8607,99,105,114,59,1,10569,114,4,2,99,101,5796,5800,121,59,1,1038,118,101,59,1,364,4,2,105,121,5811,5820,114,99,5,219,1,59,5818,1,219,59,1,1059,98,108,97,99,59,1,368,114,59,3,55349,56600,114,97,118,101,5,217,1,59,5844,1,217,97,99,114,59,1,362,4,2,100,105,5858,5905,101,114,4,2,66,80,5866,5892,4,2,97,114,5872,5876,114,59,1,95,97,99,4,2,101,107,5884,5887,59,1,9183,101,116,59,1,9141,97,114,101,110,116,104,101,115,105,115,59,1,9181,111,110,4,2,59,80,5913,5915,1,8899,108,117,115,59,1,8846,4,2,103,112,5927,5932,111,110,59,1,370,102,59,3,55349,56652,4,8,65,68,69,84,97,100,112,115,5955,5985,5996,6009,6026,6033,6044,6075,114,114,111,119,4,3,59,66,68,5967,5969,5974,1,8593,97,114,59,1,10514,111,119,110,65,114,114,111,119,59,1,8645,111,119,110,65,114,114,111,119,59,1,8597,113,117,105,108,105,98,114,105,117,109,59,1,10606,101,101,4,2,59,65,6017,6019,1,8869,114,114,111,119,59,1,8613,114,114,111,119,59,1,8657,111,119,110,97,114,114,111,119,59,1,8661,101,114,4,2,76,82,6052,6063,101,102,116,65,114,114,111,119,59,1,8598,105,103,104,116,65,114,114,111,119,59,1,8599,105,4,2,59,108,6082,6084,1,978,111,110,59,1,933,105,110,103,59,1,366,99,114,59,3,55349,56496,105,108,100,101,59,1,360,109,108,5,220,1,59,6115,1,220,4,9,68,98,99,100,101,102,111,115,118,6137,6143,6148,6152,6166,6250,6255,6261,6267,97,115,104,59,1,8875,97,114,59,1,10987,121,59,1,1042,97,115,104,4,2,59,108,6161,6163,1,8873,59,1,10982,4,2,101,114,6172,6175,59,1,8897,4,3,98,116,121,6183,6188,6238,97,114,59,1,8214,4,2,59,105,6194,6196,1,8214,99,97,108,4,4,66,76,83,84,6209,6214,6220,6231,97,114,59,1,8739,105,110,101,59,1,124,101,112,97,114,97,116,111,114,59,1,10072,105,108,100,101,59,1,8768,84,104,105,110,83,112,97,99,101,59,1,8202,114,59,3,55349,56601,112,102,59,3,55349,56653,99,114,59,3,55349,56497,100,97,115,104,59,1,8874,4,5,99,101,102,111,115,6286,6292,6298,6303,6309,105,114,99,59,1,372,100,103,101,59,1,8896,114,59,3,55349,56602,112,102,59,3,55349,56654,99,114,59,3,55349,56498,4,4,102,105,111,115,6325,6330,6333,6339,114,59,3,55349,56603,59,1,926,112,102,59,3,55349,56655,99,114,59,3,55349,56499,4,9,65,73,85,97,99,102,111,115,117,6365,6370,6375,6380,6391,6405,6410,6416,6422,99,121,59,1,1071,99,121,59,1,1031,99,121,59,1,1070,99,117,116,101,5,221,1,59,6389,1,221,4,2,105,121,6397,6402,114,99,59,1,374,59,1,1067,114,59,3,55349,56604,112,102,59,3,55349,56656,99,114,59,3,55349,56500,109,108,59,1,376,4,8,72,97,99,100,101,102,111,115,6445,6450,6457,6472,6477,6501,6505,6510,99,121,59,1,1046,99,117,116,101,59,1,377,4,2,97,121,6463,6469,114,111,110,59,1,381,59,1,1047,111,116,59,1,379,4,2,114,116,6483,6497,111,87,105,100,116,104,83,112,97,99,101,59,1,8203,97,59,1,918,114,59,1,8488,112,102,59,1,8484,99,114,59,3,55349,56501,4,16,97,98,99,101,102,103,108,109,110,111,112,114,115,116,117,119,6550,6561,6568,6612,6622,6634,6645,6672,6699,6854,6870,6923,6933,6963,6974,6983,99,117,116,101,5,225,1,59,6559,1,225,114,101,118,101,59,1,259,4,6,59,69,100,105,117,121,6582,6584,6588,6591,6600,6609,1,8766,59,3,8766,819,59,1,8767,114,99,5,226,1,59,6598,1,226,116,101,5,180,1,59,6607,1,180,59,1,1072,108,105,103,5,230,1,59,6620,1,230,4,2,59,114,6628,6630,1,8289,59,3,55349,56606,114,97,118,101,5,224,1,59,6643,1,224,4,2,101,112,6651,6667,4,2,102,112,6657,6663,115,121,109,59,1,8501,104,59,1,8501,104,97,59,1,945,4,2,97,112,6678,6692,4,2,99,108,6684,6688,114,59,1,257,103,59,1,10815,5,38,1,59,6697,1,38,4,2,100,103,6705,6737,4,5,59,97,100,115,118,6717,6719,6724,6727,6734,1,8743,110,100,59,1,10837,59,1,10844,108,111,112,101,59,1,10840,59,1,10842,4,7,59,101,108,109,114,115,122,6753,6755,6758,6762,6814,6835,6848,1,8736,59,1,10660,101,59,1,8736,115,100,4,2,59,97,6770,6772,1,8737,4,8,97,98,99,100,101,102,103,104,6790,6793,6796,6799,6802,6805,6808,6811,59,1,10664,59,1,10665,59,1,10666,59,1,10667,59,1,10668,59,1,10669,59,1,10670,59,1,10671,116,4,2,59,118,6821,6823,1,8735,98,4,2,59,100,6830,6832,1,8894,59,1,10653,4,2,112,116,6841,6845,104,59,1,8738,59,1,197,97,114,114,59,1,9084,4,2,103,112,6860,6865,111,110,59,1,261,102,59,3,55349,56658,4,7,59,69,97,101,105,111,112,6886,6888,6891,6897,6900,6904,6908,1,8776,59,1,10864,99,105,114,59,1,10863,59,1,8778,100,59,1,8779,115,59,1,39,114,111,120,4,2,59,101,6917,6919,1,8776,113,59,1,8778,105,110,103,5,229,1,59,6931,1,229,4,3,99,116,121,6941,6946,6949,114,59,3,55349,56502,59,1,42,109,112,4,2,59,101,6957,6959,1,8776,113,59,1,8781,105,108,100,101,5,227,1,59,6972,1,227,109,108,5,228,1,59,6981,1,228,4,2,99,105,6989,6997,111,110,105,110,116,59,1,8755,110,116,59,1,10769,4,16,78,97,98,99,100,101,102,105,107,108,110,111,112,114,115,117,7036,7041,7119,7135,7149,7155,7219,7224,7347,7354,7463,7489,7786,7793,7814,7866,111,116,59,1,10989,4,2,99,114,7047,7094,107,4,4,99,101,112,115,7058,7064,7073,7080,111,110,103,59,1,8780,112,115,105,108,111,110,59,1,1014,114,105,109,101,59,1,8245,105,109,4,2,59,101,7088,7090,1,8765,113,59,1,8909,4,2,118,119,7100,7105,101,101,59,1,8893,101,100,4,2,59,103,7113,7115,1,8965,101,59,1,8965,114,107,4,2,59,116,7127,7129,1,9141,98,114,107,59,1,9142,4,2,111,121,7141,7146,110,103,59,1,8780,59,1,1073,113,117,111,59,1,8222,4,5,99,109,112,114,116,7167,7181,7188,7193,7199,97,117,115,4,2,59,101,7176,7178,1,8757,59,1,8757,112,116,121,118,59,1,10672,115,105,59,1,1014,110,111,117,59,1,8492,4,3,97,104,119,7207,7210,7213,59,1,946,59,1,8502,101,101,110,59,1,8812,114,59,3,55349,56607,103,4,7,99,111,115,116,117,118,119,7241,7262,7288,7305,7328,7335,7340,4,3,97,105,117,7249,7253,7258,112,59,1,8898,114,99,59,1,9711,112,59,1,8899,4,3,100,112,116,7270,7275,7281,111,116,59,1,10752,108,117,115,59,1,10753,105,109,101,115,59,1,10754,4,2,113,116,7294,7300,99,117,112,59,1,10758,97,114,59,1,9733,114,105,97,110,103,108,101,4,2,100,117,7318,7324,111,119,110,59,1,9661,112,59,1,9651,112,108,117,115,59,1,10756,101,101,59,1,8897,101,100,103,101,59,1,8896,97,114,111,119,59,1,10509,4,3,97,107,111,7362,7436,7458,4,2,99,110,7368,7432,107,4,3,108,115,116,7377,7386,7394,111,122,101,110,103,101,59,1,10731,113,117,97,114,101,59,1,9642,114,105,97,110,103,108,101,4,4,59,100,108,114,7411,7413,7419,7425,1,9652,111,119,110,59,1,9662,101,102,116,59,1,9666,105,103,104,116,59,1,9656,107,59,1,9251,4,2,49,51,7442,7454,4,2,50,52,7448,7451,59,1,9618,59,1,9617,52,59,1,9619,99,107,59,1,9608,4,2,101,111,7469,7485,4,2,59,113,7475,7478,3,61,8421,117,105,118,59,3,8801,8421,116,59,1,8976,4,4,112,116,119,120,7499,7504,7517,7523,102,59,3,55349,56659,4,2,59,116,7510,7512,1,8869,111,109,59,1,8869,116,105,101,59,1,8904,4,12,68,72,85,86,98,100,104,109,112,116,117,118,7549,7571,7597,7619,7655,7660,7682,7708,7715,7721,7728,7750,4,4,76,82,108,114,7559,7562,7565,7568,59,1,9559,59,1,9556,59,1,9558,59,1,9555,4,5,59,68,85,100,117,7583,7585,7588,7591,7594,1,9552,59,1,9574,59,1,9577,59,1,9572,59,1,9575,4,4,76,82,108,114,7607,7610,7613,7616,59,1,9565,59,1,9562,59,1,9564,59,1,9561,4,7,59,72,76,82,104,108,114,7635,7637,7640,7643,7646,7649,7652,1,9553,59,1,9580,59,1,9571,59,1,9568,59,1,9579,59,1,9570,59,1,9567,111,120,59,1,10697,4,4,76,82,108,114,7670,7673,7676,7679,59,1,9557,59,1,9554,59,1,9488,59,1,9484,4,5,59,68,85,100,117,7694,7696,7699,7702,7705,1,9472,59,1,9573,59,1,9576,59,1,9516,59,1,9524,105,110,117,115,59,1,8863,108,117,115,59,1,8862,105,109,101,115,59,1,8864,4,4,76,82,108,114,7738,7741,7744,7747,59,1,9563,59,1,9560,59,1,9496,59,1,9492,4,7,59,72,76,82,104,108,114,7766,7768,7771,7774,7777,7780,7783,1,9474,59,1,9578,59,1,9569,59,1,9566,59,1,9532,59,1,9508,59,1,9500,114,105,109,101,59,1,8245,4,2,101,118,7799,7804,118,101,59,1,728,98,97,114,5,166,1,59,7812,1,166,4,4,99,101,105,111,7824,7829,7834,7846,114,59,3,55349,56503,109,105,59,1,8271,109,4,2,59,101,7841,7843,1,8765,59,1,8909,108,4,3,59,98,104,7855,7857,7860,1,92,59,1,10693,115,117,98,59,1,10184,4,2,108,109,7872,7885,108,4,2,59,101,7879,7881,1,8226,116,59,1,8226,112,4,3,59,69,101,7894,7896,7899,1,8782,59,1,10926,4,2,59,113,7905,7907,1,8783,59,1,8783,4,15,97,99,100,101,102,104,105,108,111,114,115,116,117,119,121,7942,8021,8075,8080,8121,8126,8157,8279,8295,8430,8446,8485,8491,8707,8726,4,3,99,112,114,7950,7956,8007,117,116,101,59,1,263,4,6,59,97,98,99,100,115,7970,7972,7977,7984,7998,8003,1,8745,110,100,59,1,10820,114,99,117,112,59,1,10825,4,2,97,117,7990,7994,112,59,1,10827,112,59,1,10823,111,116,59,1,10816,59,3,8745,65024,4,2,101,111,8013,8017,116,59,1,8257,110,59,1,711,4,4,97,101,105,117,8031,8046,8056,8061,4,2,112,114,8037,8041,115,59,1,10829,111,110,59,1,269,100,105,108,5,231,1,59,8054,1,231,114,99,59,1,265,112,115,4,2,59,115,8069,8071,1,10828,109,59,1,10832,111,116,59,1,267,4,3,100,109,110,8088,8097,8104,105,108,5,184,1,59,8095,1,184,112,116,121,118,59,1,10674,116,5,162,2,59,101,8112,8114,1,162,114,100,111,116,59,1,183,114,59,3,55349,56608,4,3,99,101,105,8134,8138,8154,121,59,1,1095,99,107,4,2,59,109,8146,8148,1,10003,97,114,107,59,1,10003,59,1,967,114,4,7,59,69,99,101,102,109,115,8174,8176,8179,8258,8261,8268,8273,1,9675,59,1,10691,4,3,59,101,108,8187,8189,8193,1,710,113,59,1,8791,101,4,2,97,100,8200,8223,114,114,111,119,4,2,108,114,8210,8216,101,102,116,59,1,8634,105,103,104,116,59,1,8635,4,5,82,83,97,99,100,8235,8238,8241,8246,8252,59,1,174,59,1,9416,115,116,59,1,8859,105,114,99,59,1,8858,97,115,104,59,1,8861,59,1,8791,110,105,110,116,59,1,10768,105,100,59,1,10991,99,105,114,59,1,10690,117,98,115,4,2,59,117,8288,8290,1,9827,105,116,59,1,9827,4,4,108,109,110,112,8305,8326,8376,8400,111,110,4,2,59,101,8313,8315,1,58,4,2,59,113,8321,8323,1,8788,59,1,8788,4,2,109,112,8332,8344,97,4,2,59,116,8339,8341,1,44,59,1,64,4,3,59,102,108,8352,8354,8358,1,8705,110,59,1,8728,101,4,2,109,120,8365,8371,101,110,116,59,1,8705,101,115,59,1,8450,4,2,103,105,8382,8395,4,2,59,100,8388,8390,1,8773,111,116,59,1,10861,110,116,59,1,8750,4,3,102,114,121,8408,8412,8417,59,3,55349,56660,111,100,59,1,8720,5,169,2,59,115,8424,8426,1,169,114,59,1,8471,4,2,97,111,8436,8441,114,114,59,1,8629,115,115,59,1,10007,4,2,99,117,8452,8457,114,59,3,55349,56504,4,2,98,112,8463,8474,4,2,59,101,8469,8471,1,10959,59,1,10961,4,2,59,101,8480,8482,1,10960,59,1,10962,100,111,116,59,1,8943,4,7,100,101,108,112,114,118,119,8507,8522,8536,8550,8600,8697,8702,97,114,114,4,2,108,114,8516,8519,59,1,10552,59,1,10549,4,2,112,115,8528,8532,114,59,1,8926,99,59,1,8927,97,114,114,4,2,59,112,8545,8547,1,8630,59,1,10557,4,6,59,98,99,100,111,115,8564,8566,8573,8587,8592,8596,1,8746,114,99,97,112,59,1,10824,4,2,97,117,8579,8583,112,59,1,10822,112,59,1,10826,111,116,59,1,8845,114,59,1,10821,59,3,8746,65024,4,4,97,108,114,118,8610,8623,8663,8672,114,114,4,2,59,109,8618,8620,1,8631,59,1,10556,121,4,3,101,118,119,8632,8651,8656,113,4,2,112,115,8639,8645,114,101,99,59,1,8926,117,99,99,59,1,8927,101,101,59,1,8910,101,100,103,101,59,1,8911,101,110,5,164,1,59,8670,1,164,101,97,114,114,111,119,4,2,108,114,8684,8690,101,102,116,59,1,8630,105,103,104,116,59,1,8631,101,101,59,1,8910,101,100,59,1,8911,4,2,99,105,8713,8721,111,110,105,110,116,59,1,8754,110,116,59,1,8753,108,99,116,121,59,1,9005,4,19,65,72,97,98,99,100,101,102,104,105,106,108,111,114,115,116,117,119,122,8773,8778,8783,8821,8839,8854,8887,8914,8930,8944,9036,9041,9058,9197,9227,9258,9281,9297,9305,114,114,59,1,8659,97,114,59,1,10597,4,4,103,108,114,115,8793,8799,8805,8809,103,101,114,59,1,8224,101,116,104,59,1,8504,114,59,1,8595,104,4,2,59,118,8816,8818,1,8208,59,1,8867,4,2,107,108,8827,8834,97,114,111,119,59,1,10511,97,99,59,1,733,4,2,97,121,8845,8851,114,111,110,59,1,271,59,1,1076,4,3,59,97,111,8862,8864,8880,1,8518,4,2,103,114,8870,8876,103,101,114,59,1,8225,114,59,1,8650,116,115,101,113,59,1,10871,4,3,103,108,109,8895,8902,8907,5,176,1,59,8900,1,176,116,97,59,1,948,112,116,121,118,59,1,10673,4,2,105,114,8920,8926,115,104,116,59,1,10623,59,3,55349,56609,97,114,4,2,108,114,8938,8941,59,1,8643,59,1,8642,4,5,97,101,103,115,118,8956,8986,8989,8996,9001,109,4,3,59,111,115,8965,8967,8983,1,8900,110,100,4,2,59,115,8975,8977,1,8900,117,105,116,59,1,9830,59,1,9830,59,1,168,97,109,109,97,59,1,989,105,110,59,1,8946,4,3,59,105,111,9009,9011,9031,1,247,100,101,5,247,2,59,111,9020,9022,1,247,110,116,105,109,101,115,59,1,8903,110,120,59,1,8903,99,121,59,1,1106,99,4,2,111,114,9048,9053,114,110,59,1,8990,111,112,59,1,8973,4,5,108,112,116,117,119,9070,9076,9081,9130,9144,108,97,114,59,1,36,102,59,3,55349,56661,4,5,59,101,109,112,115,9093,9095,9109,9116,9122,1,729,113,4,2,59,100,9102,9104,1,8784,111,116,59,1,8785,105,110,117,115,59,1,8760,108,117,115,59,1,8724,113,117,97,114,101,59,1,8865,98,108,101,98,97,114,119,101,100,103,101,59,1,8966,110,4,3,97,100,104,9153,9160,9172,114,114,111,119,59,1,8595,111,119,110,97,114,114,111,119,115,59,1,8650,97,114,112,111,111,110,4,2,108,114,9184,9190,101,102,116,59,1,8643,105,103,104,116,59,1,8642,4,2,98,99,9203,9211,107,97,114,111,119,59,1,10512,4,2,111,114,9217,9222,114,110,59,1,8991,111,112,59,1,8972,4,3,99,111,116,9235,9248,9252,4,2,114,121,9241,9245,59,3,55349,56505,59,1,1109,108,59,1,10742,114,111,107,59,1,273,4,2,100,114,9264,9269,111,116,59,1,8945,105,4,2,59,102,9276,9278,1,9663,59,1,9662,4,2,97,104,9287,9292,114,114,59,1,8693,97,114,59,1,10607,97,110,103,108,101,59,1,10662,4,2,99,105,9311,9315,121,59,1,1119,103,114,97,114,114,59,1,10239,4,18,68,97,99,100,101,102,103,108,109,110,111,112,113,114,115,116,117,120,9361,9376,9398,9439,9444,9447,9462,9495,9531,9585,9598,9614,9659,9755,9771,9792,9808,9826,4,2,68,111,9367,9372,111,116,59,1,10871,116,59,1,8785,4,2,99,115,9382,9392,117,116,101,5,233,1,59,9390,1,233,116,101,114,59,1,10862,4,4,97,105,111,121,9408,9414,9430,9436,114,111,110,59,1,283,114,4,2,59,99,9421,9423,1,8790,5,234,1,59,9428,1,234,108,111,110,59,1,8789,59,1,1101,111,116,59,1,279,59,1,8519,4,2,68,114,9453,9458,111,116,59,1,8786,59,3,55349,56610,4,3,59,114,115,9470,9472,9482,1,10906,97,118,101,5,232,1,59,9480,1,232,4,2,59,100,9488,9490,1,10902,111,116,59,1,10904,4,4,59,105,108,115,9505,9507,9515,9518,1,10905,110,116,101,114,115,59,1,9191,59,1,8467,4,2,59,100,9524,9526,1,10901,111,116,59,1,10903,4,3,97,112,115,9539,9544,9564,99,114,59,1,275,116,121,4,3,59,115,118,9554,9556,9561,1,8709,101,116,59,1,8709,59,1,8709,112,4,2,49,59,9571,9583,4,2,51,52,9577,9580,59,1,8196,59,1,8197,1,8195,4,2,103,115,9591,9594,59,1,331,112,59,1,8194,4,2,103,112,9604,9609,111,110,59,1,281,102,59,3,55349,56662,4,3,97,108,115,9622,9635,9640,114,4,2,59,115,9629,9631,1,8917,108,59,1,10723,117,115,59,1,10865,105,4,3,59,108,118,9649,9651,9656,1,949,111,110,59,1,949,59,1,1013,4,4,99,115,117,118,9669,9686,9716,9747,4,2,105,111,9675,9680,114,99,59,1,8790,108,111,110,59,1,8789,4,2,105,108,9692,9696,109,59,1,8770,97,110,116,4,2,103,108,9705,9710,116,114,59,1,10902,101,115,115,59,1,10901,4,3,97,101,105,9724,9729,9734,108,115,59,1,61,115,116,59,1,8799,118,4,2,59,68,9741,9743,1,8801,68,59,1,10872,112,97,114,115,108,59,1,10725,4,2,68,97,9761,9766,111,116,59,1,8787,114,114,59,1,10609,4,3,99,100,105,9779,9783,9788,114,59,1,8495,111,116,59,1,8784,109,59,1,8770,4,2,97,104,9798,9801,59,1,951,5,240,1,59,9806,1,240,4,2,109,114,9814,9822,108,5,235,1,59,9820,1,235,111,59,1,8364,4,3,99,105,112,9834,9838,9843,108,59,1,33,115,116,59,1,8707,4,2,101,111,9849,9859,99,116,97,116,105,111,110,59,1,8496,110,101,110,116,105,97,108,101,59,1,8519,4,12,97,99,101,102,105,106,108,110,111,112,114,115,9896,9910,9914,9921,9954,9960,9967,9989,9994,10027,10036,10164,108,108,105,110,103,100,111,116,115,101,113,59,1,8786,121,59,1,1092,109,97,108,101,59,1,9792,4,3,105,108,114,9929,9935,9950,108,105,103,59,1,64259,4,2,105,108,9941,9945,103,59,1,64256,105,103,59,1,64260,59,3,55349,56611,108,105,103,59,1,64257,108,105,103,59,3,102,106,4,3,97,108,116,9975,9979,9984,116,59,1,9837,105,103,59,1,64258,110,115,59,1,9649,111,102,59,1,402,4,2,112,114,1e4,10005,102,59,3,55349,56663,4,2,97,107,10011,10016,108,108,59,1,8704,4,2,59,118,10022,10024,1,8916,59,1,10969,97,114,116,105,110,116,59,1,10765,4,2,97,111,10042,10159,4,2,99,115,10048,10155,4,6,49,50,51,52,53,55,10062,10102,10114,10135,10139,10151,4,6,50,51,52,53,54,56,10076,10083,10086,10093,10096,10099,5,189,1,59,10081,1,189,59,1,8531,5,188,1,59,10091,1,188,59,1,8533,59,1,8537,59,1,8539,4,2,51,53,10108,10111,59,1,8532,59,1,8534,4,3,52,53,56,10122,10129,10132,5,190,1,59,10127,1,190,59,1,8535,59,1,8540,53,59,1,8536,4,2,54,56,10145,10148,59,1,8538,59,1,8541,56,59,1,8542,108,59,1,8260,119,110,59,1,8994,99,114,59,3,55349,56507,4,17,69,97,98,99,100,101,102,103,105,106,108,110,111,114,115,116,118,10206,10217,10247,10254,10268,10273,10358,10363,10374,10380,10385,10406,10458,10464,10470,10497,10610,4,2,59,108,10212,10214,1,8807,59,1,10892,4,3,99,109,112,10225,10231,10244,117,116,101,59,1,501,109,97,4,2,59,100,10239,10241,1,947,59,1,989,59,1,10886,114,101,118,101,59,1,287,4,2,105,121,10260,10265,114,99,59,1,285,59,1,1075,111,116,59,1,289,4,4,59,108,113,115,10283,10285,10288,10308,1,8805,59,1,8923,4,3,59,113,115,10296,10298,10301,1,8805,59,1,8807,108,97,110,116,59,1,10878,4,4,59,99,100,108,10318,10320,10324,10345,1,10878,99,59,1,10921,111,116,4,2,59,111,10332,10334,1,10880,4,2,59,108,10340,10342,1,10882,59,1,10884,4,2,59,101,10351,10354,3,8923,65024,115,59,1,10900,114,59,3,55349,56612,4,2,59,103,10369,10371,1,8811,59,1,8921,109,101,108,59,1,8503,99,121,59,1,1107,4,4,59,69,97,106,10395,10397,10400,10403,1,8823,59,1,10898,59,1,10917,59,1,10916,4,4,69,97,101,115,10416,10419,10434,10453,59,1,8809,112,4,2,59,112,10426,10428,1,10890,114,111,120,59,1,10890,4,2,59,113,10440,10442,1,10888,4,2,59,113,10448,10450,1,10888,59,1,8809,105,109,59,1,8935,112,102,59,3,55349,56664,97,118,101,59,1,96,4,2,99,105,10476,10480,114,59,1,8458,109,4,3,59,101,108,10489,10491,10494,1,8819,59,1,10894,59,1,10896,5,62,6,59,99,100,108,113,114,10512,10514,10527,10532,10538,10545,1,62,4,2,99,105,10520,10523,59,1,10919,114,59,1,10874,111,116,59,1,8919,80,97,114,59,1,10645,117,101,115,116,59,1,10876,4,5,97,100,101,108,115,10557,10574,10579,10599,10605,4,2,112,114,10563,10570,112,114,111,120,59,1,10886,114,59,1,10616,111,116,59,1,8919,113,4,2,108,113,10586,10592,101,115,115,59,1,8923,108,101,115,115,59,1,10892,101,115,115,59,1,8823,105,109,59,1,8819,4,2,101,110,10616,10626,114,116,110,101,113,113,59,3,8809,65024,69,59,3,8809,65024,4,10,65,97,98,99,101,102,107,111,115,121,10653,10658,10713,10718,10724,10760,10765,10786,10850,10875,114,114,59,1,8660,4,4,105,108,109,114,10668,10674,10678,10684,114,115,112,59,1,8202,102,59,1,189,105,108,116,59,1,8459,4,2,100,114,10690,10695,99,121,59,1,1098,4,3,59,99,119,10703,10705,10710,1,8596,105,114,59,1,10568,59,1,8621,97,114,59,1,8463,105,114,99,59,1,293,4,3,97,108,114,10732,10748,10754,114,116,115,4,2,59,117,10741,10743,1,9829,105,116,59,1,9829,108,105,112,59,1,8230,99,111,110,59,1,8889,114,59,3,55349,56613,115,4,2,101,119,10772,10779,97,114,111,119,59,1,10533,97,114,111,119,59,1,10534,4,5,97,109,111,112,114,10798,10803,10809,10839,10844,114,114,59,1,8703,116,104,116,59,1,8763,107,4,2,108,114,10816,10827,101,102,116,97,114,114,111,119,59,1,8617,105,103,104,116,97,114,114,111,119,59,1,8618,102,59,3,55349,56665,98,97,114,59,1,8213,4,3,99,108,116,10858,10863,10869,114,59,3,55349,56509,97,115,104,59,1,8463,114,111,107,59,1,295,4,2,98,112,10881,10887,117,108,108,59,1,8259,104,101,110,59,1,8208,4,15,97,99,101,102,103,105,106,109,110,111,112,113,115,116,117,10925,10936,10958,10977,10990,11001,11039,11045,11101,11192,11220,11226,11237,11285,11299,99,117,116,101,5,237,1,59,10934,1,237,4,3,59,105,121,10944,10946,10955,1,8291,114,99,5,238,1,59,10953,1,238,59,1,1080,4,2,99,120,10964,10968,121,59,1,1077,99,108,5,161,1,59,10975,1,161,4,2,102,114,10983,10986,59,1,8660,59,3,55349,56614,114,97,118,101,5,236,1,59,10999,1,236,4,4,59,105,110,111,11011,11013,11028,11034,1,8520,4,2,105,110,11019,11024,110,116,59,1,10764,116,59,1,8749,102,105,110,59,1,10716,116,97,59,1,8489,108,105,103,59,1,307,4,3,97,111,112,11053,11092,11096,4,3,99,103,116,11061,11065,11088,114,59,1,299,4,3,101,108,112,11073,11076,11082,59,1,8465,105,110,101,59,1,8464,97,114,116,59,1,8465,104,59,1,305,102,59,1,8887,101,100,59,1,437,4,5,59,99,102,111,116,11113,11115,11121,11136,11142,1,8712,97,114,101,59,1,8453,105,110,4,2,59,116,11129,11131,1,8734,105,101,59,1,10717,100,111,116,59,1,305,4,5,59,99,101,108,112,11154,11156,11161,11179,11186,1,8747,97,108,59,1,8890,4,2,103,114,11167,11173,101,114,115,59,1,8484,99,97,108,59,1,8890,97,114,104,107,59,1,10775,114,111,100,59,1,10812,4,4,99,103,112,116,11202,11206,11211,11216,121,59,1,1105,111,110,59,1,303,102,59,3,55349,56666,97,59,1,953,114,111,100,59,1,10812,117,101,115,116,5,191,1,59,11235,1,191,4,2,99,105,11243,11248,114,59,3,55349,56510,110,4,5,59,69,100,115,118,11261,11263,11266,11271,11282,1,8712,59,1,8953,111,116,59,1,8949,4,2,59,118,11277,11279,1,8948,59,1,8947,59,1,8712,4,2,59,105,11291,11293,1,8290,108,100,101,59,1,297,4,2,107,109,11305,11310,99,121,59,1,1110,108,5,239,1,59,11316,1,239,4,6,99,102,109,111,115,117,11332,11346,11351,11357,11363,11380,4,2,105,121,11338,11343,114,99,59,1,309,59,1,1081,114,59,3,55349,56615,97,116,104,59,1,567,112,102,59,3,55349,56667,4,2,99,101,11369,11374,114,59,3,55349,56511,114,99,121,59,1,1112,107,99,121,59,1,1108,4,8,97,99,102,103,104,106,111,115,11404,11418,11433,11438,11445,11450,11455,11461,112,112,97,4,2,59,118,11413,11415,1,954,59,1,1008,4,2,101,121,11424,11430,100,105,108,59,1,311,59,1,1082,114,59,3,55349,56616,114,101,101,110,59,1,312,99,121,59,1,1093,99,121,59,1,1116,112,102,59,3,55349,56668,99,114,59,3,55349,56512,4,23,65,66,69,72,97,98,99,100,101,102,103,104,106,108,109,110,111,112,114,115,116,117,118,11515,11538,11544,11555,11560,11721,11780,11818,11868,12136,12160,12171,12203,12208,12246,12275,12327,12509,12523,12569,12641,12732,12752,4,3,97,114,116,11523,11528,11532,114,114,59,1,8666,114,59,1,8656,97,105,108,59,1,10523,97,114,114,59,1,10510,4,2,59,103,11550,11552,1,8806,59,1,10891,97,114,59,1,10594,4,9,99,101,103,109,110,112,113,114,116,11580,11586,11594,11600,11606,11624,11627,11636,11694,117,116,101,59,1,314,109,112,116,121,118,59,1,10676,114,97,110,59,1,8466,98,100,97,59,1,955,103,4,3,59,100,108,11615,11617,11620,1,10216,59,1,10641,101,59,1,10216,59,1,10885,117,111,5,171,1,59,11634,1,171,114,4,8,59,98,102,104,108,112,115,116,11655,11657,11669,11673,11677,11681,11685,11690,1,8592,4,2,59,102,11663,11665,1,8676,115,59,1,10527,115,59,1,10525,107,59,1,8617,112,59,1,8619,108,59,1,10553,105,109,59,1,10611,108,59,1,8610,4,3,59,97,101,11702,11704,11709,1,10923,105,108,59,1,10521,4,2,59,115,11715,11717,1,10925,59,3,10925,65024,4,3,97,98,114,11729,11734,11739,114,114,59,1,10508,114,107,59,1,10098,4,2,97,107,11745,11758,99,4,2,101,107,11752,11755,59,1,123,59,1,91,4,2,101,115,11764,11767,59,1,10635,108,4,2,100,117,11774,11777,59,1,10639,59,1,10637,4,4,97,101,117,121,11790,11796,11811,11815,114,111,110,59,1,318,4,2,100,105,11802,11807,105,108,59,1,316,108,59,1,8968,98,59,1,123,59,1,1083,4,4,99,113,114,115,11828,11832,11845,11864,97,59,1,10550,117,111,4,2,59,114,11840,11842,1,8220,59,1,8222,4,2,100,117,11851,11857,104,97,114,59,1,10599,115,104,97,114,59,1,10571,104,59,1,8626,4,5,59,102,103,113,115,11880,11882,12008,12011,12031,1,8804,116,4,5,97,104,108,114,116,11895,11913,11935,11947,11996,114,114,111,119,4,2,59,116,11905,11907,1,8592,97,105,108,59,1,8610,97,114,112,111,111,110,4,2,100,117,11925,11931,111,119,110,59,1,8637,112,59,1,8636,101,102,116,97,114,114,111,119,115,59,1,8647,105,103,104,116,4,3,97,104,115,11959,11974,11984,114,114,111,119,4,2,59,115,11969,11971,1,8596,59,1,8646,97,114,112,111,111,110,115,59,1,8651,113,117,105,103,97,114,114,111,119,59,1,8621,104,114,101,101,116,105,109,101,115,59,1,8907,59,1,8922,4,3,59,113,115,12019,12021,12024,1,8804,59,1,8806,108,97,110,116,59,1,10877,4,5,59,99,100,103,115,12043,12045,12049,12070,12083,1,10877,99,59,1,10920,111,116,4,2,59,111,12057,12059,1,10879,4,2,59,114,12065,12067,1,10881,59,1,10883,4,2,59,101,12076,12079,3,8922,65024,115,59,1,10899,4,5,97,100,101,103,115,12095,12103,12108,12126,12131,112,112,114,111,120,59,1,10885,111,116,59,1,8918,113,4,2,103,113,12115,12120,116,114,59,1,8922,103,116,114,59,1,10891,116,114,59,1,8822,105,109,59,1,8818,4,3,105,108,114,12144,12150,12156,115,104,116,59,1,10620,111,111,114,59,1,8970,59,3,55349,56617,4,2,59,69,12166,12168,1,8822,59,1,10897,4,2,97,98,12177,12198,114,4,2,100,117,12184,12187,59,1,8637,4,2,59,108,12193,12195,1,8636,59,1,10602,108,107,59,1,9604,99,121,59,1,1113,4,5,59,97,99,104,116,12220,12222,12227,12235,12241,1,8810,114,114,59,1,8647,111,114,110,101,114,59,1,8990,97,114,100,59,1,10603,114,105,59,1,9722,4,2,105,111,12252,12258,100,111,116,59,1,320,117,115,116,4,2,59,97,12267,12269,1,9136,99,104,101,59,1,9136,4,4,69,97,101,115,12285,12288,12303,12322,59,1,8808,112,4,2,59,112,12295,12297,1,10889,114,111,120,59,1,10889,4,2,59,113,12309,12311,1,10887,4,2,59,113,12317,12319,1,10887,59,1,8808,105,109,59,1,8934,4,8,97,98,110,111,112,116,119,122,12345,12359,12364,12421,12446,12467,12474,12490,4,2,110,114,12351,12355,103,59,1,10220,114,59,1,8701,114,107,59,1,10214,103,4,3,108,109,114,12373,12401,12409,101,102,116,4,2,97,114,12382,12389,114,114,111,119,59,1,10229,105,103,104,116,97,114,114,111,119,59,1,10231,97,112,115,116,111,59,1,10236,105,103,104,116,97,114,114,111,119,59,1,10230,112,97,114,114,111,119,4,2,108,114,12433,12439,101,102,116,59,1,8619,105,103,104,116,59,1,8620,4,3,97,102,108,12454,12458,12462,114,59,1,10629,59,3,55349,56669,117,115,59,1,10797,105,109,101,115,59,1,10804,4,2,97,98,12480,12485,115,116,59,1,8727,97,114,59,1,95,4,3,59,101,102,12498,12500,12506,1,9674,110,103,101,59,1,9674,59,1,10731,97,114,4,2,59,108,12517,12519,1,40,116,59,1,10643,4,5,97,99,104,109,116,12535,12540,12548,12561,12564,114,114,59,1,8646,111,114,110,101,114,59,1,8991,97,114,4,2,59,100,12556,12558,1,8651,59,1,10605,59,1,8206,114,105,59,1,8895,4,6,97,99,104,105,113,116,12583,12589,12594,12597,12614,12635,113,117,111,59,1,8249,114,59,3,55349,56513,59,1,8624,109,4,3,59,101,103,12606,12608,12611,1,8818,59,1,10893,59,1,10895,4,2,98,117,12620,12623,59,1,91,111,4,2,59,114,12630,12632,1,8216,59,1,8218,114,111,107,59,1,322,5,60,8,59,99,100,104,105,108,113,114,12660,12662,12675,12680,12686,12692,12698,12705,1,60,4,2,99,105,12668,12671,59,1,10918,114,59,1,10873,111,116,59,1,8918,114,101,101,59,1,8907,109,101,115,59,1,8905,97,114,114,59,1,10614,117,101,115,116,59,1,10875,4,2,80,105,12711,12716,97,114,59,1,10646,4,3,59,101,102,12724,12726,12729,1,9667,59,1,8884,59,1,9666,114,4,2,100,117,12739,12746,115,104,97,114,59,1,10570,104,97,114,59,1,10598,4,2,101,110,12758,12768,114,116,110,101,113,113,59,3,8808,65024,69,59,3,8808,65024,4,14,68,97,99,100,101,102,104,105,108,110,111,112,115,117,12803,12809,12893,12908,12914,12928,12933,12937,13011,13025,13032,13049,13052,13069,68,111,116,59,1,8762,4,4,99,108,112,114,12819,12827,12849,12887,114,5,175,1,59,12825,1,175,4,2,101,116,12833,12836,59,1,9794,4,2,59,101,12842,12844,1,10016,115,101,59,1,10016,4,2,59,115,12855,12857,1,8614,116,111,4,4,59,100,108,117,12869,12871,12877,12883,1,8614,111,119,110,59,1,8615,101,102,116,59,1,8612,112,59,1,8613,107,101,114,59,1,9646,4,2,111,121,12899,12905,109,109,97,59,1,10793,59,1,1084,97,115,104,59,1,8212,97,115,117,114,101,100,97,110,103,108,101,59,1,8737,114,59,3,55349,56618,111,59,1,8487,4,3,99,100,110,12945,12954,12985,114,111,5,181,1,59,12952,1,181,4,4,59,97,99,100,12964,12966,12971,12976,1,8739,115,116,59,1,42,105,114,59,1,10992,111,116,5,183,1,59,12983,1,183,117,115,4,3,59,98,100,12995,12997,13e3,1,8722,59,1,8863,4,2,59,117,13006,13008,1,8760,59,1,10794,4,2,99,100,13017,13021,112,59,1,10971,114,59,1,8230,112,108,117,115,59,1,8723,4,2,100,112,13038,13044,101,108,115,59,1,8871,102,59,3,55349,56670,59,1,8723,4,2,99,116,13058,13063,114,59,3,55349,56514,112,111,115,59,1,8766,4,3,59,108,109,13077,13079,13087,1,956,116,105,109,97,112,59,1,8888,97,112,59,1,8888,4,24,71,76,82,86,97,98,99,100,101,102,103,104,105,106,108,109,111,112,114,115,116,117,118,119,13142,13165,13217,13229,13247,13330,13359,13414,13420,13508,13513,13579,13602,13626,13631,13762,13767,13855,13936,13995,14214,14285,14312,14432,4,2,103,116,13148,13152,59,3,8921,824,4,2,59,118,13158,13161,3,8811,8402,59,3,8811,824,4,3,101,108,116,13173,13200,13204,102,116,4,2,97,114,13181,13188,114,114,111,119,59,1,8653,105,103,104,116,97,114,114,111,119,59,1,8654,59,3,8920,824,4,2,59,118,13210,13213,3,8810,8402,59,3,8810,824,105,103,104,116,97,114,114,111,119,59,1,8655,4,2,68,100,13235,13241,97,115,104,59,1,8879,97,115,104,59,1,8878,4,5,98,99,110,112,116,13259,13264,13270,13275,13308,108,97,59,1,8711,117,116,101,59,1,324,103,59,3,8736,8402,4,5,59,69,105,111,112,13287,13289,13293,13298,13302,1,8777,59,3,10864,824,100,59,3,8779,824,115,59,1,329,114,111,120,59,1,8777,117,114,4,2,59,97,13316,13318,1,9838,108,4,2,59,115,13325,13327,1,9838,59,1,8469,4,2,115,117,13336,13344,112,5,160,1,59,13342,1,160,109,112,4,2,59,101,13352,13355,3,8782,824,59,3,8783,824,4,5,97,101,111,117,121,13371,13385,13391,13407,13411,4,2,112,114,13377,13380,59,1,10819,111,110,59,1,328,100,105,108,59,1,326,110,103,4,2,59,100,13399,13401,1,8775,111,116,59,3,10861,824,112,59,1,10818,59,1,1085,97,115,104,59,1,8211,4,7,59,65,97,100,113,115,120,13436,13438,13443,13466,13472,13478,13494,1,8800,114,114,59,1,8663,114,4,2,104,114,13450,13454,107,59,1,10532,4,2,59,111,13460,13462,1,8599,119,59,1,8599,111,116,59,3,8784,824,117,105,118,59,1,8802,4,2,101,105,13484,13489,97,114,59,1,10536,109,59,3,8770,824,105,115,116,4,2,59,115,13503,13505,1,8708,59,1,8708,114,59,3,55349,56619,4,4,69,101,115,116,13523,13527,13563,13568,59,3,8807,824,4,3,59,113,115,13535,13537,13559,1,8817,4,3,59,113,115,13545,13547,13551,1,8817,59,3,8807,824,108,97,110,116,59,3,10878,824,59,3,10878,824,105,109,59,1,8821,4,2,59,114,13574,13576,1,8815,59,1,8815,4,3,65,97,112,13587,13592,13597,114,114,59,1,8654,114,114,59,1,8622,97,114,59,1,10994,4,3,59,115,118,13610,13612,13623,1,8715,4,2,59,100,13618,13620,1,8956,59,1,8954,59,1,8715,99,121,59,1,1114,4,7,65,69,97,100,101,115,116,13647,13652,13656,13661,13665,13737,13742,114,114,59,1,8653,59,3,8806,824,114,114,59,1,8602,114,59,1,8229,4,4,59,102,113,115,13675,13677,13703,13725,1,8816,116,4,2,97,114,13684,13691,114,114,111,119,59,1,8602,105,103,104,116,97,114,114,111,119,59,1,8622,4,3,59,113,115,13711,13713,13717,1,8816,59,3,8806,824,108,97,110,116,59,3,10877,824,4,2,59,115,13731,13734,3,10877,824,59,1,8814,105,109,59,1,8820,4,2,59,114,13748,13750,1,8814,105,4,2,59,101,13757,13759,1,8938,59,1,8940,105,100,59,1,8740,4,2,112,116,13773,13778,102,59,3,55349,56671,5,172,3,59,105,110,13787,13789,13829,1,172,110,4,4,59,69,100,118,13800,13802,13806,13812,1,8713,59,3,8953,824,111,116,59,3,8949,824,4,3,97,98,99,13820,13823,13826,59,1,8713,59,1,8951,59,1,8950,105,4,2,59,118,13836,13838,1,8716,4,3,97,98,99,13846,13849,13852,59,1,8716,59,1,8958,59,1,8957,4,3,97,111,114,13863,13892,13899,114,4,4,59,97,115,116,13874,13876,13883,13888,1,8742,108,108,101,108,59,1,8742,108,59,3,11005,8421,59,3,8706,824,108,105,110,116,59,1,10772,4,3,59,99,101,13907,13909,13914,1,8832,117,101,59,1,8928,4,2,59,99,13920,13923,3,10927,824,4,2,59,101,13929,13931,1,8832,113,59,3,10927,824,4,4,65,97,105,116,13946,13951,13971,13982,114,114,59,1,8655,114,114,4,3,59,99,119,13961,13963,13967,1,8603,59,3,10547,824,59,3,8605,824,103,104,116,97,114,114,111,119,59,1,8603,114,105,4,2,59,101,13990,13992,1,8939,59,1,8941,4,7,99,104,105,109,112,113,117,14011,14036,14060,14080,14085,14090,14106,4,4,59,99,101,114,14021,14023,14028,14032,1,8833,117,101,59,1,8929,59,3,10928,824,59,3,55349,56515,111,114,116,4,2,109,112,14045,14050,105,100,59,1,8740,97,114,97,108,108,101,108,59,1,8742,109,4,2,59,101,14067,14069,1,8769,4,2,59,113,14075,14077,1,8772,59,1,8772,105,100,59,1,8740,97,114,59,1,8742,115,117,4,2,98,112,14098,14102,101,59,1,8930,101,59,1,8931,4,3,98,99,112,14114,14157,14171,4,4,59,69,101,115,14124,14126,14130,14133,1,8836,59,3,10949,824,59,1,8840,101,116,4,2,59,101,14141,14144,3,8834,8402,113,4,2,59,113,14151,14153,1,8840,59,3,10949,824,99,4,2,59,101,14164,14166,1,8833,113,59,3,10928,824,4,4,59,69,101,115,14181,14183,14187,14190,1,8837,59,3,10950,824,59,1,8841,101,116,4,2,59,101,14198,14201,3,8835,8402,113,4,2,59,113,14208,14210,1,8841,59,3,10950,824,4,4,103,105,108,114,14224,14228,14238,14242,108,59,1,8825,108,100,101,5,241,1,59,14236,1,241,103,59,1,8824,105,97,110,103,108,101,4,2,108,114,14254,14269,101,102,116,4,2,59,101,14263,14265,1,8938,113,59,1,8940,105,103,104,116,4,2,59,101,14279,14281,1,8939,113,59,1,8941,4,2,59,109,14291,14293,1,957,4,3,59,101,115,14301,14303,14308,1,35,114,111,59,1,8470,112,59,1,8199,4,9,68,72,97,100,103,105,108,114,115,14332,14338,14344,14349,14355,14369,14376,14408,14426,97,115,104,59,1,8877,97,114,114,59,1,10500,112,59,3,8781,8402,97,115,104,59,1,8876,4,2,101,116,14361,14365,59,3,8805,8402,59,3,62,8402,110,102,105,110,59,1,10718,4,3,65,101,116,14384,14389,14393,114,114,59,1,10498,59,3,8804,8402,4,2,59,114,14399,14402,3,60,8402,105,101,59,3,8884,8402,4,2,65,116,14414,14419,114,114,59,1,10499,114,105,101,59,3,8885,8402,105,109,59,3,8764,8402,4,3,65,97,110,14440,14445,14468,114,114,59,1,8662,114,4,2,104,114,14452,14456,107,59,1,10531,4,2,59,111,14462,14464,1,8598,119,59,1,8598,101,97,114,59,1,10535,4,18,83,97,99,100,101,102,103,104,105,108,109,111,112,114,115,116,117,118,14512,14515,14535,14560,14597,14603,14618,14643,14657,14662,14701,14741,14747,14769,14851,14877,14907,14916,59,1,9416,4,2,99,115,14521,14531,117,116,101,5,243,1,59,14529,1,243,116,59,1,8859,4,2,105,121,14541,14557,114,4,2,59,99,14548,14550,1,8858,5,244,1,59,14555,1,244,59,1,1086,4,5,97,98,105,111,115,14572,14577,14583,14587,14591,115,104,59,1,8861,108,97,99,59,1,337,118,59,1,10808,116,59,1,8857,111,108,100,59,1,10684,108,105,103,59,1,339,4,2,99,114,14609,14614,105,114,59,1,10687,59,3,55349,56620,4,3,111,114,116,14626,14630,14640,110,59,1,731,97,118,101,5,242,1,59,14638,1,242,59,1,10689,4,2,98,109,14649,14654,97,114,59,1,10677,59,1,937,110,116,59,1,8750,4,4,97,99,105,116,14672,14677,14693,14698,114,114,59,1,8634,4,2,105,114,14683,14687,114,59,1,10686,111,115,115,59,1,10683,110,101,59,1,8254,59,1,10688,4,3,97,101,105,14709,14714,14719,99,114,59,1,333,103,97,59,1,969,4,3,99,100,110,14727,14733,14736,114,111,110,59,1,959,59,1,10678,117,115,59,1,8854,112,102,59,3,55349,56672,4,3,97,101,108,14755,14759,14764,114,59,1,10679,114,112,59,1,10681,117,115,59,1,8853,4,7,59,97,100,105,111,115,118,14785,14787,14792,14831,14837,14841,14848,1,8744,114,114,59,1,8635,4,4,59,101,102,109,14802,14804,14817,14824,1,10845,114,4,2,59,111,14811,14813,1,8500,102,59,1,8500,5,170,1,59,14822,1,170,5,186,1,59,14829,1,186,103,111,102,59,1,8886,114,59,1,10838,108,111,112,101,59,1,10839,59,1,10843,4,3,99,108,111,14859,14863,14873,114,59,1,8500,97,115,104,5,248,1,59,14871,1,248,108,59,1,8856,105,4,2,108,109,14884,14893,100,101,5,245,1,59,14891,1,245,101,115,4,2,59,97,14901,14903,1,8855,115,59,1,10806,109,108,5,246,1,59,14914,1,246,98,97,114,59,1,9021,4,12,97,99,101,102,104,105,108,109,111,114,115,117,14948,14992,14996,15033,15038,15068,15090,15189,15192,15222,15427,15441,114,4,4,59,97,115,116,14959,14961,14976,14989,1,8741,5,182,2,59,108,14968,14970,1,182,108,101,108,59,1,8741,4,2,105,108,14982,14986,109,59,1,10995,59,1,11005,59,1,8706,121,59,1,1087,114,4,5,99,105,109,112,116,15009,15014,15019,15024,15027,110,116,59,1,37,111,100,59,1,46,105,108,59,1,8240,59,1,8869,101,110,107,59,1,8241,114,59,3,55349,56621,4,3,105,109,111,15046,15057,15063,4,2,59,118,15052,15054,1,966,59,1,981,109,97,116,59,1,8499,110,101,59,1,9742,4,3,59,116,118,15076,15078,15087,1,960,99,104,102,111,114,107,59,1,8916,59,1,982,4,2,97,117,15096,15119,110,4,2,99,107,15103,15115,107,4,2,59,104,15110,15112,1,8463,59,1,8462,118,59,1,8463,115,4,9,59,97,98,99,100,101,109,115,116,15140,15142,15148,15151,15156,15168,15171,15179,15184,1,43,99,105,114,59,1,10787,59,1,8862,105,114,59,1,10786,4,2,111,117,15162,15165,59,1,8724,59,1,10789,59,1,10866,110,5,177,1,59,15177,1,177,105,109,59,1,10790,119,111,59,1,10791,59,1,177,4,3,105,112,117,15200,15208,15213,110,116,105,110,116,59,1,10773,102,59,3,55349,56673,110,100,5,163,1,59,15220,1,163,4,10,59,69,97,99,101,105,110,111,115,117,15244,15246,15249,15253,15258,15334,15347,15367,15416,15421,1,8826,59,1,10931,112,59,1,10935,117,101,59,1,8828,4,2,59,99,15264,15266,1,10927,4,6,59,97,99,101,110,115,15280,15282,15290,15299,15303,15329,1,8826,112,112,114,111,120,59,1,10935,117,114,108,121,101,113,59,1,8828,113,59,1,10927,4,3,97,101,115,15311,15319,15324,112,112,114,111,120,59,1,10937,113,113,59,1,10933,105,109,59,1,8936,105,109,59,1,8830,109,101,4,2,59,115,15342,15344,1,8242,59,1,8473,4,3,69,97,115,15355,15358,15362,59,1,10933,112,59,1,10937,105,109,59,1,8936,4,3,100,102,112,15375,15378,15404,59,1,8719,4,3,97,108,115,15386,15392,15398,108,97,114,59,1,9006,105,110,101,59,1,8978,117,114,102,59,1,8979,4,2,59,116,15410,15412,1,8733,111,59,1,8733,105,109,59,1,8830,114,101,108,59,1,8880,4,2,99,105,15433,15438,114,59,3,55349,56517,59,1,968,110,99,115,112,59,1,8200,4,6,102,105,111,112,115,117,15462,15467,15472,15478,15485,15491,114,59,3,55349,56622,110,116,59,1,10764,112,102,59,3,55349,56674,114,105,109,101,59,1,8279,99,114,59,3,55349,56518,4,3,97,101,111,15499,15520,15534,116,4,2,101,105,15506,15515,114,110,105,111,110,115,59,1,8461,110,116,59,1,10774,115,116,4,2,59,101,15528,15530,1,63,113,59,1,8799,116,5,34,1,59,15540,1,34,4,21,65,66,72,97,98,99,100,101,102,104,105,108,109,110,111,112,114,115,116,117,120,15586,15609,15615,15620,15796,15855,15893,15931,15977,16001,16039,16183,16204,16222,16228,16285,16312,16318,16363,16408,16416,4,3,97,114,116,15594,15599,15603,114,114,59,1,8667,114,59,1,8658,97,105,108,59,1,10524,97,114,114,59,1,10511,97,114,59,1,10596,4,7,99,100,101,110,113,114,116,15636,15651,15656,15664,15687,15696,15770,4,2,101,117,15642,15646,59,3,8765,817,116,101,59,1,341,105,99,59,1,8730,109,112,116,121,118,59,1,10675,103,4,4,59,100,101,108,15675,15677,15680,15683,1,10217,59,1,10642,59,1,10661,101,59,1,10217,117,111,5,187,1,59,15694,1,187,114,4,11,59,97,98,99,102,104,108,112,115,116,119,15721,15723,15727,15739,15742,15746,15750,15754,15758,15763,15767,1,8594,112,59,1,10613,4,2,59,102,15733,15735,1,8677,115,59,1,10528,59,1,10547,115,59,1,10526,107,59,1,8618,112,59,1,8620,108,59,1,10565,105,109,59,1,10612,108,59,1,8611,59,1,8605,4,2,97,105,15776,15781,105,108,59,1,10522,111,4,2,59,110,15788,15790,1,8758,97,108,115,59,1,8474,4,3,97,98,114,15804,15809,15814,114,114,59,1,10509,114,107,59,1,10099,4,2,97,107,15820,15833,99,4,2,101,107,15827,15830,59,1,125,59,1,93,4,2,101,115,15839,15842,59,1,10636,108,4,2,100,117,15849,15852,59,1,10638,59,1,10640,4,4,97,101,117,121,15865,15871,15886,15890,114,111,110,59,1,345,4,2,100,105,15877,15882,105,108,59,1,343,108,59,1,8969,98,59,1,125,59,1,1088,4,4,99,108,113,115,15903,15907,15914,15927,97,59,1,10551,100,104,97,114,59,1,10601,117,111,4,2,59,114,15922,15924,1,8221,59,1,8221,104,59,1,8627,4,3,97,99,103,15939,15966,15970,108,4,4,59,105,112,115,15950,15952,15957,15963,1,8476,110,101,59,1,8475,97,114,116,59,1,8476,59,1,8477,116,59,1,9645,5,174,1,59,15975,1,174,4,3,105,108,114,15985,15991,15997,115,104,116,59,1,10621,111,111,114,59,1,8971,59,3,55349,56623,4,2,97,111,16007,16028,114,4,2,100,117,16014,16017,59,1,8641,4,2,59,108,16023,16025,1,8640,59,1,10604,4,2,59,118,16034,16036,1,961,59,1,1009,4,3,103,110,115,16047,16167,16171,104,116,4,6,97,104,108,114,115,116,16063,16081,16103,16130,16143,16155,114,114,111,119,4,2,59,116,16073,16075,1,8594,97,105,108,59,1,8611,97,114,112,111,111,110,4,2,100,117,16093,16099,111,119,110,59,1,8641,112,59,1,8640,101,102,116,4,2,97,104,16112,16120,114,114,111,119,115,59,1,8644,97,114,112,111,111,110,115,59,1,8652,105,103,104,116,97,114,114,111,119,115,59,1,8649,113,117,105,103,97,114,114,111,119,59,1,8605,104,114,101,101,116,105,109,101,115,59,1,8908,103,59,1,730,105,110,103,100,111,116,115,101,113,59,1,8787,4,3,97,104,109,16191,16196,16201,114,114,59,1,8644,97,114,59,1,8652,59,1,8207,111,117,115,116,4,2,59,97,16214,16216,1,9137,99,104,101,59,1,9137,109,105,100,59,1,10990,4,4,97,98,112,116,16238,16252,16257,16278,4,2,110,114,16244,16248,103,59,1,10221,114,59,1,8702,114,107,59,1,10215,4,3,97,102,108,16265,16269,16273,114,59,1,10630,59,3,55349,56675,117,115,59,1,10798,105,109,101,115,59,1,10805,4,2,97,112,16291,16304,114,4,2,59,103,16298,16300,1,41,116,59,1,10644,111,108,105,110,116,59,1,10770,97,114,114,59,1,8649,4,4,97,99,104,113,16328,16334,16339,16342,113,117,111,59,1,8250,114,59,3,55349,56519,59,1,8625,4,2,98,117,16348,16351,59,1,93,111,4,2,59,114,16358,16360,1,8217,59,1,8217,4,3,104,105,114,16371,16377,16383,114,101,101,59,1,8908,109,101,115,59,1,8906,105,4,4,59,101,102,108,16394,16396,16399,16402,1,9657,59,1,8885,59,1,9656,116,114,105,59,1,10702,108,117,104,97,114,59,1,10600,59,1,8478,4,19,97,98,99,100,101,102,104,105,108,109,111,112,113,114,115,116,117,119,122,16459,16466,16472,16572,16590,16672,16687,16746,16844,16850,16924,16963,16988,17115,17121,17154,17206,17614,17656,99,117,116,101,59,1,347,113,117,111,59,1,8218,4,10,59,69,97,99,101,105,110,112,115,121,16494,16496,16499,16513,16518,16531,16536,16556,16564,16569,1,8827,59,1,10932,4,2,112,114,16505,16508,59,1,10936,111,110,59,1,353,117,101,59,1,8829,4,2,59,100,16524,16526,1,10928,105,108,59,1,351,114,99,59,1,349,4,3,69,97,115,16544,16547,16551,59,1,10934,112,59,1,10938,105,109,59,1,8937,111,108,105,110,116,59,1,10771,105,109,59,1,8831,59,1,1089,111,116,4,3,59,98,101,16582,16584,16587,1,8901,59,1,8865,59,1,10854,4,7,65,97,99,109,115,116,120,16606,16611,16634,16642,16646,16652,16668,114,114,59,1,8664,114,4,2,104,114,16618,16622,107,59,1,10533,4,2,59,111,16628,16630,1,8600,119,59,1,8600,116,5,167,1,59,16640,1,167,105,59,1,59,119,97,114,59,1,10537,109,4,2,105,110,16659,16665,110,117,115,59,1,8726,59,1,8726,116,59,1,10038,114,4,2,59,111,16679,16682,3,55349,56624,119,110,59,1,8994,4,4,97,99,111,121,16697,16702,16716,16739,114,112,59,1,9839,4,2,104,121,16708,16713,99,121,59,1,1097,59,1,1096,114,116,4,2,109,112,16724,16729,105,100,59,1,8739,97,114,97,108,108,101,108,59,1,8741,5,173,1,59,16744,1,173,4,2,103,109,16752,16770,109,97,4,3,59,102,118,16762,16764,16767,1,963,59,1,962,59,1,962,4,8,59,100,101,103,108,110,112,114,16788,16790,16795,16806,16817,16828,16832,16838,1,8764,111,116,59,1,10858,4,2,59,113,16801,16803,1,8771,59,1,8771,4,2,59,69,16812,16814,1,10910,59,1,10912,4,2,59,69,16823,16825,1,10909,59,1,10911,101,59,1,8774,108,117,115,59,1,10788,97,114,114,59,1,10610,97,114,114,59,1,8592,4,4,97,101,105,116,16860,16883,16891,16904,4,2,108,115,16866,16878,108,115,101,116,109,105,110,117,115,59,1,8726,104,112,59,1,10803,112,97,114,115,108,59,1,10724,4,2,100,108,16897,16900,59,1,8739,101,59,1,8995,4,2,59,101,16910,16912,1,10922,4,2,59,115,16918,16920,1,10924,59,3,10924,65024,4,3,102,108,112,16932,16938,16958,116,99,121,59,1,1100,4,2,59,98,16944,16946,1,47,4,2,59,97,16952,16954,1,10692,114,59,1,9023,102,59,3,55349,56676,97,4,2,100,114,16970,16985,101,115,4,2,59,117,16978,16980,1,9824,105,116,59,1,9824,59,1,8741,4,3,99,115,117,16996,17028,17089,4,2,97,117,17002,17015,112,4,2,59,115,17009,17011,1,8851,59,3,8851,65024,112,4,2,59,115,17022,17024,1,8852,59,3,8852,65024,117,4,2,98,112,17035,17062,4,3,59,101,115,17043,17045,17048,1,8847,59,1,8849,101,116,4,2,59,101,17056,17058,1,8847,113,59,1,8849,4,3,59,101,115,17070,17072,17075,1,8848,59,1,8850,101,116,4,2,59,101,17083,17085,1,8848,113,59,1,8850,4,3,59,97,102,17097,17099,17112,1,9633,114,4,2,101,102,17106,17109,59,1,9633,59,1,9642,59,1,9642,97,114,114,59,1,8594,4,4,99,101,109,116,17131,17136,17142,17148,114,59,3,55349,56520,116,109,110,59,1,8726,105,108,101,59,1,8995,97,114,102,59,1,8902,4,2,97,114,17160,17172,114,4,2,59,102,17167,17169,1,9734,59,1,9733,4,2,97,110,17178,17202,105,103,104,116,4,2,101,112,17188,17197,112,115,105,108,111,110,59,1,1013,104,105,59,1,981,115,59,1,175,4,5,98,99,109,110,112,17218,17351,17420,17423,17427,4,9,59,69,100,101,109,110,112,114,115,17238,17240,17243,17248,17261,17267,17279,17285,17291,1,8834,59,1,10949,111,116,59,1,10941,4,2,59,100,17254,17256,1,8838,111,116,59,1,10947,117,108,116,59,1,10945,4,2,69,101,17273,17276,59,1,10955,59,1,8842,108,117,115,59,1,10943,97,114,114,59,1,10617,4,3,101,105,117,17299,17335,17339,116,4,3,59,101,110,17308,17310,17322,1,8834,113,4,2,59,113,17317,17319,1,8838,59,1,10949,101,113,4,2,59,113,17330,17332,1,8842,59,1,10955,109,59,1,10951,4,2,98,112,17345,17348,59,1,10965,59,1,10963,99,4,6,59,97,99,101,110,115,17366,17368,17376,17385,17389,17415,1,8827,112,112,114,111,120,59,1,10936,117,114,108,121,101,113,59,1,8829,113,59,1,10928,4,3,97,101,115,17397,17405,17410,112,112,114,111,120,59,1,10938,113,113,59,1,10934,105,109,59,1,8937,105,109,59,1,8831,59,1,8721,103,59,1,9834,4,13,49,50,51,59,69,100,101,104,108,109,110,112,115,17455,17462,17469,17476,17478,17481,17496,17509,17524,17530,17536,17548,17554,5,185,1,59,17460,1,185,5,178,1,59,17467,1,178,5,179,1,59,17474,1,179,1,8835,59,1,10950,4,2,111,115,17487,17491,116,59,1,10942,117,98,59,1,10968,4,2,59,100,17502,17504,1,8839,111,116,59,1,10948,115,4,2,111,117,17516,17520,108,59,1,10185,98,59,1,10967,97,114,114,59,1,10619,117,108,116,59,1,10946,4,2,69,101,17542,17545,59,1,10956,59,1,8843,108,117,115,59,1,10944,4,3,101,105,117,17562,17598,17602,116,4,3,59,101,110,17571,17573,17585,1,8835,113,4,2,59,113,17580,17582,1,8839,59,1,10950,101,113,4,2,59,113,17593,17595,1,8843,59,1,10956,109,59,1,10952,4,2,98,112,17608,17611,59,1,10964,59,1,10966,4,3,65,97,110,17622,17627,17650,114,114,59,1,8665,114,4,2,104,114,17634,17638,107,59,1,10534,4,2,59,111,17644,17646,1,8601,119,59,1,8601,119,97,114,59,1,10538,108,105,103,5,223,1,59,17664,1,223,4,13,97,98,99,100,101,102,104,105,111,112,114,115,119,17694,17709,17714,17737,17742,17749,17754,17860,17905,17957,17964,18090,18122,4,2,114,117,17700,17706,103,101,116,59,1,8982,59,1,964,114,107,59,1,9140,4,3,97,101,121,17722,17728,17734,114,111,110,59,1,357,100,105,108,59,1,355,59,1,1090,111,116,59,1,8411,108,114,101,99,59,1,8981,114,59,3,55349,56625,4,4,101,105,107,111,17764,17805,17836,17851,4,2,114,116,17770,17786,101,4,2,52,102,17777,17780,59,1,8756,111,114,101,59,1,8756,97,4,3,59,115,118,17795,17797,17802,1,952,121,109,59,1,977,59,1,977,4,2,99,110,17811,17831,107,4,2,97,115,17818,17826,112,112,114,111,120,59,1,8776,105,109,59,1,8764,115,112,59,1,8201,4,2,97,115,17842,17846,112,59,1,8776,105,109,59,1,8764,114,110,5,254,1,59,17858,1,254,4,3,108,109,110,17868,17873,17901,100,101,59,1,732,101,115,5,215,3,59,98,100,17884,17886,17898,1,215,4,2,59,97,17892,17894,1,8864,114,59,1,10801,59,1,10800,116,59,1,8749,4,3,101,112,115,17913,17917,17953,97,59,1,10536,4,4,59,98,99,102,17927,17929,17934,17939,1,8868,111,116,59,1,9014,105,114,59,1,10993,4,2,59,111,17945,17948,3,55349,56677,114,107,59,1,10970,97,59,1,10537,114,105,109,101,59,1,8244,4,3,97,105,112,17972,17977,18082,100,101,59,1,8482,4,7,97,100,101,109,112,115,116,17993,18051,18056,18059,18066,18072,18076,110,103,108,101,4,5,59,100,108,113,114,18009,18011,18017,18032,18035,1,9653,111,119,110,59,1,9663,101,102,116,4,2,59,101,18026,18028,1,9667,113,59,1,8884,59,1,8796,105,103,104,116,4,2,59,101,18045,18047,1,9657,113,59,1,8885,111,116,59,1,9708,59,1,8796,105,110,117,115,59,1,10810,108,117,115,59,1,10809,98,59,1,10701,105,109,101,59,1,10811,101,122,105,117,109,59,1,9186,4,3,99,104,116,18098,18111,18116,4,2,114,121,18104,18108,59,3,55349,56521,59,1,1094,99,121,59,1,1115,114,111,107,59,1,359,4,2,105,111,18128,18133,120,116,59,1,8812,104,101,97,100,4,2,108,114,18143,18154,101,102,116,97,114,114,111,119,59,1,8606,105,103,104,116,97,114,114,111,119,59,1,8608,4,18,65,72,97,98,99,100,102,103,104,108,109,111,112,114,115,116,117,119,18204,18209,18214,18234,18250,18268,18292,18308,18319,18343,18379,18397,18413,18504,18547,18553,18584,18603,114,114,59,1,8657,97,114,59,1,10595,4,2,99,114,18220,18230,117,116,101,5,250,1,59,18228,1,250,114,59,1,8593,114,4,2,99,101,18241,18245,121,59,1,1118,118,101,59,1,365,4,2,105,121,18256,18265,114,99,5,251,1,59,18263,1,251,59,1,1091,4,3,97,98,104,18276,18281,18287,114,114,59,1,8645,108,97,99,59,1,369,97,114,59,1,10606,4,2,105,114,18298,18304,115,104,116,59,1,10622,59,3,55349,56626,114,97,118,101,5,249,1,59,18317,1,249,4,2,97,98,18325,18338,114,4,2,108,114,18332,18335,59,1,8639,59,1,8638,108,107,59,1,9600,4,2,99,116,18349,18374,4,2,111,114,18355,18369,114,110,4,2,59,101,18363,18365,1,8988,114,59,1,8988,111,112,59,1,8975,114,105,59,1,9720,4,2,97,108,18385,18390,99,114,59,1,363,5,168,1,59,18395,1,168,4,2,103,112,18403,18408,111,110,59,1,371,102,59,3,55349,56678,4,6,97,100,104,108,115,117,18427,18434,18445,18470,18475,18494,114,114,111,119,59,1,8593,111,119,110,97,114,114,111,119,59,1,8597,97,114,112,111,111,110,4,2,108,114,18457,18463,101,102,116,59,1,8639,105,103,104,116,59,1,8638,117,115,59,1,8846,105,4,3,59,104,108,18484,18486,18489,1,965,59,1,978,111,110,59,1,965,112,97,114,114,111,119,115,59,1,8648,4,3,99,105,116,18512,18537,18542,4,2,111,114,18518,18532,114,110,4,2,59,101,18526,18528,1,8989,114,59,1,8989,111,112,59,1,8974,110,103,59,1,367,114,105,59,1,9721,99,114,59,3,55349,56522,4,3,100,105,114,18561,18566,18572,111,116,59,1,8944,108,100,101,59,1,361,105,4,2,59,102,18579,18581,1,9653,59,1,9652,4,2,97,109,18590,18595,114,114,59,1,8648,108,5,252,1,59,18601,1,252,97,110,103,108,101,59,1,10663,4,15,65,66,68,97,99,100,101,102,108,110,111,112,114,115,122,18643,18648,18661,18667,18847,18851,18857,18904,18909,18915,18931,18937,18943,18949,18996,114,114,59,1,8661,97,114,4,2,59,118,18656,18658,1,10984,59,1,10985,97,115,104,59,1,8872,4,2,110,114,18673,18679,103,114,116,59,1,10652,4,7,101,107,110,112,114,115,116,18695,18704,18711,18720,18742,18754,18810,112,115,105,108,111,110,59,1,1013,97,112,112,97,59,1,1008,111,116,104,105,110,103,59,1,8709,4,3,104,105,114,18728,18732,18735,105,59,1,981,59,1,982,111,112,116,111,59,1,8733,4,2,59,104,18748,18750,1,8597,111,59,1,1009,4,2,105,117,18760,18766,103,109,97,59,1,962,4,2,98,112,18772,18791,115,101,116,110,101,113,4,2,59,113,18784,18787,3,8842,65024,59,3,10955,65024,115,101,116,110,101,113,4,2,59,113,18803,18806,3,8843,65024,59,3,10956,65024,4,2,104,114,18816,18822,101,116,97,59,1,977,105,97,110,103,108,101,4,2,108,114,18834,18840,101,102,116,59,1,8882,105,103,104,116,59,1,8883,121,59,1,1074,97,115,104,59,1,8866,4,3,101,108,114,18865,18884,18890,4,3,59,98,101,18873,18875,18880,1,8744,97,114,59,1,8891,113,59,1,8794,108,105,112,59,1,8942,4,2,98,116,18896,18901,97,114,59,1,124,59,1,124,114,59,3,55349,56627,116,114,105,59,1,8882,115,117,4,2,98,112,18923,18927,59,3,8834,8402,59,3,8835,8402,112,102,59,3,55349,56679,114,111,112,59,1,8733,116,114,105,59,1,8883,4,2,99,117,18955,18960,114,59,3,55349,56523,4,2,98,112,18966,18981,110,4,2,69,101,18973,18977,59,3,10955,65024,59,3,8842,65024,110,4,2,69,101,18988,18992,59,3,10956,65024,59,3,8843,65024,105,103,122,97,103,59,1,10650,4,7,99,101,102,111,112,114,115,19020,19026,19061,19066,19072,19075,19089,105,114,99,59,1,373,4,2,100,105,19032,19055,4,2,98,103,19038,19043,97,114,59,1,10847,101,4,2,59,113,19050,19052,1,8743,59,1,8793,101,114,112,59,1,8472,114,59,3,55349,56628,112,102,59,3,55349,56680,59,1,8472,4,2,59,101,19081,19083,1,8768,97,116,104,59,1,8768,99,114,59,3,55349,56524,4,14,99,100,102,104,105,108,109,110,111,114,115,117,118,119,19125,19146,19152,19157,19173,19176,19192,19197,19202,19236,19252,19269,19286,19291,4,3,97,105,117,19133,19137,19142,112,59,1,8898,114,99,59,1,9711,112,59,1,8899,116,114,105,59,1,9661,114,59,3,55349,56629,4,2,65,97,19163,19168,114,114,59,1,10234,114,114,59,1,10231,59,1,958,4,2,65,97,19182,19187,114,114,59,1,10232,114,114,59,1,10229,97,112,59,1,10236,105,115,59,1,8955,4,3,100,112,116,19210,19215,19230,111,116,59,1,10752,4,2,102,108,19221,19225,59,3,55349,56681,117,115,59,1,10753,105,109,101,59,1,10754,4,2,65,97,19242,19247,114,114,59,1,10233,114,114,59,1,10230,4,2,99,113,19258,19263,114,59,3,55349,56525,99,117,112,59,1,10758,4,2,112,116,19275,19281,108,117,115,59,1,10756,114,105,59,1,9651,101,101,59,1,8897,101,100,103,101,59,1,8896,4,8,97,99,101,102,105,111,115,117,19316,19335,19349,19357,19362,19367,19373,19379,99,4,2,117,121,19323,19332,116,101,5,253,1,59,19330,1,253,59,1,1103,4,2,105,121,19341,19346,114,99,59,1,375,59,1,1099,110,5,165,1,59,19355,1,165,114,59,3,55349,56630,99,121,59,1,1111,112,102,59,3,55349,56682,99,114,59,3,55349,56526,4,2,99,109,19385,19389,121,59,1,1102,108,5,255,1,59,19395,1,255,4,10,97,99,100,101,102,104,105,111,115,119,19419,19426,19441,19446,19462,19467,19472,19480,19486,19492,99,117,116,101,59,1,378,4,2,97,121,19432,19438,114,111,110,59,1,382,59,1,1079,111,116,59,1,380,4,2,101,116,19452,19458,116,114,102,59,1,8488,97,59,1,950,114,59,3,55349,56631,99,121,59,1,1078,103,114,97,114,114,59,1,8669,112,102,59,3,55349,56683,99,114,59,3,55349,56527,4,2,106,110,19498,19501,59,1,8205,106,59,1,8204]);const wee=kee,Yn=Zl,ba=Tee,tt=q_,ve=Yn.CODE_POINTS,oa=Yn.CODE_POINT_SEQUENCES,Eee={128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376},rO=1,lO=2,sO=4,See=rO|lO|sO,An="DATA_STATE",vu="RCDATA_STATE",lc="RAWTEXT_STATE",Bs="SCRIPT_DATA_STATE",oO="PLAINTEXT_STATE",q3="TAG_OPEN_STATE",j3="END_TAG_OPEN_STATE",i0="TAG_NAME_STATE",W3="RCDATA_LESS_THAN_SIGN_STATE",K3="RCDATA_END_TAG_OPEN_STATE",V3="RCDATA_END_TAG_NAME_STATE",G3="RAWTEXT_LESS_THAN_SIGN_STATE",Y3="RAWTEXT_END_TAG_OPEN_STATE",X3="RAWTEXT_END_TAG_NAME_STATE",Z3="SCRIPT_DATA_LESS_THAN_SIGN_STATE",Q3="SCRIPT_DATA_END_TAG_OPEN_STATE",J3="SCRIPT_DATA_END_TAG_NAME_STATE",e8="SCRIPT_DATA_ESCAPE_START_STATE",t8="SCRIPT_DATA_ESCAPE_START_DASH_STATE",ql="SCRIPT_DATA_ESCAPED_STATE",n8="SCRIPT_DATA_ESCAPED_DASH_STATE",r0="SCRIPT_DATA_ESCAPED_DASH_DASH_STATE",bd="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN_STATE",i8="SCRIPT_DATA_ESCAPED_END_TAG_OPEN_STATE",r8="SCRIPT_DATA_ESCAPED_END_TAG_NAME_STATE",l8="SCRIPT_DATA_DOUBLE_ESCAPE_START_STATE",Ls="SCRIPT_DATA_DOUBLE_ESCAPED_STATE",s8="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_STATE",o8="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH_STATE",vd="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN_STATE",a8="SCRIPT_DATA_DOUBLE_ESCAPE_END_STATE",rs="BEFORE_ATTRIBUTE_NAME_STATE",yd="ATTRIBUTE_NAME_STATE",l0="AFTER_ATTRIBUTE_NAME_STATE",s0="BEFORE_ATTRIBUTE_VALUE_STATE",kd="ATTRIBUTE_VALUE_DOUBLE_QUOTED_STATE",Td="ATTRIBUTE_VALUE_SINGLE_QUOTED_STATE",wd="ATTRIBUTE_VALUE_UNQUOTED_STATE",o0="AFTER_ATTRIBUTE_VALUE_QUOTED_STATE",fo="SELF_CLOSING_START_TAG_STATE",jf="BOGUS_COMMENT_STATE",u8="MARKUP_DECLARATION_OPEN_STATE",f8="COMMENT_START_STATE",c8="COMMENT_START_DASH_STATE",co="COMMENT_STATE",d8="COMMENT_LESS_THAN_SIGN_STATE",h8="COMMENT_LESS_THAN_SIGN_BANG_STATE",p8="COMMENT_LESS_THAN_SIGN_BANG_DASH_STATE",m8="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH_STATE",Ed="COMMENT_END_DASH_STATE",Sd="COMMENT_END_STATE",g8="COMMENT_END_BANG_STATE",_8="DOCTYPE_STATE",Cd="BEFORE_DOCTYPE_NAME_STATE",Ad="DOCTYPE_NAME_STATE",b8="AFTER_DOCTYPE_NAME_STATE",v8="AFTER_DOCTYPE_PUBLIC_KEYWORD_STATE",y8="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER_STATE",a0="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED_STATE",u0="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED_STATE",f0="AFTER_DOCTYPE_PUBLIC_IDENTIFIER_STATE",k8="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS_STATE",T8="AFTER_DOCTYPE_SYSTEM_KEYWORD_STATE",w8="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER_STATE",Wf="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED_STATE",Kf="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED_STATE",c0="AFTER_DOCTYPE_SYSTEM_IDENTIFIER_STATE",Ds="BOGUS_DOCTYPE_STATE",Od="CDATA_SECTION_STATE",E8="CDATA_SECTION_BRACKET_STATE",S8="CDATA_SECTION_END_STATE",hu="CHARACTER_REFERENCE_STATE",C8="NAMED_CHARACTER_REFERENCE_STATE",A8="AMBIGUOS_AMPERSAND_STATE",O8="NUMERIC_CHARACTER_REFERENCE_STATE",N8="HEXADEMICAL_CHARACTER_REFERENCE_START_STATE",M8="DECIMAL_CHARACTER_REFERENCE_START_STATE",I8="HEXADEMICAL_CHARACTER_REFERENCE_STATE",L8="DECIMAL_CHARACTER_REFERENCE_STATE",Vf="NUMERIC_CHARACTER_REFERENCE_END_STATE";function si(n){return n===ve.SPACE||n===ve.LINE_FEED||n===ve.TABULATION||n===ve.FORM_FEED}function vc(n){return n>=ve.DIGIT_0&&n<=ve.DIGIT_9}function jl(n){return n>=ve.LATIN_CAPITAL_A&&n<=ve.LATIN_CAPITAL_Z}function da(n){return n>=ve.LATIN_SMALL_A&&n<=ve.LATIN_SMALL_Z}function go(n){return da(n)||jl(n)}function d0(n){return go(n)||vc(n)}function aO(n){return n>=ve.LATIN_CAPITAL_A&&n<=ve.LATIN_CAPITAL_F}function uO(n){return n>=ve.LATIN_SMALL_A&&n<=ve.LATIN_SMALL_F}function Cee(n){return vc(n)||aO(n)||uO(n)}function Jd(n){return n+32}function vi(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode(n>>>10&1023|55296)+String.fromCharCode(56320|n&1023))}function ho(n){return String.fromCharCode(Jd(n))}function D8(n,e){const t=ba[++n];let i=++n,r=i+t-1;for(;i<=r;){const l=i+r>>>1,s=ba[l];if(s<e)i=l+1;else if(s>e)r=l-1;else return ba[l+t]}return-1}let Ml=class $r{constructor(){this.preprocessor=new wee,this.tokenQueue=[],this.allowCDATA=!1,this.state=An,this.returnState="",this.charRefCode=-1,this.tempBuff=[],this.lastStartTagName="",this.consumedAfterSnapshot=-1,this.active=!1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr=null}_err(){}_errOnNextCodePoint(e){this._consume(),this._err(e),this._unconsume()}getNextToken(){for(;!this.tokenQueue.length&&this.active;){this.consumedAfterSnapshot=0;const e=this._consume();this._ensureHibernation()||this[this.state](e)}return this.tokenQueue.shift()}write(e,t){this.active=!0,this.preprocessor.write(e,t)}insertHtmlAtCurrentPos(e){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(e)}_ensureHibernation(){if(this.preprocessor.endOfChunkHit){for(;this.consumedAfterSnapshot>0;this.consumedAfterSnapshot--)this.preprocessor.retreat();return this.active=!1,this.tokenQueue.push({type:$r.HIBERNATION_TOKEN}),!0}return!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_unconsume(){this.consumedAfterSnapshot--,this.preprocessor.retreat()}_reconsumeInState(e){this.state=e,this._unconsume()}_consumeSequenceIfMatch(e,t,i){let r=0,l=!0;const s=e.length;let o=0,a=t,u;for(;o<s;o++){if(o>0&&(a=this._consume(),r++),a===ve.EOF){l=!1;break}if(u=e[o],a!==u&&(i||a!==Jd(u))){l=!1;break}}if(!l)for(;r--;)this._unconsume();return l}_isTempBufferEqualToScriptString(){if(this.tempBuff.length!==oa.SCRIPT_STRING.length)return!1;for(let e=0;e<this.tempBuff.length;e++)if(this.tempBuff[e]!==oa.SCRIPT_STRING[e])return!1;return!0}_createStartTagToken(){this.currentToken={type:$r.START_TAG_TOKEN,tagName:"",selfClosing:!1,ackSelfClosing:!1,attrs:[]}}_createEndTagToken(){this.currentToken={type:$r.END_TAG_TOKEN,tagName:"",selfClosing:!1,attrs:[]}}_createCommentToken(){this.currentToken={type:$r.COMMENT_TOKEN,data:""}}_createDoctypeToken(e){this.currentToken={type:$r.DOCTYPE_TOKEN,name:e,forceQuirks:!1,publicId:null,systemId:null}}_createCharacterToken(e,t){this.currentCharacterToken={type:e,chars:t}}_createEOFToken(){this.currentToken={type:$r.EOF_TOKEN}}_createAttr(e){this.currentAttr={name:e,value:""}}_leaveAttrName(e){$r.getTokenAttr(this.currentToken,this.currentAttr.name)===null?this.currentToken.attrs.push(this.currentAttr):this._err(tt.duplicateAttribute),this.state=e}_leaveAttrValue(e){this.state=e}_emitCurrentToken(){this._emitCurrentCharacterToken();const e=this.currentToken;this.currentToken=null,e.type===$r.START_TAG_TOKEN?this.lastStartTagName=e.tagName:e.type===$r.END_TAG_TOKEN&&(e.attrs.length>0&&this._err(tt.endTagWithAttributes),e.selfClosing&&this._err(tt.endTagWithTrailingSolidus)),this.tokenQueue.push(e)}_emitCurrentCharacterToken(){this.currentCharacterToken&&(this.tokenQueue.push(this.currentCharacterToken),this.currentCharacterToken=null)}_emitEOFToken(){this._createEOFToken(),this._emitCurrentToken()}_appendCharToCurrentCharacterToken(e,t){this.currentCharacterToken&&this.currentCharacterToken.type!==e&&this._emitCurrentCharacterToken(),this.currentCharacterToken?this.currentCharacterToken.chars+=t:this._createCharacterToken(e,t)}_emitCodePoint(e){let t=$r.CHARACTER_TOKEN;si(e)?t=$r.WHITESPACE_CHARACTER_TOKEN:e===ve.NULL&&(t=$r.NULL_CHARACTER_TOKEN),this._appendCharToCurrentCharacterToken(t,vi(e))}_emitSeveralCodePoints(e){for(let t=0;t<e.length;t++)this._emitCodePoint(e[t])}_emitChars(e){this._appendCharToCurrentCharacterToken($r.CHARACTER_TOKEN,e)}_matchNamedCharacterReference(e){let t=null,i=1,r=D8(0,e);for(this.tempBuff.push(e);r>-1;){const l=ba[r],s=l<See;s&&l&rO&&(t=l&lO?[ba[++r],ba[++r]]:[ba[++r]],i=0);const a=this._consume();if(this.tempBuff.push(a),i++,a===ve.EOF)break;s?r=l&sO?D8(r,a):-1:r=a===l?++r:-1}for(;i--;)this.tempBuff.pop(),this._unconsume();return t}_isCharacterReferenceInAttribute(){return this.returnState===kd||this.returnState===Td||this.returnState===wd}_isCharacterReferenceAttributeQuirk(e){if(!e&&this._isCharacterReferenceInAttribute()){const t=this._consume();return this._unconsume(),t===ve.EQUALS_SIGN||d0(t)}return!1}_flushCodePointsConsumedAsCharacterReference(){if(this._isCharacterReferenceInAttribute())for(let e=0;e<this.tempBuff.length;e++)this.currentAttr.value+=vi(this.tempBuff[e]);else this._emitSeveralCodePoints(this.tempBuff);this.tempBuff=[]}[An](e){this.preprocessor.dropParsedChunk(),e===ve.LESS_THAN_SIGN?this.state=q3:e===ve.AMPERSAND?(this.returnState=An,this.state=hu):e===ve.NULL?(this._err(tt.unexpectedNullCharacter),this._emitCodePoint(e)):e===ve.EOF?this._emitEOFToken():this._emitCodePoint(e)}[vu](e){this.preprocessor.dropParsedChunk(),e===ve.AMPERSAND?(this.returnState=vu,this.state=hu):e===ve.LESS_THAN_SIGN?this.state=W3:e===ve.NULL?(this._err(tt.unexpectedNullCharacter),this._emitChars(Yn.REPLACEMENT_CHARACTER)):e===ve.EOF?this._emitEOFToken():this._emitCodePoint(e)}[lc](e){this.preprocessor.dropParsedChunk(),e===ve.LESS_THAN_SIGN?this.state=G3:e===ve.NULL?(this._err(tt.unexpectedNullCharacter),this._emitChars(Yn.REPLACEMENT_CHARACTER)):e===ve.EOF?this._emitEOFToken():this._emitCodePoint(e)}[Bs](e){this.preprocessor.dropParsedChunk(),e===ve.LESS_THAN_SIGN?this.state=Z3:e===ve.NULL?(this._err(tt.unexpectedNullCharacter),this._emitChars(Yn.REPLACEMENT_CHARACTER)):e===ve.EOF?this._emitEOFToken():this._emitCodePoint(e)}[oO](e){this.preprocessor.dropParsedChunk(),e===ve.NULL?(this._err(tt.unexpectedNullCharacter),this._emitChars(Yn.REPLACEMENT_CHARACTER)):e===ve.EOF?this._emitEOFToken():this._emitCodePoint(e)}[q3](e){e===ve.EXCLAMATION_MARK?this.state=u8:e===ve.SOLIDUS?this.state=j3:go(e)?(this._createStartTagToken(),this._reconsumeInState(i0)):e===ve.QUESTION_MARK?(this._err(tt.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(),this._reconsumeInState(jf)):e===ve.EOF?(this._err(tt.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken()):(this._err(tt.invalidFirstCharacterOfTagName),this._emitChars("<"),this._reconsumeInState(An))}[j3](e){go(e)?(this._createEndTagToken(),this._reconsumeInState(i0)):e===ve.GREATER_THAN_SIGN?(this._err(tt.missingEndTagName),this.state=An):e===ve.EOF?(this._err(tt.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken()):(this._err(tt.invalidFirstCharacterOfTagName),this._createCommentToken(),this._reconsumeInState(jf))}[i0](e){si(e)?this.state=rs:e===ve.SOLIDUS?this.state=fo:e===ve.GREATER_THAN_SIGN?(this.state=An,this._emitCurrentToken()):jl(e)?this.currentToken.tagName+=ho(e):e===ve.NULL?(this._err(tt.unexpectedNullCharacter),this.currentToken.tagName+=Yn.REPLACEMENT_CHARACTER):e===ve.EOF?(this._err(tt.eofInTag),this._emitEOFToken()):this.currentToken.tagName+=vi(e)}[W3](e){e===ve.SOLIDUS?(this.tempBuff=[],this.state=K3):(this._emitChars("<"),this._reconsumeInState(vu))}[K3](e){go(e)?(this._createEndTagToken(),this._reconsumeInState(V3)):(this._emitChars("</"),this._reconsumeInState(vu))}[V3](e){if(jl(e))this.currentToken.tagName+=ho(e),this.tempBuff.push(e);else if(da(e))this.currentToken.tagName+=vi(e),this.tempBuff.push(e);else{if(this.lastStartTagName===this.currentToken.tagName){if(si(e)){this.state=rs;return}if(e===ve.SOLIDUS){this.state=fo;return}if(e===ve.GREATER_THAN_SIGN){this.state=An,this._emitCurrentToken();return}}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(vu)}}[G3](e){e===ve.SOLIDUS?(this.tempBuff=[],this.state=Y3):(this._emitChars("<"),this._reconsumeInState(lc))}[Y3](e){go(e)?(this._createEndTagToken(),this._reconsumeInState(X3)):(this._emitChars("</"),this._reconsumeInState(lc))}[X3](e){if(jl(e))this.currentToken.tagName+=ho(e),this.tempBuff.push(e);else if(da(e))this.currentToken.tagName+=vi(e),this.tempBuff.push(e);else{if(this.lastStartTagName===this.currentToken.tagName){if(si(e)){this.state=rs;return}if(e===ve.SOLIDUS){this.state=fo;return}if(e===ve.GREATER_THAN_SIGN){this._emitCurrentToken(),this.state=An;return}}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(lc)}}[Z3](e){e===ve.SOLIDUS?(this.tempBuff=[],this.state=Q3):e===ve.EXCLAMATION_MARK?(this.state=e8,this._emitChars("<!")):(this._emitChars("<"),this._reconsumeInState(Bs))}[Q3](e){go(e)?(this._createEndTagToken(),this._reconsumeInState(J3)):(this._emitChars("</"),this._reconsumeInState(Bs))}[J3](e){if(jl(e))this.currentToken.tagName+=ho(e),this.tempBuff.push(e);else if(da(e))this.currentToken.tagName+=vi(e),this.tempBuff.push(e);else{if(this.lastStartTagName===this.currentToken.tagName){if(si(e)){this.state=rs;return}else if(e===ve.SOLIDUS){this.state=fo;return}else if(e===ve.GREATER_THAN_SIGN){this._emitCurrentToken(),this.state=An;return}}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(Bs)}}[e8](e){e===ve.HYPHEN_MINUS?(this.state=t8,this._emitChars("-")):this._reconsumeInState(Bs)}[t8](e){e===ve.HYPHEN_MINUS?(this.state=r0,this._emitChars("-")):this._reconsumeInState(Bs)}[ql](e){e===ve.HYPHEN_MINUS?(this.state=n8,this._emitChars("-")):e===ve.LESS_THAN_SIGN?this.state=bd:e===ve.NULL?(this._err(tt.unexpectedNullCharacter),this._emitChars(Yn.REPLACEMENT_CHARACTER)):e===ve.EOF?(this._err(tt.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):this._emitCodePoint(e)}[n8](e){e===ve.HYPHEN_MINUS?(this.state=r0,this._emitChars("-")):e===ve.LESS_THAN_SIGN?this.state=bd:e===ve.NULL?(this._err(tt.unexpectedNullCharacter),this.state=ql,this._emitChars(Yn.REPLACEMENT_CHARACTER)):e===ve.EOF?(this._err(tt.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=ql,this._emitCodePoint(e))}[r0](e){e===ve.HYPHEN_MINUS?this._emitChars("-"):e===ve.LESS_THAN_SIGN?this.state=bd:e===ve.GREATER_THAN_SIGN?(this.state=Bs,this._emitChars(">")):e===ve.NULL?(this._err(tt.unexpectedNullCharacter),this.state=ql,this._emitChars(Yn.REPLACEMENT_CHARACTER)):e===ve.EOF?(this._err(tt.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=ql,this._emitCodePoint(e))}[bd](e){e===ve.SOLIDUS?(this.tempBuff=[],this.state=i8):go(e)?(this.tempBuff=[],this._emitChars("<"),this._reconsumeInState(l8)):(this._emitChars("<"),this._reconsumeInState(ql))}[i8](e){go(e)?(this._createEndTagToken(),this._reconsumeInState(r8)):(this._emitChars("</"),this._reconsumeInState(ql))}[r8](e){if(jl(e))this.currentToken.tagName+=ho(e),this.tempBuff.push(e);else if(da(e))this.currentToken.tagName+=vi(e),this.tempBuff.push(e);else{if(this.lastStartTagName===this.currentToken.tagName){if(si(e)){this.state=rs;return}if(e===ve.SOLIDUS){this.state=fo;return}if(e===ve.GREATER_THAN_SIGN){this._emitCurrentToken(),this.state=An;return}}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(ql)}}[l8](e){si(e)||e===ve.SOLIDUS||e===ve.GREATER_THAN_SIGN?(this.state=this._isTempBufferEqualToScriptString()?Ls:ql,this._emitCodePoint(e)):jl(e)?(this.tempBuff.push(Jd(e)),this._emitCodePoint(e)):da(e)?(this.tempBuff.push(e),this._emitCodePoint(e)):this._reconsumeInState(ql)}[Ls](e){e===ve.HYPHEN_MINUS?(this.state=s8,this._emitChars("-")):e===ve.LESS_THAN_SIGN?(this.state=vd,this._emitChars("<")):e===ve.NULL?(this._err(tt.unexpectedNullCharacter),this._emitChars(Yn.REPLACEMENT_CHARACTER)):e===ve.EOF?(this._err(tt.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):this._emitCodePoint(e)}[s8](e){e===ve.HYPHEN_MINUS?(this.state=o8,this._emitChars("-")):e===ve.LESS_THAN_SIGN?(this.state=vd,this._emitChars("<")):e===ve.NULL?(this._err(tt.unexpectedNullCharacter),this.state=Ls,this._emitChars(Yn.REPLACEMENT_CHARACTER)):e===ve.EOF?(this._err(tt.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=Ls,this._emitCodePoint(e))}[o8](e){e===ve.HYPHEN_MINUS?this._emitChars("-"):e===ve.LESS_THAN_SIGN?(this.state=vd,this._emitChars("<")):e===ve.GREATER_THAN_SIGN?(this.state=Bs,this._emitChars(">")):e===ve.NULL?(this._err(tt.unexpectedNullCharacter),this.state=Ls,this._emitChars(Yn.REPLACEMENT_CHARACTER)):e===ve.EOF?(this._err(tt.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=Ls,this._emitCodePoint(e))}[vd](e){e===ve.SOLIDUS?(this.tempBuff=[],this.state=a8,this._emitChars("/")):this._reconsumeInState(Ls)}[a8](e){si(e)||e===ve.SOLIDUS||e===ve.GREATER_THAN_SIGN?(this.state=this._isTempBufferEqualToScriptString()?ql:Ls,this._emitCodePoint(e)):jl(e)?(this.tempBuff.push(Jd(e)),this._emitCodePoint(e)):da(e)?(this.tempBuff.push(e),this._emitCodePoint(e)):this._reconsumeInState(Ls)}[rs](e){si(e)||(e===ve.SOLIDUS||e===ve.GREATER_THAN_SIGN||e===ve.EOF?this._reconsumeInState(l0):e===ve.EQUALS_SIGN?(this._err(tt.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=yd):(this._createAttr(""),this._reconsumeInState(yd)))}[yd](e){si(e)||e===ve.SOLIDUS||e===ve.GREATER_THAN_SIGN||e===ve.EOF?(this._leaveAttrName(l0),this._unconsume()):e===ve.EQUALS_SIGN?this._leaveAttrName(s0):jl(e)?this.currentAttr.name+=ho(e):e===ve.QUOTATION_MARK||e===ve.APOSTROPHE||e===ve.LESS_THAN_SIGN?(this._err(tt.unexpectedCharacterInAttributeName),this.currentAttr.name+=vi(e)):e===ve.NULL?(this._err(tt.unexpectedNullCharacter),this.currentAttr.name+=Yn.REPLACEMENT_CHARACTER):this.currentAttr.name+=vi(e)}[l0](e){si(e)||(e===ve.SOLIDUS?this.state=fo:e===ve.EQUALS_SIGN?this.state=s0:e===ve.GREATER_THAN_SIGN?(this.state=An,this._emitCurrentToken()):e===ve.EOF?(this._err(tt.eofInTag),this._emitEOFToken()):(this._createAttr(""),this._reconsumeInState(yd)))}[s0](e){si(e)||(e===ve.QUOTATION_MARK?this.state=kd:e===ve.APOSTROPHE?this.state=Td:e===ve.GREATER_THAN_SIGN?(this._err(tt.missingAttributeValue),this.state=An,this._emitCurrentToken()):this._reconsumeInState(wd))}[kd](e){e===ve.QUOTATION_MARK?this.state=o0:e===ve.AMPERSAND?(this.returnState=kd,this.state=hu):e===ve.NULL?(this._err(tt.unexpectedNullCharacter),this.currentAttr.value+=Yn.REPLACEMENT_CHARACTER):e===ve.EOF?(this._err(tt.eofInTag),this._emitEOFToken()):this.currentAttr.value+=vi(e)}[Td](e){e===ve.APOSTROPHE?this.state=o0:e===ve.AMPERSAND?(this.returnState=Td,this.state=hu):e===ve.NULL?(this._err(tt.unexpectedNullCharacter),this.currentAttr.value+=Yn.REPLACEMENT_CHARACTER):e===ve.EOF?(this._err(tt.eofInTag),this._emitEOFToken()):this.currentAttr.value+=vi(e)}[wd](e){si(e)?this._leaveAttrValue(rs):e===ve.AMPERSAND?(this.returnState=wd,this.state=hu):e===ve.GREATER_THAN_SIGN?(this._leaveAttrValue(An),this._emitCurrentToken()):e===ve.NULL?(this._err(tt.unexpectedNullCharacter),this.currentAttr.value+=Yn.REPLACEMENT_CHARACTER):e===ve.QUOTATION_MARK||e===ve.APOSTROPHE||e===ve.LESS_THAN_SIGN||e===ve.EQUALS_SIGN||e===ve.GRAVE_ACCENT?(this._err(tt.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=vi(e)):e===ve.EOF?(this._err(tt.eofInTag),this._emitEOFToken()):this.currentAttr.value+=vi(e)}[o0](e){si(e)?this._leaveAttrValue(rs):e===ve.SOLIDUS?this._leaveAttrValue(fo):e===ve.GREATER_THAN_SIGN?(this._leaveAttrValue(An),this._emitCurrentToken()):e===ve.EOF?(this._err(tt.eofInTag),this._emitEOFToken()):(this._err(tt.missingWhitespaceBetweenAttributes),this._reconsumeInState(rs))}[fo](e){e===ve.GREATER_THAN_SIGN?(this.currentToken.selfClosing=!0,this.state=An,this._emitCurrentToken()):e===ve.EOF?(this._err(tt.eofInTag),this._emitEOFToken()):(this._err(tt.unexpectedSolidusInTag),this._reconsumeInState(rs))}[jf](e){e===ve.GREATER_THAN_SIGN?(this.state=An,this._emitCurrentToken()):e===ve.EOF?(this._emitCurrentToken(),this._emitEOFToken()):e===ve.NULL?(this._err(tt.unexpectedNullCharacter),this.currentToken.data+=Yn.REPLACEMENT_CHARACTER):this.currentToken.data+=vi(e)}[u8](e){this._consumeSequenceIfMatch(oa.DASH_DASH_STRING,e,!0)?(this._createCommentToken(),this.state=f8):this._consumeSequenceIfMatch(oa.DOCTYPE_STRING,e,!1)?this.state=_8:this._consumeSequenceIfMatch(oa.CDATA_START_STRING,e,!0)?this.allowCDATA?this.state=Od:(this._err(tt.cdataInHtmlContent),this._createCommentToken(),this.currentToken.data="[CDATA[",this.state=jf):this._ensureHibernation()||(this._err(tt.incorrectlyOpenedComment),this._createCommentToken(),this._reconsumeInState(jf))}[f8](e){e===ve.HYPHEN_MINUS?this.state=c8:e===ve.GREATER_THAN_SIGN?(this._err(tt.abruptClosingOfEmptyComment),this.state=An,this._emitCurrentToken()):this._reconsumeInState(co)}[c8](e){e===ve.HYPHEN_MINUS?this.state=Sd:e===ve.GREATER_THAN_SIGN?(this._err(tt.abruptClosingOfEmptyComment),this.state=An,this._emitCurrentToken()):e===ve.EOF?(this._err(tt.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="-",this._reconsumeInState(co))}[co](e){e===ve.HYPHEN_MINUS?this.state=Ed:e===ve.LESS_THAN_SIGN?(this.currentToken.data+="<",this.state=d8):e===ve.NULL?(this._err(tt.unexpectedNullCharacter),this.currentToken.data+=Yn.REPLACEMENT_CHARACTER):e===ve.EOF?(this._err(tt.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.data+=vi(e)}[d8](e){e===ve.EXCLAMATION_MARK?(this.currentToken.data+="!",this.state=h8):e===ve.LESS_THAN_SIGN?this.currentToken.data+="!":this._reconsumeInState(co)}[h8](e){e===ve.HYPHEN_MINUS?this.state=p8:this._reconsumeInState(co)}[p8](e){e===ve.HYPHEN_MINUS?this.state=m8:this._reconsumeInState(Ed)}[m8](e){e!==ve.GREATER_THAN_SIGN&&e!==ve.EOF&&this._err(tt.nestedComment),this._reconsumeInState(Sd)}[Ed](e){e===ve.HYPHEN_MINUS?this.state=Sd:e===ve.EOF?(this._err(tt.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="-",this._reconsumeInState(co))}[Sd](e){e===ve.GREATER_THAN_SIGN?(this.state=An,this._emitCurrentToken()):e===ve.EXCLAMATION_MARK?this.state=g8:e===ve.HYPHEN_MINUS?this.currentToken.data+="-":e===ve.EOF?(this._err(tt.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="--",this._reconsumeInState(co))}[g8](e){e===ve.HYPHEN_MINUS?(this.currentToken.data+="--!",this.state=Ed):e===ve.GREATER_THAN_SIGN?(this._err(tt.incorrectlyClosedComment),this.state=An,this._emitCurrentToken()):e===ve.EOF?(this._err(tt.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="--!",this._reconsumeInState(co))}[_8](e){si(e)?this.state=Cd:e===ve.GREATER_THAN_SIGN?this._reconsumeInState(Cd):e===ve.EOF?(this._err(tt.eofInDoctype),this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(tt.missingWhitespaceBeforeDoctypeName),this._reconsumeInState(Cd))}[Cd](e){si(e)||(jl(e)?(this._createDoctypeToken(ho(e)),this.state=Ad):e===ve.NULL?(this._err(tt.unexpectedNullCharacter),this._createDoctypeToken(Yn.REPLACEMENT_CHARACTER),this.state=Ad):e===ve.GREATER_THAN_SIGN?(this._err(tt.missingDoctypeName),this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=An):e===ve.EOF?(this._err(tt.eofInDoctype),this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._createDoctypeToken(vi(e)),this.state=Ad))}[Ad](e){si(e)?this.state=b8:e===ve.GREATER_THAN_SIGN?(this.state=An,this._emitCurrentToken()):jl(e)?this.currentToken.name+=ho(e):e===ve.NULL?(this._err(tt.unexpectedNullCharacter),this.currentToken.name+=Yn.REPLACEMENT_CHARACTER):e===ve.EOF?(this._err(tt.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.name+=vi(e)}[b8](e){si(e)||(e===ve.GREATER_THAN_SIGN?(this.state=An,this._emitCurrentToken()):e===ve.EOF?(this._err(tt.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this._consumeSequenceIfMatch(oa.PUBLIC_STRING,e,!1)?this.state=v8:this._consumeSequenceIfMatch(oa.SYSTEM_STRING,e,!1)?this.state=T8:this._ensureHibernation()||(this._err(tt.invalidCharacterSequenceAfterDoctypeName),this.currentToken.forceQuirks=!0,this._reconsumeInState(Ds)))}[v8](e){si(e)?this.state=y8:e===ve.QUOTATION_MARK?(this._err(tt.missingWhitespaceAfterDoctypePublicKeyword),this.currentToken.publicId="",this.state=a0):e===ve.APOSTROPHE?(this._err(tt.missingWhitespaceAfterDoctypePublicKeyword),this.currentToken.publicId="",this.state=u0):e===ve.GREATER_THAN_SIGN?(this._err(tt.missingDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this.state=An,this._emitCurrentToken()):e===ve.EOF?(this._err(tt.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(tt.missingQuoteBeforeDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(Ds))}[y8](e){si(e)||(e===ve.QUOTATION_MARK?(this.currentToken.publicId="",this.state=a0):e===ve.APOSTROPHE?(this.currentToken.publicId="",this.state=u0):e===ve.GREATER_THAN_SIGN?(this._err(tt.missingDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this.state=An,this._emitCurrentToken()):e===ve.EOF?(this._err(tt.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(tt.missingQuoteBeforeDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(Ds)))}[a0](e){e===ve.QUOTATION_MARK?this.state=f0:e===ve.NULL?(this._err(tt.unexpectedNullCharacter),this.currentToken.publicId+=Yn.REPLACEMENT_CHARACTER):e===ve.GREATER_THAN_SIGN?(this._err(tt.abruptDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=An):e===ve.EOF?(this._err(tt.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.publicId+=vi(e)}[u0](e){e===ve.APOSTROPHE?this.state=f0:e===ve.NULL?(this._err(tt.unexpectedNullCharacter),this.currentToken.publicId+=Yn.REPLACEMENT_CHARACTER):e===ve.GREATER_THAN_SIGN?(this._err(tt.abruptDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=An):e===ve.EOF?(this._err(tt.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.publicId+=vi(e)}[f0](e){si(e)?this.state=k8:e===ve.GREATER_THAN_SIGN?(this.state=An,this._emitCurrentToken()):e===ve.QUOTATION_MARK?(this._err(tt.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),this.currentToken.systemId="",this.state=Wf):e===ve.APOSTROPHE?(this._err(tt.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),this.currentToken.systemId="",this.state=Kf):e===ve.EOF?(this._err(tt.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(tt.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(Ds))}[k8](e){si(e)||(e===ve.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=An):e===ve.QUOTATION_MARK?(this.currentToken.systemId="",this.state=Wf):e===ve.APOSTROPHE?(this.currentToken.systemId="",this.state=Kf):e===ve.EOF?(this._err(tt.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(tt.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(Ds)))}[T8](e){si(e)?this.state=w8:e===ve.QUOTATION_MARK?(this._err(tt.missingWhitespaceAfterDoctypeSystemKeyword),this.currentToken.systemId="",this.state=Wf):e===ve.APOSTROPHE?(this._err(tt.missingWhitespaceAfterDoctypeSystemKeyword),this.currentToken.systemId="",this.state=Kf):e===ve.GREATER_THAN_SIGN?(this._err(tt.missingDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this.state=An,this._emitCurrentToken()):e===ve.EOF?(this._err(tt.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(tt.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(Ds))}[w8](e){si(e)||(e===ve.QUOTATION_MARK?(this.currentToken.systemId="",this.state=Wf):e===ve.APOSTROPHE?(this.currentToken.systemId="",this.state=Kf):e===ve.GREATER_THAN_SIGN?(this._err(tt.missingDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this.state=An,this._emitCurrentToken()):e===ve.EOF?(this._err(tt.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(tt.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(Ds)))}[Wf](e){e===ve.QUOTATION_MARK?this.state=c0:e===ve.NULL?(this._err(tt.unexpectedNullCharacter),this.currentToken.systemId+=Yn.REPLACEMENT_CHARACTER):e===ve.GREATER_THAN_SIGN?(this._err(tt.abruptDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=An):e===ve.EOF?(this._err(tt.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.systemId+=vi(e)}[Kf](e){e===ve.APOSTROPHE?this.state=c0:e===ve.NULL?(this._err(tt.unexpectedNullCharacter),this.currentToken.systemId+=Yn.REPLACEMENT_CHARACTER):e===ve.GREATER_THAN_SIGN?(this._err(tt.abruptDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=An):e===ve.EOF?(this._err(tt.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.systemId+=vi(e)}[c0](e){si(e)||(e===ve.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=An):e===ve.EOF?(this._err(tt.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(tt.unexpectedCharacterAfterDoctypeSystemIdentifier),this._reconsumeInState(Ds)))}[Ds](e){e===ve.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=An):e===ve.NULL?this._err(tt.unexpectedNullCharacter):e===ve.EOF&&(this._emitCurrentToken(),this._emitEOFToken())}[Od](e){e===ve.RIGHT_SQUARE_BRACKET?this.state=E8:e===ve.EOF?(this._err(tt.eofInCdata),this._emitEOFToken()):this._emitCodePoint(e)}[E8](e){e===ve.RIGHT_SQUARE_BRACKET?this.state=S8:(this._emitChars("]"),this._reconsumeInState(Od))}[S8](e){e===ve.GREATER_THAN_SIGN?this.state=An:e===ve.RIGHT_SQUARE_BRACKET?this._emitChars("]"):(this._emitChars("]]"),this._reconsumeInState(Od))}[hu](e){this.tempBuff=[ve.AMPERSAND],e===ve.NUMBER_SIGN?(this.tempBuff.push(e),this.state=O8):d0(e)?this._reconsumeInState(C8):(this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState))}[C8](e){const t=this._matchNamedCharacterReference(e);if(this._ensureHibernation())this.tempBuff=[ve.AMPERSAND];else if(t){const i=this.tempBuff[this.tempBuff.length-1]===ve.SEMICOLON;this._isCharacterReferenceAttributeQuirk(i)||(i||this._errOnNextCodePoint(tt.missingSemicolonAfterCharacterReference),this.tempBuff=t),this._flushCodePointsConsumedAsCharacterReference(),this.state=this.returnState}else this._flushCodePointsConsumedAsCharacterReference(),this.state=A8}[A8](e){d0(e)?this._isCharacterReferenceInAttribute()?this.currentAttr.value+=vi(e):this._emitCodePoint(e):(e===ve.SEMICOLON&&this._err(tt.unknownNamedCharacterReference),this._reconsumeInState(this.returnState))}[O8](e){this.charRefCode=0,e===ve.LATIN_SMALL_X||e===ve.LATIN_CAPITAL_X?(this.tempBuff.push(e),this.state=N8):this._reconsumeInState(M8)}[N8](e){Cee(e)?this._reconsumeInState(I8):(this._err(tt.absenceOfDigitsInNumericCharacterReference),this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState))}[M8](e){vc(e)?this._reconsumeInState(L8):(this._err(tt.absenceOfDigitsInNumericCharacterReference),this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState))}[I8](e){aO(e)?this.charRefCode=this.charRefCode*16+e-55:uO(e)?this.charRefCode=this.charRefCode*16+e-87:vc(e)?this.charRefCode=this.charRefCode*16+e-48:e===ve.SEMICOLON?this.state=Vf:(this._err(tt.missingSemicolonAfterCharacterReference),this._reconsumeInState(Vf))}[L8](e){vc(e)?this.charRefCode=this.charRefCode*10+e-48:e===ve.SEMICOLON?this.state=Vf:(this._err(tt.missingSemicolonAfterCharacterReference),this._reconsumeInState(Vf))}[Vf](){if(this.charRefCode===ve.NULL)this._err(tt.nullCharacterReference),this.charRefCode=ve.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(tt.characterReferenceOutsideUnicodeRange),this.charRefCode=ve.REPLACEMENT_CHARACTER;else if(Yn.isSurrogate(this.charRefCode))this._err(tt.surrogateCharacterReference),this.charRefCode=ve.REPLACEMENT_CHARACTER;else if(Yn.isUndefinedCodePoint(this.charRefCode))this._err(tt.noncharacterCharacterReference);else if(Yn.isControlCodePoint(this.charRefCode)||this.charRefCode===ve.CARRIAGE_RETURN){this._err(tt.controlCharacterReference);const e=Eee[this.charRefCode];e&&(this.charRefCode=e)}this.tempBuff=[this.charRefCode],this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState)}};Ml.CHARACTER_TOKEN="CHARACTER_TOKEN";Ml.NULL_CHARACTER_TOKEN="NULL_CHARACTER_TOKEN";Ml.WHITESPACE_CHARACTER_TOKEN="WHITESPACE_CHARACTER_TOKEN";Ml.START_TAG_TOKEN="START_TAG_TOKEN";Ml.END_TAG_TOKEN="END_TAG_TOKEN";Ml.COMMENT_TOKEN="COMMENT_TOKEN";Ml.DOCTYPE_TOKEN="DOCTYPE_TOKEN";Ml.EOF_TOKEN="EOF_TOKEN";Ml.HIBERNATION_TOKEN="HIBERNATION_TOKEN";Ml.MODE={DATA:An,RCDATA:vu,RAWTEXT:lc,SCRIPT_DATA:Bs,PLAINTEXT:oO};Ml.getTokenAttr=function(n,e){for(let t=n.attrs.length-1;t>=0;t--)if(n.attrs[t].name===e)return n.attrs[t].value;return null};var sp=Ml,Ql={};const h0=Ql.NAMESPACES={HTML:"http://www.w3.org/1999/xhtml",MATHML:"http://www.w3.org/1998/Math/MathML",SVG:"http://www.w3.org/2000/svg",XLINK:"http://www.w3.org/1999/xlink",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"};Ql.ATTRS={TYPE:"type",ACTION:"action",ENCODING:"encoding",PROMPT:"prompt",NAME:"name",COLOR:"color",FACE:"face",SIZE:"size"};Ql.DOCUMENT_MODE={NO_QUIRKS:"no-quirks",QUIRKS:"quirks",LIMITED_QUIRKS:"limited-quirks"};const gt=Ql.TAG_NAMES={A:"a",ADDRESS:"address",ANNOTATION_XML:"annotation-xml",APPLET:"applet",AREA:"area",ARTICLE:"article",ASIDE:"aside",B:"b",BASE:"base",BASEFONT:"basefont",BGSOUND:"bgsound",BIG:"big",BLOCKQUOTE:"blockquote",BODY:"body",BR:"br",BUTTON:"button",CAPTION:"caption",CENTER:"center",CODE:"code",COL:"col",COLGROUP:"colgroup",DD:"dd",DESC:"desc",DETAILS:"details",DIALOG:"dialog",DIR:"dir",DIV:"div",DL:"dl",DT:"dt",EM:"em",EMBED:"embed",FIELDSET:"fieldset",FIGCAPTION:"figcaption",FIGURE:"figure",FONT:"font",FOOTER:"footer",FOREIGN_OBJECT:"foreignObject",FORM:"form",FRAME:"frame",FRAMESET:"frameset",H1:"h1",H2:"h2",H3:"h3",H4:"h4",H5:"h5",H6:"h6",HEAD:"head",HEADER:"header",HGROUP:"hgroup",HR:"hr",HTML:"html",I:"i",IMG:"img",IMAGE:"image",INPUT:"input",IFRAME:"iframe",KEYGEN:"keygen",LABEL:"label",LI:"li",LINK:"link",LISTING:"listing",MAIN:"main",MALIGNMARK:"malignmark",MARQUEE:"marquee",MATH:"math",MENU:"menu",META:"meta",MGLYPH:"mglyph",MI:"mi",MO:"mo",MN:"mn",MS:"ms",MTEXT:"mtext",NAV:"nav",NOBR:"nobr",NOFRAMES:"noframes",NOEMBED:"noembed",NOSCRIPT:"noscript",OBJECT:"object",OL:"ol",OPTGROUP:"optgroup",OPTION:"option",P:"p",PARAM:"param",PLAINTEXT:"plaintext",PRE:"pre",RB:"rb",RP:"rp",RT:"rt",RTC:"rtc",RUBY:"ruby",S:"s",SCRIPT:"script",SECTION:"section",SELECT:"select",SOURCE:"source",SMALL:"small",SPAN:"span",STRIKE:"strike",STRONG:"strong",STYLE:"style",SUB:"sub",SUMMARY:"summary",SUP:"sup",TABLE:"table",TBODY:"tbody",TEMPLATE:"template",TEXTAREA:"textarea",TFOOT:"tfoot",TD:"td",TH:"th",THEAD:"thead",TITLE:"title",TR:"tr",TRACK:"track",TT:"tt",U:"u",UL:"ul",SVG:"svg",VAR:"var",WBR:"wbr",XMP:"xmp"};Ql.SPECIAL_ELEMENTS={[h0.HTML]:{[gt.ADDRESS]:!0,[gt.APPLET]:!0,[gt.AREA]:!0,[gt.ARTICLE]:!0,[gt.ASIDE]:!0,[gt.BASE]:!0,[gt.BASEFONT]:!0,[gt.BGSOUND]:!0,[gt.BLOCKQUOTE]:!0,[gt.BODY]:!0,[gt.BR]:!0,[gt.BUTTON]:!0,[gt.CAPTION]:!0,[gt.CENTER]:!0,[gt.COL]:!0,[gt.COLGROUP]:!0,[gt.DD]:!0,[gt.DETAILS]:!0,[gt.DIR]:!0,[gt.DIV]:!0,[gt.DL]:!0,[gt.DT]:!0,[gt.EMBED]:!0,[gt.FIELDSET]:!0,[gt.FIGCAPTION]:!0,[gt.FIGURE]:!0,[gt.FOOTER]:!0,[gt.FORM]:!0,[gt.FRAME]:!0,[gt.FRAMESET]:!0,[gt.H1]:!0,[gt.H2]:!0,[gt.H3]:!0,[gt.H4]:!0,[gt.H5]:!0,[gt.H6]:!0,[gt.HEAD]:!0,[gt.HEADER]:!0,[gt.HGROUP]:!0,[gt.HR]:!0,[gt.HTML]:!0,[gt.IFRAME]:!0,[gt.IMG]:!0,[gt.INPUT]:!0,[gt.LI]:!0,[gt.LINK]:!0,[gt.LISTING]:!0,[gt.MAIN]:!0,[gt.MARQUEE]:!0,[gt.MENU]:!0,[gt.META]:!0,[gt.NAV]:!0,[gt.NOEMBED]:!0,[gt.NOFRAMES]:!0,[gt.NOSCRIPT]:!0,[gt.OBJECT]:!0,[gt.OL]:!0,[gt.P]:!0,[gt.PARAM]:!0,[gt.PLAINTEXT]:!0,[gt.PRE]:!0,[gt.SCRIPT]:!0,[gt.SECTION]:!0,[gt.SELECT]:!0,[gt.SOURCE]:!0,[gt.STYLE]:!0,[gt.SUMMARY]:!0,[gt.TABLE]:!0,[gt.TBODY]:!0,[gt.TD]:!0,[gt.TEMPLATE]:!0,[gt.TEXTAREA]:!0,[gt.TFOOT]:!0,[gt.TH]:!0,[gt.THEAD]:!0,[gt.TITLE]:!0,[gt.TR]:!0,[gt.TRACK]:!0,[gt.UL]:!0,[gt.WBR]:!0,[gt.XMP]:!0},[h0.MATHML]:{[gt.MI]:!0,[gt.MO]:!0,[gt.MN]:!0,[gt.MS]:!0,[gt.MTEXT]:!0,[gt.ANNOTATION_XML]:!0},[h0.SVG]:{[gt.TITLE]:!0,[gt.FOREIGN_OBJECT]:!0,[gt.DESC]:!0}};const fO=Ql,yt=fO.TAG_NAMES,Xn=fO.NAMESPACES;function R8(n){switch(n.length){case 1:return n===yt.P;case 2:return n===yt.RB||n===yt.RP||n===yt.RT||n===yt.DD||n===yt.DT||n===yt.LI;case 3:return n===yt.RTC;case 6:return n===yt.OPTION;case 8:return n===yt.OPTGROUP}return!1}function Aee(n){switch(n.length){case 1:return n===yt.P;case 2:return n===yt.RB||n===yt.RP||n===yt.RT||n===yt.DD||n===yt.DT||n===yt.LI||n===yt.TD||n===yt.TH||n===yt.TR;case 3:return n===yt.RTC;case 5:return n===yt.TBODY||n===yt.TFOOT||n===yt.THEAD;case 6:return n===yt.OPTION;case 7:return n===yt.CAPTION;case 8:return n===yt.OPTGROUP||n===yt.COLGROUP}return!1}function Nd(n,e){switch(n.length){case 2:if(n===yt.TD||n===yt.TH)return e===Xn.HTML;if(n===yt.MI||n===yt.MO||n===yt.MN||n===yt.MS)return e===Xn.MATHML;break;case 4:if(n===yt.HTML)return e===Xn.HTML;if(n===yt.DESC)return e===Xn.SVG;break;case 5:if(n===yt.TABLE)return e===Xn.HTML;if(n===yt.MTEXT)return e===Xn.MATHML;if(n===yt.TITLE)return e===Xn.SVG;break;case 6:return(n===yt.APPLET||n===yt.OBJECT)&&e===Xn.HTML;case 7:return(n===yt.CAPTION||n===yt.MARQUEE)&&e===Xn.HTML;case 8:return n===yt.TEMPLATE&&e===Xn.HTML;case 13:return n===yt.FOREIGN_OBJECT&&e===Xn.SVG;case 14:return n===yt.ANNOTATION_XML&&e===Xn.MATHML}return!1}let Oee=class{constructor(e,t){this.stackTop=-1,this.items=[],this.current=e,this.currentTagName=null,this.currentTmplContent=null,this.tmplCount=0,this.treeAdapter=t}_indexOf(e){let t=-1;for(let i=this.stackTop;i>=0;i--)if(this.items[i]===e){t=i;break}return t}_isInTemplate(){return this.currentTagName===yt.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===Xn.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagName=this.current&&this.treeAdapter.getTagName(this.current),this.currentTmplContent=this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):null}push(e){this.items[++this.stackTop]=e,this._updateCurrentElement(),this._isInTemplate()&&this.tmplCount++}pop(){this.stackTop--,this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this._updateCurrentElement()}replace(e,t){const i=this._indexOf(e);this.items[i]=t,i===this.stackTop&&this._updateCurrentElement()}insertAfter(e,t){const i=this._indexOf(e)+1;this.items.splice(i,0,t),i===++this.stackTop&&this._updateCurrentElement()}popUntilTagNamePopped(e){for(;this.stackTop>-1;){const t=this.currentTagName,i=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),t===e&&i===Xn.HTML)break}}popUntilElementPopped(e){for(;this.stackTop>-1;){const t=this.current;if(this.pop(),t===e)break}}popUntilNumberedHeaderPopped(){for(;this.stackTop>-1;){const e=this.currentTagName,t=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),e===yt.H1||e===yt.H2||e===yt.H3||e===yt.H4||e===yt.H5||e===yt.H6&&t===Xn.HTML)break}}popUntilTableCellPopped(){for(;this.stackTop>-1;){const e=this.currentTagName,t=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),e===yt.TD||e===yt.TH&&t===Xn.HTML)break}}popAllUpToHtmlElement(){this.stackTop=0,this._updateCurrentElement()}clearBackToTableContext(){for(;this.currentTagName!==yt.TABLE&&this.currentTagName!==yt.TEMPLATE&&this.currentTagName!==yt.HTML||this.treeAdapter.getNamespaceURI(this.current)!==Xn.HTML;)this.pop()}clearBackToTableBodyContext(){for(;this.currentTagName!==yt.TBODY&&this.currentTagName!==yt.TFOOT&&this.currentTagName!==yt.THEAD&&this.currentTagName!==yt.TEMPLATE&&this.currentTagName!==yt.HTML||this.treeAdapter.getNamespaceURI(this.current)!==Xn.HTML;)this.pop()}clearBackToTableRowContext(){for(;this.currentTagName!==yt.TR&&this.currentTagName!==yt.TEMPLATE&&this.currentTagName!==yt.HTML||this.treeAdapter.getNamespaceURI(this.current)!==Xn.HTML;)this.pop()}remove(e){for(let t=this.stackTop;t>=0;t--)if(this.items[t]===e){this.items.splice(t,1),this.stackTop--,this._updateCurrentElement();break}}tryPeekProperlyNestedBodyElement(){const e=this.items[1];return e&&this.treeAdapter.getTagName(e)===yt.BODY?e:null}contains(e){return this._indexOf(e)>-1}getCommonAncestor(e){let t=this._indexOf(e);return--t>=0?this.items[t]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.currentTagName===yt.HTML}hasInScope(e){for(let t=this.stackTop;t>=0;t--){const i=this.treeAdapter.getTagName(this.items[t]),r=this.treeAdapter.getNamespaceURI(this.items[t]);if(i===e&&r===Xn.HTML)return!0;if(Nd(i,r))return!1}return!0}hasNumberedHeaderInScope(){for(let e=this.stackTop;e>=0;e--){const t=this.treeAdapter.getTagName(this.items[e]),i=this.treeAdapter.getNamespaceURI(this.items[e]);if((t===yt.H1||t===yt.H2||t===yt.H3||t===yt.H4||t===yt.H5||t===yt.H6)&&i===Xn.HTML)return!0;if(Nd(t,i))return!1}return!0}hasInListItemScope(e){for(let t=this.stackTop;t>=0;t--){const i=this.treeAdapter.getTagName(this.items[t]),r=this.treeAdapter.getNamespaceURI(this.items[t]);if(i===e&&r===Xn.HTML)return!0;if((i===yt.UL||i===yt.OL)&&r===Xn.HTML||Nd(i,r))return!1}return!0}hasInButtonScope(e){for(let t=this.stackTop;t>=0;t--){const i=this.treeAdapter.getTagName(this.items[t]),r=this.treeAdapter.getNamespaceURI(this.items[t]);if(i===e&&r===Xn.HTML)return!0;if(i===yt.BUTTON&&r===Xn.HTML||Nd(i,r))return!1}return!0}hasInTableScope(e){for(let t=this.stackTop;t>=0;t--){const i=this.treeAdapter.getTagName(this.items[t]);if(this.treeAdapter.getNamespaceURI(this.items[t])===Xn.HTML){if(i===e)return!0;if(i===yt.TABLE||i===yt.TEMPLATE||i===yt.HTML)return!1}}return!0}hasTableBodyContextInTableScope(){for(let e=this.stackTop;e>=0;e--){const t=this.treeAdapter.getTagName(this.items[e]);if(this.treeAdapter.getNamespaceURI(this.items[e])===Xn.HTML){if(t===yt.TBODY||t===yt.THEAD||t===yt.TFOOT)return!0;if(t===yt.TABLE||t===yt.HTML)return!1}}return!0}hasInSelectScope(e){for(let t=this.stackTop;t>=0;t--){const i=this.treeAdapter.getTagName(this.items[t]);if(this.treeAdapter.getNamespaceURI(this.items[t])===Xn.HTML){if(i===e)return!0;if(i!==yt.OPTION&&i!==yt.OPTGROUP)return!1}}return!0}generateImpliedEndTags(){for(;R8(this.currentTagName);)this.pop()}generateImpliedEndTagsThoroughly(){for(;Aee(this.currentTagName);)this.pop()}generateImpliedEndTagsWithExclusion(e){for(;R8(this.currentTagName)&&this.currentTagName!==e;)this.pop()}};var Nee=Oee;const Md=3;let j_=class _o{constructor(e){this.length=0,this.entries=[],this.treeAdapter=e,this.bookmark=null}_getNoahArkConditionCandidates(e){const t=[];if(this.length>=Md){const i=this.treeAdapter.getAttrList(e).length,r=this.treeAdapter.getTagName(e),l=this.treeAdapter.getNamespaceURI(e);for(let s=this.length-1;s>=0;s--){const o=this.entries[s];if(o.type===_o.MARKER_ENTRY)break;const a=o.element,u=this.treeAdapter.getAttrList(a);this.treeAdapter.getTagName(a)===r&&this.treeAdapter.getNamespaceURI(a)===l&&u.length===i&&t.push({idx:s,attrs:u})}}return t.length<Md?[]:t}_ensureNoahArkCondition(e){const t=this._getNoahArkConditionCandidates(e);let i=t.length;if(i){const r=this.treeAdapter.getAttrList(e),l=r.length,s=Object.create(null);for(let o=0;o<l;o++){const a=r[o];s[a.name]=a.value}for(let o=0;o<l;o++)for(let a=0;a<i;a++){const u=t[a].attrs[o];if(s[u.name]!==u.value&&(t.splice(a,1),i--),t.length<Md)return}for(let o=i-1;o>=Md-1;o--)this.entries.splice(t[o].idx,1),this.length--}}insertMarker(){this.entries.push({type:_o.MARKER_ENTRY}),this.length++}pushElement(e,t){this._ensureNoahArkCondition(e),this.entries.push({type:_o.ELEMENT_ENTRY,element:e,token:t}),this.length++}insertElementAfterBookmark(e,t){let i=this.length-1;for(;i>=0&&this.entries[i]!==this.bookmark;i--);this.entries.splice(i+1,0,{type:_o.ELEMENT_ENTRY,element:e,token:t}),this.length++}removeEntry(e){for(let t=this.length-1;t>=0;t--)if(this.entries[t]===e){this.entries.splice(t,1),this.length--;break}}clearToLastMarker(){for(;this.length;){const e=this.entries.pop();if(this.length--,e.type===_o.MARKER_ENTRY)break}}getElementEntryInScopeWithTagName(e){for(let t=this.length-1;t>=0;t--){const i=this.entries[t];if(i.type===_o.MARKER_ENTRY)return null;if(this.treeAdapter.getTagName(i.element)===e)return i}return null}getElementEntry(e){for(let t=this.length-1;t>=0;t--){const i=this.entries[t];if(i.type===_o.ELEMENT_ENTRY&&i.element===e)return i}return null}};j_.MARKER_ENTRY="MARKER_ENTRY";j_.ELEMENT_ENTRY="ELEMENT_ENTRY";var Mee=j_;let cO=class{constructor(e){const t={},i=this._getOverriddenMethods(this,t);for(const r of Object.keys(i))typeof i[r]=="function"&&(t[r]=e[r],e[r]=i[r])}_getOverriddenMethods(){throw new Error("Not implemented")}};cO.install=function(n,e,t){n.__mixins||(n.__mixins=[]);for(let r=0;r<n.__mixins.length;r++)if(n.__mixins[r].constructor===e)return n.__mixins[r];const i=new e(n,t);return n.__mixins.push(i),i};var Gs=cO;const Iee=Gs;let Lee=class extends Iee{constructor(e){super(e),this.preprocessor=e,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.offset=0,this.col=0,this.line=1}_getOverriddenMethods(e,t){return{advance(){const i=this.pos+1,r=this.html[i];return e.isEol&&(e.isEol=!1,e.line++,e.lineStartPos=i),(r===`
`||r==="\r"&&this.html[i+1]!==`
`)&&(e.isEol=!0),e.col=i-e.lineStartPos+1,e.offset=e.droppedBufferSize+i,t.advance.call(this)},retreat(){t.retreat.call(this),e.isEol=!1,e.col=this.pos-e.lineStartPos+1},dropParsedChunk(){const i=this.pos;t.dropParsedChunk.call(this);const r=i-this.pos;e.lineStartPos-=r,e.droppedBufferSize+=r,e.offset=e.droppedBufferSize+this.pos}}}};var dO=Lee;const P8=Gs,p0=sp,Dee=dO;let Ree=class extends P8{constructor(e){super(e),this.tokenizer=e,this.posTracker=P8.install(e.preprocessor,Dee),this.currentAttrLocation=null,this.ctLoc=null}_getCurrentLocation(){return{startLine:this.posTracker.line,startCol:this.posTracker.col,startOffset:this.posTracker.offset,endLine:-1,endCol:-1,endOffset:-1}}_attachCurrentAttrLocationInfo(){this.currentAttrLocation.endLine=this.posTracker.line,this.currentAttrLocation.endCol=this.posTracker.col,this.currentAttrLocation.endOffset=this.posTracker.offset;const e=this.tokenizer.currentToken,t=this.tokenizer.currentAttr;e.location.attrs||(e.location.attrs=Object.create(null)),e.location.attrs[t.name]=this.currentAttrLocation}_getOverriddenMethods(e,t){const i={_createStartTagToken(){t._createStartTagToken.call(this),this.currentToken.location=e.ctLoc},_createEndTagToken(){t._createEndTagToken.call(this),this.currentToken.location=e.ctLoc},_createCommentToken(){t._createCommentToken.call(this),this.currentToken.location=e.ctLoc},_createDoctypeToken(r){t._createDoctypeToken.call(this,r),this.currentToken.location=e.ctLoc},_createCharacterToken(r,l){t._createCharacterToken.call(this,r,l),this.currentCharacterToken.location=e.ctLoc},_createEOFToken(){t._createEOFToken.call(this),this.currentToken.location=e._getCurrentLocation()},_createAttr(r){t._createAttr.call(this,r),e.currentAttrLocation=e._getCurrentLocation()},_leaveAttrName(r){t._leaveAttrName.call(this,r),e._attachCurrentAttrLocationInfo()},_leaveAttrValue(r){t._leaveAttrValue.call(this,r),e._attachCurrentAttrLocationInfo()},_emitCurrentToken(){const r=this.currentToken.location;this.currentCharacterToken&&(this.currentCharacterToken.location.endLine=r.startLine,this.currentCharacterToken.location.endCol=r.startCol,this.currentCharacterToken.location.endOffset=r.startOffset),this.currentToken.type===p0.EOF_TOKEN?(r.endLine=r.startLine,r.endCol=r.startCol,r.endOffset=r.startOffset):(r.endLine=e.posTracker.line,r.endCol=e.posTracker.col+1,r.endOffset=e.posTracker.offset+1),t._emitCurrentToken.call(this)},_emitCurrentCharacterToken(){const r=this.currentCharacterToken&&this.currentCharacterToken.location;r&&r.endOffset===-1&&(r.endLine=e.posTracker.line,r.endCol=e.posTracker.col,r.endOffset=e.posTracker.offset),t._emitCurrentCharacterToken.call(this)}};return Object.keys(p0.MODE).forEach(r=>{const l=p0.MODE[r];i[l]=function(s){e.ctLoc=e._getCurrentLocation(),t[l].call(this,s)}}),i}};var hO=Ree;const Pee=Gs;let Fee=class extends Pee{constructor(e,t){super(e),this.onItemPop=t.onItemPop}_getOverriddenMethods(e,t){return{pop(){e.onItemPop(this.current),t.pop.call(this)},popAllUpToHtmlElement(){for(let i=this.stackTop;i>0;i--)e.onItemPop(this.items[i]);t.popAllUpToHtmlElement.call(this)},remove(i){e.onItemPop(this.current),t.remove.call(this,i)}}}};var $ee=Fee;const m0=Gs,F8=sp,Hee=hO,Bee=$ee,xee=Ql,g0=xee.TAG_NAMES;let Uee=class extends m0{constructor(e){super(e),this.parser=e,this.treeAdapter=this.parser.treeAdapter,this.posTracker=null,this.lastStartTagToken=null,this.lastFosterParentingLocation=null,this.currentToken=null}_setStartLocation(e){let t=null;this.lastStartTagToken&&(t=Object.assign({},this.lastStartTagToken.location),t.startTag=this.lastStartTagToken.location),this.treeAdapter.setNodeSourceCodeLocation(e,t)}_setEndLocation(e,t){if(this.treeAdapter.getNodeSourceCodeLocation(e)&&t.location){const r=t.location,l=this.treeAdapter.getTagName(e),s=t.type===F8.END_TAG_TOKEN&&l===t.tagName,o={};s?(o.endTag=Object.assign({},r),o.endLine=r.endLine,o.endCol=r.endCol,o.endOffset=r.endOffset):(o.endLine=r.startLine,o.endCol=r.startCol,o.endOffset=r.startOffset),this.treeAdapter.updateNodeSourceCodeLocation(e,o)}}_getOverriddenMethods(e,t){return{_bootstrap(i,r){t._bootstrap.call(this,i,r),e.lastStartTagToken=null,e.lastFosterParentingLocation=null,e.currentToken=null;const l=m0.install(this.tokenizer,Hee);e.posTracker=l.posTracker,m0.install(this.openElements,Bee,{onItemPop:function(s){e._setEndLocation(s,e.currentToken)}})},_runParsingLoop(i){t._runParsingLoop.call(this,i);for(let r=this.openElements.stackTop;r>=0;r--)e._setEndLocation(this.openElements.items[r],e.currentToken)},_processTokenInForeignContent(i){e.currentToken=i,t._processTokenInForeignContent.call(this,i)},_processToken(i){if(e.currentToken=i,t._processToken.call(this,i),i.type===F8.END_TAG_TOKEN&&(i.tagName===g0.HTML||i.tagName===g0.BODY&&this.openElements.hasInScope(g0.BODY)))for(let l=this.openElements.stackTop;l>=0;l--){const s=this.openElements.items[l];if(this.treeAdapter.getTagName(s)===i.tagName){e._setEndLocation(s,i);break}}},_setDocumentType(i){t._setDocumentType.call(this,i);const r=this.treeAdapter.getChildNodes(this.document),l=r.length;for(let s=0;s<l;s++){const o=r[s];if(this.treeAdapter.isDocumentTypeNode(o)){this.treeAdapter.setNodeSourceCodeLocation(o,i.location);break}}},_attachElementToTree(i){e._setStartLocation(i),e.lastStartTagToken=null,t._attachElementToTree.call(this,i)},_appendElement(i,r){e.lastStartTagToken=i,t._appendElement.call(this,i,r)},_insertElement(i,r){e.lastStartTagToken=i,t._insertElement.call(this,i,r)},_insertTemplate(i){e.lastStartTagToken=i,t._insertTemplate.call(this,i);const r=this.treeAdapter.getTemplateContent(this.openElements.current);this.treeAdapter.setNodeSourceCodeLocation(r,null)},_insertFakeRootElement(){t._insertFakeRootElement.call(this),this.treeAdapter.setNodeSourceCodeLocation(this.openElements.current,null)},_appendCommentNode(i,r){t._appendCommentNode.call(this,i,r);const l=this.treeAdapter.getChildNodes(r),s=l[l.length-1];this.treeAdapter.setNodeSourceCodeLocation(s,i.location)},_findFosterParentingLocation(){return e.lastFosterParentingLocation=t._findFosterParentingLocation.call(this),e.lastFosterParentingLocation},_insertCharacters(i){t._insertCharacters.call(this,i);const r=this._shouldFosterParentOnInsertion(),l=r&&e.lastFosterParentingLocation.parent||this.openElements.currentTmplContent||this.openElements.current,s=this.treeAdapter.getChildNodes(l),o=r&&e.lastFosterParentingLocation.beforeElement?s.indexOf(e.lastFosterParentingLocation.beforeElement)-1:s.length-1,a=s[o];if(this.treeAdapter.getNodeSourceCodeLocation(a)){const{endLine:f,endCol:c,endOffset:h}=i.location;this.treeAdapter.updateNodeSourceCodeLocation(a,{endLine:f,endCol:c,endOffset:h})}else this.treeAdapter.setNodeSourceCodeLocation(a,i.location)}}}};var zee=Uee;const qee=Gs;let jee=class extends qee{constructor(e,t){super(e),this.posTracker=null,this.onParseError=t.onParseError}_setErrorLocation(e){e.startLine=e.endLine=this.posTracker.line,e.startCol=e.endCol=this.posTracker.col,e.startOffset=e.endOffset=this.posTracker.offset}_reportError(e){const t={code:e,startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1};this._setErrorLocation(t),this.onParseError(t)}_getOverriddenMethods(e){return{_err(t){e._reportError(t)}}}};var W_=jee;const Wee=W_,Kee=dO,Vee=Gs;let Gee=class extends Wee{constructor(e,t){super(e,t),this.posTracker=Vee.install(e,Kee),this.lastErrOffset=-1}_reportError(e){this.lastErrOffset!==this.posTracker.offset&&(this.lastErrOffset=this.posTracker.offset,super._reportError(e))}};var Yee=Gee;const Xee=W_,Zee=Yee,Qee=Gs;let Jee=class extends Xee{constructor(e,t){super(e,t);const i=Qee.install(e.preprocessor,Zee,t);this.posTracker=i.posTracker}};var ete=Jee;const tte=W_,nte=ete,ite=hO,$8=Gs;let rte=class extends tte{constructor(e,t){super(e,t),this.opts=t,this.ctLoc=null,this.locBeforeToken=!1}_setErrorLocation(e){this.ctLoc&&(e.startLine=this.ctLoc.startLine,e.startCol=this.ctLoc.startCol,e.startOffset=this.ctLoc.startOffset,e.endLine=this.locBeforeToken?this.ctLoc.startLine:this.ctLoc.endLine,e.endCol=this.locBeforeToken?this.ctLoc.startCol:this.ctLoc.endCol,e.endOffset=this.locBeforeToken?this.ctLoc.startOffset:this.ctLoc.endOffset)}_getOverriddenMethods(e,t){return{_bootstrap(i,r){t._bootstrap.call(this,i,r),$8.install(this.tokenizer,nte,e.opts),$8.install(this.tokenizer,ite)},_processInputToken(i){e.ctLoc=i.location,t._processInputToken.call(this,i)},_err(i,r){e.locBeforeToken=r&&r.beforeToken,e._reportError(i)}}}};var lte=rte,Fn={};const{DOCUMENT_MODE:ste}=Ql;Fn.createDocument=function(){return{nodeName:"#document",mode:ste.NO_QUIRKS,childNodes:[]}};Fn.createDocumentFragment=function(){return{nodeName:"#document-fragment",childNodes:[]}};Fn.createElement=function(n,e,t){return{nodeName:n,tagName:n,attrs:t,namespaceURI:e,childNodes:[],parentNode:null}};Fn.createCommentNode=function(n){return{nodeName:"#comment",data:n,parentNode:null}};const pO=function(n){return{nodeName:"#text",value:n,parentNode:null}},mO=Fn.appendChild=function(n,e){n.childNodes.push(e),e.parentNode=n},ote=Fn.insertBefore=function(n,e,t){const i=n.childNodes.indexOf(t);n.childNodes.splice(i,0,e),e.parentNode=n};Fn.setTemplateContent=function(n,e){n.content=e};Fn.getTemplateContent=function(n){return n.content};Fn.setDocumentType=function(n,e,t,i){let r=null;for(let l=0;l<n.childNodes.length;l++)if(n.childNodes[l].nodeName==="#documentType"){r=n.childNodes[l];break}r?(r.name=e,r.publicId=t,r.systemId=i):mO(n,{nodeName:"#documentType",name:e,publicId:t,systemId:i})};Fn.setDocumentMode=function(n,e){n.mode=e};Fn.getDocumentMode=function(n){return n.mode};Fn.detachNode=function(n){if(n.parentNode){const e=n.parentNode.childNodes.indexOf(n);n.parentNode.childNodes.splice(e,1),n.parentNode=null}};Fn.insertText=function(n,e){if(n.childNodes.length){const t=n.childNodes[n.childNodes.length-1];if(t.nodeName==="#text"){t.value+=e;return}}mO(n,pO(e))};Fn.insertTextBefore=function(n,e,t){const i=n.childNodes[n.childNodes.indexOf(t)-1];i&&i.nodeName==="#text"?i.value+=e:ote(n,pO(e),t)};Fn.adoptAttributes=function(n,e){const t=[];for(let i=0;i<n.attrs.length;i++)t.push(n.attrs[i].name);for(let i=0;i<e.length;i++)t.indexOf(e[i].name)===-1&&n.attrs.push(e[i])};Fn.getFirstChild=function(n){return n.childNodes[0]};Fn.getChildNodes=function(n){return n.childNodes};Fn.getParentNode=function(n){return n.parentNode};Fn.getAttrList=function(n){return n.attrs};Fn.getTagName=function(n){return n.tagName};Fn.getNamespaceURI=function(n){return n.namespaceURI};Fn.getTextNodeContent=function(n){return n.value};Fn.getCommentNodeContent=function(n){return n.data};Fn.getDocumentTypeNodeName=function(n){return n.name};Fn.getDocumentTypeNodePublicId=function(n){return n.publicId};Fn.getDocumentTypeNodeSystemId=function(n){return n.systemId};Fn.isTextNode=function(n){return n.nodeName==="#text"};Fn.isCommentNode=function(n){return n.nodeName==="#comment"};Fn.isDocumentTypeNode=function(n){return n.nodeName==="#documentType"};Fn.isElementNode=function(n){return!!n.tagName};Fn.setNodeSourceCodeLocation=function(n,e){n.sourceCodeLocation=e};Fn.getNodeSourceCodeLocation=function(n){return n.sourceCodeLocation};Fn.updateNodeSourceCodeLocation=function(n,e){n.sourceCodeLocation=Object.assign(n.sourceCodeLocation,e)};var ate=function(e,t){return t=t||Object.create(null),[e,t].reduce((i,r)=>(Object.keys(r).forEach(l=>{i[l]=r[l]}),i),Object.create(null))},op={};const{DOCUMENT_MODE:pu}=Ql,gO="html",ute="about:legacy-compat",fte="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",_O=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],cte=_O.concat(["-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"]),dte=["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"],bO=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],hte=bO.concat(["-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"]);function H8(n){const e=n.indexOf('"')!==-1?"'":'"';return e+n+e}function B8(n,e){for(let t=0;t<e.length;t++)if(n.indexOf(e[t])===0)return!0;return!1}op.isConforming=function(n){return n.name===gO&&n.publicId===null&&(n.systemId===null||n.systemId===ute)};op.getDocumentMode=function(n){if(n.name!==gO)return pu.QUIRKS;const e=n.systemId;if(e&&e.toLowerCase()===fte)return pu.QUIRKS;let t=n.publicId;if(t!==null){if(t=t.toLowerCase(),dte.indexOf(t)>-1)return pu.QUIRKS;let i=e===null?cte:_O;if(B8(t,i))return pu.QUIRKS;if(i=e===null?bO:hte,B8(t,i))return pu.LIMITED_QUIRKS}return pu.NO_QUIRKS};op.serializeContent=function(n,e,t){let i="!DOCTYPE ";return n&&(i+=n),e?i+=" PUBLIC "+H8(e):t&&(i+=" SYSTEM"),t!==null&&(i+=" "+H8(t)),i};var $o={};const _0=sp,K_=Ql,Qt=K_.TAG_NAMES,tr=K_.NAMESPACES,eh=K_.ATTRS,x8={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},pte="definitionurl",mte="definitionURL",gte={attributename:"attributeName",attributetype:"attributeType",basefrequency:"baseFrequency",baseprofile:"baseProfile",calcmode:"calcMode",clippathunits:"clipPathUnits",diffuseconstant:"diffuseConstant",edgemode:"edgeMode",filterunits:"filterUnits",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",limitingconeangle:"limitingConeAngle",markerheight:"markerHeight",markerunits:"markerUnits",markerwidth:"markerWidth",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",numoctaves:"numOctaves",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",refx:"refX",refy:"refY",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",specularconstant:"specularConstant",specularexponent:"specularExponent",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stitchtiles:"stitchTiles",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textlength:"textLength",viewbox:"viewBox",viewtarget:"viewTarget",xchannelselector:"xChannelSelector",ychannelselector:"yChannelSelector",zoomandpan:"zoomAndPan"},_te={"xlink:actuate":{prefix:"xlink",name:"actuate",namespace:tr.XLINK},"xlink:arcrole":{prefix:"xlink",name:"arcrole",namespace:tr.XLINK},"xlink:href":{prefix:"xlink",name:"href",namespace:tr.XLINK},"xlink:role":{prefix:"xlink",name:"role",namespace:tr.XLINK},"xlink:show":{prefix:"xlink",name:"show",namespace:tr.XLINK},"xlink:title":{prefix:"xlink",name:"title",namespace:tr.XLINK},"xlink:type":{prefix:"xlink",name:"type",namespace:tr.XLINK},"xml:base":{prefix:"xml",name:"base",namespace:tr.XML},"xml:lang":{prefix:"xml",name:"lang",namespace:tr.XML},"xml:space":{prefix:"xml",name:"space",namespace:tr.XML},xmlns:{prefix:"",name:"xmlns",namespace:tr.XMLNS},"xmlns:xlink":{prefix:"xmlns",name:"xlink",namespace:tr.XMLNS}},bte=$o.SVG_TAG_NAMES_ADJUSTMENT_MAP={altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient",textpath:"textPath"},vte={[Qt.B]:!0,[Qt.BIG]:!0,[Qt.BLOCKQUOTE]:!0,[Qt.BODY]:!0,[Qt.BR]:!0,[Qt.CENTER]:!0,[Qt.CODE]:!0,[Qt.DD]:!0,[Qt.DIV]:!0,[Qt.DL]:!0,[Qt.DT]:!0,[Qt.EM]:!0,[Qt.EMBED]:!0,[Qt.H1]:!0,[Qt.H2]:!0,[Qt.H3]:!0,[Qt.H4]:!0,[Qt.H5]:!0,[Qt.H6]:!0,[Qt.HEAD]:!0,[Qt.HR]:!0,[Qt.I]:!0,[Qt.IMG]:!0,[Qt.LI]:!0,[Qt.LISTING]:!0,[Qt.MENU]:!0,[Qt.META]:!0,[Qt.NOBR]:!0,[Qt.OL]:!0,[Qt.P]:!0,[Qt.PRE]:!0,[Qt.RUBY]:!0,[Qt.S]:!0,[Qt.SMALL]:!0,[Qt.SPAN]:!0,[Qt.STRONG]:!0,[Qt.STRIKE]:!0,[Qt.SUB]:!0,[Qt.SUP]:!0,[Qt.TABLE]:!0,[Qt.TT]:!0,[Qt.U]:!0,[Qt.UL]:!0,[Qt.VAR]:!0};$o.causesExit=function(n){const e=n.tagName;return e===Qt.FONT&&(_0.getTokenAttr(n,eh.COLOR)!==null||_0.getTokenAttr(n,eh.SIZE)!==null||_0.getTokenAttr(n,eh.FACE)!==null)?!0:vte[e]};$o.adjustTokenMathMLAttrs=function(n){for(let e=0;e<n.attrs.length;e++)if(n.attrs[e].name===pte){n.attrs[e].name=mte;break}};$o.adjustTokenSVGAttrs=function(n){for(let e=0;e<n.attrs.length;e++){const t=gte[n.attrs[e].name];t&&(n.attrs[e].name=t)}};$o.adjustTokenXMLAttrs=function(n){for(let e=0;e<n.attrs.length;e++){const t=_te[n.attrs[e].name];t&&(n.attrs[e].prefix=t.prefix,n.attrs[e].name=t.name,n.attrs[e].namespace=t.namespace)}};$o.adjustTokenSVGTagName=function(n){const e=bte[n.tagName];e&&(n.tagName=e)};function yte(n,e){return e===tr.MATHML&&(n===Qt.MI||n===Qt.MO||n===Qt.MN||n===Qt.MS||n===Qt.MTEXT)}function kte(n,e,t){if(e===tr.MATHML&&n===Qt.ANNOTATION_XML){for(let i=0;i<t.length;i++)if(t[i].name===eh.ENCODING){const r=t[i].value.toLowerCase();return r===x8.TEXT_HTML||r===x8.APPLICATION_XML}}return e===tr.SVG&&(n===Qt.FOREIGN_OBJECT||n===Qt.DESC||n===Qt.TITLE)}$o.isIntegrationPoint=function(n,e,t,i){return!!((!i||i===tr.HTML)&&kte(n,e,t)||(!i||i===tr.MATHML)&&yte(n,e))};const Te=sp,Tte=Nee,U8=Mee,wte=zee,Ete=lte,z8=Gs,Ste=Fn,Cte=ate,q8=op,ps=$o,nr=q_,Ate=Zl,Da=Ql,Y=Da.TAG_NAMES,Ht=Da.NAMESPACES,vO=Da.ATTRS,Ote={scriptingEnabled:!0,sourceCodeLocationInfo:!1,onParseError:null,treeAdapter:Ste},yO="hidden",Nte=8,Mte=3,kO="INITIAL_MODE",V_="BEFORE_HTML_MODE",ap="BEFORE_HEAD_MODE",rf="IN_HEAD_MODE",TO="IN_HEAD_NO_SCRIPT_MODE",up="AFTER_HEAD_MODE",ys="IN_BODY_MODE",Eh="TEXT_MODE",ur="IN_TABLE_MODE",wO="IN_TABLE_TEXT_MODE",fp="IN_CAPTION_MODE",a1="IN_COLUMN_GROUP_MODE",wl="IN_TABLE_BODY_MODE",Ws="IN_ROW_MODE",cp="IN_CELL_MODE",G_="IN_SELECT_MODE",Y_="IN_SELECT_IN_TABLE_MODE",Sh="IN_TEMPLATE_MODE",X_="AFTER_BODY_MODE",dp="IN_FRAMESET_MODE",EO="AFTER_FRAMESET_MODE",SO="AFTER_AFTER_BODY_MODE",CO="AFTER_AFTER_FRAMESET_MODE",Ite={[Y.TR]:Ws,[Y.TBODY]:wl,[Y.THEAD]:wl,[Y.TFOOT]:wl,[Y.CAPTION]:fp,[Y.COLGROUP]:a1,[Y.TABLE]:ur,[Y.BODY]:ys,[Y.FRAMESET]:dp},Lte={[Y.CAPTION]:ur,[Y.COLGROUP]:ur,[Y.TBODY]:ur,[Y.TFOOT]:ur,[Y.THEAD]:ur,[Y.COL]:a1,[Y.TR]:wl,[Y.TD]:Ws,[Y.TH]:Ws},j8={[kO]:{[Te.CHARACTER_TOKEN]:Yf,[Te.NULL_CHARACTER_TOKEN]:Yf,[Te.WHITESPACE_CHARACTER_TOKEN]:Mn,[Te.COMMENT_TOKEN]:Vi,[Te.DOCTYPE_TOKEN]:zte,[Te.START_TAG_TOKEN]:Yf,[Te.END_TAG_TOKEN]:Yf,[Te.EOF_TOKEN]:Yf},[V_]:{[Te.CHARACTER_TOKEN]:yc,[Te.NULL_CHARACTER_TOKEN]:yc,[Te.WHITESPACE_CHARACTER_TOKEN]:Mn,[Te.COMMENT_TOKEN]:Vi,[Te.DOCTYPE_TOKEN]:Mn,[Te.START_TAG_TOKEN]:qte,[Te.END_TAG_TOKEN]:jte,[Te.EOF_TOKEN]:yc},[ap]:{[Te.CHARACTER_TOKEN]:kc,[Te.NULL_CHARACTER_TOKEN]:kc,[Te.WHITESPACE_CHARACTER_TOKEN]:Mn,[Te.COMMENT_TOKEN]:Vi,[Te.DOCTYPE_TOKEN]:Id,[Te.START_TAG_TOKEN]:Wte,[Te.END_TAG_TOKEN]:Kte,[Te.EOF_TOKEN]:kc},[rf]:{[Te.CHARACTER_TOKEN]:Tc,[Te.NULL_CHARACTER_TOKEN]:Tc,[Te.WHITESPACE_CHARACTER_TOKEN]:Hr,[Te.COMMENT_TOKEN]:Vi,[Te.DOCTYPE_TOKEN]:Id,[Te.START_TAG_TOKEN]:Xi,[Te.END_TAG_TOKEN]:Ra,[Te.EOF_TOKEN]:Tc},[TO]:{[Te.CHARACTER_TOKEN]:wc,[Te.NULL_CHARACTER_TOKEN]:wc,[Te.WHITESPACE_CHARACTER_TOKEN]:Hr,[Te.COMMENT_TOKEN]:Vi,[Te.DOCTYPE_TOKEN]:Id,[Te.START_TAG_TOKEN]:Vte,[Te.END_TAG_TOKEN]:Gte,[Te.EOF_TOKEN]:wc},[up]:{[Te.CHARACTER_TOKEN]:Ec,[Te.NULL_CHARACTER_TOKEN]:Ec,[Te.WHITESPACE_CHARACTER_TOKEN]:Hr,[Te.COMMENT_TOKEN]:Vi,[Te.DOCTYPE_TOKEN]:Id,[Te.START_TAG_TOKEN]:Yte,[Te.END_TAG_TOKEN]:Xte,[Te.EOF_TOKEN]:Ec},[ys]:{[Te.CHARACTER_TOKEN]:Ld,[Te.NULL_CHARACTER_TOKEN]:Mn,[Te.WHITESPACE_CHARACTER_TOKEN]:aa,[Te.COMMENT_TOKEN]:Vi,[Te.DOCTYPE_TOKEN]:Mn,[Te.START_TAG_TOKEN]:Jr,[Te.END_TAG_TOKEN]:Z_,[Te.EOF_TOKEN]:Ps},[Eh]:{[Te.CHARACTER_TOKEN]:Hr,[Te.NULL_CHARACTER_TOKEN]:Hr,[Te.WHITESPACE_CHARACTER_TOKEN]:Hr,[Te.COMMENT_TOKEN]:Mn,[Te.DOCTYPE_TOKEN]:Mn,[Te.START_TAG_TOKEN]:Mn,[Te.END_TAG_TOKEN]:Ane,[Te.EOF_TOKEN]:One},[ur]:{[Te.CHARACTER_TOKEN]:Fs,[Te.NULL_CHARACTER_TOKEN]:Fs,[Te.WHITESPACE_CHARACTER_TOKEN]:Fs,[Te.COMMENT_TOKEN]:Vi,[Te.DOCTYPE_TOKEN]:Mn,[Te.START_TAG_TOKEN]:Q_,[Te.END_TAG_TOKEN]:J_,[Te.EOF_TOKEN]:Ps},[wO]:{[Te.CHARACTER_TOKEN]:Hne,[Te.NULL_CHARACTER_TOKEN]:Mn,[Te.WHITESPACE_CHARACTER_TOKEN]:$ne,[Te.COMMENT_TOKEN]:Xf,[Te.DOCTYPE_TOKEN]:Xf,[Te.START_TAG_TOKEN]:Xf,[Te.END_TAG_TOKEN]:Xf,[Te.EOF_TOKEN]:Xf},[fp]:{[Te.CHARACTER_TOKEN]:Ld,[Te.NULL_CHARACTER_TOKEN]:Mn,[Te.WHITESPACE_CHARACTER_TOKEN]:aa,[Te.COMMENT_TOKEN]:Vi,[Te.DOCTYPE_TOKEN]:Mn,[Te.START_TAG_TOKEN]:Bne,[Te.END_TAG_TOKEN]:xne,[Te.EOF_TOKEN]:Ps},[a1]:{[Te.CHARACTER_TOKEN]:Ch,[Te.NULL_CHARACTER_TOKEN]:Ch,[Te.WHITESPACE_CHARACTER_TOKEN]:Hr,[Te.COMMENT_TOKEN]:Vi,[Te.DOCTYPE_TOKEN]:Mn,[Te.START_TAG_TOKEN]:Une,[Te.END_TAG_TOKEN]:zne,[Te.EOF_TOKEN]:Ps},[wl]:{[Te.CHARACTER_TOKEN]:Fs,[Te.NULL_CHARACTER_TOKEN]:Fs,[Te.WHITESPACE_CHARACTER_TOKEN]:Fs,[Te.COMMENT_TOKEN]:Vi,[Te.DOCTYPE_TOKEN]:Mn,[Te.START_TAG_TOKEN]:qne,[Te.END_TAG_TOKEN]:jne,[Te.EOF_TOKEN]:Ps},[Ws]:{[Te.CHARACTER_TOKEN]:Fs,[Te.NULL_CHARACTER_TOKEN]:Fs,[Te.WHITESPACE_CHARACTER_TOKEN]:Fs,[Te.COMMENT_TOKEN]:Vi,[Te.DOCTYPE_TOKEN]:Mn,[Te.START_TAG_TOKEN]:Wne,[Te.END_TAG_TOKEN]:Kne,[Te.EOF_TOKEN]:Ps},[cp]:{[Te.CHARACTER_TOKEN]:Ld,[Te.NULL_CHARACTER_TOKEN]:Mn,[Te.WHITESPACE_CHARACTER_TOKEN]:aa,[Te.COMMENT_TOKEN]:Vi,[Te.DOCTYPE_TOKEN]:Mn,[Te.START_TAG_TOKEN]:Vne,[Te.END_TAG_TOKEN]:Gne,[Te.EOF_TOKEN]:Ps},[G_]:{[Te.CHARACTER_TOKEN]:Hr,[Te.NULL_CHARACTER_TOKEN]:Mn,[Te.WHITESPACE_CHARACTER_TOKEN]:Hr,[Te.COMMENT_TOKEN]:Vi,[Te.DOCTYPE_TOKEN]:Mn,[Te.START_TAG_TOKEN]:AO,[Te.END_TAG_TOKEN]:OO,[Te.EOF_TOKEN]:Ps},[Y_]:{[Te.CHARACTER_TOKEN]:Hr,[Te.NULL_CHARACTER_TOKEN]:Mn,[Te.WHITESPACE_CHARACTER_TOKEN]:Hr,[Te.COMMENT_TOKEN]:Vi,[Te.DOCTYPE_TOKEN]:Mn,[Te.START_TAG_TOKEN]:Yne,[Te.END_TAG_TOKEN]:Xne,[Te.EOF_TOKEN]:Ps},[Sh]:{[Te.CHARACTER_TOKEN]:Ld,[Te.NULL_CHARACTER_TOKEN]:Mn,[Te.WHITESPACE_CHARACTER_TOKEN]:aa,[Te.COMMENT_TOKEN]:Vi,[Te.DOCTYPE_TOKEN]:Mn,[Te.START_TAG_TOKEN]:Zne,[Te.END_TAG_TOKEN]:Qne,[Te.EOF_TOKEN]:NO},[X_]:{[Te.CHARACTER_TOKEN]:Ah,[Te.NULL_CHARACTER_TOKEN]:Ah,[Te.WHITESPACE_CHARACTER_TOKEN]:aa,[Te.COMMENT_TOKEN]:Ute,[Te.DOCTYPE_TOKEN]:Mn,[Te.START_TAG_TOKEN]:Jne,[Te.END_TAG_TOKEN]:eie,[Te.EOF_TOKEN]:Gf},[dp]:{[Te.CHARACTER_TOKEN]:Mn,[Te.NULL_CHARACTER_TOKEN]:Mn,[Te.WHITESPACE_CHARACTER_TOKEN]:Hr,[Te.COMMENT_TOKEN]:Vi,[Te.DOCTYPE_TOKEN]:Mn,[Te.START_TAG_TOKEN]:tie,[Te.END_TAG_TOKEN]:nie,[Te.EOF_TOKEN]:Gf},[EO]:{[Te.CHARACTER_TOKEN]:Mn,[Te.NULL_CHARACTER_TOKEN]:Mn,[Te.WHITESPACE_CHARACTER_TOKEN]:Hr,[Te.COMMENT_TOKEN]:Vi,[Te.DOCTYPE_TOKEN]:Mn,[Te.START_TAG_TOKEN]:iie,[Te.END_TAG_TOKEN]:rie,[Te.EOF_TOKEN]:Gf},[SO]:{[Te.CHARACTER_TOKEN]:th,[Te.NULL_CHARACTER_TOKEN]:th,[Te.WHITESPACE_CHARACTER_TOKEN]:aa,[Te.COMMENT_TOKEN]:W8,[Te.DOCTYPE_TOKEN]:Mn,[Te.START_TAG_TOKEN]:lie,[Te.END_TAG_TOKEN]:th,[Te.EOF_TOKEN]:Gf},[CO]:{[Te.CHARACTER_TOKEN]:Mn,[Te.NULL_CHARACTER_TOKEN]:Mn,[Te.WHITESPACE_CHARACTER_TOKEN]:aa,[Te.COMMENT_TOKEN]:W8,[Te.DOCTYPE_TOKEN]:Mn,[Te.START_TAG_TOKEN]:sie,[Te.END_TAG_TOKEN]:Mn,[Te.EOF_TOKEN]:Gf}};class Dte{constructor(e){this.options=Cte(Ote,e),this.treeAdapter=this.options.treeAdapter,this.pendingScript=null,this.options.sourceCodeLocationInfo&&z8.install(this,wte),this.options.onParseError&&z8.install(this,Ete,{onParseError:this.options.onParseError})}parse(e){const t=this.treeAdapter.createDocument();return this._bootstrap(t,null),this.tokenizer.write(e,!0),this._runParsingLoop(null),t}parseFragment(e,t){t||(t=this.treeAdapter.createElement(Y.TEMPLATE,Ht.HTML,[]));const i=this.treeAdapter.createElement("documentmock",Ht.HTML,[]);this._bootstrap(i,t),this.treeAdapter.getTagName(t)===Y.TEMPLATE&&this._pushTmplInsertionMode(Sh),this._initTokenizerForFragmentParsing(),this._insertFakeRootElement(),this._resetInsertionMode(),this._findFormInFragmentContext(),this.tokenizer.write(e,!0),this._runParsingLoop(null);const r=this.treeAdapter.getFirstChild(i),l=this.treeAdapter.createDocumentFragment();return this._adoptNodes(r,l),l}_bootstrap(e,t){this.tokenizer=new Te(this.options),this.stopped=!1,this.insertionMode=kO,this.originalInsertionMode="",this.document=e,this.fragmentContext=t,this.headElement=null,this.formElement=null,this.openElements=new Tte(this.document,this.treeAdapter),this.activeFormattingElements=new U8(this.treeAdapter),this.tmplInsertionModeStack=[],this.tmplInsertionModeStackTop=-1,this.currentTmplInsertionMode=null,this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1}_err(){}_runParsingLoop(e){for(;!this.stopped;){this._setupTokenizerCDATAMode();const t=this.tokenizer.getNextToken();if(t.type===Te.HIBERNATION_TOKEN)break;if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.type===Te.WHITESPACE_CHARACTER_TOKEN&&t.chars[0]===`
`)){if(t.chars.length===1)continue;t.chars=t.chars.substr(1)}if(this._processInputToken(t),e&&this.pendingScript)break}}runParsingLoopForCurrentChunk(e,t){if(this._runParsingLoop(t),t&&this.pendingScript){const i=this.pendingScript;this.pendingScript=null,t(i);return}e&&e()}_setupTokenizerCDATAMode(){const e=this._getAdjustedCurrentElement();this.tokenizer.allowCDATA=e&&e!==this.document&&this.treeAdapter.getNamespaceURI(e)!==Ht.HTML&&!this._isIntegrationPoint(e)}_switchToTextParsing(e,t){this._insertElement(e,Ht.HTML),this.tokenizer.state=t,this.originalInsertionMode=this.insertionMode,this.insertionMode=Eh}switchToPlaintextParsing(){this.insertionMode=Eh,this.originalInsertionMode=ys,this.tokenizer.state=Te.MODE.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let e=this.fragmentContext;do{if(this.treeAdapter.getTagName(e)===Y.FORM){this.formElement=e;break}e=this.treeAdapter.getParentNode(e)}while(e)}_initTokenizerForFragmentParsing(){if(this.treeAdapter.getNamespaceURI(this.fragmentContext)===Ht.HTML){const e=this.treeAdapter.getTagName(this.fragmentContext);e===Y.TITLE||e===Y.TEXTAREA?this.tokenizer.state=Te.MODE.RCDATA:e===Y.STYLE||e===Y.XMP||e===Y.IFRAME||e===Y.NOEMBED||e===Y.NOFRAMES||e===Y.NOSCRIPT?this.tokenizer.state=Te.MODE.RAWTEXT:e===Y.SCRIPT?this.tokenizer.state=Te.MODE.SCRIPT_DATA:e===Y.PLAINTEXT&&(this.tokenizer.state=Te.MODE.PLAINTEXT)}}_setDocumentType(e){const t=e.name||"",i=e.publicId||"",r=e.systemId||"";this.treeAdapter.setDocumentType(this.document,t,i,r)}_attachElementToTree(e){if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{const t=this.openElements.currentTmplContent||this.openElements.current;this.treeAdapter.appendChild(t,e)}}_appendElement(e,t){const i=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(i)}_insertElement(e,t){const i=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(i),this.openElements.push(i)}_insertFakeElement(e){const t=this.treeAdapter.createElement(e,Ht.HTML,[]);this._attachElementToTree(t),this.openElements.push(t)}_insertTemplate(e){const t=this.treeAdapter.createElement(e.tagName,Ht.HTML,e.attrs),i=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(t,i),this._attachElementToTree(t),this.openElements.push(t)}_insertFakeRootElement(){const e=this.treeAdapter.createElement(Y.HTML,Ht.HTML,[]);this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e)}_appendCommentNode(e,t){const i=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(t,i)}_insertCharacters(e){if(this._shouldFosterParentOnInsertion())this._fosterParentText(e.chars);else{const t=this.openElements.currentTmplContent||this.openElements.current;this.treeAdapter.insertText(t,e.chars)}}_adoptNodes(e,t){for(let i=this.treeAdapter.getFirstChild(e);i;i=this.treeAdapter.getFirstChild(e))this.treeAdapter.detachNode(i),this.treeAdapter.appendChild(t,i)}_shouldProcessTokenInForeignContent(e){const t=this._getAdjustedCurrentElement();if(!t||t===this.document)return!1;const i=this.treeAdapter.getNamespaceURI(t);if(i===Ht.HTML||this.treeAdapter.getTagName(t)===Y.ANNOTATION_XML&&i===Ht.MATHML&&e.type===Te.START_TAG_TOKEN&&e.tagName===Y.SVG)return!1;const r=e.type===Te.CHARACTER_TOKEN||e.type===Te.NULL_CHARACTER_TOKEN||e.type===Te.WHITESPACE_CHARACTER_TOKEN;return(e.type===Te.START_TAG_TOKEN&&e.tagName!==Y.MGLYPH&&e.tagName!==Y.MALIGNMARK||r)&&this._isIntegrationPoint(t,Ht.MATHML)||(e.type===Te.START_TAG_TOKEN||r)&&this._isIntegrationPoint(t,Ht.HTML)?!1:e.type!==Te.EOF_TOKEN}_processToken(e){j8[this.insertionMode][e.type](this,e)}_processTokenInBodyMode(e){j8[ys][e.type](this,e)}_processTokenInForeignContent(e){e.type===Te.CHARACTER_TOKEN?aie(this,e):e.type===Te.NULL_CHARACTER_TOKEN?oie(this,e):e.type===Te.WHITESPACE_CHARACTER_TOKEN?Hr(this,e):e.type===Te.COMMENT_TOKEN?Vi(this,e):e.type===Te.START_TAG_TOKEN?uie(this,e):e.type===Te.END_TAG_TOKEN&&fie(this,e)}_processInputToken(e){this._shouldProcessTokenInForeignContent(e)?this._processTokenInForeignContent(e):this._processToken(e),e.type===Te.START_TAG_TOKEN&&e.selfClosing&&!e.ackSelfClosing&&this._err(nr.nonVoidHtmlElementStartTagWithTrailingSolidus)}_isIntegrationPoint(e,t){const i=this.treeAdapter.getTagName(e),r=this.treeAdapter.getNamespaceURI(e),l=this.treeAdapter.getAttrList(e);return ps.isIntegrationPoint(i,r,l,t)}_reconstructActiveFormattingElements(){const e=this.activeFormattingElements.length;if(e){let t=e,i=null;do if(t--,i=this.activeFormattingElements.entries[t],i.type===U8.MARKER_ENTRY||this.openElements.contains(i.element)){t++;break}while(t>0);for(let r=t;r<e;r++)i=this.activeFormattingElements.entries[r],this._insertElement(i.token,this.treeAdapter.getNamespaceURI(i.element)),i.element=this.openElements.current}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=Ws}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(Y.P),this.openElements.popUntilTagNamePopped(Y.P)}_resetInsertionMode(){for(let e=this.openElements.stackTop,t=!1;e>=0;e--){let i=this.openElements.items[e];e===0&&(t=!0,this.fragmentContext&&(i=this.fragmentContext));const r=this.treeAdapter.getTagName(i),l=Ite[r];if(l){this.insertionMode=l;break}else if(!t&&(r===Y.TD||r===Y.TH)){this.insertionMode=cp;break}else if(!t&&r===Y.HEAD){this.insertionMode=rf;break}else if(r===Y.SELECT){this._resetInsertionModeForSelect(e);break}else if(r===Y.TEMPLATE){this.insertionMode=this.currentTmplInsertionMode;break}else if(r===Y.HTML){this.insertionMode=this.headElement?up:ap;break}else if(t){this.insertionMode=ys;break}}}_resetInsertionModeForSelect(e){if(e>0)for(let t=e-1;t>0;t--){const i=this.openElements.items[t],r=this.treeAdapter.getTagName(i);if(r===Y.TEMPLATE)break;if(r===Y.TABLE){this.insertionMode=Y_;return}}this.insertionMode=G_}_pushTmplInsertionMode(e){this.tmplInsertionModeStack.push(e),this.tmplInsertionModeStackTop++,this.currentTmplInsertionMode=e}_popTmplInsertionMode(){this.tmplInsertionModeStack.pop(),this.tmplInsertionModeStackTop--,this.currentTmplInsertionMode=this.tmplInsertionModeStack[this.tmplInsertionModeStackTop]}_isElementCausesFosterParenting(e){const t=this.treeAdapter.getTagName(e);return t===Y.TABLE||t===Y.TBODY||t===Y.TFOOT||t===Y.THEAD||t===Y.TR}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.current)}_findFosterParentingLocation(){const e={parent:null,beforeElement:null};for(let t=this.openElements.stackTop;t>=0;t--){const i=this.openElements.items[t],r=this.treeAdapter.getTagName(i),l=this.treeAdapter.getNamespaceURI(i);if(r===Y.TEMPLATE&&l===Ht.HTML){e.parent=this.treeAdapter.getTemplateContent(i);break}else if(r===Y.TABLE){e.parent=this.treeAdapter.getParentNode(i),e.parent?e.beforeElement=i:e.parent=this.openElements.items[t-1];break}}return e.parent||(e.parent=this.openElements.items[0]),e}_fosterParentElement(e){const t=this._findFosterParentingLocation();t.beforeElement?this.treeAdapter.insertBefore(t.parent,e,t.beforeElement):this.treeAdapter.appendChild(t.parent,e)}_fosterParentText(e){const t=this._findFosterParentingLocation();t.beforeElement?this.treeAdapter.insertTextBefore(t.parent,e,t.beforeElement):this.treeAdapter.insertText(t.parent,e)}_isSpecialElement(e){const t=this.treeAdapter.getTagName(e),i=this.treeAdapter.getNamespaceURI(e);return Da.SPECIAL_ELEMENTS[i][t]}}var Rte=Dte;function Pte(n,e){let t=n.activeFormattingElements.getElementEntryInScopeWithTagName(e.tagName);return t?n.openElements.contains(t.element)?n.openElements.hasInScope(e.tagName)||(t=null):(n.activeFormattingElements.removeEntry(t),t=null):Wl(n,e),t}function Fte(n,e){let t=null;for(let i=n.openElements.stackTop;i>=0;i--){const r=n.openElements.items[i];if(r===e.element)break;n._isSpecialElement(r)&&(t=r)}return t||(n.openElements.popUntilElementPopped(e.element),n.activeFormattingElements.removeEntry(e)),t}function $te(n,e,t){let i=e,r=n.openElements.getCommonAncestor(e);for(let l=0,s=r;s!==t;l++,s=r){r=n.openElements.getCommonAncestor(s);const o=n.activeFormattingElements.getElementEntry(s),a=o&&l>=Mte;!o||a?(a&&n.activeFormattingElements.removeEntry(o),n.openElements.remove(s)):(s=Hte(n,o),i===e&&(n.activeFormattingElements.bookmark=o),n.treeAdapter.detachNode(i),n.treeAdapter.appendChild(s,i),i=s)}return i}function Hte(n,e){const t=n.treeAdapter.getNamespaceURI(e.element),i=n.treeAdapter.createElement(e.token.tagName,t,e.token.attrs);return n.openElements.replace(e.element,i),e.element=i,i}function Bte(n,e,t){if(n._isElementCausesFosterParenting(e))n._fosterParentElement(t);else{const i=n.treeAdapter.getTagName(e),r=n.treeAdapter.getNamespaceURI(e);i===Y.TEMPLATE&&r===Ht.HTML&&(e=n.treeAdapter.getTemplateContent(e)),n.treeAdapter.appendChild(e,t)}}function xte(n,e,t){const i=n.treeAdapter.getNamespaceURI(t.element),r=t.token,l=n.treeAdapter.createElement(r.tagName,i,r.attrs);n._adoptNodes(e,l),n.treeAdapter.appendChild(e,l),n.activeFormattingElements.insertElementAfterBookmark(l,t.token),n.activeFormattingElements.removeEntry(t),n.openElements.remove(t.element),n.openElements.insertAfter(e,l)}function ko(n,e){let t;for(let i=0;i<Nte&&(t=Pte(n,e),!!t);i++){const r=Fte(n,t);if(!r)break;n.activeFormattingElements.bookmark=t;const l=$te(n,r,t.element),s=n.openElements.getCommonAncestor(t.element);n.treeAdapter.detachNode(l),Bte(n,s,l),xte(n,r,t)}}function Mn(){}function Id(n){n._err(nr.misplacedDoctype)}function Vi(n,e){n._appendCommentNode(e,n.openElements.currentTmplContent||n.openElements.current)}function Ute(n,e){n._appendCommentNode(e,n.openElements.items[0])}function W8(n,e){n._appendCommentNode(e,n.document)}function Hr(n,e){n._insertCharacters(e)}function Gf(n){n.stopped=!0}function zte(n,e){n._setDocumentType(e);const t=e.forceQuirks?Da.DOCUMENT_MODE.QUIRKS:q8.getDocumentMode(e);q8.isConforming(e)||n._err(nr.nonConformingDoctype),n.treeAdapter.setDocumentMode(n.document,t),n.insertionMode=V_}function Yf(n,e){n._err(nr.missingDoctype,{beforeToken:!0}),n.treeAdapter.setDocumentMode(n.document,Da.DOCUMENT_MODE.QUIRKS),n.insertionMode=V_,n._processToken(e)}function qte(n,e){e.tagName===Y.HTML?(n._insertElement(e,Ht.HTML),n.insertionMode=ap):yc(n,e)}function jte(n,e){const t=e.tagName;(t===Y.HTML||t===Y.HEAD||t===Y.BODY||t===Y.BR)&&yc(n,e)}function yc(n,e){n._insertFakeRootElement(),n.insertionMode=ap,n._processToken(e)}function Wte(n,e){const t=e.tagName;t===Y.HTML?Jr(n,e):t===Y.HEAD?(n._insertElement(e,Ht.HTML),n.headElement=n.openElements.current,n.insertionMode=rf):kc(n,e)}function Kte(n,e){const t=e.tagName;t===Y.HEAD||t===Y.BODY||t===Y.HTML||t===Y.BR?kc(n,e):n._err(nr.endTagWithoutMatchingOpenElement)}function kc(n,e){n._insertFakeElement(Y.HEAD),n.headElement=n.openElements.current,n.insertionMode=rf,n._processToken(e)}function Xi(n,e){const t=e.tagName;t===Y.HTML?Jr(n,e):t===Y.BASE||t===Y.BASEFONT||t===Y.BGSOUND||t===Y.LINK||t===Y.META?(n._appendElement(e,Ht.HTML),e.ackSelfClosing=!0):t===Y.TITLE?n._switchToTextParsing(e,Te.MODE.RCDATA):t===Y.NOSCRIPT?n.options.scriptingEnabled?n._switchToTextParsing(e,Te.MODE.RAWTEXT):(n._insertElement(e,Ht.HTML),n.insertionMode=TO):t===Y.NOFRAMES||t===Y.STYLE?n._switchToTextParsing(e,Te.MODE.RAWTEXT):t===Y.SCRIPT?n._switchToTextParsing(e,Te.MODE.SCRIPT_DATA):t===Y.TEMPLATE?(n._insertTemplate(e,Ht.HTML),n.activeFormattingElements.insertMarker(),n.framesetOk=!1,n.insertionMode=Sh,n._pushTmplInsertionMode(Sh)):t===Y.HEAD?n._err(nr.misplacedStartTagForHeadElement):Tc(n,e)}function Ra(n,e){const t=e.tagName;t===Y.HEAD?(n.openElements.pop(),n.insertionMode=up):t===Y.BODY||t===Y.BR||t===Y.HTML?Tc(n,e):t===Y.TEMPLATE&&n.openElements.tmplCount>0?(n.openElements.generateImpliedEndTagsThoroughly(),n.openElements.currentTagName!==Y.TEMPLATE&&n._err(nr.closingOfElementWithOpenChildElements),n.openElements.popUntilTagNamePopped(Y.TEMPLATE),n.activeFormattingElements.clearToLastMarker(),n._popTmplInsertionMode(),n._resetInsertionMode()):n._err(nr.endTagWithoutMatchingOpenElement)}function Tc(n,e){n.openElements.pop(),n.insertionMode=up,n._processToken(e)}function Vte(n,e){const t=e.tagName;t===Y.HTML?Jr(n,e):t===Y.BASEFONT||t===Y.BGSOUND||t===Y.HEAD||t===Y.LINK||t===Y.META||t===Y.NOFRAMES||t===Y.STYLE?Xi(n,e):t===Y.NOSCRIPT?n._err(nr.nestedNoscriptInHead):wc(n,e)}function Gte(n,e){const t=e.tagName;t===Y.NOSCRIPT?(n.openElements.pop(),n.insertionMode=rf):t===Y.BR?wc(n,e):n._err(nr.endTagWithoutMatchingOpenElement)}function wc(n,e){const t=e.type===Te.EOF_TOKEN?nr.openElementsLeftAfterEof:nr.disallowedContentInNoscriptInHead;n._err(t),n.openElements.pop(),n.insertionMode=rf,n._processToken(e)}function Yte(n,e){const t=e.tagName;t===Y.HTML?Jr(n,e):t===Y.BODY?(n._insertElement(e,Ht.HTML),n.framesetOk=!1,n.insertionMode=ys):t===Y.FRAMESET?(n._insertElement(e,Ht.HTML),n.insertionMode=dp):t===Y.BASE||t===Y.BASEFONT||t===Y.BGSOUND||t===Y.LINK||t===Y.META||t===Y.NOFRAMES||t===Y.SCRIPT||t===Y.STYLE||t===Y.TEMPLATE||t===Y.TITLE?(n._err(nr.abandonedHeadElementChild),n.openElements.push(n.headElement),Xi(n,e),n.openElements.remove(n.headElement)):t===Y.HEAD?n._err(nr.misplacedStartTagForHeadElement):Ec(n,e)}function Xte(n,e){const t=e.tagName;t===Y.BODY||t===Y.HTML||t===Y.BR?Ec(n,e):t===Y.TEMPLATE?Ra(n,e):n._err(nr.endTagWithoutMatchingOpenElement)}function Ec(n,e){n._insertFakeElement(Y.BODY),n.insertionMode=ys,n._processToken(e)}function aa(n,e){n._reconstructActiveFormattingElements(),n._insertCharacters(e)}function Ld(n,e){n._reconstructActiveFormattingElements(),n._insertCharacters(e),n.framesetOk=!1}function Zte(n,e){n.openElements.tmplCount===0&&n.treeAdapter.adoptAttributes(n.openElements.items[0],e.attrs)}function Qte(n,e){const t=n.openElements.tryPeekProperlyNestedBodyElement();t&&n.openElements.tmplCount===0&&(n.framesetOk=!1,n.treeAdapter.adoptAttributes(t,e.attrs))}function Jte(n,e){const t=n.openElements.tryPeekProperlyNestedBodyElement();n.framesetOk&&t&&(n.treeAdapter.detachNode(t),n.openElements.popAllUpToHtmlElement(),n._insertElement(e,Ht.HTML),n.insertionMode=dp)}function Rs(n,e){n.openElements.hasInButtonScope(Y.P)&&n._closePElement(),n._insertElement(e,Ht.HTML)}function ene(n,e){n.openElements.hasInButtonScope(Y.P)&&n._closePElement();const t=n.openElements.currentTagName;(t===Y.H1||t===Y.H2||t===Y.H3||t===Y.H4||t===Y.H5||t===Y.H6)&&n.openElements.pop(),n._insertElement(e,Ht.HTML)}function K8(n,e){n.openElements.hasInButtonScope(Y.P)&&n._closePElement(),n._insertElement(e,Ht.HTML),n.skipNextNewLine=!0,n.framesetOk=!1}function tne(n,e){const t=n.openElements.tmplCount>0;(!n.formElement||t)&&(n.openElements.hasInButtonScope(Y.P)&&n._closePElement(),n._insertElement(e,Ht.HTML),t||(n.formElement=n.openElements.current))}function nne(n,e){n.framesetOk=!1;const t=e.tagName;for(let i=n.openElements.stackTop;i>=0;i--){const r=n.openElements.items[i],l=n.treeAdapter.getTagName(r);let s=null;if(t===Y.LI&&l===Y.LI?s=Y.LI:(t===Y.DD||t===Y.DT)&&(l===Y.DD||l===Y.DT)&&(s=l),s){n.openElements.generateImpliedEndTagsWithExclusion(s),n.openElements.popUntilTagNamePopped(s);break}if(l!==Y.ADDRESS&&l!==Y.DIV&&l!==Y.P&&n._isSpecialElement(r))break}n.openElements.hasInButtonScope(Y.P)&&n._closePElement(),n._insertElement(e,Ht.HTML)}function ine(n,e){n.openElements.hasInButtonScope(Y.P)&&n._closePElement(),n._insertElement(e,Ht.HTML),n.tokenizer.state=Te.MODE.PLAINTEXT}function rne(n,e){n.openElements.hasInScope(Y.BUTTON)&&(n.openElements.generateImpliedEndTags(),n.openElements.popUntilTagNamePopped(Y.BUTTON)),n._reconstructActiveFormattingElements(),n._insertElement(e,Ht.HTML),n.framesetOk=!1}function lne(n,e){const t=n.activeFormattingElements.getElementEntryInScopeWithTagName(Y.A);t&&(ko(n,e),n.openElements.remove(t.element),n.activeFormattingElements.removeEntry(t)),n._reconstructActiveFormattingElements(),n._insertElement(e,Ht.HTML),n.activeFormattingElements.pushElement(n.openElements.current,e)}function mu(n,e){n._reconstructActiveFormattingElements(),n._insertElement(e,Ht.HTML),n.activeFormattingElements.pushElement(n.openElements.current,e)}function sne(n,e){n._reconstructActiveFormattingElements(),n.openElements.hasInScope(Y.NOBR)&&(ko(n,e),n._reconstructActiveFormattingElements()),n._insertElement(e,Ht.HTML),n.activeFormattingElements.pushElement(n.openElements.current,e)}function V8(n,e){n._reconstructActiveFormattingElements(),n._insertElement(e,Ht.HTML),n.activeFormattingElements.insertMarker(),n.framesetOk=!1}function one(n,e){n.treeAdapter.getDocumentMode(n.document)!==Da.DOCUMENT_MODE.QUIRKS&&n.openElements.hasInButtonScope(Y.P)&&n._closePElement(),n._insertElement(e,Ht.HTML),n.framesetOk=!1,n.insertionMode=ur}function yu(n,e){n._reconstructActiveFormattingElements(),n._appendElement(e,Ht.HTML),n.framesetOk=!1,e.ackSelfClosing=!0}function ane(n,e){n._reconstructActiveFormattingElements(),n._appendElement(e,Ht.HTML);const t=Te.getTokenAttr(e,vO.TYPE);(!t||t.toLowerCase()!==yO)&&(n.framesetOk=!1),e.ackSelfClosing=!0}function G8(n,e){n._appendElement(e,Ht.HTML),e.ackSelfClosing=!0}function une(n,e){n.openElements.hasInButtonScope(Y.P)&&n._closePElement(),n._appendElement(e,Ht.HTML),n.framesetOk=!1,e.ackSelfClosing=!0}function fne(n,e){e.tagName=Y.IMG,yu(n,e)}function cne(n,e){n._insertElement(e,Ht.HTML),n.skipNextNewLine=!0,n.tokenizer.state=Te.MODE.RCDATA,n.originalInsertionMode=n.insertionMode,n.framesetOk=!1,n.insertionMode=Eh}function dne(n,e){n.openElements.hasInButtonScope(Y.P)&&n._closePElement(),n._reconstructActiveFormattingElements(),n.framesetOk=!1,n._switchToTextParsing(e,Te.MODE.RAWTEXT)}function hne(n,e){n.framesetOk=!1,n._switchToTextParsing(e,Te.MODE.RAWTEXT)}function Y8(n,e){n._switchToTextParsing(e,Te.MODE.RAWTEXT)}function pne(n,e){n._reconstructActiveFormattingElements(),n._insertElement(e,Ht.HTML),n.framesetOk=!1,n.insertionMode===ur||n.insertionMode===fp||n.insertionMode===wl||n.insertionMode===Ws||n.insertionMode===cp?n.insertionMode=Y_:n.insertionMode=G_}function X8(n,e){n.openElements.currentTagName===Y.OPTION&&n.openElements.pop(),n._reconstructActiveFormattingElements(),n._insertElement(e,Ht.HTML)}function Z8(n,e){n.openElements.hasInScope(Y.RUBY)&&n.openElements.generateImpliedEndTags(),n._insertElement(e,Ht.HTML)}function mne(n,e){n.openElements.hasInScope(Y.RUBY)&&n.openElements.generateImpliedEndTagsWithExclusion(Y.RTC),n._insertElement(e,Ht.HTML)}function gne(n,e){n.openElements.hasInButtonScope(Y.P)&&n._closePElement(),n._insertElement(e,Ht.HTML)}function _ne(n,e){n._reconstructActiveFormattingElements(),ps.adjustTokenMathMLAttrs(e),ps.adjustTokenXMLAttrs(e),e.selfClosing?n._appendElement(e,Ht.MATHML):n._insertElement(e,Ht.MATHML),e.ackSelfClosing=!0}function bne(n,e){n._reconstructActiveFormattingElements(),ps.adjustTokenSVGAttrs(e),ps.adjustTokenXMLAttrs(e),e.selfClosing?n._appendElement(e,Ht.SVG):n._insertElement(e,Ht.SVG),e.ackSelfClosing=!0}function ml(n,e){n._reconstructActiveFormattingElements(),n._insertElement(e,Ht.HTML)}function Jr(n,e){const t=e.tagName;switch(t.length){case 1:t===Y.I||t===Y.S||t===Y.B||t===Y.U?mu(n,e):t===Y.P?Rs(n,e):t===Y.A?lne(n,e):ml(n,e);break;case 2:t===Y.DL||t===Y.OL||t===Y.UL?Rs(n,e):t===Y.H1||t===Y.H2||t===Y.H3||t===Y.H4||t===Y.H5||t===Y.H6?ene(n,e):t===Y.LI||t===Y.DD||t===Y.DT?nne(n,e):t===Y.EM||t===Y.TT?mu(n,e):t===Y.BR?yu(n,e):t===Y.HR?une(n,e):t===Y.RB?Z8(n,e):t===Y.RT||t===Y.RP?mne(n,e):t!==Y.TH&&t!==Y.TD&&t!==Y.TR&&ml(n,e);break;case 3:t===Y.DIV||t===Y.DIR||t===Y.NAV?Rs(n,e):t===Y.PRE?K8(n,e):t===Y.BIG?mu(n,e):t===Y.IMG||t===Y.WBR?yu(n,e):t===Y.XMP?dne(n,e):t===Y.SVG?bne(n,e):t===Y.RTC?Z8(n,e):t!==Y.COL&&ml(n,e);break;case 4:t===Y.HTML?Zte(n,e):t===Y.BASE||t===Y.LINK||t===Y.META?Xi(n,e):t===Y.BODY?Qte(n,e):t===Y.MAIN||t===Y.MENU?Rs(n,e):t===Y.FORM?tne(n,e):t===Y.CODE||t===Y.FONT?mu(n,e):t===Y.NOBR?sne(n,e):t===Y.AREA?yu(n,e):t===Y.MATH?_ne(n,e):t===Y.MENU?gne(n,e):t!==Y.HEAD&&ml(n,e);break;case 5:t===Y.STYLE||t===Y.TITLE?Xi(n,e):t===Y.ASIDE?Rs(n,e):t===Y.SMALL?mu(n,e):t===Y.TABLE?one(n,e):t===Y.EMBED?yu(n,e):t===Y.INPUT?ane(n,e):t===Y.PARAM||t===Y.TRACK?G8(n,e):t===Y.IMAGE?fne(n,e):t!==Y.FRAME&&t!==Y.TBODY&&t!==Y.TFOOT&&t!==Y.THEAD&&ml(n,e);break;case 6:t===Y.SCRIPT?Xi(n,e):t===Y.CENTER||t===Y.FIGURE||t===Y.FOOTER||t===Y.HEADER||t===Y.HGROUP||t===Y.DIALOG?Rs(n,e):t===Y.BUTTON?rne(n,e):t===Y.STRIKE||t===Y.STRONG?mu(n,e):t===Y.APPLET||t===Y.OBJECT?V8(n,e):t===Y.KEYGEN?yu(n,e):t===Y.SOURCE?G8(n,e):t===Y.IFRAME?hne(n,e):t===Y.SELECT?pne(n,e):t===Y.OPTION?X8(n,e):ml(n,e);break;case 7:t===Y.BGSOUND?Xi(n,e):t===Y.DETAILS||t===Y.ADDRESS||t===Y.ARTICLE||t===Y.SECTION||t===Y.SUMMARY?Rs(n,e):t===Y.LISTING?K8(n,e):t===Y.MARQUEE?V8(n,e):t===Y.NOEMBED?Y8(n,e):t!==Y.CAPTION&&ml(n,e);break;case 8:t===Y.BASEFONT?Xi(n,e):t===Y.FRAMESET?Jte(n,e):t===Y.FIELDSET?Rs(n,e):t===Y.TEXTAREA?cne(n,e):t===Y.TEMPLATE?Xi(n,e):t===Y.NOSCRIPT?n.options.scriptingEnabled?Y8(n,e):ml(n,e):t===Y.OPTGROUP?X8(n,e):t!==Y.COLGROUP&&ml(n,e);break;case 9:t===Y.PLAINTEXT?ine(n,e):ml(n,e);break;case 10:t===Y.BLOCKQUOTE||t===Y.FIGCAPTION?Rs(n,e):ml(n,e);break;default:ml(n,e)}}function vne(n){n.openElements.hasInScope(Y.BODY)&&(n.insertionMode=X_)}function yne(n,e){n.openElements.hasInScope(Y.BODY)&&(n.insertionMode=X_,n._processToken(e))}function po(n,e){const t=e.tagName;n.openElements.hasInScope(t)&&(n.openElements.generateImpliedEndTags(),n.openElements.popUntilTagNamePopped(t))}function kne(n){const e=n.openElements.tmplCount>0,t=n.formElement;e||(n.formElement=null),(t||e)&&n.openElements.hasInScope(Y.FORM)&&(n.openElements.generateImpliedEndTags(),e?n.openElements.popUntilTagNamePopped(Y.FORM):n.openElements.remove(t))}function Tne(n){n.openElements.hasInButtonScope(Y.P)||n._insertFakeElement(Y.P),n._closePElement()}function wne(n){n.openElements.hasInListItemScope(Y.LI)&&(n.openElements.generateImpliedEndTagsWithExclusion(Y.LI),n.openElements.popUntilTagNamePopped(Y.LI))}function Ene(n,e){const t=e.tagName;n.openElements.hasInScope(t)&&(n.openElements.generateImpliedEndTagsWithExclusion(t),n.openElements.popUntilTagNamePopped(t))}function Sne(n){n.openElements.hasNumberedHeaderInScope()&&(n.openElements.generateImpliedEndTags(),n.openElements.popUntilNumberedHeaderPopped())}function Q8(n,e){const t=e.tagName;n.openElements.hasInScope(t)&&(n.openElements.generateImpliedEndTags(),n.openElements.popUntilTagNamePopped(t),n.activeFormattingElements.clearToLastMarker())}function Cne(n){n._reconstructActiveFormattingElements(),n._insertFakeElement(Y.BR),n.openElements.pop(),n.framesetOk=!1}function Wl(n,e){const t=e.tagName;for(let i=n.openElements.stackTop;i>0;i--){const r=n.openElements.items[i];if(n.treeAdapter.getTagName(r)===t){n.openElements.generateImpliedEndTagsWithExclusion(t),n.openElements.popUntilElementPopped(r);break}if(n._isSpecialElement(r))break}}function Z_(n,e){const t=e.tagName;switch(t.length){case 1:t===Y.A||t===Y.B||t===Y.I||t===Y.S||t===Y.U?ko(n,e):t===Y.P?Tne(n):Wl(n,e);break;case 2:t===Y.DL||t===Y.UL||t===Y.OL?po(n,e):t===Y.LI?wne(n):t===Y.DD||t===Y.DT?Ene(n,e):t===Y.H1||t===Y.H2||t===Y.H3||t===Y.H4||t===Y.H5||t===Y.H6?Sne(n):t===Y.BR?Cne(n):t===Y.EM||t===Y.TT?ko(n,e):Wl(n,e);break;case 3:t===Y.BIG?ko(n,e):t===Y.DIR||t===Y.DIV||t===Y.NAV||t===Y.PRE?po(n,e):Wl(n,e);break;case 4:t===Y.BODY?vne(n):t===Y.HTML?yne(n,e):t===Y.FORM?kne(n):t===Y.CODE||t===Y.FONT||t===Y.NOBR?ko(n,e):t===Y.MAIN||t===Y.MENU?po(n,e):Wl(n,e);break;case 5:t===Y.ASIDE?po(n,e):t===Y.SMALL?ko(n,e):Wl(n,e);break;case 6:t===Y.CENTER||t===Y.FIGURE||t===Y.FOOTER||t===Y.HEADER||t===Y.HGROUP||t===Y.DIALOG?po(n,e):t===Y.APPLET||t===Y.OBJECT?Q8(n,e):t===Y.STRIKE||t===Y.STRONG?ko(n,e):Wl(n,e);break;case 7:t===Y.ADDRESS||t===Y.ARTICLE||t===Y.DETAILS||t===Y.SECTION||t===Y.SUMMARY||t===Y.LISTING?po(n,e):t===Y.MARQUEE?Q8(n,e):Wl(n,e);break;case 8:t===Y.FIELDSET?po(n,e):t===Y.TEMPLATE?Ra(n,e):Wl(n,e);break;case 10:t===Y.BLOCKQUOTE||t===Y.FIGCAPTION?po(n,e):Wl(n,e);break;default:Wl(n,e)}}function Ps(n,e){n.tmplInsertionModeStackTop>-1?NO(n,e):n.stopped=!0}function Ane(n,e){e.tagName===Y.SCRIPT&&(n.pendingScript=n.openElements.current),n.openElements.pop(),n.insertionMode=n.originalInsertionMode}function One(n,e){n._err(nr.eofInElementThatCanContainOnlyText),n.openElements.pop(),n.insertionMode=n.originalInsertionMode,n._processToken(e)}function Fs(n,e){const t=n.openElements.currentTagName;t===Y.TABLE||t===Y.TBODY||t===Y.TFOOT||t===Y.THEAD||t===Y.TR?(n.pendingCharacterTokens=[],n.hasNonWhitespacePendingCharacterToken=!1,n.originalInsertionMode=n.insertionMode,n.insertionMode=wO,n._processToken(e)):_l(n,e)}function Nne(n,e){n.openElements.clearBackToTableContext(),n.activeFormattingElements.insertMarker(),n._insertElement(e,Ht.HTML),n.insertionMode=fp}function Mne(n,e){n.openElements.clearBackToTableContext(),n._insertElement(e,Ht.HTML),n.insertionMode=a1}function Ine(n,e){n.openElements.clearBackToTableContext(),n._insertFakeElement(Y.COLGROUP),n.insertionMode=a1,n._processToken(e)}function Lne(n,e){n.openElements.clearBackToTableContext(),n._insertElement(e,Ht.HTML),n.insertionMode=wl}function Dne(n,e){n.openElements.clearBackToTableContext(),n._insertFakeElement(Y.TBODY),n.insertionMode=wl,n._processToken(e)}function Rne(n,e){n.openElements.hasInTableScope(Y.TABLE)&&(n.openElements.popUntilTagNamePopped(Y.TABLE),n._resetInsertionMode(),n._processToken(e))}function Pne(n,e){const t=Te.getTokenAttr(e,vO.TYPE);t&&t.toLowerCase()===yO?n._appendElement(e,Ht.HTML):_l(n,e),e.ackSelfClosing=!0}function Fne(n,e){!n.formElement&&n.openElements.tmplCount===0&&(n._insertElement(e,Ht.HTML),n.formElement=n.openElements.current,n.openElements.pop())}function Q_(n,e){const t=e.tagName;switch(t.length){case 2:t===Y.TD||t===Y.TH||t===Y.TR?Dne(n,e):_l(n,e);break;case 3:t===Y.COL?Ine(n,e):_l(n,e);break;case 4:t===Y.FORM?Fne(n,e):_l(n,e);break;case 5:t===Y.TABLE?Rne(n,e):t===Y.STYLE?Xi(n,e):t===Y.TBODY||t===Y.TFOOT||t===Y.THEAD?Lne(n,e):t===Y.INPUT?Pne(n,e):_l(n,e);break;case 6:t===Y.SCRIPT?Xi(n,e):_l(n,e);break;case 7:t===Y.CAPTION?Nne(n,e):_l(n,e);break;case 8:t===Y.COLGROUP?Mne(n,e):t===Y.TEMPLATE?Xi(n,e):_l(n,e);break;default:_l(n,e)}}function J_(n,e){const t=e.tagName;t===Y.TABLE?n.openElements.hasInTableScope(Y.TABLE)&&(n.openElements.popUntilTagNamePopped(Y.TABLE),n._resetInsertionMode()):t===Y.TEMPLATE?Ra(n,e):t!==Y.BODY&&t!==Y.CAPTION&&t!==Y.COL&&t!==Y.COLGROUP&&t!==Y.HTML&&t!==Y.TBODY&&t!==Y.TD&&t!==Y.TFOOT&&t!==Y.TH&&t!==Y.THEAD&&t!==Y.TR&&_l(n,e)}function _l(n,e){const t=n.fosterParentingEnabled;n.fosterParentingEnabled=!0,n._processTokenInBodyMode(e),n.fosterParentingEnabled=t}function $ne(n,e){n.pendingCharacterTokens.push(e)}function Hne(n,e){n.pendingCharacterTokens.push(e),n.hasNonWhitespacePendingCharacterToken=!0}function Xf(n,e){let t=0;if(n.hasNonWhitespacePendingCharacterToken)for(;t<n.pendingCharacterTokens.length;t++)_l(n,n.pendingCharacterTokens[t]);else for(;t<n.pendingCharacterTokens.length;t++)n._insertCharacters(n.pendingCharacterTokens[t]);n.insertionMode=n.originalInsertionMode,n._processToken(e)}function Bne(n,e){const t=e.tagName;t===Y.CAPTION||t===Y.COL||t===Y.COLGROUP||t===Y.TBODY||t===Y.TD||t===Y.TFOOT||t===Y.TH||t===Y.THEAD||t===Y.TR?n.openElements.hasInTableScope(Y.CAPTION)&&(n.openElements.generateImpliedEndTags(),n.openElements.popUntilTagNamePopped(Y.CAPTION),n.activeFormattingElements.clearToLastMarker(),n.insertionMode=ur,n._processToken(e)):Jr(n,e)}function xne(n,e){const t=e.tagName;t===Y.CAPTION||t===Y.TABLE?n.openElements.hasInTableScope(Y.CAPTION)&&(n.openElements.generateImpliedEndTags(),n.openElements.popUntilTagNamePopped(Y.CAPTION),n.activeFormattingElements.clearToLastMarker(),n.insertionMode=ur,t===Y.TABLE&&n._processToken(e)):t!==Y.BODY&&t!==Y.COL&&t!==Y.COLGROUP&&t!==Y.HTML&&t!==Y.TBODY&&t!==Y.TD&&t!==Y.TFOOT&&t!==Y.TH&&t!==Y.THEAD&&t!==Y.TR&&Z_(n,e)}function Une(n,e){const t=e.tagName;t===Y.HTML?Jr(n,e):t===Y.COL?(n._appendElement(e,Ht.HTML),e.ackSelfClosing=!0):t===Y.TEMPLATE?Xi(n,e):Ch(n,e)}function zne(n,e){const t=e.tagName;t===Y.COLGROUP?n.openElements.currentTagName===Y.COLGROUP&&(n.openElements.pop(),n.insertionMode=ur):t===Y.TEMPLATE?Ra(n,e):t!==Y.COL&&Ch(n,e)}function Ch(n,e){n.openElements.currentTagName===Y.COLGROUP&&(n.openElements.pop(),n.insertionMode=ur,n._processToken(e))}function qne(n,e){const t=e.tagName;t===Y.TR?(n.openElements.clearBackToTableBodyContext(),n._insertElement(e,Ht.HTML),n.insertionMode=Ws):t===Y.TH||t===Y.TD?(n.openElements.clearBackToTableBodyContext(),n._insertFakeElement(Y.TR),n.insertionMode=Ws,n._processToken(e)):t===Y.CAPTION||t===Y.COL||t===Y.COLGROUP||t===Y.TBODY||t===Y.TFOOT||t===Y.THEAD?n.openElements.hasTableBodyContextInTableScope()&&(n.openElements.clearBackToTableBodyContext(),n.openElements.pop(),n.insertionMode=ur,n._processToken(e)):Q_(n,e)}function jne(n,e){const t=e.tagName;t===Y.TBODY||t===Y.TFOOT||t===Y.THEAD?n.openElements.hasInTableScope(t)&&(n.openElements.clearBackToTableBodyContext(),n.openElements.pop(),n.insertionMode=ur):t===Y.TABLE?n.openElements.hasTableBodyContextInTableScope()&&(n.openElements.clearBackToTableBodyContext(),n.openElements.pop(),n.insertionMode=ur,n._processToken(e)):(t!==Y.BODY&&t!==Y.CAPTION&&t!==Y.COL&&t!==Y.COLGROUP||t!==Y.HTML&&t!==Y.TD&&t!==Y.TH&&t!==Y.TR)&&J_(n,e)}function Wne(n,e){const t=e.tagName;t===Y.TH||t===Y.TD?(n.openElements.clearBackToTableRowContext(),n._insertElement(e,Ht.HTML),n.insertionMode=cp,n.activeFormattingElements.insertMarker()):t===Y.CAPTION||t===Y.COL||t===Y.COLGROUP||t===Y.TBODY||t===Y.TFOOT||t===Y.THEAD||t===Y.TR?n.openElements.hasInTableScope(Y.TR)&&(n.openElements.clearBackToTableRowContext(),n.openElements.pop(),n.insertionMode=wl,n._processToken(e)):Q_(n,e)}function Kne(n,e){const t=e.tagName;t===Y.TR?n.openElements.hasInTableScope(Y.TR)&&(n.openElements.clearBackToTableRowContext(),n.openElements.pop(),n.insertionMode=wl):t===Y.TABLE?n.openElements.hasInTableScope(Y.TR)&&(n.openElements.clearBackToTableRowContext(),n.openElements.pop(),n.insertionMode=wl,n._processToken(e)):t===Y.TBODY||t===Y.TFOOT||t===Y.THEAD?(n.openElements.hasInTableScope(t)||n.openElements.hasInTableScope(Y.TR))&&(n.openElements.clearBackToTableRowContext(),n.openElements.pop(),n.insertionMode=wl,n._processToken(e)):(t!==Y.BODY&&t!==Y.CAPTION&&t!==Y.COL&&t!==Y.COLGROUP||t!==Y.HTML&&t!==Y.TD&&t!==Y.TH)&&J_(n,e)}function Vne(n,e){const t=e.tagName;t===Y.CAPTION||t===Y.COL||t===Y.COLGROUP||t===Y.TBODY||t===Y.TD||t===Y.TFOOT||t===Y.TH||t===Y.THEAD||t===Y.TR?(n.openElements.hasInTableScope(Y.TD)||n.openElements.hasInTableScope(Y.TH))&&(n._closeTableCell(),n._processToken(e)):Jr(n,e)}function Gne(n,e){const t=e.tagName;t===Y.TD||t===Y.TH?n.openElements.hasInTableScope(t)&&(n.openElements.generateImpliedEndTags(),n.openElements.popUntilTagNamePopped(t),n.activeFormattingElements.clearToLastMarker(),n.insertionMode=Ws):t===Y.TABLE||t===Y.TBODY||t===Y.TFOOT||t===Y.THEAD||t===Y.TR?n.openElements.hasInTableScope(t)&&(n._closeTableCell(),n._processToken(e)):t!==Y.BODY&&t!==Y.CAPTION&&t!==Y.COL&&t!==Y.COLGROUP&&t!==Y.HTML&&Z_(n,e)}function AO(n,e){const t=e.tagName;t===Y.HTML?Jr(n,e):t===Y.OPTION?(n.openElements.currentTagName===Y.OPTION&&n.openElements.pop(),n._insertElement(e,Ht.HTML)):t===Y.OPTGROUP?(n.openElements.currentTagName===Y.OPTION&&n.openElements.pop(),n.openElements.currentTagName===Y.OPTGROUP&&n.openElements.pop(),n._insertElement(e,Ht.HTML)):t===Y.INPUT||t===Y.KEYGEN||t===Y.TEXTAREA||t===Y.SELECT?n.openElements.hasInSelectScope(Y.SELECT)&&(n.openElements.popUntilTagNamePopped(Y.SELECT),n._resetInsertionMode(),t!==Y.SELECT&&n._processToken(e)):(t===Y.SCRIPT||t===Y.TEMPLATE)&&Xi(n,e)}function OO(n,e){const t=e.tagName;if(t===Y.OPTGROUP){const i=n.openElements.items[n.openElements.stackTop-1],r=i&&n.treeAdapter.getTagName(i);n.openElements.currentTagName===Y.OPTION&&r===Y.OPTGROUP&&n.openElements.pop(),n.openElements.currentTagName===Y.OPTGROUP&&n.openElements.pop()}else t===Y.OPTION?n.openElements.currentTagName===Y.OPTION&&n.openElements.pop():t===Y.SELECT&&n.openElements.hasInSelectScope(Y.SELECT)?(n.openElements.popUntilTagNamePopped(Y.SELECT),n._resetInsertionMode()):t===Y.TEMPLATE&&Ra(n,e)}function Yne(n,e){const t=e.tagName;t===Y.CAPTION||t===Y.TABLE||t===Y.TBODY||t===Y.TFOOT||t===Y.THEAD||t===Y.TR||t===Y.TD||t===Y.TH?(n.openElements.popUntilTagNamePopped(Y.SELECT),n._resetInsertionMode(),n._processToken(e)):AO(n,e)}function Xne(n,e){const t=e.tagName;t===Y.CAPTION||t===Y.TABLE||t===Y.TBODY||t===Y.TFOOT||t===Y.THEAD||t===Y.TR||t===Y.TD||t===Y.TH?n.openElements.hasInTableScope(t)&&(n.openElements.popUntilTagNamePopped(Y.SELECT),n._resetInsertionMode(),n._processToken(e)):OO(n,e)}function Zne(n,e){const t=e.tagName;if(t===Y.BASE||t===Y.BASEFONT||t===Y.BGSOUND||t===Y.LINK||t===Y.META||t===Y.NOFRAMES||t===Y.SCRIPT||t===Y.STYLE||t===Y.TEMPLATE||t===Y.TITLE)Xi(n,e);else{const i=Lte[t]||ys;n._popTmplInsertionMode(),n._pushTmplInsertionMode(i),n.insertionMode=i,n._processToken(e)}}function Qne(n,e){e.tagName===Y.TEMPLATE&&Ra(n,e)}function NO(n,e){n.openElements.tmplCount>0?(n.openElements.popUntilTagNamePopped(Y.TEMPLATE),n.activeFormattingElements.clearToLastMarker(),n._popTmplInsertionMode(),n._resetInsertionMode(),n._processToken(e)):n.stopped=!0}function Jne(n,e){e.tagName===Y.HTML?Jr(n,e):Ah(n,e)}function eie(n,e){e.tagName===Y.HTML?n.fragmentContext||(n.insertionMode=SO):Ah(n,e)}function Ah(n,e){n.insertionMode=ys,n._processToken(e)}function tie(n,e){const t=e.tagName;t===Y.HTML?Jr(n,e):t===Y.FRAMESET?n._insertElement(e,Ht.HTML):t===Y.FRAME?(n._appendElement(e,Ht.HTML),e.ackSelfClosing=!0):t===Y.NOFRAMES&&Xi(n,e)}function nie(n,e){e.tagName===Y.FRAMESET&&!n.openElements.isRootHtmlElementCurrent()&&(n.openElements.pop(),!n.fragmentContext&&n.openElements.currentTagName!==Y.FRAMESET&&(n.insertionMode=EO))}function iie(n,e){const t=e.tagName;t===Y.HTML?Jr(n,e):t===Y.NOFRAMES&&Xi(n,e)}function rie(n,e){e.tagName===Y.HTML&&(n.insertionMode=CO)}function lie(n,e){e.tagName===Y.HTML?Jr(n,e):th(n,e)}function th(n,e){n.insertionMode=ys,n._processToken(e)}function sie(n,e){const t=e.tagName;t===Y.HTML?Jr(n,e):t===Y.NOFRAMES&&Xi(n,e)}function oie(n,e){e.chars=Ate.REPLACEMENT_CHARACTER,n._insertCharacters(e)}function aie(n,e){n._insertCharacters(e),n.framesetOk=!1}function uie(n,e){if(ps.causesExit(e)&&!n.fragmentContext){for(;n.treeAdapter.getNamespaceURI(n.openElements.current)!==Ht.HTML&&!n._isIntegrationPoint(n.openElements.current);)n.openElements.pop();n._processToken(e)}else{const t=n._getAdjustedCurrentElement(),i=n.treeAdapter.getNamespaceURI(t);i===Ht.MATHML?ps.adjustTokenMathMLAttrs(e):i===Ht.SVG&&(ps.adjustTokenSVGTagName(e),ps.adjustTokenSVGAttrs(e)),ps.adjustTokenXMLAttrs(e),e.selfClosing?n._appendElement(e,i):n._insertElement(e,i),e.ackSelfClosing=!0}}function fie(n,e){for(let t=n.openElements.stackTop;t>0;t--){const i=n.openElements.items[t];if(n.treeAdapter.getNamespaceURI(i)===Ht.HTML){n._processToken(e);break}if(n.treeAdapter.getTagName(i).toLowerCase()===e.tagName){n.openElements.popUntilElementPopped(i);break}}}const cie=Ju(Rte),u1=MO("start"),hp=MO("end");function die(n){return{start:u1(n),end:hp(n)}}function MO(n){return e;function e(t){const i=t&&t.position&&t.position[n]||{};return{line:i.line||null,column:i.column||null,offset:i.offset>-1?i.offset:null}}}class f1{constructor(e,t,i){this.property=e,this.normal=t,i&&(this.space=i)}}f1.prototype.property={};f1.prototype.normal={};f1.prototype.space=null;function IO(n,e){const t={},i={};let r=-1;for(;++r<n.length;)Object.assign(t,n[r].property),Object.assign(i,n[r].normal);return new f1(t,i,e)}function Wc(n){return n.toLowerCase()}class Il{constructor(e,t){this.property=e,this.attribute=t}}Il.prototype.space=null;Il.prototype.boolean=!1;Il.prototype.booleanish=!1;Il.prototype.overloadedBoolean=!1;Il.prototype.number=!1;Il.prototype.commaSeparated=!1;Il.prototype.spaceSeparated=!1;Il.prototype.commaOrSpaceSeparated=!1;Il.prototype.mustUseProperty=!1;Il.prototype.defined=!1;let hie=0;const vn=Pa(),Di=Pa(),LO=Pa(),mt=Pa(),ii=Pa(),Ru=Pa(),sl=Pa();function Pa(){return 2**++hie}const Eg=Object.freeze(Object.defineProperty({__proto__:null,boolean:vn,booleanish:Di,commaOrSpaceSeparated:sl,commaSeparated:Ru,number:mt,overloadedBoolean:LO,spaceSeparated:ii},Symbol.toStringTag,{value:"Module"})),b0=Object.keys(Eg);class eb extends Il{constructor(e,t,i,r){let l=-1;if(super(e,t),J8(this,"space",r),typeof i=="number")for(;++l<b0.length;){const s=b0[l];J8(this,b0[l],(i&Eg[s])===Eg[s])}}}eb.prototype.defined=!0;function J8(n,e,t){t&&(n[e]=t)}const pie={}.hasOwnProperty;function lf(n){const e={},t={};let i;for(i in n.properties)if(pie.call(n.properties,i)){const r=n.properties[i],l=new eb(i,n.transform(n.attributes||{},i),r,n.space);n.mustUseProperty&&n.mustUseProperty.includes(i)&&(l.mustUseProperty=!0),e[i]=l,t[Wc(i)]=i,t[Wc(l.attribute)]=i}return new f1(e,t,n.space)}const DO=lf({space:"xlink",transform(n,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),RO=lf({space:"xml",transform(n,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function PO(n,e){return e in n?n[e]:e}function FO(n,e){return PO(n,e.toLowerCase())}const $O=lf({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:FO,properties:{xmlns:null,xmlnsXLink:null}}),HO=lf({transform(n,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Di,ariaAutoComplete:null,ariaBusy:Di,ariaChecked:Di,ariaColCount:mt,ariaColIndex:mt,ariaColSpan:mt,ariaControls:ii,ariaCurrent:null,ariaDescribedBy:ii,ariaDetails:null,ariaDisabled:Di,ariaDropEffect:ii,ariaErrorMessage:null,ariaExpanded:Di,ariaFlowTo:ii,ariaGrabbed:Di,ariaHasPopup:null,ariaHidden:Di,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ii,ariaLevel:mt,ariaLive:null,ariaModal:Di,ariaMultiLine:Di,ariaMultiSelectable:Di,ariaOrientation:null,ariaOwns:ii,ariaPlaceholder:null,ariaPosInSet:mt,ariaPressed:Di,ariaReadOnly:Di,ariaRelevant:null,ariaRequired:Di,ariaRoleDescription:ii,ariaRowCount:mt,ariaRowIndex:mt,ariaRowSpan:mt,ariaSelected:Di,ariaSetSize:mt,ariaSort:null,ariaValueMax:mt,ariaValueMin:mt,ariaValueNow:mt,ariaValueText:null,role:null}}),mie=lf({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:FO,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ru,acceptCharset:ii,accessKey:ii,action:null,allow:null,allowFullScreen:vn,allowPaymentRequest:vn,allowUserMedia:vn,alt:null,as:null,async:vn,autoCapitalize:null,autoComplete:ii,autoFocus:vn,autoPlay:vn,blocking:ii,capture:null,charSet:null,checked:vn,cite:null,className:ii,cols:mt,colSpan:null,content:null,contentEditable:Di,controls:vn,controlsList:ii,coords:mt|Ru,crossOrigin:null,data:null,dateTime:null,decoding:null,default:vn,defer:vn,dir:null,dirName:null,disabled:vn,download:LO,draggable:Di,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:vn,formTarget:null,headers:ii,height:mt,hidden:vn,high:mt,href:null,hrefLang:null,htmlFor:ii,httpEquiv:ii,id:null,imageSizes:null,imageSrcSet:null,inert:vn,inputMode:null,integrity:null,is:null,isMap:vn,itemId:null,itemProp:ii,itemRef:ii,itemScope:vn,itemType:ii,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:vn,low:mt,manifest:null,max:null,maxLength:mt,media:null,method:null,min:null,minLength:mt,multiple:vn,muted:vn,name:null,nonce:null,noModule:vn,noValidate:vn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:vn,optimum:mt,pattern:null,ping:ii,placeholder:null,playsInline:vn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:vn,referrerPolicy:null,rel:ii,required:vn,reversed:vn,rows:mt,rowSpan:mt,sandbox:ii,scope:null,scoped:vn,seamless:vn,selected:vn,shadowRootClonable:vn,shadowRootDelegatesFocus:vn,shadowRootMode:null,shape:null,size:mt,sizes:null,slot:null,span:mt,spellCheck:Di,src:null,srcDoc:null,srcLang:null,srcSet:null,start:mt,step:null,style:null,tabIndex:mt,target:null,title:null,translate:null,type:null,typeMustMatch:vn,useMap:null,value:Di,width:mt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ii,axis:null,background:null,bgColor:null,border:mt,borderColor:null,bottomMargin:mt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:vn,declare:vn,event:null,face:null,frame:null,frameBorder:null,hSpace:mt,leftMargin:mt,link:null,longDesc:null,lowSrc:null,marginHeight:mt,marginWidth:mt,noResize:vn,noHref:vn,noShade:vn,noWrap:vn,object:null,profile:null,prompt:null,rev:null,rightMargin:mt,rules:null,scheme:null,scrolling:Di,standby:null,summary:null,text:null,topMargin:mt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:mt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:vn,disableRemotePlayback:vn,prefix:null,property:null,results:mt,security:null,unselectable:null}}),gie=lf({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:PO,properties:{about:sl,accentHeight:mt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:mt,amplitude:mt,arabicForm:null,ascent:mt,attributeName:null,attributeType:null,azimuth:mt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:mt,by:null,calcMode:null,capHeight:mt,className:ii,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:mt,diffuseConstant:mt,direction:null,display:null,dur:null,divisor:mt,dominantBaseline:null,download:vn,dx:null,dy:null,edgeMode:null,editable:null,elevation:mt,enableBackground:null,end:null,event:null,exponent:mt,externalResourcesRequired:null,fill:null,fillOpacity:mt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ru,g2:Ru,glyphName:Ru,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:mt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:mt,horizOriginX:mt,horizOriginY:mt,id:null,ideographic:mt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:mt,k:mt,k1:mt,k2:mt,k3:mt,k4:mt,kernelMatrix:sl,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:mt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:mt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:mt,overlineThickness:mt,paintOrder:null,panose1:null,path:null,pathLength:mt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ii,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:mt,pointsAtY:mt,pointsAtZ:mt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:sl,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:sl,rev:sl,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:sl,requiredFeatures:sl,requiredFonts:sl,requiredFormats:sl,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:mt,specularExponent:mt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:mt,strikethroughThickness:mt,string:null,stroke:null,strokeDashArray:sl,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:mt,strokeOpacity:mt,strokeWidth:null,style:null,surfaceScale:mt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:sl,tabIndex:mt,tableValues:null,target:null,targetX:mt,targetY:mt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:sl,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:mt,underlineThickness:mt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:mt,values:null,vAlphabetic:mt,vMathematical:mt,vectorEffect:null,vHanging:mt,vIdeographic:mt,version:null,vertAdvY:mt,vertOriginX:mt,vertOriginY:mt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:mt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),_ie=/^data[-\w.:]+$/i,ew=/-[a-z]/g,bie=/[A-Z]/g;function pp(n,e){const t=Wc(e);let i=e,r=Il;if(t in n.normal)return n.property[n.normal[t]];if(t.length>4&&t.slice(0,4)==="data"&&_ie.test(e)){if(e.charAt(4)==="-"){const l=e.slice(5).replace(ew,yie);i="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=e.slice(4);if(!ew.test(l)){let s=l.replace(bie,vie);s.charAt(0)!=="-"&&(s="-"+s),e="data"+s}}r=eb}return new r(i,e)}function vie(n){return"-"+n.toLowerCase()}function yie(n){return n.charAt(1).toUpperCase()}const c1=IO([RO,DO,$O,HO,mie],"html"),sf=IO([RO,DO,$O,HO,gie],"svg"),tw=/[#.]/g;function kie(n,e){const t=n||"",i={};let r=0,l,s;for(;r<t.length;){tw.lastIndex=r;const o=tw.exec(t),a=t.slice(r,o?o.index:t.length);a&&(l?l==="#"?i.id=a:Array.isArray(i.className)?i.className.push(a):i.className=[a]:s=a,r+=a.length),o&&(l=o[0],r++)}return{type:"element",tagName:s||e||"div",properties:i,children:[]}}function nw(n){const e=String(n||"").trim();return e?e.split(/[ \t\n\r\f]+/g):[]}function BO(n){return n.join(" ").trim()}function iw(n){const e=[],t=String(n||"");let i=t.indexOf(","),r=0,l=!1;for(;!l;){i===-1&&(i=t.length,l=!0);const s=t.slice(r,i).trim();(s||!l)&&e.push(s),r=i+1,i=t.indexOf(",",r)}return e}function xO(n,e){const t=e||{};return(n[n.length-1]===""?[...n,""]:n).join((t.padRight?" ":"")+","+(t.padLeft===!1?"":" ")).trim()}const Tie=new Set(["menu","submit","reset","button"]),Sg={}.hasOwnProperty;function UO(n,e,t){const i=t&&Cie(t);return function(l,s,...o){let a=-1,u;if(l==null)u={type:"root",children:[]},o.unshift(s);else if(u=kie(l,e),u.tagName=u.tagName.toLowerCase(),i&&Sg.call(i,u.tagName)&&(u.tagName=i[u.tagName]),wie(s,u.tagName)){let f;for(f in s)Sg.call(s,f)&&Eie(n,u.properties,f,s[f])}else o.unshift(s);for(;++a<o.length;)Cg(u.children,o[a]);return u.type==="element"&&u.tagName==="template"&&(u.content={type:"root",children:u.children},u.children=[]),u}}function wie(n,e){return n==null||typeof n!="object"||Array.isArray(n)?!1:e==="input"||!n.type||typeof n.type!="string"?!0:"children"in n&&Array.isArray(n.children)?!1:e==="button"?Tie.has(n.type.toLowerCase()):!("value"in n)}function Eie(n,e,t,i){const r=pp(n,t);let l=-1,s;if(i!=null){if(typeof i=="number"){if(Number.isNaN(i))return;s=i}else typeof i=="boolean"?s=i:typeof i=="string"?r.spaceSeparated?s=nw(i):r.commaSeparated?s=iw(i):r.commaOrSpaceSeparated?s=nw(iw(i).join(" ")):s=rw(r,r.property,i):Array.isArray(i)?s=i.concat():s=r.property==="style"?Sie(i):String(i);if(Array.isArray(s)){const o=[];for(;++l<s.length;)o[l]=rw(r,r.property,s[l]);s=o}r.property==="className"&&Array.isArray(e.className)&&(s=e.className.concat(s)),e[r.property]=s}}function Cg(n,e){let t=-1;if(e!=null)if(typeof e=="string"||typeof e=="number")n.push({type:"text",value:String(e)});else if(Array.isArray(e))for(;++t<e.length;)Cg(n,e[t]);else if(typeof e=="object"&&"type"in e)e.type==="root"?Cg(n,e.children):n.push(e);else throw new Error("Expected node, nodes, or string, got `"+e+"`")}function rw(n,e,t){if(typeof t=="string"){if(n.number&&t&&!Number.isNaN(Number(t)))return Number(t);if((n.boolean||n.overloadedBoolean)&&(t===""||Wc(t)===Wc(e)))return!0}return t}function Sie(n){const e=[];let t;for(t in n)Sg.call(n,t)&&e.push([t,n[t]].join(": "));return e.join("; ")}function Cie(n){const e={};let t=-1;for(;++t<n.length;)e[n[t].toLowerCase()]=n[t];return e}const Aie=UO(c1,"div"),Oie=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],Nie=UO(sf,"g",Oie);function Mie(n){const e=String(n),t=[],i=/\r?\n|\r/g;for(;i.test(e);)t.push(i.lastIndex);return t.push(e.length+1),{toPoint:r,toOffset:l};function r(s){let o=-1;if(typeof s=="number"&&s>-1&&s<t[t.length-1]){for(;++o<t.length;)if(t[o]>s)return{line:o+1,column:s-(o>0?t[o-1]:0)+1,offset:s}}return{line:void 0,column:void 0,offset:void 0}}function l(s){const o=s&&s.line,a=s&&s.column;if(typeof o=="number"&&typeof a=="number"&&!Number.isNaN(o)&&!Number.isNaN(a)&&o-1 in t){const u=(t[o-2]||0)+a-1||0;if(u>-1&&u<t[t.length-1])return u}return-1}}const Kc={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},zO={}.hasOwnProperty,Iie=Object.prototype;function Lie(n,e){const t=e||{};let i,r;return Pie(t)?(r=t,i={}):(r=t.file||void 0,i=t),tb({schema:i.space==="svg"?sf:c1,file:r,verbose:i.verbose,location:!1},n)}function tb(n,e){let t;switch(e.nodeName){case"#comment":{const i=e;return t={type:"comment",value:i.data},nh(n,i,t),t}case"#document":case"#document-fragment":{const i=e,r="mode"in i?i.mode==="quirks"||i.mode==="limited-quirks":!1;if(t={type:"root",children:qO(n,e.childNodes),data:{quirksMode:r}},n.file&&n.location){const l=String(n.file),s=Mie(l),o=s.toPoint(0),a=s.toPoint(l.length);t.position={start:o,end:a}}return t}case"#documentType":{const i=e;return t={type:"doctype"},nh(n,i,t),t}case"#text":{const i=e;return t={type:"text",value:i.value},nh(n,i,t),t}default:return t=Die(n,e),t}}function qO(n,e){let t=-1;const i=[];for(;++t<e.length;)i[t]=tb(n,e[t]);return i}function Die(n,e){const t=n.schema;n.schema=e.namespaceURI===Kc.svg?sf:c1;let i=-1;const r={};for(;++i<e.attrs.length;){const o=e.attrs[i],a=(o.prefix?o.prefix+":":"")+o.name;zO.call(Iie,a)||(r[a]=o.value)}const s=(n.schema.space==="svg"?Nie:Aie)(e.tagName,r,qO(n,e.childNodes));if(nh(n,e,s),s.tagName==="template"){const o=e,a=o.sourceCodeLocation,u=a&&a.startTag&&wu(a.startTag),f=a&&a.endTag&&wu(a.endTag),c=tb(n,o.content);u&&f&&n.file&&(c.position={start:u.end,end:f.start}),s.content=c}return n.schema=t,s}function nh(n,e,t){if("sourceCodeLocation"in e&&e.sourceCodeLocation&&n.file){const i=Rie(n,t,e.sourceCodeLocation);i&&(n.location=!0,t.position=i)}}function Rie(n,e,t){const i=wu(t);if(e.type==="element"){const r=e.children[e.children.length-1];if(i&&!t.endTag&&r&&r.position&&r.position.end&&(i.end=Object.assign({},r.position.end)),n.verbose){const l={};let s;if(t.attrs)for(s in t.attrs)zO.call(t.attrs,s)&&(l[pp(n.schema,s).property]=wu(t.attrs[s]));e.data={position:{opening:wu(t.startTag),closing:t.endTag?wu(t.endTag):null,properties:l}}}}return i}function wu(n){const e=lw({line:n.startLine,column:n.startCol,offset:n.startOffset}),t=lw({line:n.endLine,column:n.endCol,offset:n.endOffset});return e||t?{start:e,end:t}:void 0}function lw(n){return n.line&&n.column?n:void 0}function Pie(n){return"messages"in n}const sw={}.hasOwnProperty;function nb(n,e){const t=e||{};function i(r,...l){let s=i.invalid;const o=i.handlers;if(r&&sw.call(r,n)){const a=String(r[n]);s=sw.call(o,a)?o[a]:i.unknown}if(s)return s.call(this,r,...l)}return i.handlers=t.handlers||{},i.invalid=t.invalid,i.unknown=t.unknown,i}const Fie={}.hasOwnProperty,jO=nb("type",{handlers:{root:Hie,element:qie,text:Uie,comment:zie,doctype:xie}});function $ie(n,e){return jO(n,c1)}function Hie(n,e){const t={nodeName:"#document",mode:(n.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return t.childNodes=ib(n.children,t,e),of(n,t),t}function Bie(n,e){const t={nodeName:"#document-fragment",childNodes:[]};return t.childNodes=ib(n.children,t,e),of(n,t),t}function xie(n){const e={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:void 0};return of(n,e),e}function Uie(n){const e={nodeName:"#text",value:n.value,parentNode:void 0};return of(n,e),e}function zie(n){const e={nodeName:"#comment",data:n.value,parentNode:void 0};return of(n,e),e}function qie(n,e){const t=e;let i=t;n.type==="element"&&n.tagName.toLowerCase()==="svg"&&t.space==="html"&&(i=sf);const r=[];let l;if(n.properties){for(l in n.properties)if(l!=="children"&&Fie.call(n.properties,l)){const o=jie(i,l,n.properties[l]);o&&r.push(o)}}const s={nodeName:n.tagName,tagName:n.tagName,attrs:r,namespaceURI:Kc[i.space],childNodes:[],parentNode:void 0};return s.childNodes=ib(n.children,s,i),of(n,s),n.tagName==="template"&&n.content&&(s.content=Bie(n.content,i)),s}function jie(n,e,t){const i=pp(n,e);if(t==null||t===!1||typeof t=="number"&&Number.isNaN(t)||!t&&i.boolean)return;Array.isArray(t)&&(t=i.commaSeparated?xO(t):BO(t));const r={name:i.attribute,value:t===!0?"":String(t)};if(i.space&&i.space!=="html"&&i.space!=="svg"){const l=r.name.indexOf(":");l<0?r.prefix="":(r.name=r.name.slice(l+1),r.prefix=i.attribute.slice(0,l)),r.namespace=Kc[i.space]}return r}function ib(n,e,t){let i=-1;const r=[];if(n)for(;++i<n.length;){const l=jO(n[i],t);l.parentNode=e,r.push(l)}return r}function of(n,e){const t=n.position;t&&t.start&&t.end&&(e.sourceCodeLocation={startLine:t.start.line,startCol:t.start.column,startOffset:t.start.offset,endLine:t.end.line,endCol:t.end.column,endOffset:t.end.offset})}const WO=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","isindex","keygen","link","menuitem","meta","nextid","param","source","track","wbr"],Wie="IN_TEMPLATE_MODE",Kie="DATA_STATE",Vie="CHARACTER_TOKEN",Gie="START_TAG_TOKEN",Yie="END_TAG_TOKEN",Xie="COMMENT_TOKEN",Zie="DOCTYPE_TOKEN",Qie={sourceCodeLocationInfo:!0,scriptingEnabled:!1},KO=function(n,e,t){let i=-1;const r=new cie(Qie),l=nb("type",{handlers:{root:v,element:b,text:y,comment:M,doctype:A,raw:N},unknown:nre});let s,o,a,u,f;if(rre(e)&&(t=e,e=void 0),t&&t.passThrough)for(;++i<t.passThrough.length;)l.handlers[t.passThrough[i]]=L;const c=Lie(ire(n)?p():h(),e);if(s&&ip(c,"comment",(R,$,B)=>{const H=R;if(H.value.stitch&&B!==null&&$!==null)return B.children[$]=H.value.stitch,$}),n.type!=="root"&&c.type==="root"&&c.children.length===1)return c.children[0];return c;function h(){const R={nodeName:"template",tagName:"template",attrs:[],namespaceURI:Kc.html,childNodes:[]},$={nodeName:"documentmock",tagName:"documentmock",attrs:[],namespaceURI:Kc.html,childNodes:[]},B={nodeName:"#document-fragment",childNodes:[]};if(r._bootstrap($,R),r._pushTmplInsertionMode(Wie),r._initTokenizerForFragmentParsing(),r._insertFakeRootElement(),r._resetInsertionMode(),r._findFormInFragmentContext(),o=r.tokenizer,!o)throw new Error("Expected `tokenizer`");return a=o.preprocessor,f=o.__mixins[0],u=f.posTracker,l(n),I(),r._adoptNodes($.childNodes[0],B),B}function p(){const R=r.treeAdapter.createDocument();if(r._bootstrap(R,void 0),o=r.tokenizer,!o)throw new Error("Expected `tokenizer`");return a=o.preprocessor,f=o.__mixins[0],u=f.posTracker,l(n),I(),R}function _(R){let $=-1;if(R)for(;++$<R.length;)l(R[$])}function v(R){_(R.children)}function b(R){I(),r._processInputToken(Jie(R)),_(R.children),WO.includes(R.tagName)||(I(),r._processInputToken(tre(R)))}function y(R){I(),r._processInputToken({type:Vie,chars:R.value,location:Eu(R)})}function A(R){I(),r._processInputToken({type:Zie,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:Eu(R)})}function M(R){I(),r._processInputToken({type:Xie,data:R.value,location:Eu(R)})}function N(R){const $=u1(R),B=$.line||1,H=$.column||1,q=$.offset||0;if(!a)throw new Error("Expected `preprocessor`");if(!o)throw new Error("Expected `tokenizer`");if(!u)throw new Error("Expected `posTracker`");if(!f)throw new Error("Expected `locationTracker`");a.html=void 0,a.pos=-1,a.lastGapPos=-1,a.lastCharPos=-1,a.gapStack=[],a.skipNextNewLine=!1,a.lastChunkWritten=!1,a.endOfChunkHit=!1,u.isEol=!1,u.lineStartPos=-H+1,u.droppedBufferSize=q,u.offset=0,u.col=1,u.line=B,f.currentAttrLocation=void 0,f.ctLoc=Eu(R),o.write(R.value),r._runParsingLoop(null),(o.state==="NAMED_CHARACTER_REFERENCE_STATE"||o.state==="NUMERIC_CHARACTER_REFERENCE_END_STATE")&&(a.lastChunkWritten=!0,o[o.state](o._consume()))}function L(R){s=!0;let $;"children"in R?$={...R,children:KO({type:"root",children:R.children},e,t).children}:$={...R},M({type:"comment",value:{stitch:$}})}function I(){if(!o)throw new Error("Expected `tokenizer`");if(!u)throw new Error("Expected `posTracker`");const R=o.currentCharacterToken;R&&(R.location.endLine=u.line,R.location.endCol=u.col+1,R.location.endOffset=u.offset+1,r._processInputToken(R)),o.tokenQueue=[],o.state=Kie,o.returnState="",o.charRefCode=-1,o.tempBuff=[],o.lastStartTagName="",o.consumedAfterSnapshot=-1,o.active=!1,o.currentCharacterToken=void 0,o.currentToken=void 0,o.currentAttr=void 0}};function Jie(n){const e=Object.assign(Eu(n));return e.startTag=Object.assign({},e),{type:Gie,tagName:n.tagName,selfClosing:!1,attrs:ere(n),location:e}}function ere(n){return $ie({tagName:n.tagName,type:"element",properties:n.properties,children:[]}).attrs}function tre(n){const e=Object.assign(Eu(n));return e.startTag=Object.assign({},e),{type:Yie,tagName:n.tagName,attrs:[],location:e}}function nre(n){throw new Error("Cannot compile `"+n.type+"` node")}function ire(n){const e=n.type==="root"?n.children[0]:n;return!!(e&&(e.type==="doctype"||e.type==="element"&&e.tagName==="html"))}function Eu(n){const e=u1(n),t=hp(n);return{startLine:e.line,startCol:e.column,startOffset:e.offset,endLine:t.line,endCol:t.column,endOffset:t.offset}}function rre(n){return!!(n&&!("message"in n&&"messages"in n))}function lre(n={}){return(e,t)=>KO(e,t,n)}function sre(n=z_){return e=>aee(e,n)}const ore=/["&'<>`]/g,are=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ure=/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,fre=/[|\\{}()[\]^$+*?.]/g,ow=new WeakMap;function cre(n,e){if(n=n.replace(e.subset?dre(e.subset):ore,i),e.subset||e.escapeOnly)return n;return n.replace(are,t).replace(ure,i);function t(r,l,s){return e.format((r.charCodeAt(0)-55296)*1024+r.charCodeAt(1)-56320+65536,s.charCodeAt(l+2),e)}function i(r,l,s){return e.format(r.charCodeAt(0),s.charCodeAt(l+1),e)}}function dre(n){let e=ow.get(n);return e||(e=hre(n),ow.set(n,e)),e}function hre(n){const e=[];let t=-1;for(;++t<n.length;)e.push(n[t].replace(fre,"\\$&"));return new RegExp("(?:"+e.join("|")+")","g")}const pre=/[\dA-Fa-f]/;function mre(n,e,t){const i="&#x"+n.toString(16).toUpperCase();return t&&e&&!pre.test(String.fromCharCode(e))?i:i+";"}const gre=/\d/;function _re(n,e,t){const i="&#"+String(n);return t&&e&&!gre.test(String.fromCharCode(e))?i:i+";"}const bre=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],v0={nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",times:"×",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",divide:"÷",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",fnof:"ƒ",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",bull:"•",hellip:"…",prime:"′",Prime:"″",oline:"‾",frasl:"⁄",weierp:"℘",image:"ℑ",real:"ℜ",trade:"™",alefsym:"ℵ",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lArr:"⇐",uArr:"⇑",rArr:"⇒",dArr:"⇓",hArr:"⇔",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",lang:"〈",rang:"〉",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦",quot:'"',amp:"&",lt:"<",gt:">",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",permil:"‰",lsaquo:"‹",rsaquo:"›",euro:"€"},vre=["cent","copy","divide","gt","lt","not","para","times"],VO={}.hasOwnProperty,Ag={};let Dd;for(Dd in v0)VO.call(v0,Dd)&&(Ag[v0[Dd]]=Dd);const yre=/[^\dA-Za-z]/;function kre(n,e,t,i){const r=String.fromCharCode(n);if(VO.call(Ag,r)){const l=Ag[r],s="&"+l;return t&&bre.includes(l)&&!vre.includes(l)&&(!i||e&&e!==61&&yre.test(String.fromCharCode(e)))?s:s+";"}return""}function Tre(n,e,t){let i=mre(n,e,t.omitOptionalSemicolons),r;if((t.useNamedReferences||t.useShortestReferences)&&(r=kre(n,e,t.omitOptionalSemicolons,t.attribute)),(t.useShortestReferences||!r)&&t.useShortestReferences){const l=_re(n,e,t.omitOptionalSemicolons);l.length<i.length&&(i=l)}return r&&(!t.useShortestReferences||r.length<i.length)?r:i}function Pu(n,e){return cre(n,Object.assign({format:Tre},e))}function wre(n,e,t,i){return i.settings.bogusComments?"<?"+Pu(n.value,Object.assign({},i.settings.characterReferences,{subset:[">"]}))+">":"<!--"+n.value.replace(/^>|^->|<!--|-->|--!>|<!-$/g,r)+"-->";function r(l){return Pu(l,Object.assign({},i.settings.characterReferences,{subset:["<",">"]}))}}function Ere(n,e,t,i){return"<!"+(i.settings.upperDoctype?"DOCTYPE":"doctype")+(i.settings.tightDoctype?"":" ")+"html>"}function Oh(n,e){const t=String(n);if(typeof e!="string")throw new TypeError("Expected character");let i=0,r=t.indexOf(e);for(;r!==-1;)i++,r=t.indexOf(e,r+e.length);return i}function rb(n){const e=n&&typeof n=="object"&&n.type==="text"?n.value||"":n;return typeof e=="string"&&e.replace(/[ \t\n\f\r]/g,"")===""}const Bi=YO(1),GO=YO(-1);function YO(n){return e;function e(t,i,r){const l=t?t.children:[];let s=(i||0)+n,o=l&&l[s];if(!r)for(;o&&rb(o);)s+=n,o=l[s];return o}}const Sre={}.hasOwnProperty;function XO(n){return e;function e(t,i,r){return Sre.call(n,t.tagName)&&n[t.tagName](t,i,r)}}const lb=XO({html:Cre,head:y0,body:Are,p:Ore,li:Nre,dt:Mre,dd:Ire,rt:aw,rp:aw,optgroup:Lre,option:Dre,menuitem:Rre,colgroup:y0,caption:y0,thead:Pre,tbody:Fre,tfoot:$re,tr:Hre,td:uw,th:uw});function y0(n,e,t){const i=Bi(t,e,!0);return!i||i.type!=="comment"&&!(i.type==="text"&&rb(i.value.charAt(0)))}function Cre(n,e,t){const i=Bi(t,e);return!i||i.type!=="comment"}function Are(n,e,t){const i=Bi(t,e);return!i||i.type!=="comment"}function Ore(n,e,t){const i=Bi(t,e);return i?i.type==="element"&&(i.tagName==="address"||i.tagName==="article"||i.tagName==="aside"||i.tagName==="blockquote"||i.tagName==="details"||i.tagName==="div"||i.tagName==="dl"||i.tagName==="fieldset"||i.tagName==="figcaption"||i.tagName==="figure"||i.tagName==="footer"||i.tagName==="form"||i.tagName==="h1"||i.tagName==="h2"||i.tagName==="h3"||i.tagName==="h4"||i.tagName==="h5"||i.tagName==="h6"||i.tagName==="header"||i.tagName==="hgroup"||i.tagName==="hr"||i.tagName==="main"||i.tagName==="menu"||i.tagName==="nav"||i.tagName==="ol"||i.tagName==="p"||i.tagName==="pre"||i.tagName==="section"||i.tagName==="table"||i.tagName==="ul"):!t||!(t.type==="element"&&(t.tagName==="a"||t.tagName==="audio"||t.tagName==="del"||t.tagName==="ins"||t.tagName==="map"||t.tagName==="noscript"||t.tagName==="video"))}function Nre(n,e,t){const i=Bi(t,e);return!i||i.type==="element"&&i.tagName==="li"}function Mre(n,e,t){const i=Bi(t,e);return i&&i.type==="element"&&(i.tagName==="dt"||i.tagName==="dd")}function Ire(n,e,t){const i=Bi(t,e);return!i||i.type==="element"&&(i.tagName==="dt"||i.tagName==="dd")}function aw(n,e,t){const i=Bi(t,e);return!i||i.type==="element"&&(i.tagName==="rp"||i.tagName==="rt")}function Lre(n,e,t){const i=Bi(t,e);return!i||i.type==="element"&&i.tagName==="optgroup"}function Dre(n,e,t){const i=Bi(t,e);return!i||i.type==="element"&&(i.tagName==="option"||i.tagName==="optgroup")}function Rre(n,e,t){const i=Bi(t,e);return!i||i.type==="element"&&(i.tagName==="menuitem"||i.tagName==="hr"||i.tagName==="menu")}function Pre(n,e,t){const i=Bi(t,e);return i&&i.type==="element"&&(i.tagName==="tbody"||i.tagName==="tfoot")}function Fre(n,e,t){const i=Bi(t,e);return!i||i.type==="element"&&(i.tagName==="tbody"||i.tagName==="tfoot")}function $re(n,e,t){return!Bi(t,e)}function Hre(n,e,t){const i=Bi(t,e);return!i||i.type==="element"&&i.tagName==="tr"}function uw(n,e,t){const i=Bi(t,e);return!i||i.type==="element"&&(i.tagName==="td"||i.tagName==="th")}const Bre=XO({html:xre,head:Ure,body:zre,colgroup:qre,tbody:jre});function xre(n){const e=Bi(n,-1);return!e||e.type!=="comment"}function Ure(n){const e=n.children,t=[];let i=-1;for(;++i<e.length;){const r=e[i];if(r.type==="element"&&(r.tagName==="title"||r.tagName==="base")){if(t.includes(r.tagName))return!1;t.push(r.tagName)}}return e.length>0}function zre(n){const e=Bi(n,-1,!0);return!e||e.type!=="comment"&&!(e.type==="text"&&rb(e.value.charAt(0)))&&!(e.type==="element"&&(e.tagName==="meta"||e.tagName==="link"||e.tagName==="script"||e.tagName==="style"||e.tagName==="template"))}function qre(n,e,t){const i=GO(t,e),r=Bi(n,-1,!0);return t&&i&&i.type==="element"&&i.tagName==="colgroup"&&lb(i,t.children.indexOf(i),t)?!1:r&&r.type==="element"&&r.tagName==="col"}function jre(n,e,t){const i=GO(t,e),r=Bi(n,-1);return t&&i&&i.type==="element"&&(i.tagName==="thead"||i.tagName==="tbody")&&lb(i,t.children.indexOf(i),t)?!1:r&&r.type==="element"&&r.tagName==="tr"}const Rd={name:[[`	
\f\r &/=>`.split(""),`	
\f\r "&'/=>\``.split("")],[`\0	
\f\r "&'/<=>`.split(""),`\0	
\f\r "&'/<=>\``.split("")]],unquoted:[[`	
\f\r &>`.split(""),`\0	
\f\r "&'<=>\``.split("")],[`\0	
\f\r "&'<=>\``.split(""),`\0	
\f\r "&'<=>\``.split("")]],single:[["&'".split(""),"\"&'`".split("")],["\0&'".split(""),"\0\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\0"&'.split(""),"\0\"&'`".split("")]]};function Wre(n,e,t,i){const r=i.schema,l=r.space==="svg"?!1:i.settings.omitOptionalTags;let s=r.space==="svg"?i.settings.closeEmptyElements:i.settings.voids.includes(n.tagName.toLowerCase());const o=[];let a;r.space==="html"&&n.tagName==="svg"&&(i.schema=sf);const u=Kre(i,n.properties),f=i.all(r.space==="html"&&n.tagName==="template"?n.content:n);return i.schema=r,f&&(s=!1),(u||!l||!Bre(n,e,t))&&(o.push("<",n.tagName,u?" "+u:""),s&&(r.space==="svg"||i.settings.closeSelfClosing)&&(a=u.charAt(u.length-1),(!i.settings.tightSelfClosing||a==="/"||a&&a!=='"'&&a!=="'")&&o.push(" "),o.push("/")),o.push(">")),o.push(f),!s&&(!l||!lb(n,e,t))&&o.push("</"+n.tagName+">"),o.join("")}function Kre(n,e){const t=[];let i=-1,r;if(e){for(r in e)if(e[r]!==void 0&&e[r]!==null){const l=Vre(n,r,e[r]);l&&t.push(l)}}for(;++i<t.length;){const l=n.settings.tightAttributes?t[i].charAt(t[i].length-1):null;i!==t.length-1&&l!=='"'&&l!=="'"&&(t[i]+=" ")}return t.join("")}function Vre(n,e,t){const i=pp(n.schema,e),r=n.settings.allowParseErrors&&n.schema.space==="html"?0:1,l=n.settings.allowDangerousCharacters?0:1;let s=n.quote,o;if(i.overloadedBoolean&&(t===i.attribute||t==="")?t=!0:(i.boolean||i.overloadedBoolean&&typeof t!="string")&&(t=!!t),t==null||t===!1||typeof t=="number"&&Number.isNaN(t))return"";const a=Pu(i.attribute,Object.assign({},n.settings.characterReferences,{subset:Rd.name[r][l]}));return t===!0||(t=Array.isArray(t)?(i.commaSeparated?xO:BO)(t,{padLeft:!n.settings.tightCommaSeparatedLists}):String(t),n.settings.collapseEmptyAttributes&&!t)?a:(n.settings.preferUnquoted&&(o=Pu(t,Object.assign({},n.settings.characterReferences,{subset:Rd.unquoted[r][l],attribute:!0}))),o!==t&&(n.settings.quoteSmart&&Oh(t,s)>Oh(t,n.alternative)&&(s=n.alternative),o=s+Pu(t,Object.assign({},n.settings.characterReferences,{subset:(s==="'"?Rd.single:Rd.double)[r][l],attribute:!0}))+s),a+(o&&"="+o))}function ZO(n,e,t,i){return t&&t.type==="element"&&(t.tagName==="script"||t.tagName==="style")?n.value:Pu(n.value,Object.assign({},i.settings.characterReferences,{subset:["<","&"]}))}function Gre(n,e,t,i){return i.settings.allowDangerousHtml?n.value:ZO(n,e,t,i)}function Yre(n,e,t,i){return i.all(n)}const Xre=nb("type",{invalid:Zre,unknown:Qre,handlers:{comment:wre,doctype:Ere,element:Wre,raw:Gre,root:Yre,text:ZO}});function Zre(n){throw new Error("Expected node, not `"+n+"`")}function Qre(n){throw new Error("Cannot compile unknown node `"+n.type+"`")}function Jre(n,e){const t=e||{},i=t.quote||'"',r=i==='"'?"'":'"';if(i!=='"'&&i!=="'")throw new Error("Invalid quote `"+i+"`, expected `'` or `\"`");return{one:ele,all:tle,settings:{omitOptionalTags:t.omitOptionalTags||!1,allowParseErrors:t.allowParseErrors||!1,allowDangerousCharacters:t.allowDangerousCharacters||!1,quoteSmart:t.quoteSmart||!1,preferUnquoted:t.preferUnquoted||!1,tightAttributes:t.tightAttributes||!1,upperDoctype:t.upperDoctype||!1,tightDoctype:t.tightDoctype||!1,bogusComments:t.bogusComments||!1,tightCommaSeparatedLists:t.tightCommaSeparatedLists||!1,tightSelfClosing:t.tightSelfClosing||!1,collapseEmptyAttributes:t.collapseEmptyAttributes||!1,allowDangerousHtml:t.allowDangerousHtml||!1,voids:t.voids||WO,characterReferences:t.characterReferences||t.entities||{},closeSelfClosing:t.closeSelfClosing||!1,closeEmptyElements:t.closeEmptyElements||!1},schema:t.space==="svg"?sf:c1,quote:i,alternative:r}.one(Array.isArray(n)?{type:"root",children:n}:n,void 0,void 0)}function ele(n,e,t){return Xre(n,e,t,this)}function tle(n){const e=[],t=n&&n.children||[];let i=-1;for(;++i<t.length;)e[i]=this.one(t[i],i,n);return e.join("")}function nle(n){const e=this.data("settings"),t=Object.assign({},e,n);Object.assign(this,{Compiler:i});function i(r){return Jre(r,t)}}const ile={};function rle(n,e){const t=ile,i=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,r=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return QO(n,i,r)}function QO(n,e,t){if(lle(n)){if("value"in n)return n.type==="html"&&!t?"":n.value;if(e&&"alt"in n&&n.alt)return n.alt;if("children"in n)return fw(n.children,e,t)}return Array.isArray(n)?fw(n,e,t):""}function fw(n,e,t){const i=[];let r=-1;for(;++r<n.length;)i[r]=QO(n[r],e,t);return i.join("")}function lle(n){return!!(n&&typeof n=="object")}function fl(n,e,t,i){const r=n.length;let l=0,s;if(e<0?e=-e>r?0:r+e:e=e>r?r:e,t=t>0?t:0,i.length<1e4)s=Array.from(i),s.unshift(e,t),n.splice(...s);else for(t&&n.splice(e,t);l<i.length;)s=i.slice(l,l+1e4),s.unshift(e,0),n.splice(...s),l+=1e4,e+=1e4}function vl(n,e){return n.length>0?(fl(n,n.length,0,e),n):e}const cw={}.hasOwnProperty;function JO(n){const e={};let t=-1;for(;++t<n.length;)sle(e,n[t]);return e}function sle(n,e){let t;for(t in e){const r=(cw.call(n,t)?n[t]:void 0)||(n[t]={}),l=e[t];let s;if(l)for(s in l){cw.call(r,s)||(r[s]=[]);const o=l[s];ole(r[s],Array.isArray(o)?o:o?[o]:[])}}}function ole(n,e){let t=-1;const i=[];for(;++t<e.length;)(e[t].add==="after"?n:i).push(e[t]);fl(n,0,0,i)}const ale=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,wr=Ho(/[A-Za-z]/),fr=Ho(/[\dA-Za-z]/),ule=Ho(/[#-'*+\--9=?A-Z^-~]/);function Nh(n){return n!==null&&(n<32||n===127)}const Og=Ho(/\d/),fle=Ho(/[\dA-Fa-f]/),cle=Ho(/[!-/:-@[-`{-~]/);function Yt(n){return n!==null&&n<-2}function ni(n){return n!==null&&(n<0||n===32)}function kn(n){return n===-2||n===-1||n===32}const mp=Ho(ale),Oa=Ho(/\s/);function Ho(n){return e;function e(t){return t!==null&&n.test(String.fromCharCode(t))}}function Pn(n,e,t,i){const r=i?i-1:Number.POSITIVE_INFINITY;let l=0;return s;function s(a){return kn(a)?(n.enter(t),o(a)):e(a)}function o(a){return kn(a)&&l++<r?(n.consume(a),o):(n.exit(t),e(a))}}const dle={tokenize:hle};function hle(n){const e=n.attempt(this.parser.constructs.contentInitial,i,r);let t;return e;function i(o){if(o===null){n.consume(o);return}return n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),Pn(n,e,"linePrefix")}function r(o){return n.enter("paragraph"),l(o)}function l(o){const a=n.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=a),t=a,s(o)}function s(o){if(o===null){n.exit("chunkText"),n.exit("paragraph"),n.consume(o);return}return Yt(o)?(n.consume(o),n.exit("chunkText"),l):(n.consume(o),s)}}const ple={tokenize:mle},dw={tokenize:gle};function mle(n){const e=this,t=[];let i=0,r,l,s;return o;function o(M){if(i<t.length){const N=t[i];return e.containerState=N[1],n.attempt(N[0].continuation,a,u)(M)}return u(M)}function a(M){if(i++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,r&&A();const N=e.events.length;let L=N,I;for(;L--;)if(e.events[L][0]==="exit"&&e.events[L][1].type==="chunkFlow"){I=e.events[L][1].end;break}y(i);let R=N;for(;R<e.events.length;)e.events[R][1].end=Object.assign({},I),R++;return fl(e.events,L+1,0,e.events.slice(N)),e.events.length=R,u(M)}return o(M)}function u(M){if(i===t.length){if(!r)return h(M);if(r.currentConstruct&&r.currentConstruct.concrete)return _(M);e.interrupt=!!(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return e.containerState={},n.check(dw,f,c)(M)}function f(M){return r&&A(),y(i),h(M)}function c(M){return e.parser.lazy[e.now().line]=i!==t.length,s=e.now().offset,_(M)}function h(M){return e.containerState={},n.attempt(dw,p,_)(M)}function p(M){return i++,t.push([e.currentConstruct,e.containerState]),h(M)}function _(M){if(M===null){r&&A(),y(0),n.consume(M);return}return r=r||e.parser.flow(e.now()),n.enter("chunkFlow",{contentType:"flow",previous:l,_tokenizer:r}),v(M)}function v(M){if(M===null){b(n.exit("chunkFlow"),!0),y(0),n.consume(M);return}return Yt(M)?(n.consume(M),b(n.exit("chunkFlow")),i=0,e.interrupt=void 0,o):(n.consume(M),v)}function b(M,N){const L=e.sliceStream(M);if(N&&L.push(null),M.previous=l,l&&(l.next=M),l=M,r.defineSkip(M.start),r.write(L),e.parser.lazy[M.start.line]){let I=r.events.length;for(;I--;)if(r.events[I][1].start.offset<s&&(!r.events[I][1].end||r.events[I][1].end.offset>s))return;const R=e.events.length;let $=R,B,H;for(;$--;)if(e.events[$][0]==="exit"&&e.events[$][1].type==="chunkFlow"){if(B){H=e.events[$][1].end;break}B=!0}for(y(i),I=R;I<e.events.length;)e.events[I][1].end=Object.assign({},H),I++;fl(e.events,$+1,0,e.events.slice(R)),e.events.length=I}}function y(M){let N=t.length;for(;N-- >M;){const L=t[N];e.containerState=L[1],L[0].exit.call(e,n)}t.length=M}function A(){r.write([null]),l=void 0,r=void 0,e.containerState._closeFlow=void 0}}function gle(n,e,t){return Pn(n,n.attempt(this.parser.constructs.document,e,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Mh(n){if(n===null||ni(n)||Oa(n))return 1;if(mp(n))return 2}function gp(n,e,t){const i=[];let r=-1;for(;++r<n.length;){const l=n[r].resolveAll;l&&!i.includes(l)&&(e=l(e,t),i.push(l))}return e}const Ng={name:"attention",tokenize:ble,resolveAll:_le};function _le(n,e){let t=-1,i,r,l,s,o,a,u,f;for(;++t<n.length;)if(n[t][0]==="enter"&&n[t][1].type==="attentionSequence"&&n[t][1]._close){for(i=t;i--;)if(n[i][0]==="exit"&&n[i][1].type==="attentionSequence"&&n[i][1]._open&&e.sliceSerialize(n[i][1]).charCodeAt(0)===e.sliceSerialize(n[t][1]).charCodeAt(0)){if((n[i][1]._close||n[t][1]._open)&&(n[t][1].end.offset-n[t][1].start.offset)%3&&!((n[i][1].end.offset-n[i][1].start.offset+n[t][1].end.offset-n[t][1].start.offset)%3))continue;a=n[i][1].end.offset-n[i][1].start.offset>1&&n[t][1].end.offset-n[t][1].start.offset>1?2:1;const c=Object.assign({},n[i][1].end),h=Object.assign({},n[t][1].start);hw(c,-a),hw(h,a),s={type:a>1?"strongSequence":"emphasisSequence",start:c,end:Object.assign({},n[i][1].end)},o={type:a>1?"strongSequence":"emphasisSequence",start:Object.assign({},n[t][1].start),end:h},l={type:a>1?"strongText":"emphasisText",start:Object.assign({},n[i][1].end),end:Object.assign({},n[t][1].start)},r={type:a>1?"strong":"emphasis",start:Object.assign({},s.start),end:Object.assign({},o.end)},n[i][1].end=Object.assign({},s.start),n[t][1].start=Object.assign({},o.end),u=[],n[i][1].end.offset-n[i][1].start.offset&&(u=vl(u,[["enter",n[i][1],e],["exit",n[i][1],e]])),u=vl(u,[["enter",r,e],["enter",s,e],["exit",s,e],["enter",l,e]]),u=vl(u,gp(e.parser.constructs.insideSpan.null,n.slice(i+1,t),e)),u=vl(u,[["exit",l,e],["enter",o,e],["exit",o,e],["exit",r,e]]),n[t][1].end.offset-n[t][1].start.offset?(f=2,u=vl(u,[["enter",n[t][1],e],["exit",n[t][1],e]])):f=0,fl(n,i-1,t-i+3,u),t=i+u.length-f-2;break}}for(t=-1;++t<n.length;)n[t][1].type==="attentionSequence"&&(n[t][1].type="data");return n}function ble(n,e){const t=this.parser.constructs.attentionMarkers.null,i=this.previous,r=Mh(i);let l;return s;function s(a){return l=a,n.enter("attentionSequence"),o(a)}function o(a){if(a===l)return n.consume(a),o;const u=n.exit("attentionSequence"),f=Mh(a),c=!f||f===2&&r||t.includes(a),h=!r||r===2&&f||t.includes(i);return u._open=!!(l===42?c:c&&(r||!h)),u._close=!!(l===42?h:h&&(f||!c)),e(a)}}function hw(n,e){n.column+=e,n.offset+=e,n._bufferIndex+=e}const vle={name:"autolink",tokenize:yle};function yle(n,e,t){let i=0;return r;function r(p){return n.enter("autolink"),n.enter("autolinkMarker"),n.consume(p),n.exit("autolinkMarker"),n.enter("autolinkProtocol"),l}function l(p){return wr(p)?(n.consume(p),s):u(p)}function s(p){return p===43||p===45||p===46||fr(p)?(i=1,o(p)):u(p)}function o(p){return p===58?(n.consume(p),i=0,a):(p===43||p===45||p===46||fr(p))&&i++<32?(n.consume(p),o):(i=0,u(p))}function a(p){return p===62?(n.exit("autolinkProtocol"),n.enter("autolinkMarker"),n.consume(p),n.exit("autolinkMarker"),n.exit("autolink"),e):p===null||p===32||p===60||Nh(p)?t(p):(n.consume(p),a)}function u(p){return p===64?(n.consume(p),f):ule(p)?(n.consume(p),u):t(p)}function f(p){return fr(p)?c(p):t(p)}function c(p){return p===46?(n.consume(p),i=0,f):p===62?(n.exit("autolinkProtocol").type="autolinkEmail",n.enter("autolinkMarker"),n.consume(p),n.exit("autolinkMarker"),n.exit("autolink"),e):h(p)}function h(p){if((p===45||fr(p))&&i++<63){const _=p===45?h:c;return n.consume(p),_}return t(p)}}const d1={tokenize:kle,partial:!0};function kle(n,e,t){return i;function i(l){return kn(l)?Pn(n,r,"linePrefix")(l):r(l)}function r(l){return l===null||Yt(l)?e(l):t(l)}}const eN={name:"blockQuote",tokenize:Tle,continuation:{tokenize:wle},exit:Ele};function Tle(n,e,t){const i=this;return r;function r(s){if(s===62){const o=i.containerState;return o.open||(n.enter("blockQuote",{_container:!0}),o.open=!0),n.enter("blockQuotePrefix"),n.enter("blockQuoteMarker"),n.consume(s),n.exit("blockQuoteMarker"),l}return t(s)}function l(s){return kn(s)?(n.enter("blockQuotePrefixWhitespace"),n.consume(s),n.exit("blockQuotePrefixWhitespace"),n.exit("blockQuotePrefix"),e):(n.exit("blockQuotePrefix"),e(s))}}function wle(n,e,t){const i=this;return r;function r(s){return kn(s)?Pn(n,l,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):l(s)}function l(s){return n.attempt(eN,e,t)(s)}}function Ele(n){n.exit("blockQuote")}const tN={name:"characterEscape",tokenize:Sle};function Sle(n,e,t){return i;function i(l){return n.enter("characterEscape"),n.enter("escapeMarker"),n.consume(l),n.exit("escapeMarker"),r}function r(l){return cle(l)?(n.enter("characterEscapeValue"),n.consume(l),n.exit("characterEscapeValue"),n.exit("characterEscape"),e):t(l)}}const pw=document.createElement("i");function sb(n){const e="&"+n+";";pw.innerHTML=e;const t=pw.textContent;return t.charCodeAt(t.length-1)===59&&n!=="semi"||t===e?!1:t}const nN={name:"characterReference",tokenize:Cle};function Cle(n,e,t){const i=this;let r=0,l,s;return o;function o(c){return n.enter("characterReference"),n.enter("characterReferenceMarker"),n.consume(c),n.exit("characterReferenceMarker"),a}function a(c){return c===35?(n.enter("characterReferenceMarkerNumeric"),n.consume(c),n.exit("characterReferenceMarkerNumeric"),u):(n.enter("characterReferenceValue"),l=31,s=fr,f(c))}function u(c){return c===88||c===120?(n.enter("characterReferenceMarkerHexadecimal"),n.consume(c),n.exit("characterReferenceMarkerHexadecimal"),n.enter("characterReferenceValue"),l=6,s=fle,f):(n.enter("characterReferenceValue"),l=7,s=Og,f(c))}function f(c){if(c===59&&r){const h=n.exit("characterReferenceValue");return s===fr&&!sb(i.sliceSerialize(h))?t(c):(n.enter("characterReferenceMarker"),n.consume(c),n.exit("characterReferenceMarker"),n.exit("characterReference"),e)}return s(c)&&r++<l?(n.consume(c),f):t(c)}}const mw={tokenize:Ole,partial:!0},gw={name:"codeFenced",tokenize:Ale,concrete:!0};function Ale(n,e,t){const i=this,r={tokenize:L,partial:!0};let l=0,s=0,o;return a;function a(I){return u(I)}function u(I){const R=i.events[i.events.length-1];return l=R&&R[1].type==="linePrefix"?R[2].sliceSerialize(R[1],!0).length:0,o=I,n.enter("codeFenced"),n.enter("codeFencedFence"),n.enter("codeFencedFenceSequence"),f(I)}function f(I){return I===o?(s++,n.consume(I),f):s<3?t(I):(n.exit("codeFencedFenceSequence"),kn(I)?Pn(n,c,"whitespace")(I):c(I))}function c(I){return I===null||Yt(I)?(n.exit("codeFencedFence"),i.interrupt?e(I):n.check(mw,v,N)(I)):(n.enter("codeFencedFenceInfo"),n.enter("chunkString",{contentType:"string"}),h(I))}function h(I){return I===null||Yt(I)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),c(I)):kn(I)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),Pn(n,p,"whitespace")(I)):I===96&&I===o?t(I):(n.consume(I),h)}function p(I){return I===null||Yt(I)?c(I):(n.enter("codeFencedFenceMeta"),n.enter("chunkString",{contentType:"string"}),_(I))}function _(I){return I===null||Yt(I)?(n.exit("chunkString"),n.exit("codeFencedFenceMeta"),c(I)):I===96&&I===o?t(I):(n.consume(I),_)}function v(I){return n.attempt(r,N,b)(I)}function b(I){return n.enter("lineEnding"),n.consume(I),n.exit("lineEnding"),y}function y(I){return l>0&&kn(I)?Pn(n,A,"linePrefix",l+1)(I):A(I)}function A(I){return I===null||Yt(I)?n.check(mw,v,N)(I):(n.enter("codeFlowValue"),M(I))}function M(I){return I===null||Yt(I)?(n.exit("codeFlowValue"),A(I)):(n.consume(I),M)}function N(I){return n.exit("codeFenced"),e(I)}function L(I,R,$){let B=0;return H;function H(G){return I.enter("lineEnding"),I.consume(G),I.exit("lineEnding"),q}function q(G){return I.enter("codeFencedFence"),kn(G)?Pn(I,z,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(G):z(G)}function z(G){return G===o?(I.enter("codeFencedFenceSequence"),j(G)):$(G)}function j(G){return G===o?(B++,I.consume(G),j):B>=s?(I.exit("codeFencedFenceSequence"),kn(G)?Pn(I,W,"whitespace")(G):W(G)):$(G)}function W(G){return G===null||Yt(G)?(I.exit("codeFencedFence"),R(G)):$(G)}}}function Ole(n,e,t){const i=this;return r;function r(s){return s===null?t(s):(n.enter("lineEnding"),n.consume(s),n.exit("lineEnding"),l)}function l(s){return i.parser.lazy[i.now().line]?t(s):e(s)}}const k0={name:"codeIndented",tokenize:Mle},Nle={tokenize:Ile,partial:!0};function Mle(n,e,t){const i=this;return r;function r(u){return n.enter("codeIndented"),Pn(n,l,"linePrefix",5)(u)}function l(u){const f=i.events[i.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?s(u):t(u)}function s(u){return u===null?a(u):Yt(u)?n.attempt(Nle,s,a)(u):(n.enter("codeFlowValue"),o(u))}function o(u){return u===null||Yt(u)?(n.exit("codeFlowValue"),s(u)):(n.consume(u),o)}function a(u){return n.exit("codeIndented"),e(u)}}function Ile(n,e,t){const i=this;return r;function r(s){return i.parser.lazy[i.now().line]?t(s):Yt(s)?(n.enter("lineEnding"),n.consume(s),n.exit("lineEnding"),r):Pn(n,l,"linePrefix",5)(s)}function l(s){const o=i.events[i.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(s):Yt(s)?r(s):t(s)}}const Lle={name:"codeText",tokenize:Ple,resolve:Dle,previous:Rle};function Dle(n){let e=n.length-4,t=3,i,r;if((n[t][1].type==="lineEnding"||n[t][1].type==="space")&&(n[e][1].type==="lineEnding"||n[e][1].type==="space")){for(i=t;++i<e;)if(n[i][1].type==="codeTextData"){n[t][1].type="codeTextPadding",n[e][1].type="codeTextPadding",t+=2,e-=2;break}}for(i=t-1,e++;++i<=e;)r===void 0?i!==e&&n[i][1].type!=="lineEnding"&&(r=i):(i===e||n[i][1].type==="lineEnding")&&(n[r][1].type="codeTextData",i!==r+2&&(n[r][1].end=n[i-1][1].end,n.splice(r+2,i-r-2),e-=i-r-2,i=r+2),r=void 0);return n}function Rle(n){return n!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Ple(n,e,t){let i=0,r,l;return s;function s(c){return n.enter("codeText"),n.enter("codeTextSequence"),o(c)}function o(c){return c===96?(n.consume(c),i++,o):(n.exit("codeTextSequence"),a(c))}function a(c){return c===null?t(c):c===32?(n.enter("space"),n.consume(c),n.exit("space"),a):c===96?(l=n.enter("codeTextSequence"),r=0,f(c)):Yt(c)?(n.enter("lineEnding"),n.consume(c),n.exit("lineEnding"),a):(n.enter("codeTextData"),u(c))}function u(c){return c===null||c===32||c===96||Yt(c)?(n.exit("codeTextData"),a(c)):(n.consume(c),u)}function f(c){return c===96?(n.consume(c),r++,f):r===i?(n.exit("codeTextSequence"),n.exit("codeText"),e(c)):(l.type="codeTextData",u(c))}}function iN(n){const e={};let t=-1,i,r,l,s,o,a,u;for(;++t<n.length;){for(;t in e;)t=e[t];if(i=n[t],t&&i[1].type==="chunkFlow"&&n[t-1][1].type==="listItemPrefix"&&(a=i[1]._tokenizer.events,l=0,l<a.length&&a[l][1].type==="lineEndingBlank"&&(l+=2),l<a.length&&a[l][1].type==="content"))for(;++l<a.length&&a[l][1].type!=="content";)a[l][1].type==="chunkText"&&(a[l][1]._isInFirstContentOfListItem=!0,l++);if(i[0]==="enter")i[1].contentType&&(Object.assign(e,Fle(n,t)),t=e[t],u=!0);else if(i[1]._container){for(l=t,r=void 0;l--&&(s=n[l],s[1].type==="lineEnding"||s[1].type==="lineEndingBlank");)s[0]==="enter"&&(r&&(n[r][1].type="lineEndingBlank"),s[1].type="lineEnding",r=l);r&&(i[1].end=Object.assign({},n[r][1].start),o=n.slice(r,t),o.unshift(i),fl(n,r,t-r+1,o))}}return!u}function Fle(n,e){const t=n[e][1],i=n[e][2];let r=e-1;const l=[],s=t._tokenizer||i.parser[t.contentType](t.start),o=s.events,a=[],u={};let f,c,h=-1,p=t,_=0,v=0;const b=[v];for(;p;){for(;n[++r][1]!==p;);l.push(r),p._tokenizer||(f=i.sliceStream(p),p.next||f.push(null),c&&s.defineSkip(p.start),p._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(f),p._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),c=p,p=p.next}for(p=t;++h<o.length;)o[h][0]==="exit"&&o[h-1][0]==="enter"&&o[h][1].type===o[h-1][1].type&&o[h][1].start.line!==o[h][1].end.line&&(v=h+1,b.push(v),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(s.events=[],p?(p._tokenizer=void 0,p.previous=void 0):b.pop(),h=b.length;h--;){const y=o.slice(b[h],b[h+1]),A=l.pop();a.unshift([A,A+y.length-1]),fl(n,A,2,y)}for(h=-1;++h<a.length;)u[_+a[h][0]]=_+a[h][1],_+=a[h][1]-a[h][0]-1;return u}const $le={tokenize:xle,resolve:Ble},Hle={tokenize:Ule,partial:!0};function Ble(n){return iN(n),n}function xle(n,e){let t;return i;function i(o){return n.enter("content"),t=n.enter("chunkContent",{contentType:"content"}),r(o)}function r(o){return o===null?l(o):Yt(o)?n.check(Hle,s,l)(o):(n.consume(o),r)}function l(o){return n.exit("chunkContent"),n.exit("content"),e(o)}function s(o){return n.consume(o),n.exit("chunkContent"),t.next=n.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,r}}function Ule(n,e,t){const i=this;return r;function r(s){return n.exit("chunkContent"),n.enter("lineEnding"),n.consume(s),n.exit("lineEnding"),Pn(n,l,"linePrefix")}function l(s){if(s===null||Yt(s))return t(s);const o=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(s):n.interrupt(i.parser.constructs.flow,t,e)(s)}}function rN(n,e,t,i,r,l,s,o,a){const u=a||Number.POSITIVE_INFINITY;let f=0;return c;function c(y){return y===60?(n.enter(i),n.enter(r),n.enter(l),n.consume(y),n.exit(l),h):y===null||y===32||y===41||Nh(y)?t(y):(n.enter(i),n.enter(s),n.enter(o),n.enter("chunkString",{contentType:"string"}),v(y))}function h(y){return y===62?(n.enter(l),n.consume(y),n.exit(l),n.exit(r),n.exit(i),e):(n.enter(o),n.enter("chunkString",{contentType:"string"}),p(y))}function p(y){return y===62?(n.exit("chunkString"),n.exit(o),h(y)):y===null||y===60||Yt(y)?t(y):(n.consume(y),y===92?_:p)}function _(y){return y===60||y===62||y===92?(n.consume(y),p):p(y)}function v(y){return!f&&(y===null||y===41||ni(y))?(n.exit("chunkString"),n.exit(o),n.exit(s),n.exit(i),e(y)):f<u&&y===40?(n.consume(y),f++,v):y===41?(n.consume(y),f--,v):y===null||y===32||y===40||Nh(y)?t(y):(n.consume(y),y===92?b:v)}function b(y){return y===40||y===41||y===92?(n.consume(y),v):v(y)}}function lN(n,e,t,i,r,l){const s=this;let o=0,a;return u;function u(p){return n.enter(i),n.enter(r),n.consume(p),n.exit(r),n.enter(l),f}function f(p){return o>999||p===null||p===91||p===93&&!a||p===94&&!o&&"_hiddenFootnoteSupport"in s.parser.constructs?t(p):p===93?(n.exit(l),n.enter(r),n.consume(p),n.exit(r),n.exit(i),e):Yt(p)?(n.enter("lineEnding"),n.consume(p),n.exit("lineEnding"),f):(n.enter("chunkString",{contentType:"string"}),c(p))}function c(p){return p===null||p===91||p===93||Yt(p)||o++>999?(n.exit("chunkString"),f(p)):(n.consume(p),a||(a=!kn(p)),p===92?h:c)}function h(p){return p===91||p===92||p===93?(n.consume(p),o++,c):c(p)}}function sN(n,e,t,i,r,l){let s;return o;function o(h){return h===34||h===39||h===40?(n.enter(i),n.enter(r),n.consume(h),n.exit(r),s=h===40?41:h,a):t(h)}function a(h){return h===s?(n.enter(r),n.consume(h),n.exit(r),n.exit(i),e):(n.enter(l),u(h))}function u(h){return h===s?(n.exit(l),a(s)):h===null?t(h):Yt(h)?(n.enter("lineEnding"),n.consume(h),n.exit("lineEnding"),Pn(n,u,"linePrefix")):(n.enter("chunkString",{contentType:"string"}),f(h))}function f(h){return h===s||h===null||Yt(h)?(n.exit("chunkString"),u(h)):(n.consume(h),h===92?c:f)}function c(h){return h===s||h===92?(n.consume(h),f):f(h)}}function Sc(n,e){let t;return i;function i(r){return Yt(r)?(n.enter("lineEnding"),n.consume(r),n.exit("lineEnding"),t=!0,i):kn(r)?Pn(n,i,t?"linePrefix":"lineSuffix")(r):e(r)}}function Yl(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const zle={name:"definition",tokenize:jle},qle={tokenize:Wle,partial:!0};function jle(n,e,t){const i=this;let r;return l;function l(p){return n.enter("definition"),s(p)}function s(p){return lN.call(i,n,o,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function o(p){return r=Yl(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),p===58?(n.enter("definitionMarker"),n.consume(p),n.exit("definitionMarker"),a):t(p)}function a(p){return ni(p)?Sc(n,u)(p):u(p)}function u(p){return rN(n,f,t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function f(p){return n.attempt(qle,c,c)(p)}function c(p){return kn(p)?Pn(n,h,"whitespace")(p):h(p)}function h(p){return p===null||Yt(p)?(n.exit("definition"),i.parser.defined.push(r),e(p)):t(p)}}function Wle(n,e,t){return i;function i(o){return ni(o)?Sc(n,r)(o):t(o)}function r(o){return sN(n,l,t,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function l(o){return kn(o)?Pn(n,s,"whitespace")(o):s(o)}function s(o){return o===null||Yt(o)?e(o):t(o)}}const Kle={name:"hardBreakEscape",tokenize:Vle};function Vle(n,e,t){return i;function i(l){return n.enter("hardBreakEscape"),n.consume(l),r}function r(l){return Yt(l)?(n.exit("hardBreakEscape"),e(l)):t(l)}}const Gle={name:"headingAtx",tokenize:Xle,resolve:Yle};function Yle(n,e){let t=n.length-2,i=3,r,l;return n[i][1].type==="whitespace"&&(i+=2),t-2>i&&n[t][1].type==="whitespace"&&(t-=2),n[t][1].type==="atxHeadingSequence"&&(i===t-1||t-4>i&&n[t-2][1].type==="whitespace")&&(t-=i+1===t?2:4),t>i&&(r={type:"atxHeadingText",start:n[i][1].start,end:n[t][1].end},l={type:"chunkText",start:n[i][1].start,end:n[t][1].end,contentType:"text"},fl(n,i,t-i+1,[["enter",r,e],["enter",l,e],["exit",l,e],["exit",r,e]])),n}function Xle(n,e,t){let i=0;return r;function r(f){return n.enter("atxHeading"),l(f)}function l(f){return n.enter("atxHeadingSequence"),s(f)}function s(f){return f===35&&i++<6?(n.consume(f),s):f===null||ni(f)?(n.exit("atxHeadingSequence"),o(f)):t(f)}function o(f){return f===35?(n.enter("atxHeadingSequence"),a(f)):f===null||Yt(f)?(n.exit("atxHeading"),e(f)):kn(f)?Pn(n,o,"whitespace")(f):(n.enter("atxHeadingText"),u(f))}function a(f){return f===35?(n.consume(f),a):(n.exit("atxHeadingSequence"),o(f))}function u(f){return f===null||f===35||ni(f)?(n.exit("atxHeadingText"),o(f)):(n.consume(f),u)}}const Zle=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],_w=["pre","script","style","textarea"],Qle={name:"htmlFlow",tokenize:nse,resolveTo:tse,concrete:!0},Jle={tokenize:rse,partial:!0},ese={tokenize:ise,partial:!0};function tse(n){let e=n.length;for(;e--&&!(n[e][0]==="enter"&&n[e][1].type==="htmlFlow"););return e>1&&n[e-2][1].type==="linePrefix"&&(n[e][1].start=n[e-2][1].start,n[e+1][1].start=n[e-2][1].start,n.splice(e-2,2)),n}function nse(n,e,t){const i=this;let r,l,s,o,a;return u;function u(oe){return f(oe)}function f(oe){return n.enter("htmlFlow"),n.enter("htmlFlowData"),n.consume(oe),c}function c(oe){return oe===33?(n.consume(oe),h):oe===47?(n.consume(oe),l=!0,v):oe===63?(n.consume(oe),r=3,i.interrupt?e:K):wr(oe)?(n.consume(oe),s=String.fromCharCode(oe),b):t(oe)}function h(oe){return oe===45?(n.consume(oe),r=2,p):oe===91?(n.consume(oe),r=5,o=0,_):wr(oe)?(n.consume(oe),r=4,i.interrupt?e:K):t(oe)}function p(oe){return oe===45?(n.consume(oe),i.interrupt?e:K):t(oe)}function _(oe){const Le="CDATA[";return oe===Le.charCodeAt(o++)?(n.consume(oe),o===Le.length?i.interrupt?e:z:_):t(oe)}function v(oe){return wr(oe)?(n.consume(oe),s=String.fromCharCode(oe),b):t(oe)}function b(oe){if(oe===null||oe===47||oe===62||ni(oe)){const Le=oe===47,lt=s.toLowerCase();return!Le&&!l&&_w.includes(lt)?(r=1,i.interrupt?e(oe):z(oe)):Zle.includes(s.toLowerCase())?(r=6,Le?(n.consume(oe),y):i.interrupt?e(oe):z(oe)):(r=7,i.interrupt&&!i.parser.lazy[i.now().line]?t(oe):l?A(oe):M(oe))}return oe===45||fr(oe)?(n.consume(oe),s+=String.fromCharCode(oe),b):t(oe)}function y(oe){return oe===62?(n.consume(oe),i.interrupt?e:z):t(oe)}function A(oe){return kn(oe)?(n.consume(oe),A):H(oe)}function M(oe){return oe===47?(n.consume(oe),H):oe===58||oe===95||wr(oe)?(n.consume(oe),N):kn(oe)?(n.consume(oe),M):H(oe)}function N(oe){return oe===45||oe===46||oe===58||oe===95||fr(oe)?(n.consume(oe),N):L(oe)}function L(oe){return oe===61?(n.consume(oe),I):kn(oe)?(n.consume(oe),L):M(oe)}function I(oe){return oe===null||oe===60||oe===61||oe===62||oe===96?t(oe):oe===34||oe===39?(n.consume(oe),a=oe,R):kn(oe)?(n.consume(oe),I):$(oe)}function R(oe){return oe===a?(n.consume(oe),a=null,B):oe===null||Yt(oe)?t(oe):(n.consume(oe),R)}function $(oe){return oe===null||oe===34||oe===39||oe===47||oe===60||oe===61||oe===62||oe===96||ni(oe)?L(oe):(n.consume(oe),$)}function B(oe){return oe===47||oe===62||kn(oe)?M(oe):t(oe)}function H(oe){return oe===62?(n.consume(oe),q):t(oe)}function q(oe){return oe===null||Yt(oe)?z(oe):kn(oe)?(n.consume(oe),q):t(oe)}function z(oe){return oe===45&&r===2?(n.consume(oe),ie):oe===60&&r===1?(n.consume(oe),te):oe===62&&r===4?(n.consume(oe),X):oe===63&&r===3?(n.consume(oe),K):oe===93&&r===5?(n.consume(oe),ue):Yt(oe)&&(r===6||r===7)?(n.exit("htmlFlowData"),n.check(Jle,_e,j)(oe)):oe===null||Yt(oe)?(n.exit("htmlFlowData"),j(oe)):(n.consume(oe),z)}function j(oe){return n.check(ese,W,_e)(oe)}function W(oe){return n.enter("lineEnding"),n.consume(oe),n.exit("lineEnding"),G}function G(oe){return oe===null||Yt(oe)?j(oe):(n.enter("htmlFlowData"),z(oe))}function ie(oe){return oe===45?(n.consume(oe),K):z(oe)}function te(oe){return oe===47?(n.consume(oe),s="",ae):z(oe)}function ae(oe){if(oe===62){const Le=s.toLowerCase();return _w.includes(Le)?(n.consume(oe),X):z(oe)}return wr(oe)&&s.length<8?(n.consume(oe),s+=String.fromCharCode(oe),ae):z(oe)}function ue(oe){return oe===93?(n.consume(oe),K):z(oe)}function K(oe){return oe===62?(n.consume(oe),X):oe===45&&r===2?(n.consume(oe),K):z(oe)}function X(oe){return oe===null||Yt(oe)?(n.exit("htmlFlowData"),_e(oe)):(n.consume(oe),X)}function _e(oe){return n.exit("htmlFlow"),e(oe)}}function ise(n,e,t){const i=this;return r;function r(s){return Yt(s)?(n.enter("lineEnding"),n.consume(s),n.exit("lineEnding"),l):t(s)}function l(s){return i.parser.lazy[i.now().line]?t(s):e(s)}}function rse(n,e,t){return i;function i(r){return n.enter("lineEnding"),n.consume(r),n.exit("lineEnding"),n.attempt(d1,e,t)}}const lse={name:"htmlText",tokenize:sse};function sse(n,e,t){const i=this;let r,l,s;return o;function o(K){return n.enter("htmlText"),n.enter("htmlTextData"),n.consume(K),a}function a(K){return K===33?(n.consume(K),u):K===47?(n.consume(K),L):K===63?(n.consume(K),M):wr(K)?(n.consume(K),$):t(K)}function u(K){return K===45?(n.consume(K),f):K===91?(n.consume(K),l=0,_):wr(K)?(n.consume(K),A):t(K)}function f(K){return K===45?(n.consume(K),p):t(K)}function c(K){return K===null?t(K):K===45?(n.consume(K),h):Yt(K)?(s=c,te(K)):(n.consume(K),c)}function h(K){return K===45?(n.consume(K),p):c(K)}function p(K){return K===62?ie(K):K===45?h(K):c(K)}function _(K){const X="CDATA[";return K===X.charCodeAt(l++)?(n.consume(K),l===X.length?v:_):t(K)}function v(K){return K===null?t(K):K===93?(n.consume(K),b):Yt(K)?(s=v,te(K)):(n.consume(K),v)}function b(K){return K===93?(n.consume(K),y):v(K)}function y(K){return K===62?ie(K):K===93?(n.consume(K),y):v(K)}function A(K){return K===null||K===62?ie(K):Yt(K)?(s=A,te(K)):(n.consume(K),A)}function M(K){return K===null?t(K):K===63?(n.consume(K),N):Yt(K)?(s=M,te(K)):(n.consume(K),M)}function N(K){return K===62?ie(K):M(K)}function L(K){return wr(K)?(n.consume(K),I):t(K)}function I(K){return K===45||fr(K)?(n.consume(K),I):R(K)}function R(K){return Yt(K)?(s=R,te(K)):kn(K)?(n.consume(K),R):ie(K)}function $(K){return K===45||fr(K)?(n.consume(K),$):K===47||K===62||ni(K)?B(K):t(K)}function B(K){return K===47?(n.consume(K),ie):K===58||K===95||wr(K)?(n.consume(K),H):Yt(K)?(s=B,te(K)):kn(K)?(n.consume(K),B):ie(K)}function H(K){return K===45||K===46||K===58||K===95||fr(K)?(n.consume(K),H):q(K)}function q(K){return K===61?(n.consume(K),z):Yt(K)?(s=q,te(K)):kn(K)?(n.consume(K),q):B(K)}function z(K){return K===null||K===60||K===61||K===62||K===96?t(K):K===34||K===39?(n.consume(K),r=K,j):Yt(K)?(s=z,te(K)):kn(K)?(n.consume(K),z):(n.consume(K),W)}function j(K){return K===r?(n.consume(K),r=void 0,G):K===null?t(K):Yt(K)?(s=j,te(K)):(n.consume(K),j)}function W(K){return K===null||K===34||K===39||K===60||K===61||K===96?t(K):K===47||K===62||ni(K)?B(K):(n.consume(K),W)}function G(K){return K===47||K===62||ni(K)?B(K):t(K)}function ie(K){return K===62?(n.consume(K),n.exit("htmlTextData"),n.exit("htmlText"),e):t(K)}function te(K){return n.exit("htmlTextData"),n.enter("lineEnding"),n.consume(K),n.exit("lineEnding"),ae}function ae(K){return kn(K)?Pn(n,ue,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(K):ue(K)}function ue(K){return n.enter("htmlTextData"),s(K)}}const ob={name:"labelEnd",tokenize:dse,resolveTo:cse,resolveAll:fse},ose={tokenize:hse},ase={tokenize:pse},use={tokenize:mse};function fse(n){let e=-1;for(;++e<n.length;){const t=n[e][1];(t.type==="labelImage"||t.type==="labelLink"||t.type==="labelEnd")&&(n.splice(e+1,t.type==="labelImage"?4:2),t.type="data",e++)}return n}function cse(n,e){let t=n.length,i=0,r,l,s,o;for(;t--;)if(r=n[t][1],l){if(r.type==="link"||r.type==="labelLink"&&r._inactive)break;n[t][0]==="enter"&&r.type==="labelLink"&&(r._inactive=!0)}else if(s){if(n[t][0]==="enter"&&(r.type==="labelImage"||r.type==="labelLink")&&!r._balanced&&(l=t,r.type!=="labelLink")){i=2;break}}else r.type==="labelEnd"&&(s=t);const a={type:n[l][1].type==="labelLink"?"link":"image",start:Object.assign({},n[l][1].start),end:Object.assign({},n[n.length-1][1].end)},u={type:"label",start:Object.assign({},n[l][1].start),end:Object.assign({},n[s][1].end)},f={type:"labelText",start:Object.assign({},n[l+i+2][1].end),end:Object.assign({},n[s-2][1].start)};return o=[["enter",a,e],["enter",u,e]],o=vl(o,n.slice(l+1,l+i+3)),o=vl(o,[["enter",f,e]]),o=vl(o,gp(e.parser.constructs.insideSpan.null,n.slice(l+i+4,s-3),e)),o=vl(o,[["exit",f,e],n[s-2],n[s-1],["exit",u,e]]),o=vl(o,n.slice(s+1)),o=vl(o,[["exit",a,e]]),fl(n,l,n.length,o),n}function dse(n,e,t){const i=this;let r=i.events.length,l,s;for(;r--;)if((i.events[r][1].type==="labelImage"||i.events[r][1].type==="labelLink")&&!i.events[r][1]._balanced){l=i.events[r][1];break}return o;function o(h){return l?l._inactive?c(h):(s=i.parser.defined.includes(Yl(i.sliceSerialize({start:l.end,end:i.now()}))),n.enter("labelEnd"),n.enter("labelMarker"),n.consume(h),n.exit("labelMarker"),n.exit("labelEnd"),a):t(h)}function a(h){return h===40?n.attempt(ose,f,s?f:c)(h):h===91?n.attempt(ase,f,s?u:c)(h):s?f(h):c(h)}function u(h){return n.attempt(use,f,c)(h)}function f(h){return e(h)}function c(h){return l._balanced=!0,t(h)}}function hse(n,e,t){return i;function i(c){return n.enter("resource"),n.enter("resourceMarker"),n.consume(c),n.exit("resourceMarker"),r}function r(c){return ni(c)?Sc(n,l)(c):l(c)}function l(c){return c===41?f(c):rN(n,s,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(c)}function s(c){return ni(c)?Sc(n,a)(c):f(c)}function o(c){return t(c)}function a(c){return c===34||c===39||c===40?sN(n,u,t,"resourceTitle","resourceTitleMarker","resourceTitleString")(c):f(c)}function u(c){return ni(c)?Sc(n,f)(c):f(c)}function f(c){return c===41?(n.enter("resourceMarker"),n.consume(c),n.exit("resourceMarker"),n.exit("resource"),e):t(c)}}function pse(n,e,t){const i=this;return r;function r(o){return lN.call(i,n,l,s,"reference","referenceMarker","referenceString")(o)}function l(o){return i.parser.defined.includes(Yl(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?e(o):t(o)}function s(o){return t(o)}}function mse(n,e,t){return i;function i(l){return n.enter("reference"),n.enter("referenceMarker"),n.consume(l),n.exit("referenceMarker"),r}function r(l){return l===93?(n.enter("referenceMarker"),n.consume(l),n.exit("referenceMarker"),n.exit("reference"),e):t(l)}}const gse={name:"labelStartImage",tokenize:_se,resolveAll:ob.resolveAll};function _se(n,e,t){const i=this;return r;function r(o){return n.enter("labelImage"),n.enter("labelImageMarker"),n.consume(o),n.exit("labelImageMarker"),l}function l(o){return o===91?(n.enter("labelMarker"),n.consume(o),n.exit("labelMarker"),n.exit("labelImage"),s):t(o)}function s(o){return o===94&&"_hiddenFootnoteSupport"in i.parser.constructs?t(o):e(o)}}const bse={name:"labelStartLink",tokenize:vse,resolveAll:ob.resolveAll};function vse(n,e,t){const i=this;return r;function r(s){return n.enter("labelLink"),n.enter("labelMarker"),n.consume(s),n.exit("labelMarker"),n.exit("labelLink"),l}function l(s){return s===94&&"_hiddenFootnoteSupport"in i.parser.constructs?t(s):e(s)}}const T0={name:"lineEnding",tokenize:yse};function yse(n,e){return t;function t(i){return n.enter("lineEnding"),n.consume(i),n.exit("lineEnding"),Pn(n,e,"linePrefix")}}const ih={name:"thematicBreak",tokenize:kse};function kse(n,e,t){let i=0,r;return l;function l(u){return n.enter("thematicBreak"),s(u)}function s(u){return r=u,o(u)}function o(u){return u===r?(n.enter("thematicBreakSequence"),a(u)):i>=3&&(u===null||Yt(u))?(n.exit("thematicBreak"),e(u)):t(u)}function a(u){return u===r?(n.consume(u),i++,a):(n.exit("thematicBreakSequence"),kn(u)?Pn(n,o,"whitespace")(u):o(u))}}const Br={name:"list",tokenize:Ese,continuation:{tokenize:Sse},exit:Ase},Tse={tokenize:Ose,partial:!0},wse={tokenize:Cse,partial:!0};function Ese(n,e,t){const i=this,r=i.events[i.events.length-1];let l=r&&r[1].type==="linePrefix"?r[2].sliceSerialize(r[1],!0).length:0,s=0;return o;function o(p){const _=i.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(_==="listUnordered"?!i.containerState.marker||p===i.containerState.marker:Og(p)){if(i.containerState.type||(i.containerState.type=_,n.enter(_,{_container:!0})),_==="listUnordered")return n.enter("listItemPrefix"),p===42||p===45?n.check(ih,t,u)(p):u(p);if(!i.interrupt||p===49)return n.enter("listItemPrefix"),n.enter("listItemValue"),a(p)}return t(p)}function a(p){return Og(p)&&++s<10?(n.consume(p),a):(!i.interrupt||s<2)&&(i.containerState.marker?p===i.containerState.marker:p===41||p===46)?(n.exit("listItemValue"),u(p)):t(p)}function u(p){return n.enter("listItemMarker"),n.consume(p),n.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||p,n.check(d1,i.interrupt?t:f,n.attempt(Tse,h,c))}function f(p){return i.containerState.initialBlankLine=!0,l++,h(p)}function c(p){return kn(p)?(n.enter("listItemPrefixWhitespace"),n.consume(p),n.exit("listItemPrefixWhitespace"),h):t(p)}function h(p){return i.containerState.size=l+i.sliceSerialize(n.exit("listItemPrefix"),!0).length,e(p)}}function Sse(n,e,t){const i=this;return i.containerState._closeFlow=void 0,n.check(d1,r,l);function r(o){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,Pn(n,e,"listItemIndent",i.containerState.size+1)(o)}function l(o){return i.containerState.furtherBlankLines||!kn(o)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,s(o)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,n.attempt(wse,e,s)(o))}function s(o){return i.containerState._closeFlow=!0,i.interrupt=void 0,Pn(n,n.attempt(Br,e,t),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function Cse(n,e,t){const i=this;return Pn(n,r,"listItemIndent",i.containerState.size+1);function r(l){const s=i.events[i.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===i.containerState.size?e(l):t(l)}}function Ase(n){n.exit(this.containerState.type)}function Ose(n,e,t){const i=this;return Pn(n,r,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function r(l){const s=i.events[i.events.length-1];return!kn(l)&&s&&s[1].type==="listItemPrefixWhitespace"?e(l):t(l)}}const bw={name:"setextUnderline",tokenize:Mse,resolveTo:Nse};function Nse(n,e){let t=n.length,i,r,l;for(;t--;)if(n[t][0]==="enter"){if(n[t][1].type==="content"){i=t;break}n[t][1].type==="paragraph"&&(r=t)}else n[t][1].type==="content"&&n.splice(t,1),!l&&n[t][1].type==="definition"&&(l=t);const s={type:"setextHeading",start:Object.assign({},n[r][1].start),end:Object.assign({},n[n.length-1][1].end)};return n[r][1].type="setextHeadingText",l?(n.splice(r,0,["enter",s,e]),n.splice(l+1,0,["exit",n[i][1],e]),n[i][1].end=Object.assign({},n[l][1].end)):n[i][1]=s,n.push(["exit",s,e]),n}function Mse(n,e,t){const i=this;let r;return l;function l(u){let f=i.events.length,c;for(;f--;)if(i.events[f][1].type!=="lineEnding"&&i.events[f][1].type!=="linePrefix"&&i.events[f][1].type!=="content"){c=i.events[f][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||c)?(n.enter("setextHeadingLine"),r=u,s(u)):t(u)}function s(u){return n.enter("setextHeadingLineSequence"),o(u)}function o(u){return u===r?(n.consume(u),o):(n.exit("setextHeadingLineSequence"),kn(u)?Pn(n,a,"lineSuffix")(u):a(u))}function a(u){return u===null||Yt(u)?(n.exit("setextHeadingLine"),e(u)):t(u)}}const Ise={tokenize:Lse};function Lse(n){const e=this,t=n.attempt(d1,i,n.attempt(this.parser.constructs.flowInitial,r,Pn(n,n.attempt(this.parser.constructs.flow,r,n.attempt($le,r)),"linePrefix")));return t;function i(l){if(l===null){n.consume(l);return}return n.enter("lineEndingBlank"),n.consume(l),n.exit("lineEndingBlank"),e.currentConstruct=void 0,t}function r(l){if(l===null){n.consume(l);return}return n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),e.currentConstruct=void 0,t}}const Dse={resolveAll:aN()},Rse=oN("string"),Pse=oN("text");function oN(n){return{tokenize:e,resolveAll:aN(n==="text"?Fse:void 0)};function e(t){const i=this,r=this.parser.constructs[n],l=t.attempt(r,s,o);return s;function s(f){return u(f)?l(f):o(f)}function o(f){if(f===null){t.consume(f);return}return t.enter("data"),t.consume(f),a}function a(f){return u(f)?(t.exit("data"),l(f)):(t.consume(f),a)}function u(f){if(f===null)return!0;const c=r[f];let h=-1;if(c)for(;++h<c.length;){const p=c[h];if(!p.previous||p.previous.call(i,i.previous))return!0}return!1}}}function aN(n){return e;function e(t,i){let r=-1,l;for(;++r<=t.length;)l===void 0?t[r]&&t[r][1].type==="data"&&(l=r,r++):(!t[r]||t[r][1].type!=="data")&&(r!==l+2&&(t[l][1].end=t[r-1][1].end,t.splice(l+2,r-l-2),r=l+2),l=void 0);return n?n(t,i):t}}function Fse(n,e){let t=0;for(;++t<=n.length;)if((t===n.length||n[t][1].type==="lineEnding")&&n[t-1][1].type==="data"){const i=n[t-1][1],r=e.sliceStream(i);let l=r.length,s=-1,o=0,a;for(;l--;){const u=r[l];if(typeof u=="string"){for(s=u.length;u.charCodeAt(s-1)===32;)o++,s--;if(s)break;s=-1}else if(u===-2)a=!0,o++;else if(u!==-1){l++;break}}if(o){const u={type:t===n.length||a||o<2?"lineSuffix":"hardBreakTrailing",start:{line:i.end.line,column:i.end.column-o,offset:i.end.offset-o,_index:i.start._index+l,_bufferIndex:l?s:i.start._bufferIndex+s},end:Object.assign({},i.end)};i.end=Object.assign({},u.start),i.start.offset===i.end.offset?Object.assign(i,u):(n.splice(t,0,["enter",u,e],["exit",u,e]),t+=2)}t++}return n}function $se(n,e,t){let i=Object.assign(t?Object.assign({},t):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const r={},l=[];let s=[],o=[];const a={consume:A,enter:M,exit:N,attempt:R(L),check:R(I),interrupt:R(I,{interrupt:!0})},u={previous:null,code:null,containerState:{},events:[],parser:n,sliceStream:p,sliceSerialize:h,now:_,defineSkip:v,write:c};let f=e.tokenize.call(u,a);return e.resolveAll&&l.push(e),u;function c(q){return s=vl(s,q),b(),s[s.length-1]!==null?[]:($(e,0),u.events=gp(l,u.events,u),u.events)}function h(q,z){return Bse(p(q),z)}function p(q){return Hse(s,q)}function _(){const{line:q,column:z,offset:j,_index:W,_bufferIndex:G}=i;return{line:q,column:z,offset:j,_index:W,_bufferIndex:G}}function v(q){r[q.line]=q.column,H()}function b(){let q;for(;i._index<s.length;){const z=s[i._index];if(typeof z=="string")for(q=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===q&&i._bufferIndex<z.length;)y(z.charCodeAt(i._bufferIndex));else y(z)}}function y(q){f=f(q)}function A(q){Yt(q)?(i.line++,i.column=1,i.offset+=q===-3?2:1,H()):q!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===s[i._index].length&&(i._bufferIndex=-1,i._index++)),u.previous=q}function M(q,z){const j=z||{};return j.type=q,j.start=_(),u.events.push(["enter",j,u]),o.push(j),j}function N(q){const z=o.pop();return z.end=_(),u.events.push(["exit",z,u]),z}function L(q,z){$(q,z.from)}function I(q,z){z.restore()}function R(q,z){return j;function j(W,G,ie){let te,ae,ue,K;return Array.isArray(W)?_e(W):"tokenize"in W?_e([W]):X(W);function X(St){return bt;function bt(At){const ot=At!==null&&St[At],vt=At!==null&&St.null,zt=[...Array.isArray(ot)?ot:ot?[ot]:[],...Array.isArray(vt)?vt:vt?[vt]:[]];return _e(zt)(At)}}function _e(St){return te=St,ae=0,St.length===0?ie:oe(St[ae])}function oe(St){return bt;function bt(At){return K=B(),ue=St,St.partial||(u.currentConstruct=St),St.name&&u.parser.constructs.disable.null.includes(St.name)?lt():St.tokenize.call(z?Object.assign(Object.create(u),z):u,a,Le,lt)(At)}}function Le(St){return q(ue,K),G}function lt(St){return K.restore(),++ae<te.length?oe(te[ae]):ie}}}function $(q,z){q.resolveAll&&!l.includes(q)&&l.push(q),q.resolve&&fl(u.events,z,u.events.length-z,q.resolve(u.events.slice(z),u)),q.resolveTo&&(u.events=q.resolveTo(u.events,u))}function B(){const q=_(),z=u.previous,j=u.currentConstruct,W=u.events.length,G=Array.from(o);return{restore:ie,from:W};function ie(){i=q,u.previous=z,u.currentConstruct=j,u.events.length=W,o=G,H()}}function H(){i.line in r&&i.column<2&&(i.column=r[i.line],i.offset+=r[i.line]-1)}}function Hse(n,e){const t=e.start._index,i=e.start._bufferIndex,r=e.end._index,l=e.end._bufferIndex;let s;if(t===r)s=[n[t].slice(i,l)];else{if(s=n.slice(t,r),i>-1){const o=s[0];typeof o=="string"?s[0]=o.slice(i):s.shift()}l>0&&s.push(n[r].slice(0,l))}return s}function Bse(n,e){let t=-1;const i=[];let r;for(;++t<n.length;){const l=n[t];let s;if(typeof l=="string")s=l;else switch(l){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=e?" ":"	";break}case-1:{if(!e&&r)continue;s=" ";break}default:s=String.fromCharCode(l)}r=l===-2,i.push(s)}return i.join("")}const xse={42:Br,43:Br,45:Br,48:Br,49:Br,50:Br,51:Br,52:Br,53:Br,54:Br,55:Br,56:Br,57:Br,62:eN},Use={91:zle},zse={[-2]:k0,[-1]:k0,32:k0},qse={35:Gle,42:ih,45:[bw,ih],60:Qle,61:bw,95:ih,96:gw,126:gw},jse={38:nN,92:tN},Wse={[-5]:T0,[-4]:T0,[-3]:T0,33:gse,38:nN,42:Ng,60:[vle,lse],91:bse,92:[Kle,tN],93:ob,95:Ng,96:Lle},Kse={null:[Ng,Dse]},Vse={null:[42,95]},Gse={null:[]},Yse=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Vse,contentInitial:Use,disable:Gse,document:xse,flow:qse,flowInitial:zse,insideSpan:Kse,string:jse,text:Wse},Symbol.toStringTag,{value:"Module"}));function Xse(n){const t=JO([Yse,...(n||{}).extensions||[]]),i={defined:[],lazy:{},constructs:t,content:r(dle),document:r(ple),flow:r(Ise),string:r(Rse),text:r(Pse)};return i;function r(l){return s;function s(o){return $se(i,l,o)}}}const vw=/[\0\t\n\r]/g;function Zse(){let n=1,e="",t=!0,i;return r;function r(l,s,o){const a=[];let u,f,c,h,p;for(l=e+l.toString(s),c=0,e="",t&&(l.charCodeAt(0)===65279&&c++,t=void 0);c<l.length;){if(vw.lastIndex=c,u=vw.exec(l),h=u&&u.index!==void 0?u.index:l.length,p=l.charCodeAt(h),!u){e=l.slice(c);break}if(p===10&&c===h&&i)a.push(-3),i=void 0;else switch(i&&(a.push(-5),i=void 0),c<h&&(a.push(l.slice(c,h)),n+=h-c),p){case 0:{a.push(65533),n++;break}case 9:{for(f=Math.ceil(n/4)*4,a.push(-2);n++<f;)a.push(-1);break}case 10:{a.push(-4),n=1;break}default:i=!0,n=1}c=h+1}return o&&(i&&a.push(-5),e&&a.push(e),a.push(null)),a}}function Qse(n){for(;!iN(n););return n}function uN(n,e){const t=Number.parseInt(n,e);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"�":String.fromCharCode(t)}const Jse=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function fN(n){return n.replace(Jse,eoe)}function eoe(n,e,t){if(e)return e;if(t.charCodeAt(0)===35){const r=t.charCodeAt(1),l=r===120||r===88;return uN(t.slice(l?2:1),l?16:10)}return sb(t)||n}function Cc(n){return!n||typeof n!="object"?"":"position"in n||"type"in n?yw(n.position):"start"in n||"end"in n?yw(n):"line"in n||"column"in n?Mg(n):""}function Mg(n){return kw(n&&n.line)+":"+kw(n&&n.column)}function yw(n){return Mg(n&&n.start)+"-"+Mg(n&&n.end)}function kw(n){return n&&typeof n=="number"?n:1}const cN={}.hasOwnProperty,toe=function(n,e,t){return typeof e!="string"&&(t=e,e=void 0),noe(t)(Qse(Xse(t).document().write(Zse()(n,e,!0))))};function noe(n){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(Ee),autolinkProtocol:q,autolinkEmail:q,atxHeading:o(dt),blockQuote:o(zt),characterEscape:q,characterReference:q,codeFenced:o(pt),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:o(pt,a),codeText:o($e,a),codeTextData:q,data:q,codeFlowValue:q,definition:o(Bt),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:o(Ze),hardBreakEscape:o(Fe),hardBreakTrailing:o(Fe),htmlFlow:o(Ft,a),htmlFlowData:q,htmlText:o(Ft,a),htmlTextData:q,image:o(cn),label:a,link:o(Ee),listItem:o(sn),listItemValue:_,listOrdered:o(Ue,p),listUnordered:o(Ue),paragraph:o(gn),reference:lt,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:o(dt),strong:o(Zt),thematicBreak:o(Kt)},exit:{atxHeading:f(),atxHeadingSequence:R,autolink:f(),autolinkEmail:vt,autolinkProtocol:ot,blockQuote:f(),characterEscapeValue:z,characterReferenceMarkerHexadecimal:bt,characterReferenceMarkerNumeric:bt,characterReferenceValue:At,codeFenced:f(A),codeFencedFence:y,codeFencedFenceInfo:v,codeFencedFenceMeta:b,codeFlowValue:z,codeIndented:f(M),codeText:f(te),codeTextData:z,data:z,definition:f(),definitionDestinationString:I,definitionLabelString:N,definitionTitleString:L,emphasis:f(),hardBreakEscape:f(W),hardBreakTrailing:f(W),htmlFlow:f(G),htmlFlowData:z,htmlText:f(ie),htmlTextData:z,image:f(ue),label:X,labelText:K,lineEnding:j,link:f(ae),listItem:f(),listOrdered:f(),listUnordered:f(),paragraph:f(),referenceString:St,resourceDestinationString:_e,resourceTitleString:oe,resource:Le,setextHeading:f(H),setextHeadingLineSequence:B,setextHeadingText:$,strong:f(),thematicBreak:f()}};dN(e,(n||{}).mdastExtensions||[]);const t={};return i;function i(Ie){let Je={type:"root",children:[]};const Dt={stack:[Je],tokenStack:[],config:e,enter:u,exit:c,buffer:a,resume:h,setData:l,getData:s},Jt=[];let on=-1;for(;++on<Ie.length;)if(Ie[on][1].type==="listOrdered"||Ie[on][1].type==="listUnordered")if(Ie[on][0]==="enter")Jt.push(on);else{const at=Jt.pop();on=r(Ie,at,on)}for(on=-1;++on<Ie.length;){const at=e[Ie[on][0]];cN.call(at,Ie[on][1].type)&&at[Ie[on][1].type].call(Object.assign({sliceSerialize:Ie[on][2].sliceSerialize},Dt),Ie[on][1])}if(Dt.tokenStack.length>0){const at=Dt.tokenStack[Dt.tokenStack.length-1];(at[1]||Tw).call(Dt,void 0,at[0])}for(Je.position={start:mo(Ie.length>0?Ie[0][1].start:{line:1,column:1,offset:0}),end:mo(Ie.length>0?Ie[Ie.length-2][1].end:{line:1,column:1,offset:0})},on=-1;++on<e.transforms.length;)Je=e.transforms[on](Je)||Je;return Je}function r(Ie,Je,Dt){let Jt=Je-1,on=-1,at=!1,ti,De,et,Ot;for(;++Jt<=Dt;){const xt=Ie[Jt];if(xt[1].type==="listUnordered"||xt[1].type==="listOrdered"||xt[1].type==="blockQuote"?(xt[0]==="enter"?on++:on--,Ot=void 0):xt[1].type==="lineEndingBlank"?xt[0]==="enter"&&(ti&&!Ot&&!on&&!et&&(et=Jt),Ot=void 0):xt[1].type==="linePrefix"||xt[1].type==="listItemValue"||xt[1].type==="listItemMarker"||xt[1].type==="listItemPrefix"||xt[1].type==="listItemPrefixWhitespace"||(Ot=void 0),!on&&xt[0]==="enter"&&xt[1].type==="listItemPrefix"||on===-1&&xt[0]==="exit"&&(xt[1].type==="listUnordered"||xt[1].type==="listOrdered")){if(ti){let qt=Jt;for(De=void 0;qt--;){const yn=Ie[qt];if(yn[1].type==="lineEnding"||yn[1].type==="lineEndingBlank"){if(yn[0]==="exit")continue;De&&(Ie[De][1].type="lineEndingBlank",at=!0),yn[1].type="lineEnding",De=qt}else if(!(yn[1].type==="linePrefix"||yn[1].type==="blockQuotePrefix"||yn[1].type==="blockQuotePrefixWhitespace"||yn[1].type==="blockQuoteMarker"||yn[1].type==="listItemIndent"))break}et&&(!De||et<De)&&(ti._spread=!0),ti.end=Object.assign({},De?Ie[De][1].start:xt[1].end),Ie.splice(De||Jt,0,["exit",ti,xt[2]]),Jt++,Dt++}xt[1].type==="listItemPrefix"&&(ti={type:"listItem",_spread:!1,start:Object.assign({},xt[1].start),end:void 0},Ie.splice(Jt,0,["enter",ti,xt[2]]),Jt++,Dt++,et=void 0,Ot=!0)}}return Ie[Je][1]._spread=at,Dt}function l(Ie,Je){t[Ie]=Je}function s(Ie){return t[Ie]}function o(Ie,Je){return Dt;function Dt(Jt){u.call(this,Ie(Jt),Jt),Je&&Je.call(this,Jt)}}function a(){this.stack.push({type:"fragment",children:[]})}function u(Ie,Je,Dt){return this.stack[this.stack.length-1].children.push(Ie),this.stack.push(Ie),this.tokenStack.push([Je,Dt]),Ie.position={start:mo(Je.start)},Ie}function f(Ie){return Je;function Je(Dt){Ie&&Ie.call(this,Dt),c.call(this,Dt)}}function c(Ie,Je){const Dt=this.stack.pop(),Jt=this.tokenStack.pop();if(Jt)Jt[0].type!==Ie.type&&(Je?Je.call(this,Ie,Jt[0]):(Jt[1]||Tw).call(this,Ie,Jt[0]));else throw new Error("Cannot close `"+Ie.type+"` ("+Cc({start:Ie.start,end:Ie.end})+"): it’s not open");return Dt.position.end=mo(Ie.end),Dt}function h(){return rle(this.stack.pop())}function p(){l("expectingFirstListItemValue",!0)}function _(Ie){if(s("expectingFirstListItemValue")){const Je=this.stack[this.stack.length-2];Je.start=Number.parseInt(this.sliceSerialize(Ie),10),l("expectingFirstListItemValue")}}function v(){const Ie=this.resume(),Je=this.stack[this.stack.length-1];Je.lang=Ie}function b(){const Ie=this.resume(),Je=this.stack[this.stack.length-1];Je.meta=Ie}function y(){s("flowCodeInside")||(this.buffer(),l("flowCodeInside",!0))}function A(){const Ie=this.resume(),Je=this.stack[this.stack.length-1];Je.value=Ie.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),l("flowCodeInside")}function M(){const Ie=this.resume(),Je=this.stack[this.stack.length-1];Je.value=Ie.replace(/(\r?\n|\r)$/g,"")}function N(Ie){const Je=this.resume(),Dt=this.stack[this.stack.length-1];Dt.label=Je,Dt.identifier=Yl(this.sliceSerialize(Ie)).toLowerCase()}function L(){const Ie=this.resume(),Je=this.stack[this.stack.length-1];Je.title=Ie}function I(){const Ie=this.resume(),Je=this.stack[this.stack.length-1];Je.url=Ie}function R(Ie){const Je=this.stack[this.stack.length-1];if(!Je.depth){const Dt=this.sliceSerialize(Ie).length;Je.depth=Dt}}function $(){l("setextHeadingSlurpLineEnding",!0)}function B(Ie){const Je=this.stack[this.stack.length-1];Je.depth=this.sliceSerialize(Ie).charCodeAt(0)===61?1:2}function H(){l("setextHeadingSlurpLineEnding")}function q(Ie){const Je=this.stack[this.stack.length-1];let Dt=Je.children[Je.children.length-1];(!Dt||Dt.type!=="text")&&(Dt=Xe(),Dt.position={start:mo(Ie.start)},Je.children.push(Dt)),this.stack.push(Dt)}function z(Ie){const Je=this.stack.pop();Je.value+=this.sliceSerialize(Ie),Je.position.end=mo(Ie.end)}function j(Ie){const Je=this.stack[this.stack.length-1];if(s("atHardBreak")){const Dt=Je.children[Je.children.length-1];Dt.position.end=mo(Ie.end),l("atHardBreak");return}!s("setextHeadingSlurpLineEnding")&&e.canContainEols.includes(Je.type)&&(q.call(this,Ie),z.call(this,Ie))}function W(){l("atHardBreak",!0)}function G(){const Ie=this.resume(),Je=this.stack[this.stack.length-1];Je.value=Ie}function ie(){const Ie=this.resume(),Je=this.stack[this.stack.length-1];Je.value=Ie}function te(){const Ie=this.resume(),Je=this.stack[this.stack.length-1];Je.value=Ie}function ae(){const Ie=this.stack[this.stack.length-1];if(s("inReference")){const Je=s("referenceType")||"shortcut";Ie.type+="Reference",Ie.referenceType=Je,delete Ie.url,delete Ie.title}else delete Ie.identifier,delete Ie.label;l("referenceType")}function ue(){const Ie=this.stack[this.stack.length-1];if(s("inReference")){const Je=s("referenceType")||"shortcut";Ie.type+="Reference",Ie.referenceType=Je,delete Ie.url,delete Ie.title}else delete Ie.identifier,delete Ie.label;l("referenceType")}function K(Ie){const Je=this.sliceSerialize(Ie),Dt=this.stack[this.stack.length-2];Dt.label=fN(Je),Dt.identifier=Yl(Je).toLowerCase()}function X(){const Ie=this.stack[this.stack.length-1],Je=this.resume(),Dt=this.stack[this.stack.length-1];if(l("inReference",!0),Dt.type==="link"){const Jt=Ie.children;Dt.children=Jt}else Dt.alt=Je}function _e(){const Ie=this.resume(),Je=this.stack[this.stack.length-1];Je.url=Ie}function oe(){const Ie=this.resume(),Je=this.stack[this.stack.length-1];Je.title=Ie}function Le(){l("inReference")}function lt(){l("referenceType","collapsed")}function St(Ie){const Je=this.resume(),Dt=this.stack[this.stack.length-1];Dt.label=Je,Dt.identifier=Yl(this.sliceSerialize(Ie)).toLowerCase(),l("referenceType","full")}function bt(Ie){l("characterReferenceType",Ie.type)}function At(Ie){const Je=this.sliceSerialize(Ie),Dt=s("characterReferenceType");let Jt;Dt?(Jt=uN(Je,Dt==="characterReferenceMarkerNumeric"?10:16),l("characterReferenceType")):Jt=sb(Je);const on=this.stack.pop();on.value+=Jt,on.position.end=mo(Ie.end)}function ot(Ie){z.call(this,Ie);const Je=this.stack[this.stack.length-1];Je.url=this.sliceSerialize(Ie)}function vt(Ie){z.call(this,Ie);const Je=this.stack[this.stack.length-1];Je.url="mailto:"+this.sliceSerialize(Ie)}function zt(){return{type:"blockquote",children:[]}}function pt(){return{type:"code",lang:null,meta:null,value:""}}function $e(){return{type:"inlineCode",value:""}}function Bt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ze(){return{type:"emphasis",children:[]}}function dt(){return{type:"heading",depth:void 0,children:[]}}function Fe(){return{type:"break"}}function Ft(){return{type:"html",value:""}}function cn(){return{type:"image",title:null,url:"",alt:null}}function Ee(){return{type:"link",title:null,url:"",children:[]}}function Ue(Ie){return{type:"list",ordered:Ie.type==="listOrdered",start:null,spread:Ie._spread,children:[]}}function sn(Ie){return{type:"listItem",spread:Ie._spread,checked:null,children:[]}}function gn(){return{type:"paragraph",children:[]}}function Zt(){return{type:"strong",children:[]}}function Xe(){return{type:"text",value:""}}function Kt(){return{type:"thematicBreak"}}}function mo(n){return{line:n.line,column:n.column,offset:n.offset}}function dN(n,e){let t=-1;for(;++t<e.length;){const i=e[t];Array.isArray(i)?dN(n,i):ioe(n,i)}}function ioe(n,e){let t;for(t in e)if(cN.call(e,t)){if(t==="canContainEols"){const i=e[t];i&&n[t].push(...i)}else if(t==="transforms"){const i=e[t];i&&n[t].push(...i)}else if(t==="enter"||t==="exit"){const i=e[t];i&&Object.assign(n[t],i)}}}function Tw(n,e){throw n?new Error("Cannot close `"+n.type+"` ("+Cc({start:n.start,end:n.end})+"): a different token (`"+e.type+"`, "+Cc({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Cc({start:e.start,end:e.end})+") is still open")}function roe(n){Object.assign(this,{Parser:t=>{const i=this.data("settings");return toe(t,Object.assign({},i,n,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}function loe(n,e){const t={type:"element",tagName:"blockquote",properties:{},children:n.wrap(n.all(e),!0)};return n.patch(e,t),n.applyData(e,t)}function soe(n,e){const t={type:"element",tagName:"br",properties:{},children:[]};return n.patch(e,t),[n.applyData(e,t),{type:"text",value:`
`}]}function ooe(n,e){const t=e.value?e.value+`
`:"",i=e.lang?e.lang.match(/^[^ \t]+(?=[ \t]|$)/):null,r={};i&&(r.className=["language-"+i]);let l={type:"element",tagName:"code",properties:r,children:[{type:"text",value:t}]};return e.meta&&(l.data={meta:e.meta}),n.patch(e,l),l=n.applyData(e,l),l={type:"element",tagName:"pre",properties:{},children:[l]},n.patch(e,l),l}function aoe(n,e){const t={type:"element",tagName:"del",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function uoe(n,e){const t={type:"element",tagName:"em",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function af(n){const e=[];let t=-1,i=0,r=0;for(;++t<n.length;){const l=n.charCodeAt(t);let s="";if(l===37&&fr(n.charCodeAt(t+1))&&fr(n.charCodeAt(t+2)))r=2;else if(l<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(l))||(s=String.fromCharCode(l));else if(l>55295&&l<57344){const o=n.charCodeAt(t+1);l<56320&&o>56319&&o<57344?(s=String.fromCharCode(l,o),r=1):s="�"}else s=String.fromCharCode(l);s&&(e.push(n.slice(i,t),encodeURIComponent(s)),i=t+r+1,s=""),r&&(t+=r,r=0)}return e.join("")+n.slice(i)}function hN(n,e){const t=String(e.identifier).toUpperCase(),i=af(t.toLowerCase()),r=n.footnoteOrder.indexOf(t);let l;r===-1?(n.footnoteOrder.push(t),n.footnoteCounts[t]=1,l=n.footnoteOrder.length):(n.footnoteCounts[t]++,l=r+1);const s=n.footnoteCounts[t],o={type:"element",tagName:"a",properties:{href:"#"+n.clobberPrefix+"fn-"+i,id:n.clobberPrefix+"fnref-"+i+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};n.patch(e,o);const a={type:"element",tagName:"sup",properties:{},children:[o]};return n.patch(e,a),n.applyData(e,a)}function foe(n,e){const t=n.footnoteById;let i=1;for(;i in t;)i++;const r=String(i);return t[r]={type:"footnoteDefinition",identifier:r,children:[{type:"paragraph",children:e.children}],position:e.position},hN(n,{type:"footnoteReference",identifier:r,position:e.position})}function coe(n,e){const t={type:"element",tagName:"h"+e.depth,properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function doe(n,e){if(n.dangerous){const t={type:"raw",value:e.value};return n.patch(e,t),n.applyData(e,t)}return null}function pN(n,e){const t=e.referenceType;let i="]";if(t==="collapsed"?i+="[]":t==="full"&&(i+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return{type:"text",value:"!["+e.alt+i};const r=n.all(e),l=r[0];l&&l.type==="text"?l.value="["+l.value:r.unshift({type:"text",value:"["});const s=r[r.length-1];return s&&s.type==="text"?s.value+=i:r.push({type:"text",value:i}),r}function hoe(n,e){const t=n.definition(e.identifier);if(!t)return pN(n,e);const i={src:af(t.url||""),alt:e.alt};t.title!==null&&t.title!==void 0&&(i.title=t.title);const r={type:"element",tagName:"img",properties:i,children:[]};return n.patch(e,r),n.applyData(e,r)}function poe(n,e){const t={src:af(e.url)};e.alt!==null&&e.alt!==void 0&&(t.alt=e.alt),e.title!==null&&e.title!==void 0&&(t.title=e.title);const i={type:"element",tagName:"img",properties:t,children:[]};return n.patch(e,i),n.applyData(e,i)}function moe(n,e){const t={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};n.patch(e,t);const i={type:"element",tagName:"code",properties:{},children:[t]};return n.patch(e,i),n.applyData(e,i)}function goe(n,e){const t=n.definition(e.identifier);if(!t)return pN(n,e);const i={href:af(t.url||"")};t.title!==null&&t.title!==void 0&&(i.title=t.title);const r={type:"element",tagName:"a",properties:i,children:n.all(e)};return n.patch(e,r),n.applyData(e,r)}function _oe(n,e){const t={href:af(e.url)};e.title!==null&&e.title!==void 0&&(t.title=e.title);const i={type:"element",tagName:"a",properties:t,children:n.all(e)};return n.patch(e,i),n.applyData(e,i)}function boe(n,e,t){const i=n.all(e),r=t?voe(t):mN(e),l={},s=[];if(typeof e.checked=="boolean"){const f=i[0];let c;f&&f.type==="element"&&f.tagName==="p"?c=f:(c={type:"element",tagName:"p",properties:{},children:[]},i.unshift(c)),c.children.length>0&&c.children.unshift({type:"text",value:" "}),c.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),l.className=["task-list-item"]}let o=-1;for(;++o<i.length;){const f=i[o];(r||o!==0||f.type!=="element"||f.tagName!=="p")&&s.push({type:"text",value:`
`}),f.type==="element"&&f.tagName==="p"&&!r?s.push(...f.children):s.push(f)}const a=i[i.length-1];a&&(r||a.type!=="element"||a.tagName!=="p")&&s.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:l,children:s};return n.patch(e,u),n.applyData(e,u)}function voe(n){let e=!1;if(n.type==="list"){e=n.spread||!1;const t=n.children;let i=-1;for(;!e&&++i<t.length;)e=mN(t[i])}return e}function mN(n){const e=n.spread;return e??n.children.length>1}function yoe(n,e){const t={},i=n.all(e);let r=-1;for(typeof e.start=="number"&&e.start!==1&&(t.start=e.start);++r<i.length;){const s=i[r];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){t.className=["contains-task-list"];break}}const l={type:"element",tagName:e.ordered?"ol":"ul",properties:t,children:n.wrap(i,!0)};return n.patch(e,l),n.applyData(e,l)}function koe(n,e){const t={type:"element",tagName:"p",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function Toe(n,e){const t={type:"root",children:n.wrap(n.all(e))};return n.patch(e,t),n.applyData(e,t)}function woe(n,e){const t={type:"element",tagName:"strong",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function Eoe(n,e){const t=n.all(e),i=t.shift(),r=[];if(i){const s={type:"element",tagName:"thead",properties:{},children:n.wrap([i],!0)};n.patch(e.children[0],s),r.push(s)}if(t.length>0){const s={type:"element",tagName:"tbody",properties:{},children:n.wrap(t,!0)},o=u1(e.children[1]),a=hp(e.children[e.children.length-1]);o.line&&a.line&&(s.position={start:o,end:a}),r.push(s)}const l={type:"element",tagName:"table",properties:{},children:n.wrap(r,!0)};return n.patch(e,l),n.applyData(e,l)}function Soe(n,e,t){const i=t?t.children:void 0,l=(i?i.indexOf(e):1)===0?"th":"td",s=t&&t.type==="table"?t.align:void 0,o=s?s.length:e.children.length;let a=-1;const u=[];for(;++a<o;){const c=e.children[a],h={},p=s?s[a]:void 0;p&&(h.align=p);let _={type:"element",tagName:l,properties:h,children:[]};c&&(_.children=n.all(c),n.patch(c,_),_=n.applyData(e,_)),u.push(_)}const f={type:"element",tagName:"tr",properties:{},children:n.wrap(u,!0)};return n.patch(e,f),n.applyData(e,f)}function Coe(n,e){const t={type:"element",tagName:"td",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}const ww=9,Ew=32;function Aoe(n){const e=String(n),t=/\r?\n|\r/g;let i=t.exec(e),r=0;const l=[];for(;i;)l.push(Sw(e.slice(r,i.index),r>0,!0),i[0]),r=i.index+i[0].length,i=t.exec(e);return l.push(Sw(e.slice(r),r>0,!1)),l.join("")}function Sw(n,e,t){let i=0,r=n.length;if(e){let l=n.codePointAt(i);for(;l===ww||l===Ew;)i++,l=n.codePointAt(i)}if(t){let l=n.codePointAt(r-1);for(;l===ww||l===Ew;)r--,l=n.codePointAt(r-1)}return r>i?n.slice(i,r):""}function Ooe(n,e){const t={type:"text",value:Aoe(String(e.value))};return n.patch(e,t),n.applyData(e,t)}function Noe(n,e){const t={type:"element",tagName:"hr",properties:{},children:[]};return n.patch(e,t),n.applyData(e,t)}const Moe={blockquote:loe,break:soe,code:ooe,delete:aoe,emphasis:uoe,footnoteReference:hN,footnote:foe,heading:coe,html:doe,imageReference:hoe,image:poe,inlineCode:moe,linkReference:goe,link:_oe,listItem:boe,list:yoe,paragraph:koe,root:Toe,strong:woe,table:Eoe,tableCell:Coe,tableRow:Soe,text:Ooe,thematicBreak:Noe,toml:Pd,yaml:Pd,definition:Pd,footnoteDefinition:Pd};function Pd(){return null}function Ioe(n){return!n||!n.position||!n.position.start||!n.position.start.line||!n.position.start.column||!n.position.end||!n.position.end.line||!n.position.end.column}const Cw={}.hasOwnProperty;function Loe(n){const e=Object.create(null);if(!n||!n.type)throw new Error("mdast-util-definitions expected node");return ip(n,"definition",i=>{const r=Aw(i.identifier);r&&!Cw.call(e,r)&&(e[r]=i)}),t;function t(i){const r=Aw(i);return r&&Cw.call(e,r)?e[r]:null}}function Aw(n){return String(n||"").toUpperCase()}const Ih={}.hasOwnProperty;function Doe(n,e){const t=e||{},i=t.allowDangerousHtml||!1,r={};return s.dangerous=i,s.clobberPrefix=t.clobberPrefix===void 0||t.clobberPrefix===null?"user-content-":t.clobberPrefix,s.footnoteLabel=t.footnoteLabel||"Footnotes",s.footnoteLabelTagName=t.footnoteLabelTagName||"h2",s.footnoteLabelProperties=t.footnoteLabelProperties||{className:["sr-only"]},s.footnoteBackLabel=t.footnoteBackLabel||"Back to content",s.unknownHandler=t.unknownHandler,s.passThrough=t.passThrough,s.handlers={...Moe,...t.handlers},s.definition=Loe(n),s.footnoteById=r,s.footnoteOrder=[],s.footnoteCounts={},s.patch=Roe,s.applyData=Poe,s.one=o,s.all=a,s.wrap=$oe,s.augment=l,ip(n,"footnoteDefinition",u=>{const f=String(u.identifier).toUpperCase();Ih.call(r,f)||(r[f]=u)}),s;function l(u,f){if(u&&"data"in u&&u.data){const c=u.data;c.hName&&(f.type!=="element"&&(f={type:"element",tagName:"",properties:{},children:[]}),f.tagName=c.hName),f.type==="element"&&c.hProperties&&(f.properties={...f.properties,...c.hProperties}),"children"in f&&f.children&&c.hChildren&&(f.children=c.hChildren)}if(u){const c="type"in u?u:{position:u};Ioe(c)||(f.position={start:u1(c),end:hp(c)})}return f}function s(u,f,c,h){return Array.isArray(c)&&(h=c,c={}),l(u,{type:"element",tagName:f,properties:c||{},children:h||[]})}function o(u,f){return gN(s,u,f)}function a(u){return ab(s,u)}}function Roe(n,e){n.position&&(e.position=die(n))}function Poe(n,e){let t=e;if(n&&n.data){const i=n.data.hName,r=n.data.hChildren,l=n.data.hProperties;typeof i=="string"&&(t.type==="element"?t.tagName=i:t={type:"element",tagName:i,properties:{},children:[]}),t.type==="element"&&l&&(t.properties={...t.properties,...l}),"children"in t&&t.children&&r!==null&&r!==void 0&&(t.children=r)}return t}function gN(n,e,t){const i=e&&e.type;if(!i)throw new Error("Expected node, got `"+e+"`");return Ih.call(n.handlers,i)?n.handlers[i](n,e,t):n.passThrough&&n.passThrough.includes(i)?"children"in e?{...e,children:ab(n,e)}:e:n.unknownHandler?n.unknownHandler(n,e,t):Foe(n,e)}function ab(n,e){const t=[];if("children"in e){const i=e.children;let r=-1;for(;++r<i.length;){const l=gN(n,i[r],e);if(l){if(r&&i[r-1].type==="break"&&(!Array.isArray(l)&&l.type==="text"&&(l.value=l.value.replace(/^\s+/,"")),!Array.isArray(l)&&l.type==="element")){const s=l.children[0];s&&s.type==="text"&&(s.value=s.value.replace(/^\s+/,""))}Array.isArray(l)?t.push(...l):t.push(l)}}}return t}function Foe(n,e){const t=e.data||{},i="value"in e&&!(Ih.call(t,"hProperties")||Ih.call(t,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:ab(n,e)};return n.patch(e,i),n.applyData(e,i)}function $oe(n,e){const t=[];let i=-1;for(e&&t.push({type:"text",value:`
`});++i<n.length;)i&&t.push({type:"text",value:`
`}),t.push(n[i]);return e&&n.length>0&&t.push({type:"text",value:`
`}),t}function Hoe(n){const e=[];let t=-1;for(;++t<n.footnoteOrder.length;){const i=n.footnoteById[n.footnoteOrder[t]];if(!i)continue;const r=n.all(i),l=String(i.identifier).toUpperCase(),s=af(l.toLowerCase());let o=0;const a=[];for(;++o<=n.footnoteCounts[l];){const c={type:"element",tagName:"a",properties:{href:"#"+n.clobberPrefix+"fnref-"+s+(o>1?"-"+o:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:n.footnoteBackLabel},children:[{type:"text",value:"↩"}]};o>1&&c.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(o)}]}),a.length>0&&a.push({type:"text",value:" "}),a.push(c)}const u=r[r.length-1];if(u&&u.type==="element"&&u.tagName==="p"){const c=u.children[u.children.length-1];c&&c.type==="text"?c.value+=" ":u.children.push({type:"text",value:" "}),u.children.push(...a)}else r.push(...a);const f={type:"element",tagName:"li",properties:{id:n.clobberPrefix+"fn-"+s},children:n.wrap(r,!0)};n.patch(i,f),e.push(f)}if(e.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:n.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(n.footnoteLabelProperties)),id:"footnote-label"},children:[{type:"text",value:n.footnoteLabel}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:n.wrap(e,!0)},{type:"text",value:`
`}]}}function _N(n,e){const t=Doe(n,e),i=t.one(n,null),r=Hoe(t);return r&&i.children.push({type:"text",value:`
`},r),Array.isArray(i)?{type:"root",children:i}:i}const Boe=function(n,e){return n&&"run"in n?xoe(n,e):Uoe(n||e)};function xoe(n,e){return(t,i,r)=>{n.run(_N(t,e),i,l=>{r(l)})}}function Uoe(n){return e=>_N(e,n)}function Ow(n){if(n)throw n}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var zoe=function(e){return e!=null&&e.constructor!=null&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)};const bN=Ju(zoe);var rh=Object.prototype.hasOwnProperty,vN=Object.prototype.toString,Nw=Object.defineProperty,Mw=Object.getOwnPropertyDescriptor,Iw=function(e){return typeof Array.isArray=="function"?Array.isArray(e):vN.call(e)==="[object Array]"},Lw=function(e){if(!e||vN.call(e)!=="[object Object]")return!1;var t=rh.call(e,"constructor"),i=e.constructor&&e.constructor.prototype&&rh.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!t&&!i)return!1;var r;for(r in e);return typeof r>"u"||rh.call(e,r)},Dw=function(e,t){Nw&&t.name==="__proto__"?Nw(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},Rw=function(e,t){if(t==="__proto__")if(rh.call(e,t)){if(Mw)return Mw(e,t).value}else return;return e[t]},qoe=function n(){var e,t,i,r,l,s,o=arguments[0],a=1,u=arguments.length,f=!1;for(typeof o=="boolean"&&(f=o,o=arguments[1]||{},a=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});a<u;++a)if(e=arguments[a],e!=null)for(t in e)i=Rw(o,t),r=Rw(e,t),o!==r&&(f&&r&&(Lw(r)||(l=Iw(r)))?(l?(l=!1,s=i&&Iw(i)?i:[]):s=i&&Lw(i)?i:{},Dw(o,{name:t,newValue:n(f,s,r)})):typeof r<"u"&&Dw(o,{name:t,newValue:r}));return o};const Pw=Ju(qoe);function Ig(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function joe(){const n=[],e={run:t,use:i};return e;function t(...r){let l=-1;const s=r.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);o(null,...r);function o(a,...u){const f=n[++l];let c=-1;if(a){s(a);return}for(;++c<r.length;)(u[c]===null||u[c]===void 0)&&(u[c]=r[c]);r=u,f?Woe(f,o)(...u):s(null,...u)}}function i(r){if(typeof r!="function")throw new TypeError("Expected `middelware` to be a function, not "+r);return n.push(r),e}}function Woe(n,e){let t;return i;function i(...s){const o=n.length>s.length;let a;o&&s.push(r);try{a=n.apply(this,s)}catch(u){const f=u;if(o&&t)throw f;return r(f)}o||(a&&a.then&&typeof a.then=="function"?a.then(l,r):a instanceof Error?r(a):l(a))}function r(s,...o){t||(t=!0,e(s,...o))}function l(s){r(null,s)}}class Ll extends Error{constructor(e,t,i){const r=[null,null];let l={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof t=="string"&&(i=t,t=void 0),typeof i=="string"){const s=i.indexOf(":");s===-1?r[1]=i:(r[0]=i.slice(0,s),r[1]=i.slice(s+1))}t&&("type"in t||"position"in t?t.position&&(l=t.position):"start"in t||"end"in t?l=t:("line"in t||"column"in t)&&(l.start=t)),this.name=Cc(t)||"1:1",this.message=typeof e=="object"?e.message:e,this.stack="",typeof e=="object"&&e.stack&&(this.stack=e.stack),this.reason=this.message,this.fatal,this.line=l.start.line,this.column=l.start.column,this.position=l,this.source=r[0],this.ruleId=r[1],this.file,this.actual,this.expected,this.url,this.note}}Ll.prototype.file="";Ll.prototype.name="";Ll.prototype.reason="";Ll.prototype.message="";Ll.prototype.stack="";Ll.prototype.fatal=null;Ll.prototype.column=null;Ll.prototype.line=null;Ll.prototype.source=null;Ll.prototype.ruleId=null;Ll.prototype.position=null;const os={basename:Koe,dirname:Voe,extname:Goe,join:Yoe,sep:"/"};function Koe(n,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');h1(n);let t=0,i=-1,r=n.length,l;if(e===void 0||e.length===0||e.length>n.length){for(;r--;)if(n.charCodeAt(r)===47){if(l){t=r+1;break}}else i<0&&(l=!0,i=r+1);return i<0?"":n.slice(t,i)}if(e===n)return"";let s=-1,o=e.length-1;for(;r--;)if(n.charCodeAt(r)===47){if(l){t=r+1;break}}else s<0&&(l=!0,s=r+1),o>-1&&(n.charCodeAt(r)===e.charCodeAt(o--)?o<0&&(i=r):(o=-1,i=s));return t===i?i=s:i<0&&(i=n.length),n.slice(t,i)}function Voe(n){if(h1(n),n.length===0)return".";let e=-1,t=n.length,i;for(;--t;)if(n.charCodeAt(t)===47){if(i){e=t;break}}else i||(i=!0);return e<0?n.charCodeAt(0)===47?"/":".":e===1&&n.charCodeAt(0)===47?"//":n.slice(0,e)}function Goe(n){h1(n);let e=n.length,t=-1,i=0,r=-1,l=0,s;for(;e--;){const o=n.charCodeAt(e);if(o===47){if(s){i=e+1;break}continue}t<0&&(s=!0,t=e+1),o===46?r<0?r=e:l!==1&&(l=1):r>-1&&(l=-1)}return r<0||t<0||l===0||l===1&&r===t-1&&r===i+1?"":n.slice(r,t)}function Yoe(...n){let e=-1,t;for(;++e<n.length;)h1(n[e]),n[e]&&(t=t===void 0?n[e]:t+"/"+n[e]);return t===void 0?".":Xoe(t)}function Xoe(n){h1(n);const e=n.charCodeAt(0)===47;let t=Zoe(n,!e);return t.length===0&&!e&&(t="."),t.length>0&&n.charCodeAt(n.length-1)===47&&(t+="/"),e?"/"+t:t}function Zoe(n,e){let t="",i=0,r=-1,l=0,s=-1,o,a;for(;++s<=n.length;){if(s<n.length)o=n.charCodeAt(s);else{if(o===47)break;o=47}if(o===47){if(!(r===s-1||l===1))if(r!==s-1&&l===2){if(t.length<2||i!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){if(a=t.lastIndexOf("/"),a!==t.length-1){a<0?(t="",i=0):(t=t.slice(0,a),i=t.length-1-t.lastIndexOf("/")),r=s,l=0;continue}}else if(t.length>0){t="",i=0,r=s,l=0;continue}}e&&(t=t.length>0?t+"/..":"..",i=2)}else t.length>0?t+="/"+n.slice(r+1,s):t=n.slice(r+1,s),i=s-r-1;r=s,l=0}else o===46&&l>-1?l++:l=-1}return t}function h1(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}const Qoe={cwd:Joe};function Joe(){return"/"}function Lg(n){return n!==null&&typeof n=="object"&&n.href&&n.origin}function eae(n){if(typeof n=="string")n=new URL(n);else if(!Lg(n)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+n+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(n.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return tae(n)}function tae(n){if(n.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const e=n.pathname;let t=-1;for(;++t<e.length;)if(e.charCodeAt(t)===37&&e.charCodeAt(t+1)===50){const i=e.charCodeAt(t+2);if(i===70||i===102){const r=new TypeError("File URL path must not include encoded / characters");throw r.code="ERR_INVALID_FILE_URL_PATH",r}}return decodeURIComponent(e)}const w0=["history","path","basename","stem","extname","dirname"];class nae{constructor(e){let t;e?typeof e=="string"||iae(e)?t={value:e}:Lg(e)?t={path:e}:t=e:t={},this.data={},this.messages=[],this.history=[],this.cwd=Qoe.cwd(),this.value,this.stored,this.result,this.map;let i=-1;for(;++i<w0.length;){const l=w0[i];l in t&&t[l]!==void 0&&t[l]!==null&&(this[l]=l==="history"?[...t[l]]:t[l])}let r;for(r in t)w0.includes(r)||(this[r]=t[r])}get path(){return this.history[this.history.length-1]}set path(e){Lg(e)&&(e=eae(e)),S0(e,"path"),this.path!==e&&this.history.push(e)}get dirname(){return typeof this.path=="string"?os.dirname(this.path):void 0}set dirname(e){Fw(this.basename,"dirname"),this.path=os.join(e||"",this.basename)}get basename(){return typeof this.path=="string"?os.basename(this.path):void 0}set basename(e){S0(e,"basename"),E0(e,"basename"),this.path=os.join(this.dirname||"",e)}get extname(){return typeof this.path=="string"?os.extname(this.path):void 0}set extname(e){if(E0(e,"extname"),Fw(this.dirname,"extname"),e){if(e.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=os.join(this.dirname,this.stem+(e||""))}get stem(){return typeof this.path=="string"?os.basename(this.path,this.extname):void 0}set stem(e){S0(e,"stem"),E0(e,"stem"),this.path=os.join(this.dirname||"",e+(this.extname||""))}toString(e){return(this.value||"").toString(e||void 0)}message(e,t,i){const r=new Ll(e,t,i);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}info(e,t,i){const r=this.message(e,t,i);return r.fatal=null,r}fail(e,t,i){const r=this.message(e,t,i);throw r.fatal=!0,r}}function E0(n,e){if(n&&n.includes(os.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+os.sep+"`")}function S0(n,e){if(!n)throw new Error("`"+e+"` cannot be empty")}function Fw(n,e){if(!n)throw new Error("Setting `"+e+"` requires `path` to be set too")}function iae(n){return bN(n)}const rae=kN().freeze(),yN={}.hasOwnProperty;function kN(){const n=joe(),e=[];let t={},i,r=-1;return l.data=s,l.Parser=void 0,l.Compiler=void 0,l.freeze=o,l.attachers=e,l.use=a,l.parse=u,l.stringify=f,l.run=c,l.runSync=h,l.process=p,l.processSync=_,l;function l(){const v=kN();let b=-1;for(;++b<e.length;)v.use(...e[b]);return v.data(Pw(!0,{},t)),v}function s(v,b){return typeof v=="string"?arguments.length===2?(O0("data",i),t[v]=b,l):yN.call(t,v)&&t[v]||null:v?(O0("data",i),t=v,l):t}function o(){if(i)return l;for(;++r<e.length;){const[v,...b]=e[r];if(b[0]===!1)continue;b[0]===!0&&(b[0]=void 0);const y=v.call(l,...b);typeof y=="function"&&n.use(y)}return i=!0,r=Number.POSITIVE_INFINITY,l}function a(v,...b){let y;if(O0("use",i),v!=null)if(typeof v=="function")L(v,...b);else if(typeof v=="object")Array.isArray(v)?N(v):M(v);else throw new TypeError("Expected usable value, not `"+v+"`");return y&&(t.settings=Object.assign(t.settings||{},y)),l;function A(I){if(typeof I=="function")L(I);else if(typeof I=="object")if(Array.isArray(I)){const[R,...$]=I;L(R,...$)}else M(I);else throw new TypeError("Expected usable value, not `"+I+"`")}function M(I){N(I.plugins),I.settings&&(y=Object.assign(y||{},I.settings))}function N(I){let R=-1;if(I!=null)if(Array.isArray(I))for(;++R<I.length;){const $=I[R];A($)}else throw new TypeError("Expected a list of plugins, not `"+I+"`")}function L(I,R){let $=-1,B;for(;++$<e.length;)if(e[$][0]===I){B=e[$];break}B?(Ig(B[1])&&Ig(R)&&(R=Pw(!0,B[1],R)),B[1]=R):e.push([...arguments])}}function u(v){l.freeze();const b=Zf(v),y=l.Parser;return C0("parse",y),$w(y,"parse")?new y(String(b),b).parse():y(String(b),b)}function f(v,b){l.freeze();const y=Zf(b),A=l.Compiler;return A0("stringify",A),Hw(v),$w(A,"compile")?new A(v,y).compile():A(v,y)}function c(v,b,y){if(Hw(v),l.freeze(),!y&&typeof b=="function"&&(y=b,b=void 0),!y)return new Promise(A);A(null,y);function A(M,N){n.run(v,Zf(b),L);function L(I,R,$){R=R||v,I?N(I):M?M(R):y(null,R,$)}}}function h(v,b){let y,A;return l.run(v,b,M),Bw("runSync","run",A),y;function M(N,L){Ow(N),y=L,A=!0}}function p(v,b){if(l.freeze(),C0("process",l.Parser),A0("process",l.Compiler),!b)return new Promise(y);y(null,b);function y(A,M){const N=Zf(v);l.run(l.parse(N),N,(I,R,$)=>{if(I||!R||!$)L(I);else{const B=l.stringify(R,$);B==null||(oae(B)?$.value=B:$.result=B),L(I,$)}});function L(I,R){I||!R?M(I):A?A(R):b(null,R)}}}function _(v){let b;l.freeze(),C0("processSync",l.Parser),A0("processSync",l.Compiler);const y=Zf(v);return l.process(y,A),Bw("processSync","process",b),y;function A(M){b=!0,Ow(M)}}}function $w(n,e){return typeof n=="function"&&n.prototype&&(lae(n.prototype)||e in n.prototype)}function lae(n){let e;for(e in n)if(yN.call(n,e))return!0;return!1}function C0(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `Parser`")}function A0(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `Compiler`")}function O0(n,e){if(e)throw new Error("Cannot call `"+n+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Hw(n){if(!Ig(n)||typeof n.type!="string")throw new TypeError("Expected node, got `"+n+"`")}function Bw(n,e,t){if(!t)throw new Error("`"+n+"` finished async. Use `"+e+"` instead")}function Zf(n){return sae(n)?n:new nae(n)}function sae(n){return!!(n&&typeof n=="object"&&"message"in n&&"messages"in n)}function oae(n){return typeof n=="string"||bN(n)}const aae=JSON.stringify(z_);function uae({sanitize:n,plugins:e,remarkRehype:t={}}){let i=rae().use(roe);e==null||e.forEach(({remark:l})=>{l&&(i=l(i))}),i=i.use(Boe,{allowDangerousHtml:!0,...t}).use(lre);let r=JSON.parse(aae);return r.attributes["*"].push("className"),typeof n=="function"&&(r=n(r)),i=i.use(sre,r),e==null||e.forEach(({rehype:l})=>{l&&(i=l(i))}),i.use(nle)}function fae(n){let e;return{c(){e=k("div"),m(e,"class","markdown-body")},m(t,i){S(t,e,i),e.innerHTML=n[1],n[8](e)},p(t,[i]){i&2&&(e.innerHTML=t[1])},i:ge,o:ge,d(t){t&&E(e),n[8](null)}}}function cae(n,e,t){let i;const r=Sn();let{value:l=""}=e,{plugins:s=[]}=e,{sanitize:o=void 0}=e,{remarkRehype:a=void 0}=e,u,f=[];function c(){f=s.map(y=>{var A;return(A=y.viewerEffect)==null?void 0:A.call(y,{markdownBody:u,file:p})})}function h(){f.forEach(y=>y==null?void 0:y())}hi(()=>{u.addEventListener("click",y=>{var N;const A=y.target;if(A.tagName!=="A")return;const M=A.getAttribute("href");M!=null&&M.startsWith("#")&&((N=u.querySelector("#user-content-"+M.slice(1)))==null||N.scrollIntoView())})}),Na(h);let p,_=0;const v=()=>(y,A)=>{Ni().then(()=>{r("hast",{hast:y,file:A})})};eC(()=>{h(),c()});function b(y){ye[y?"unshift":"push"](()=>{u=y,t(0,u)})}return n.$$set=y=>{"value"in y&&t(2,l=y.value),"plugins"in y&&t(3,s=y.plugins),"sanitize"in y&&t(4,o=y.sanitize),"remarkRehype"in y&&t(5,a=y.remarkRehype)},n.$$.update=()=>{if(n.$$.dirty&188)try{t(6,p=uae({sanitize:o,plugins:[...s,{rehype:y=>y.use(v)}],remarkRehype:a}).processSync(l)),t(7,_++,_)}catch(y){console.error(y)}n.$$.dirty&192&&t(1,i=`${p}<!--${_}-->`)},[u,i,l,s,o,a,p,_,b]}class dae extends je{constructor(e){super(),qe(this,e,cae,fae,$h,{value:2,plugins:3,sanitize:4,remarkRehype:5})}}var hae=typeof global=="object"&&global&&global.Object===Object&&global,pae=typeof self=="object"&&self&&self.Object===Object&&self,TN=hae||pae||Function("return this")(),Lh=TN.Symbol,wN=Object.prototype,mae=wN.hasOwnProperty,gae=wN.toString,Qf=Lh?Lh.toStringTag:void 0;function _ae(n){var e=mae.call(n,Qf),t=n[Qf];try{n[Qf]=void 0;var i=!0}catch{}var r=gae.call(n);return i&&(e?n[Qf]=t:delete n[Qf]),r}var bae=Object.prototype,vae=bae.toString;function yae(n){return vae.call(n)}var kae="[object Null]",Tae="[object Undefined]",xw=Lh?Lh.toStringTag:void 0;function wae(n){return n==null?n===void 0?Tae:kae:xw&&xw in Object(n)?_ae(n):yae(n)}function Eae(n){return n!=null&&typeof n=="object"}var Sae="[object Symbol]";function Cae(n){return typeof n=="symbol"||Eae(n)&&wae(n)==Sae}var Aae=/\s/;function Oae(n){for(var e=n.length;e--&&Aae.test(n.charAt(e)););return e}var Nae=/^\s+/;function Mae(n){return n&&n.slice(0,Oae(n)+1).replace(Nae,"")}function Dh(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var Uw=NaN,Iae=/^[-+]0x[0-9a-f]+$/i,Lae=/^0b[01]+$/i,Dae=/^0o[0-7]+$/i,Rae=parseInt;function zw(n){if(typeof n=="number")return n;if(Cae(n))return Uw;if(Dh(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=Dh(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=Mae(n);var t=Lae.test(n);return t||Dae.test(n)?Rae(n.slice(2),t?2:8):Iae.test(n)?Uw:+n}var N0=function(){return TN.Date.now()},Pae="Expected a function",Fae=Math.max,$ae=Math.min;function EN(n,e,t){var i,r,l,s,o,a,u=0,f=!1,c=!1,h=!0;if(typeof n!="function")throw new TypeError(Pae);e=zw(e)||0,Dh(t)&&(f=!!t.leading,c="maxWait"in t,l=c?Fae(zw(t.maxWait)||0,e):l,h="trailing"in t?!!t.trailing:h);function p(I){var R=i,$=r;return i=r=void 0,u=I,s=n.apply($,R),s}function _(I){return u=I,o=setTimeout(y,e),f?p(I):s}function v(I){var R=I-a,$=I-u,B=e-R;return c?$ae(B,l-$):B}function b(I){var R=I-a,$=I-u;return a===void 0||R>=e||R<0||c&&$>=l}function y(){var I=N0();if(b(I))return A(I);o=setTimeout(y,v(I))}function A(I){return o=void 0,h&&i?p(I):(i=r=void 0,s)}function M(){o!==void 0&&clearTimeout(o),u=0,i=a=r=o=void 0}function N(){return o===void 0?s:A(N0())}function L(){var I=N0(),R=b(I);if(i=arguments,r=this,a=I,R){if(o===void 0)return _(a);if(c)return clearTimeout(o),o=setTimeout(y,e),p(a)}return o===void 0&&(o=setTimeout(y,e)),s}return L.cancel=M,L.flush=N,L}var Hae="Expected a function";function Bae(n,e,t){var i=!0,r=!0;if(typeof n!="function")throw new TypeError(Hae);return Dh(t)&&(i="leading"in t?!!t.leading:i,r="trailing"in t?!!t.trailing:r),EN(n,e,{leading:i,maxWait:e,trailing:r})}function qw(n){let e,t;return e=new dae({props:{value:n[16],plugins:n[1],sanitize:n[2],remarkRehype:n[3]}}),e.$on("hast",n[35]),{c(){ee(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,r){const l={};r[0]&65536&&(l.value=i[16]),r[0]&2&&(l.plugins=i[1]),r[0]&4&&(l.sanitize=i[2]),r[0]&8&&(l.remarkRehype=i[3]),e.$set(l)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){x(e.$$.fragment,i),t=!1},d(i){J(e,i)}}}function xae(n){let e,t,i,r,l,s,o,a,u,f=oi.Close+"",c,h,p,_,v,b;t=new oee({props:{context:n[10],split:n[11],activeTab:n[8],sidebar:n[9],fullscreen:n[15],rightAfferentActions:n[21].rightActions,locale:n[12],actions:n[21].leftActions}}),t.$on("key",n[31]),t.$on("tab",n[32]),t.$on("click",n[33]);let y=!n[4]&&(n[11]||n[8]==="preview")&&qw(n);return c=new aQ({props:{locale:n[12],actions:n[21].leftActions,visible:n[9]==="help"}}),h=new EQ({props:{hast:n[18],locale:n[12],currentBlockIndex:n[20],visible:n[9]==="toc"}}),h.$on("click",n[39]),p=new pQ({props:{locale:n[12],showSync:!n[4]&&n[11],value:n[16],syncEnabled:n[17],islimited:n[0].length>n[5]}}),p.$on("sync",n[40]),p.$on("top",n[41]),{c(){e=k("div"),ee(t.$$.fragment),i=k("div"),r=k("div"),s=k("div"),y&&y.c(),a=k("div"),u=k("div"),ee(c.$$.fragment),ee(h.$$.fragment),ee(p.$$.fragment),m(r,"class","bytemd-editor"),m(r,"style",l=n[22].edit),m(s,"class","bytemd-preview"),m(s,"style",o=n[22].preview),m(u,"class","bytemd-sidebar-close"),m(a,"class","bytemd-sidebar"),he(a,"bytemd-hidden",n[9]===!1),m(i,"class","bytemd-body"),m(e,"class","bytemd"),he(e,"bytemd-split",n[11]&&n[8]===!1),he(e,"bytemd-fullscreen",n[15])},m(A,M){S(A,e,M),Q(t,e,null),T(e,i),T(i,r),n[34](r),T(i,s),y&&y.m(s,null),n[36](s),T(i,a),T(a,u),u.innerHTML=f,Q(c,a,null),Q(h,a,null),Q(p,e,null),n[42](e),_=!0,v||(b=[se(u,"click",n[37]),se(u,"keydown",Fu(n[38]))],v=!0)},p(A,M){const N={};M[0]&1024&&(N.context=A[10]),M[0]&2048&&(N.split=A[11]),M[0]&256&&(N.activeTab=A[8]),M[0]&512&&(N.sidebar=A[9]),M[0]&32768&&(N.fullscreen=A[15]),M[0]&2097152&&(N.rightAfferentActions=A[21].rightActions),M[0]&4096&&(N.locale=A[12]),M[0]&2097152&&(N.actions=A[21].leftActions),t.$set(N),(!_||M[0]&4194304&&l!==(l=A[22].edit))&&m(r,"style",l),!A[4]&&(A[11]||A[8]==="preview")?y?(y.p(A,M),M[0]&2320&&F(y,1)):(y=qw(A),y.c(),F(y,1),y.m(s,null)):y&&(Ne(),x(y,1,1,()=>{y=null}),Me()),(!_||M[0]&4194304&&o!==(o=A[22].preview))&&m(s,"style",o);const L={};M[0]&4096&&(L.locale=A[12]),M[0]&2097152&&(L.actions=A[21].leftActions),M[0]&512&&(L.visible=A[9]==="help"),c.$set(L);const I={};M[0]&262144&&(I.hast=A[18]),M[0]&4096&&(I.locale=A[12]),M[0]&1048576&&(I.currentBlockIndex=A[20]),M[0]&512&&(I.visible=A[9]==="toc"),h.$set(I),(!_||M[0]&512)&&he(a,"bytemd-hidden",A[9]===!1);const R={};M[0]&4096&&(R.locale=A[12]),M[0]&2064&&(R.showSync=!A[4]&&A[11]),M[0]&65536&&(R.value=A[16]),M[0]&131072&&(R.syncEnabled=A[17]),M[0]&33&&(R.islimited=A[0].length>A[5]),p.$set(R),(!_||M[0]&2304)&&he(e,"bytemd-split",A[11]&&A[8]===!1),(!_||M[0]&32768)&&he(e,"bytemd-fullscreen",A[15])},i(A){_||(F(t.$$.fragment,A),F(y),F(c.$$.fragment,A),F(h.$$.fragment,A),F(p.$$.fragment,A),_=!0)},o(A){x(t.$$.fragment,A),x(y),x(c.$$.fragment,A),x(h.$$.fragment,A),x(p.$$.fragment,A),_=!1},d(A){A&&E(e),J(t),n[34](null),y&&y.d(),n[36](null),J(c),J(h),J(p),n[42](null),v=!1,it(b)}}}function Uae(n,e,t){let i,r,l,s,o,{value:a=""}=e,{plugins:u=[]}=e,{sanitize:f=void 0}=e,{remarkRehype:c=void 0}=e,{mode:h="auto"}=e,{previewDebounce:p=300}=e,{placeholder:_=void 0}=e,{editorConfig:v=void 0}=e,{locale:b=void 0}=e,{uploadImages:y=void 0}=e,{overridePreview:A=void 0}=e,{maxLength:M=1/0}=e;const N=Sn();let L,I,R,$=1/0,B,H,q,z=!1,j=!1,W=[],G={};function ie(){W=u.map(Ee=>{var Ue;return(Ue=Ee.editorEffect)==null?void 0:Ue.call(Ee,o)}),G={},r.leftActions.forEach(({handler:Ee})=>{(Ee==null?void 0:Ee.type)==="action"&&Ee.shortcut&&(G[Ee.shortcut]=()=>{Ee.click(o)})}),H.addKeyMap(G)}function te(){W.forEach(Ee=>Ee&&Ee()),H==null||H.removeKeyMap(G)}let ae=a;const ue=EN(Ee=>{t(16,ae=Ee),A==null||A(R,{value:ae,plugins:u,sanitize:f,remarkRehype:c})},p);let K=!0,X=!1,_e=!1,oe,Le,lt={type:"root",children:[]},St,bt=0;hi(async()=>{t(30,B=iQ()),t(7,H=B(I,{value:a,mode:"yaml-frontmatter",lineWrapping:!0,tabSize:8,indentUnit:4,extraKeys:{Enter:"newlineAndIndentContinueMarkdownList"},...v,placeholder:_})),H.addKeyMap({Tab:"indentMore","Shift-Tab":"indentLess"}),H.on("change",()=>{N("change",{value:H.getValue()})});const Ee=Bae(()=>{oe=[],Le=[];const Zt=H.getScrollInfo(),Xe=R.childNodes[0];if(!(Xe instanceof HTMLElement))return;const Kt=lt.children.filter(Je=>Je.type==="element"),Ie=[...Xe.childNodes].filter(Je=>Je instanceof HTMLElement);for(let Je=0;Je<Kt.length;Je++){const Dt=Kt[Je],Jt=Ie[Je];if(!Dt.position)continue;const on=H.heightAtLine(Dt.position.start.line-1,"local")/(Zt.height-Zt.clientHeight),at=(Jt.offsetTop-Xe.offsetTop)/(R.scrollHeight-R.clientHeight);if(on>=1||at>=1)break;oe.push(on),Le.push(at)}oe.push(1),Le.push(1)},1e3),Ue=()=>{if(A||!K)return;if(_e){_e=!1;return}Ee();const Zt=H.getScrollInfo(),Xe=Zt.top/(Zt.height-Zt.clientHeight),Kt=Ym(Xe,oe),Ie=(Xe-oe[Kt])*(Le[Kt+1]-Le[Kt])/(oe[Kt+1]-oe[Kt])+Le[Kt];R.scrollTo(0,Ie*(R.scrollHeight-R.clientHeight)),X=!0},sn=()=>{if(A||(Ee(),t(20,bt=Ym(R.scrollTop/(R.scrollHeight-R.offsetHeight),Le)),!K))return;if(X){X=!1;return}const Zt=R.scrollTop/(R.scrollHeight-R.clientHeight),Xe=Ym(Zt,Le),Kt=(Zt-Le[Xe])*(oe[Xe+1]-oe[Xe])/(Le[Xe+1]-Le[Xe])+oe[Xe];if(isNaN(Kt))return;const Ie=H.getScrollInfo();H.scrollTo(0,Kt*(Ie.height-Ie.clientHeight)),_e=!0};H.on("scroll",Ue),R.addEventListener("scroll",sn,{passive:!0});const gn=async(Zt,Xe)=>{if(!y)return;const Kt=Array.from(Xe??[]).map(Ie=>{if(Ie.type.startsWith("image/"))return Ie.getAsFile()}).filter(Ie=>Ie!=null);Kt.length&&(Zt.preventDefault(),await PA(o,y,Kt))};H.on("drop",async(Zt,Xe)=>{var Kt;gn(Xe,(Kt=Xe.dataTransfer)==null?void 0:Kt.items)}),H.on("paste",async(Zt,Xe)=>{var Kt;gn(Xe,(Kt=Xe.clipboardData)==null?void 0:Kt.items)}),new ResizeObserver(Zt=>{t(29,$=Zt[0].contentRect.width)}).observe(L,{box:"border-box"})}),Na(te);const At=Ee=>{H.setOption("keyMap",Ee.detail),H.focus()},ot=Ee=>{const Ue=Ee.detail;l?t(8,q=q===Ue?!1:Ue):t(8,q=Ue),q==="write"&&Ni().then(()=>{H&&H.focus()}),Ue==="write"&&Ni().then(()=>{H&&H.setSize(null,null)})},vt=Ee=>{switch(Ee.detail){case"fullscreen":t(15,z=!z);break;case"help":t(9,j=j==="help"?!1:"help");break;case"toc":t(9,j=j==="toc"?!1:"toc");break}};function zt(Ee){ye[Ee?"unshift":"push"](()=>{I=Ee,t(13,I)})}const pt=Ee=>{t(18,lt=Ee.detail.hast),t(19,St=Ee.detail.file)};function $e(Ee){ye[Ee?"unshift":"push"](()=>{R=Ee,t(14,R)})}const Bt=()=>{t(9,j=!1)},Ze=Ee=>{["Enter","Space"].includes(Ee.code)&&t(9,j=!1)},dt=Ee=>{R.querySelectorAll("h1,h2,h3,h4,h5,h6")[Ee.detail].scrollIntoView()},Fe=Ee=>{t(17,K=Ee.detail)},Ft=()=>{H.scrollTo(null,0),R.scrollTo({top:0})};function cn(Ee){ye[Ee?"unshift":"push"](()=>{L=Ee,t(6,L)})}return n.$$set=Ee=>{"value"in Ee&&t(0,a=Ee.value),"plugins"in Ee&&t(1,u=Ee.plugins),"sanitize"in Ee&&t(2,f=Ee.sanitize),"remarkRehype"in Ee&&t(3,c=Ee.remarkRehype),"mode"in Ee&&t(23,h=Ee.mode),"previewDebounce"in Ee&&t(24,p=Ee.previewDebounce),"placeholder"in Ee&&t(25,_=Ee.placeholder),"editorConfig"in Ee&&t(26,v=Ee.editorConfig),"locale"in Ee&&t(27,b=Ee.locale),"uploadImages"in Ee&&t(28,y=Ee.uploadImages),"overridePreview"in Ee&&t(4,A=Ee.overridePreview),"maxLength"in Ee&&t(5,M=Ee.maxLength)},n.$$.update=()=>{n.$$.dirty[0]&134217728&&t(12,i={...KZ,...b}),n.$$.dirty[0]&268439554&&t(21,r=lQ(i,u,y)),n.$$.dirty[0]&545259520&&t(11,l=h==="split"||h==="auto"&&$>=800),n.$$.dirty[0]&2048&&(Ee=>{l&&t(8,q=!1)})(),n.$$.dirty[0]&2816&&t(22,s=(()=>{let Ee,Ue;return l&&q===!1?j?(Ee=`width:calc(50% - ${j?140:0}px)`,Ue=`width:calc(50% - ${j?140:0}px)`):(Ee="width:50%",Ue="width:50%"):q==="preview"?(Ee="display:none",Ue=`width:calc(100% - ${j?280:0}px)`):(Ee=`width:calc(100% - ${j?280:0}px)`,Ue="display:none"),{edit:Ee,preview:Ue}})()),n.$$.dirty[0]&1073742016&&t(10,o={codemirror:B,editor:H,root:L,...rQ(B,H)}),n.$$.dirty[0]&1&&ue(a),n.$$.dirty[0]&129&&H&&a!==H.getValue()&&H.setValue(a),n.$$.dirty[0]&130&&H&&u&&(te(),Ni().then(()=>{ie()}))},[a,u,f,c,A,M,L,H,q,j,o,l,i,I,R,z,ae,K,lt,St,bt,r,s,h,p,_,v,b,y,$,B,At,ot,vt,zt,pt,$e,Bt,Ze,dt,Fe,Ft,cn]}class zae extends je{constructor(e){super(),qe(this,e,Uae,xae,$h,{value:0,plugins:1,sanitize:2,remarkRehype:3,mode:23,previewDebounce:24,placeholder:25,editorConfig:26,locale:27,uploadImages:28,overridePreview:4,maxLength:5},null,[-1,-1])}}const qae={tokenize:Yae,partial:!0},SN={tokenize:Xae,partial:!0},CN={tokenize:Zae,partial:!0},AN={tokenize:Qae,partial:!0},jae={tokenize:Jae,partial:!0},ON={tokenize:Vae,previous:MN},NN={tokenize:Gae,previous:IN},Ys={tokenize:Kae,previous:LN},Es={},Wae={text:Es};let ua=48;for(;ua<123;)Es[ua]=Ys,ua++,ua===58?ua=65:ua===91&&(ua=97);Es[43]=Ys;Es[45]=Ys;Es[46]=Ys;Es[95]=Ys;Es[72]=[Ys,NN];Es[104]=[Ys,NN];Es[87]=[Ys,ON];Es[119]=[Ys,ON];function Kae(n,e,t){const i=this;let r,l;return s;function s(c){return!Dg(c)||!LN.call(i,i.previous)||ub(i.events)?t(c):(n.enter("literalAutolink"),n.enter("literalAutolinkEmail"),o(c))}function o(c){return Dg(c)?(n.consume(c),o):c===64?(n.consume(c),a):t(c)}function a(c){return c===46?n.check(jae,f,u)(c):c===45||c===95||fr(c)?(l=!0,n.consume(c),a):f(c)}function u(c){return n.consume(c),r=!0,a}function f(c){return l&&r&&wr(i.previous)?(n.exit("literalAutolinkEmail"),n.exit("literalAutolink"),e(c)):t(c)}}function Vae(n,e,t){const i=this;return r;function r(s){return s!==87&&s!==119||!MN.call(i,i.previous)||ub(i.events)?t(s):(n.enter("literalAutolink"),n.enter("literalAutolinkWww"),n.check(qae,n.attempt(SN,n.attempt(CN,l),t),t)(s))}function l(s){return n.exit("literalAutolinkWww"),n.exit("literalAutolink"),e(s)}}function Gae(n,e,t){const i=this;let r="",l=!1;return s;function s(c){return(c===72||c===104)&&IN.call(i,i.previous)&&!ub(i.events)?(n.enter("literalAutolink"),n.enter("literalAutolinkHttp"),r+=String.fromCodePoint(c),n.consume(c),o):t(c)}function o(c){if(wr(c)&&r.length<5)return r+=String.fromCodePoint(c),n.consume(c),o;if(c===58){const h=r.toLowerCase();if(h==="http"||h==="https")return n.consume(c),a}return t(c)}function a(c){return c===47?(n.consume(c),l?u:(l=!0,a)):t(c)}function u(c){return c===null||Nh(c)||ni(c)||Oa(c)||mp(c)?t(c):n.attempt(SN,n.attempt(CN,f),t)(c)}function f(c){return n.exit("literalAutolinkHttp"),n.exit("literalAutolink"),e(c)}}function Yae(n,e,t){let i=0;return r;function r(s){return(s===87||s===119)&&i<3?(i++,n.consume(s),r):s===46&&i===3?(n.consume(s),l):t(s)}function l(s){return s===null?t(s):e(s)}}function Xae(n,e,t){let i,r,l;return s;function s(u){return u===46||u===95?n.check(AN,a,o)(u):u===null||ni(u)||Oa(u)||u!==45&&mp(u)?a(u):(l=!0,n.consume(u),s)}function o(u){return u===95?i=!0:(r=i,i=void 0),n.consume(u),s}function a(u){return r||i||!l?t(u):e(u)}}function Zae(n,e){let t=0,i=0;return r;function r(s){return s===40?(t++,n.consume(s),r):s===41&&i<t?l(s):s===33||s===34||s===38||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===60||s===63||s===93||s===95||s===126?n.check(AN,e,l)(s):s===null||ni(s)||Oa(s)?e(s):(n.consume(s),r)}function l(s){return s===41&&i++,n.consume(s),r}}function Qae(n,e,t){return i;function i(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(n.consume(o),i):o===38?(n.consume(o),l):o===93?(n.consume(o),r):o===60||o===null||ni(o)||Oa(o)?e(o):t(o)}function r(o){return o===null||o===40||o===91||ni(o)||Oa(o)?e(o):i(o)}function l(o){return wr(o)?s(o):t(o)}function s(o){return o===59?(n.consume(o),i):wr(o)?(n.consume(o),s):t(o)}}function Jae(n,e,t){return i;function i(l){return n.consume(l),r}function r(l){return fr(l)?t(l):e(l)}}function MN(n){return n===null||n===40||n===42||n===95||n===91||n===93||n===126||ni(n)}function IN(n){return!wr(n)}function LN(n){return!(n===47||Dg(n))}function Dg(n){return n===43||n===45||n===46||n===95||fr(n)}function ub(n){let e=n.length,t=!1;for(;e--;){const i=n[e][1];if((i.type==="labelLink"||i.type==="labelImage")&&!i._balanced){t=!0;break}if(i._gfmAutolinkLiteralWalkedInto){t=!1;break}}return n.length>0&&!t&&(n[n.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),t}const eue={tokenize:aue,partial:!0};function tue(){return{document:{91:{tokenize:lue,continuation:{tokenize:sue},exit:oue}},text:{91:{tokenize:rue},93:{add:"after",tokenize:nue,resolveTo:iue}}}}function nue(n,e,t){const i=this;let r=i.events.length;const l=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let s;for(;r--;){const a=i.events[r][1];if(a.type==="labelImage"){s=a;break}if(a.type==="gfmFootnoteCall"||a.type==="labelLink"||a.type==="label"||a.type==="image"||a.type==="link")break}return o;function o(a){if(!s||!s._balanced)return t(a);const u=Yl(i.sliceSerialize({start:s.end,end:i.now()}));return u.codePointAt(0)!==94||!l.includes(u.slice(1))?t(a):(n.enter("gfmFootnoteCallLabelMarker"),n.consume(a),n.exit("gfmFootnoteCallLabelMarker"),e(a))}}function iue(n,e){let t=n.length;for(;t--;)if(n[t][1].type==="labelImage"&&n[t][0]==="enter"){n[t][1];break}n[t+1][1].type="data",n[t+3][1].type="gfmFootnoteCallLabelMarker";const i={type:"gfmFootnoteCall",start:Object.assign({},n[t+3][1].start),end:Object.assign({},n[n.length-1][1].end)},r={type:"gfmFootnoteCallMarker",start:Object.assign({},n[t+3][1].end),end:Object.assign({},n[t+3][1].end)};r.end.column++,r.end.offset++,r.end._bufferIndex++;const l={type:"gfmFootnoteCallString",start:Object.assign({},r.end),end:Object.assign({},n[n.length-1][1].start)},s={type:"chunkString",contentType:"string",start:Object.assign({},l.start),end:Object.assign({},l.end)},o=[n[t+1],n[t+2],["enter",i,e],n[t+3],n[t+4],["enter",r,e],["exit",r,e],["enter",l,e],["enter",s,e],["exit",s,e],["exit",l,e],n[n.length-2],n[n.length-1],["exit",i,e]];return n.splice(t,n.length-t+1,...o),n}function rue(n,e,t){const i=this,r=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let l=0,s;return o;function o(c){return n.enter("gfmFootnoteCall"),n.enter("gfmFootnoteCallLabelMarker"),n.consume(c),n.exit("gfmFootnoteCallLabelMarker"),a}function a(c){return c!==94?t(c):(n.enter("gfmFootnoteCallMarker"),n.consume(c),n.exit("gfmFootnoteCallMarker"),n.enter("gfmFootnoteCallString"),n.enter("chunkString").contentType="string",u)}function u(c){if(l>999||c===93&&!s||c===null||c===91||ni(c))return t(c);if(c===93){n.exit("chunkString");const h=n.exit("gfmFootnoteCallString");return r.includes(Yl(i.sliceSerialize(h)))?(n.enter("gfmFootnoteCallLabelMarker"),n.consume(c),n.exit("gfmFootnoteCallLabelMarker"),n.exit("gfmFootnoteCall"),e):t(c)}return ni(c)||(s=!0),l++,n.consume(c),c===92?f:u}function f(c){return c===91||c===92||c===93?(n.consume(c),l++,u):u(c)}}function lue(n,e,t){const i=this,r=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let l,s=0,o;return a;function a(_){return n.enter("gfmFootnoteDefinition")._container=!0,n.enter("gfmFootnoteDefinitionLabel"),n.enter("gfmFootnoteDefinitionLabelMarker"),n.consume(_),n.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(_){return _===94?(n.enter("gfmFootnoteDefinitionMarker"),n.consume(_),n.exit("gfmFootnoteDefinitionMarker"),n.enter("gfmFootnoteDefinitionLabelString"),n.enter("chunkString").contentType="string",f):t(_)}function f(_){if(s>999||_===93&&!o||_===null||_===91||ni(_))return t(_);if(_===93){n.exit("chunkString");const v=n.exit("gfmFootnoteDefinitionLabelString");return l=Yl(i.sliceSerialize(v)),n.enter("gfmFootnoteDefinitionLabelMarker"),n.consume(_),n.exit("gfmFootnoteDefinitionLabelMarker"),n.exit("gfmFootnoteDefinitionLabel"),h}return ni(_)||(o=!0),s++,n.consume(_),_===92?c:f}function c(_){return _===91||_===92||_===93?(n.consume(_),s++,f):f(_)}function h(_){return _===58?(n.enter("definitionMarker"),n.consume(_),n.exit("definitionMarker"),r.includes(l)||r.push(l),Pn(n,p,"gfmFootnoteDefinitionWhitespace")):t(_)}function p(_){return e(_)}}function sue(n,e,t){return n.check(d1,e,n.attempt(eue,e,t))}function oue(n){n.exit("gfmFootnoteDefinition")}function aue(n,e,t){const i=this;return Pn(n,r,"gfmFootnoteDefinitionIndent",5);function r(l){const s=i.events[i.events.length-1];return s&&s[1].type==="gfmFootnoteDefinitionIndent"&&s[2].sliceSerialize(s[1],!0).length===4?e(l):t(l)}}function uue(n){let t=(n||{}).singleTilde;const i={tokenize:l,resolveAll:r};return t==null&&(t=!0),{text:{126:i},insideSpan:{null:[i]},attentionMarkers:{null:[126]}};function r(s,o){let a=-1;for(;++a<s.length;)if(s[a][0]==="enter"&&s[a][1].type==="strikethroughSequenceTemporary"&&s[a][1]._close){let u=a;for(;u--;)if(s[u][0]==="exit"&&s[u][1].type==="strikethroughSequenceTemporary"&&s[u][1]._open&&s[a][1].end.offset-s[a][1].start.offset===s[u][1].end.offset-s[u][1].start.offset){s[a][1].type="strikethroughSequence",s[u][1].type="strikethroughSequence";const f={type:"strikethrough",start:Object.assign({},s[u][1].start),end:Object.assign({},s[a][1].end)},c={type:"strikethroughText",start:Object.assign({},s[u][1].end),end:Object.assign({},s[a][1].start)},h=[["enter",f,o],["enter",s[u][1],o],["exit",s[u][1],o],["enter",c,o]],p=o.parser.constructs.insideSpan.null;p&&fl(h,h.length,0,gp(p,s.slice(u+1,a),o)),fl(h,h.length,0,[["exit",c,o],["enter",s[a][1],o],["exit",s[a][1],o],["exit",f,o]]),fl(s,u-1,a-u+3,h),a=u+h.length-2;break}}for(a=-1;++a<s.length;)s[a][1].type==="strikethroughSequenceTemporary"&&(s[a][1].type="data");return s}function l(s,o,a){const u=this.previous,f=this.events;let c=0;return h;function h(_){return u===126&&f[f.length-1][1].type!=="characterEscape"?a(_):(s.enter("strikethroughSequenceTemporary"),p(_))}function p(_){const v=Mh(u);if(_===126)return c>1?a(_):(s.consume(_),c++,p);if(c<2&&!t)return a(_);const b=s.exit("strikethroughSequenceTemporary"),y=Mh(_);return b._open=!y||y===2&&!!v,b._close=!v||v===2&&!!y,o(_)}}}class fue{constructor(){this.map=[]}add(e,t,i){cue(this,e,t,i)}consume(e){if(this.map.sort((l,s)=>l[0]-s[0]),this.map.length===0)return;let t=this.map.length;const i=[];for(;t>0;)t-=1,i.push(e.slice(this.map[t][0]+this.map[t][1])),i.push(this.map[t][2]),e.length=this.map[t][0];i.push([...e]),e.length=0;let r=i.pop();for(;r;)e.push(...r),r=i.pop();this.map.length=0}}function cue(n,e,t,i){let r=0;if(!(t===0&&i.length===0)){for(;r<n.map.length;){if(n.map[r][0]===e){n.map[r][1]+=t,n.map[r][2].push(...i);return}r+=1}n.map.push([e,t,i])}}function due(n,e){let t=!1;const i=[];for(;e<n.length;){const r=n[e];if(t){if(r[0]==="enter")r[1].type==="tableContent"&&i.push(n[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(r[1].type==="tableContent"){if(n[e-1][1].type==="tableDelimiterMarker"){const l=i.length-1;i[l]=i[l]==="left"?"center":"right"}}else if(r[1].type==="tableDelimiterRow")break}else r[0]==="enter"&&r[1].type==="tableDelimiterRow"&&(t=!0);e+=1}return i}const hue={flow:{null:{tokenize:pue,resolveAll:mue}}};function pue(n,e,t){const i=this;let r=0,l=0,s;return o;function o(H){let q=i.events.length-1;for(;q>-1;){const W=i.events[q][1].type;if(W==="lineEnding"||W==="linePrefix")q--;else break}const z=q>-1?i.events[q][1].type:null,j=z==="tableHead"||z==="tableRow"?I:a;return j===I&&i.parser.lazy[i.now().line]?t(H):j(H)}function a(H){return n.enter("tableHead"),n.enter("tableRow"),u(H)}function u(H){return H===124||(s=!0,l+=1),f(H)}function f(H){return H===null?t(H):Yt(H)?l>1?(l=0,i.interrupt=!0,n.exit("tableRow"),n.enter("lineEnding"),n.consume(H),n.exit("lineEnding"),p):t(H):kn(H)?Pn(n,f,"whitespace")(H):(l+=1,s&&(s=!1,r+=1),H===124?(n.enter("tableCellDivider"),n.consume(H),n.exit("tableCellDivider"),s=!0,f):(n.enter("data"),c(H)))}function c(H){return H===null||H===124||ni(H)?(n.exit("data"),f(H)):(n.consume(H),H===92?h:c)}function h(H){return H===92||H===124?(n.consume(H),c):c(H)}function p(H){return i.interrupt=!1,i.parser.lazy[i.now().line]?t(H):(n.enter("tableDelimiterRow"),s=!1,kn(H)?Pn(n,_,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(H):_(H))}function _(H){return H===45||H===58?b(H):H===124?(s=!0,n.enter("tableCellDivider"),n.consume(H),n.exit("tableCellDivider"),v):L(H)}function v(H){return kn(H)?Pn(n,b,"whitespace")(H):b(H)}function b(H){return H===58?(l+=1,s=!0,n.enter("tableDelimiterMarker"),n.consume(H),n.exit("tableDelimiterMarker"),y):H===45?(l+=1,y(H)):H===null||Yt(H)?N(H):L(H)}function y(H){return H===45?(n.enter("tableDelimiterFiller"),A(H)):L(H)}function A(H){return H===45?(n.consume(H),A):H===58?(s=!0,n.exit("tableDelimiterFiller"),n.enter("tableDelimiterMarker"),n.consume(H),n.exit("tableDelimiterMarker"),M):(n.exit("tableDelimiterFiller"),M(H))}function M(H){return kn(H)?Pn(n,N,"whitespace")(H):N(H)}function N(H){return H===124?_(H):H===null||Yt(H)?!s||r!==l?L(H):(n.exit("tableDelimiterRow"),n.exit("tableHead"),e(H)):L(H)}function L(H){return t(H)}function I(H){return n.enter("tableRow"),R(H)}function R(H){return H===124?(n.enter("tableCellDivider"),n.consume(H),n.exit("tableCellDivider"),R):H===null||Yt(H)?(n.exit("tableRow"),e(H)):kn(H)?Pn(n,R,"whitespace")(H):(n.enter("data"),$(H))}function $(H){return H===null||H===124||ni(H)?(n.exit("data"),R(H)):(n.consume(H),H===92?B:$)}function B(H){return H===92||H===124?(n.consume(H),$):$(H)}}function mue(n,e){let t=-1,i=!0,r=0,l=[0,0,0,0],s=[0,0,0,0],o=!1,a=0,u,f,c;const h=new fue;for(;++t<n.length;){const p=n[t],_=p[1];p[0]==="enter"?_.type==="tableHead"?(o=!1,a!==0&&(jw(h,e,a,u,f),f=void 0,a=0),u={type:"table",start:Object.assign({},_.start),end:Object.assign({},_.end)},h.add(t,0,[["enter",u,e]])):_.type==="tableRow"||_.type==="tableDelimiterRow"?(i=!0,c=void 0,l=[0,0,0,0],s=[0,t+1,0,0],o&&(o=!1,f={type:"tableBody",start:Object.assign({},_.start),end:Object.assign({},_.end)},h.add(t,0,[["enter",f,e]])),r=_.type==="tableDelimiterRow"?2:f?3:1):r&&(_.type==="data"||_.type==="tableDelimiterMarker"||_.type==="tableDelimiterFiller")?(i=!1,s[2]===0&&(l[1]!==0&&(s[0]=s[1],c=Fd(h,e,l,r,void 0,c),l=[0,0,0,0]),s[2]=t)):_.type==="tableCellDivider"&&(i?i=!1:(l[1]!==0&&(s[0]=s[1],c=Fd(h,e,l,r,void 0,c)),l=s,s=[l[1],t,0,0])):_.type==="tableHead"?(o=!0,a=t):_.type==="tableRow"||_.type==="tableDelimiterRow"?(a=t,l[1]!==0?(s[0]=s[1],c=Fd(h,e,l,r,t,c)):s[1]!==0&&(c=Fd(h,e,s,r,t,c)),r=0):r&&(_.type==="data"||_.type==="tableDelimiterMarker"||_.type==="tableDelimiterFiller")&&(s[3]=t)}for(a!==0&&jw(h,e,a,u,f),h.consume(e.events),t=-1;++t<e.events.length;){const p=e.events[t];p[0]==="enter"&&p[1].type==="table"&&(p[1]._align=due(e.events,t))}return n}function Fd(n,e,t,i,r,l){const s=i===1?"tableHeader":i===2?"tableDelimiter":"tableData",o="tableContent";t[0]!==0&&(l.end=Object.assign({},ku(e.events,t[0])),n.add(t[0],0,[["exit",l,e]]));const a=ku(e.events,t[1]);if(l={type:s,start:Object.assign({},a),end:Object.assign({},a)},n.add(t[1],0,[["enter",l,e]]),t[2]!==0){const u=ku(e.events,t[2]),f=ku(e.events,t[3]),c={type:o,start:Object.assign({},u),end:Object.assign({},f)};if(n.add(t[2],0,[["enter",c,e]]),i!==2){const h=e.events[t[2]],p=e.events[t[3]];if(h[1].end=Object.assign({},p[1].end),h[1].type="chunkText",h[1].contentType="text",t[3]>t[2]+1){const _=t[2]+1,v=t[3]-t[2]-1;n.add(_,v,[])}}n.add(t[3]+1,0,[["exit",c,e]])}return r!==void 0&&(l.end=Object.assign({},ku(e.events,r)),n.add(r,0,[["exit",l,e]]),l=void 0),l}function jw(n,e,t,i,r){const l=[],s=ku(e.events,t);r&&(r.end=Object.assign({},s),l.push(["exit",r,e])),i.end=Object.assign({},s),l.push(["exit",i,e]),n.add(t+1,0,l)}function ku(n,e){const t=n[e],i=t[0]==="enter"?"start":"end";return t[1][i]}const gue={tokenize:bue},_ue={text:{91:gue}};function bue(n,e,t){const i=this;return r;function r(a){return i.previous!==null||!i._gfmTasklistFirstContentOfListItem?t(a):(n.enter("taskListCheck"),n.enter("taskListCheckMarker"),n.consume(a),n.exit("taskListCheckMarker"),l)}function l(a){return ni(a)?(n.enter("taskListCheckValueUnchecked"),n.consume(a),n.exit("taskListCheckValueUnchecked"),s):a===88||a===120?(n.enter("taskListCheckValueChecked"),n.consume(a),n.exit("taskListCheckValueChecked"),s):t(a)}function s(a){return a===93?(n.enter("taskListCheckMarker"),n.consume(a),n.exit("taskListCheckMarker"),n.exit("taskListCheck"),o):t(a)}function o(a){return Yt(a)?e(a):kn(a)?n.check({tokenize:vue},e,t)(a):t(a)}}function vue(n,e,t){return Pn(n,i,"whitespace");function i(r){return r===null?t(r):e(r)}}function yue(n){return JO([Wae,tue(),uue(n),hue,_ue])}function kue(n){if(typeof n!="string")throw new TypeError("Expected a string");return n.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}const Tue={}.hasOwnProperty,wue=function(n,e,t,i){let r,l;typeof e=="string"||e instanceof RegExp?(l=[[e,t]],r=i):(l=e,r=t),r||(r={});const s=D_(r.ignore||[]),o=Eue(l);let a=-1;for(;++a<o.length;)FA(n,"text",u);return n;function u(c,h){let p=-1,_;for(;++p<h.length;){const v=h[p];if(s(v,_?_.children.indexOf(v):void 0,_))return;_=v}if(_)return f(c,h)}function f(c,h){const p=h[h.length-1],_=o[a][0],v=o[a][1];let b=0;const y=p.children.indexOf(c);let A=!1,M=[];_.lastIndex=0;let N=_.exec(c.value);for(;N;){const L=N.index,I={index:N.index,input:N.input,stack:[...h,c]};let R=v(...N,I);if(typeof R=="string"&&(R=R.length>0?{type:"text",value:R}:void 0),R!==!1&&(b!==L&&M.push({type:"text",value:c.value.slice(b,L)}),Array.isArray(R)?M.push(...R):R&&M.push(R),b=L+N[0].length,A=!0),!_.global)break;N=_.exec(c.value)}return A?(b<c.value.length&&M.push({type:"text",value:c.value.slice(b)}),p.children.splice(y,1,...M)):M=[c],y+M.length}};function Eue(n){const e=[];if(typeof n!="object")throw new TypeError("Expected array or object as schema");if(Array.isArray(n)){let t=-1;for(;++t<n.length;)e.push([Ww(n[t][0]),Kw(n[t][1])])}else{let t;for(t in n)Tue.call(n,t)&&e.push([Ww(t),Kw(n[t])])}return e}function Ww(n){return typeof n=="string"?new RegExp(kue(n),"g"):n}function Kw(n){return typeof n=="function"?n:()=>n}const M0="phrasing",I0=["autolink","link","image","label"],Sue={transforms:[Lue],enter:{literalAutolink:Aue,literalAutolinkEmail:L0,literalAutolinkHttp:L0,literalAutolinkWww:L0},exit:{literalAutolink:Iue,literalAutolinkEmail:Mue,literalAutolinkHttp:Oue,literalAutolinkWww:Nue}},Cue={unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:M0,notInConstruct:I0},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:M0,notInConstruct:I0},{character:":",before:"[ps]",after:"\\/",inConstruct:M0,notInConstruct:I0}]};function Aue(n){this.enter({type:"link",title:null,url:"",children:[]},n)}function L0(n){this.config.enter.autolinkProtocol.call(this,n)}function Oue(n){this.config.exit.autolinkProtocol.call(this,n)}function Nue(n){this.config.exit.data.call(this,n);const e=this.stack[this.stack.length-1];e.url="http://"+this.sliceSerialize(n)}function Mue(n){this.config.exit.autolinkEmail.call(this,n)}function Iue(n){this.exit(n)}function Lue(n){wue(n,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Due],[/([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/g,Rue]],{ignore:["link","linkReference"]})}function Due(n,e,t,i,r){let l="";if(!DN(r)||(/^w/i.test(e)&&(t=e+t,e="",l="http://"),!Pue(t)))return!1;const s=Fue(t+i);if(!s[0])return!1;const o={type:"link",title:null,url:l+e+s[0],children:[{type:"text",value:e+s[0]}]};return s[1]?[o,{type:"text",value:s[1]}]:o}function Rue(n,e,t,i){return!DN(i,!0)||/[-\d_]$/.test(t)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+t,children:[{type:"text",value:e+"@"+t}]}}function Pue(n){const e=n.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function Fue(n){const e=/[!"&'),.:;<>?\]}]+$/.exec(n);if(!e)return[n,void 0];n=n.slice(0,e.index);let t=e[0],i=t.indexOf(")");const r=Oh(n,"(");let l=Oh(n,")");for(;i!==-1&&r>l;)n+=t.slice(0,i+1),t=t.slice(i+1),i=t.indexOf(")"),l++;return[n,t]}function DN(n,e){const t=n.input.charCodeAt(n.index-1);return(n.index===0||Oa(t)||mp(t))&&(!e||t!==47)}function RN(n){return n.label||!n.identifier?n.label||"":fN(n.identifier)}function $ue(n,e,t){const i=e.indexStack,r=n.children||[],l=e.createTracker(t),s=[];let o=-1;for(i.push(-1);++o<r.length;){const a=r[o];i[i.length-1]=o,s.push(l.move(e.handle(a,n,e,{before:`
`,after:`
`,...l.current()}))),a.type!=="list"&&(e.bulletLastUsed=void 0),o<r.length-1&&s.push(l.move(Hue(a,r[o+1],n,e)))}return i.pop(),s.join("")}function Hue(n,e,t,i){let r=i.join.length;for(;r--;){const l=i.join[r](n,e,t,i);if(l===!0||l===1)break;if(typeof l=="number")return`
`.repeat(1+l);if(l===!1)return`

<!---->

`}return`

`}const Bue=/\r?\n|\r/g;function xue(n,e){const t=[];let i=0,r=0,l;for(;l=Bue.exec(n);)s(n.slice(i,l.index)),t.push(l[0]),i=l.index+l[0].length,r++;return s(n.slice(i)),t.join("");function s(o){t.push(e(o,r,!o))}}function PN(n){if(!n._compiled){const e=(n.atBreak?"[\\r\\n][\\t ]*":"")+(n.before?"(?:"+n.before+")":"");n._compiled=new RegExp((e?"("+e+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(n.character)?"\\":"")+n.character+(n.after?"(?:"+n.after+")":""),"g")}return n._compiled}function Uue(n,e){return Vw(n,e.inConstruct,!0)&&!Vw(n,e.notInConstruct,!1)}function Vw(n,e,t){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return t;let i=-1;for(;++i<e.length;)if(n.includes(e[i]))return!0;return!1}function FN(n,e,t){const i=(t.before||"")+(e||"")+(t.after||""),r=[],l=[],s={};let o=-1;for(;++o<n.unsafe.length;){const f=n.unsafe[o];if(!Uue(n.stack,f))continue;const c=PN(f);let h;for(;h=c.exec(i);){const p="before"in f||!!f.atBreak,_="after"in f,v=h.index+(p?h[1].length:0);r.includes(v)?(s[v].before&&!p&&(s[v].before=!1),s[v].after&&!_&&(s[v].after=!1)):(r.push(v),s[v]={before:p,after:_})}}r.sort(zue);let a=t.before?t.before.length:0;const u=i.length-(t.after?t.after.length:0);for(o=-1;++o<r.length;){const f=r[o];f<a||f>=u||f+1<u&&r[o+1]===f+1&&s[f].after&&!s[f+1].before&&!s[f+1].after||r[o-1]===f-1&&s[f].before&&!s[f-1].before&&!s[f-1].after||(a!==f&&l.push(Gw(i.slice(a,f),"\\")),a=f,/[!-/:-@[-`{-~]/.test(i.charAt(f))&&(!t.encode||!t.encode.includes(i.charAt(f)))?l.push("\\"):(l.push("&#x"+i.charCodeAt(f).toString(16).toUpperCase()+";"),a++))}return l.push(Gw(i.slice(a,u),t.after)),l.join("")}function zue(n,e){return n-e}function Gw(n,e){const t=/\\(?=[!-/:-@[-`{-~])/g,i=[],r=[],l=n+e;let s=-1,o=0,a;for(;a=t.exec(l);)i.push(a.index);for(;++s<i.length;)o!==i[s]&&r.push(n.slice(o,i[s])),r.push("\\"),o=i[s];return r.push(n.slice(o)),r.join("")}function _p(n){const e=n||{},t=e.now||{};let i=e.lineShift||0,r=t.line||1,l=t.column||1;return{move:a,current:s,shift:o};function s(){return{now:{line:r,column:l},lineShift:i}}function o(u){i+=u}function a(u){const f=u||"",c=f.split(/\r?\n|\r/g),h=c[c.length-1];return r+=c.length-1,l=c.length===1?l+h.length:1+h.length+i,f}}$N.peek=Jue;function que(){return{enter:{gfmFootnoteDefinition:Wue,gfmFootnoteDefinitionLabelString:Kue,gfmFootnoteCall:Yue,gfmFootnoteCallString:Xue},exit:{gfmFootnoteDefinition:Gue,gfmFootnoteDefinitionLabelString:Vue,gfmFootnoteCall:Que,gfmFootnoteCallString:Zue}}}function jue(){return{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition:efe,footnoteReference:$N}}}function Wue(n){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},n)}function Kue(){this.buffer()}function Vue(n){const e=this.resume(),t=this.stack[this.stack.length-1];t.label=e,t.identifier=Yl(this.sliceSerialize(n)).toLowerCase()}function Gue(n){this.exit(n)}function Yue(n){this.enter({type:"footnoteReference",identifier:"",label:""},n)}function Xue(){this.buffer()}function Zue(n){const e=this.resume(),t=this.stack[this.stack.length-1];t.label=e,t.identifier=Yl(this.sliceSerialize(n)).toLowerCase()}function Que(n){this.exit(n)}function $N(n,e,t,i){const r=_p(i);let l=r.move("[^");const s=t.enter("footnoteReference"),o=t.enter("reference");return l+=r.move(FN(t,RN(n),{...r.current(),before:l,after:"]"})),o(),s(),l+=r.move("]"),l}function Jue(){return"["}function efe(n,e,t,i){const r=_p(i);let l=r.move("[^");const s=t.enter("footnoteDefinition"),o=t.enter("label");return l+=r.move(FN(t,RN(n),{...r.current(),before:l,after:"]"})),o(),l+=r.move("]:"+(n.children&&n.children.length>0?" ":"")),r.shift(4),l+=r.move(xue($ue(n,t,r.current()),tfe)),s(),l}function tfe(n,e,t){return e===0?n:(t?"":"    ")+n}function HN(n,e,t){const i=e.indexStack,r=n.children||[],l=[];let s=-1,o=t.before;i.push(-1);let a=e.createTracker(t);for(;++s<r.length;){const u=r[s];let f;if(i[i.length-1]=s,s+1<r.length){let c=e.handle.handlers[r[s+1].type];c&&c.peek&&(c=c.peek),f=c?c(r[s+1],n,e,{before:"",after:"",...a.current()}).charAt(0):""}else f=t.after;l.length>0&&(o==="\r"||o===`
`)&&u.type==="html"&&(l[l.length-1]=l[l.length-1].replace(/(\r?\n|\r)$/," "),o=" ",a=e.createTracker(t),a.move(l.join(""))),l.push(a.move(e.handle(u,n,e,{...a.current(),before:o,after:f}))),o=l[l.length-1].slice(-1)}return i.pop(),l.join("")}const nfe=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];BN.peek=ofe;const ife={canContainEols:["delete"],enter:{strikethrough:lfe},exit:{strikethrough:sfe}},rfe={unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:nfe}],handlers:{delete:BN}};function lfe(n){this.enter({type:"delete",children:[]},n)}function sfe(n){this.exit(n)}function BN(n,e,t,i){const r=_p(i),l=t.enter("strikethrough");let s=r.move("~~");return s+=HN(n,t,{...r.current(),before:s,after:"~"}),s+=r.move("~~"),l(),s}function ofe(){return"~"}xN.peek=afe;function xN(n,e,t){let i=n.value||"",r="`",l=-1;for(;new RegExp("(^|[^`])"+r+"([^`]|$)").test(i);)r+="`";for(/[^ \r\n]/.test(i)&&(/^[ \r\n]/.test(i)&&/[ \r\n]$/.test(i)||/^`|`$/.test(i))&&(i=" "+i+" ");++l<t.unsafe.length;){const s=t.unsafe[l],o=PN(s);let a;if(s.atBreak)for(;a=o.exec(i);){let u=a.index;i.charCodeAt(u)===10&&i.charCodeAt(u-1)===13&&u--,i=i.slice(0,u)+" "+i.slice(a.index+1)}}return r+i+r}function afe(){return"`"}function ufe(n){return n.length}function ffe(n,e){const t=e||{},i=(t.align||[]).concat(),r=t.stringLength||ufe,l=[],s=[],o=[],a=[];let u=0,f=-1;for(;++f<n.length;){const v=[],b=[];let y=-1;for(n[f].length>u&&(u=n[f].length);++y<n[f].length;){const A=cfe(n[f][y]);if(t.alignDelimiters!==!1){const M=r(A);b[y]=M,(a[y]===void 0||M>a[y])&&(a[y]=M)}v.push(A)}s[f]=v,o[f]=b}let c=-1;if(typeof i=="object"&&"length"in i)for(;++c<u;)l[c]=Yw(i[c]);else{const v=Yw(i);for(;++c<u;)l[c]=v}c=-1;const h=[],p=[];for(;++c<u;){const v=l[c];let b="",y="";v===99?(b=":",y=":"):v===108?b=":":v===114&&(y=":");let A=t.alignDelimiters===!1?1:Math.max(1,a[c]-b.length-y.length);const M=b+"-".repeat(A)+y;t.alignDelimiters!==!1&&(A=b.length+A+y.length,A>a[c]&&(a[c]=A),p[c]=A),h[c]=M}s.splice(1,0,h),o.splice(1,0,p),f=-1;const _=[];for(;++f<s.length;){const v=s[f],b=o[f];c=-1;const y=[];for(;++c<u;){const A=v[c]||"";let M="",N="";if(t.alignDelimiters!==!1){const L=a[c]-(b[c]||0),I=l[c];I===114?M=" ".repeat(L):I===99?L%2?(M=" ".repeat(L/2+.5),N=" ".repeat(L/2-.5)):(M=" ".repeat(L/2),N=M):N=" ".repeat(L)}t.delimiterStart!==!1&&!c&&y.push("|"),t.padding!==!1&&!(t.alignDelimiters===!1&&A==="")&&(t.delimiterStart!==!1||c)&&y.push(" "),t.alignDelimiters!==!1&&y.push(M),y.push(A),t.alignDelimiters!==!1&&y.push(N),t.padding!==!1&&y.push(" "),(t.delimiterEnd!==!1||c!==u-1)&&y.push("|")}_.push(t.delimiterEnd===!1?y.join("").replace(/ +$/,""):y.join(""))}return _.join(`
`)}function cfe(n){return n==null?"":String(n)}function Yw(n){const e=typeof n=="string"?n.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}const dfe={enter:{table:hfe,tableData:Xw,tableHeader:Xw,tableRow:mfe},exit:{codeText:gfe,table:pfe,tableData:D0,tableHeader:D0,tableRow:D0}};function hfe(n){const e=n._align;this.enter({type:"table",align:e.map(t=>t==="none"?null:t),children:[]},n),this.setData("inTable",!0)}function pfe(n){this.exit(n),this.setData("inTable")}function mfe(n){this.enter({type:"tableRow",children:[]},n)}function D0(n){this.exit(n)}function Xw(n){this.enter({type:"tableCell",children:[]},n)}function gfe(n){let e=this.resume();this.getData("inTable")&&(e=e.replace(/\\([\\|])/g,_fe));const t=this.stack[this.stack.length-1];t.value=e,this.exit(n)}function _fe(n,e){return e==="|"?e:n}function bfe(n){const e=n||{},t=e.tableCellPadding,i=e.tablePipeAlign,r=e.stringLength,l=t?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{table:s,tableRow:o,tableCell:a,inlineCode:h}};function s(p,_,v,b){return u(f(p,v,b),p.align)}function o(p,_,v,b){const y=c(p,v,b),A=u([y]);return A.slice(0,A.indexOf(`
`))}function a(p,_,v,b){const y=v.enter("tableCell"),A=v.enter("phrasing"),M=HN(p,v,{...b,before:l,after:l});return A(),y(),M}function u(p,_){return ffe(p,{align:_,alignDelimiters:i,padding:t,stringLength:r})}function f(p,_,v){const b=p.children;let y=-1;const A=[],M=_.enter("table");for(;++y<b.length;)A[y]=c(b[y],_,v);return M(),A}function c(p,_,v){const b=p.children;let y=-1;const A=[],M=_.enter("tableRow");for(;++y<b.length;)A[y]=a(b[y],p,_,v);return M(),A}function h(p,_,v){let b=xN(p,_,v);return v.stack.includes("tableCell")&&(b=b.replace(/\|/g,"\\$&")),b}}function vfe(n){const e=n.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function yfe(n){const e=n.options.listItemIndent||"tab";if(e===1||e==="1")return"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function kfe(n,e,t,i){const r=yfe(t);let l=t.bulletCurrent||vfe(t);e&&e.type==="list"&&e.ordered&&(l=(typeof e.start=="number"&&e.start>-1?e.start:1)+(t.options.incrementListMarker===!1?0:e.children.indexOf(n))+l);let s=l.length+1;(r==="tab"||r==="mixed"&&(e&&e.type==="list"&&e.spread||n.spread))&&(s=Math.ceil(s/4)*4);const o=t.createTracker(i);o.move(l+" ".repeat(s-l.length)),o.shift(s);const a=t.enter("listItem"),u=t.indentLines(t.containerFlow(n,o.current()),f);return a(),u;function f(c,h,p){return h?(p?"":" ".repeat(s))+c:(p?l:l+" ".repeat(s-l.length))+c}}const Tfe={exit:{taskListCheckValueChecked:Zw,taskListCheckValueUnchecked:Zw,paragraph:Efe}},wfe={unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Sfe}};function Zw(n){const e=this.stack[this.stack.length-2];e.checked=n.type==="taskListCheckValueChecked"}function Efe(n){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const t=this.stack[this.stack.length-1],i=t.children[0];if(i&&i.type==="text"){const r=e.children;let l=-1,s;for(;++l<r.length;){const o=r[l];if(o.type==="paragraph"){s=o;break}}s===t&&(i.value=i.value.slice(1),i.value.length===0?t.children.shift():t.position&&i.position&&typeof i.position.start.offset=="number"&&(i.position.start.column++,i.position.start.offset++,t.position.start=Object.assign({},i.position.start)))}}this.exit(n)}function Sfe(n,e,t,i){const r=n.children[0],l=typeof n.checked=="boolean"&&r&&r.type==="paragraph",s="["+(n.checked?"x":" ")+"] ",o=_p(i);l&&o.move(s);let a=kfe(n,e,t,{...i,...o.current()});return l&&(a=a.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),a;function u(f){return f+s}}function Cfe(){return[Sue,que(),ife,dfe,Tfe]}function Afe(n){return{extensions:[Cue,jue(),rfe,bfe(n),wfe]}}function Ofe(n={}){const e=this.data();t("micromarkExtensions",yue(n)),t("fromMarkdownExtensions",Cfe()),t("toMarkdownExtensions",Afe(n));function t(i,r){(e[i]?e[i]:e[i]=[]).push(r)}}const R0={Strikethrough:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" viewBox="0 0 48 48"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="M5 24h38M24 24c16 6 10 20 0 20s-12-8-12-8M36 12s-3-8-12-8-12.564 7.6-8.39 14"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="M12 36s4 8 12 8 12.564-7.6 8.39-14"/></svg>',CheckCorrect:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" viewBox="0 0 48 48"><g stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="4" clip-path="url(#a)"><path d="M42 20v19a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9a3 3 0 0 1 3-3h21"/><path d="m16 20 10 8L41 7"/></g><defs><clipPath id="a"><path fill="currentColor" d="M0 0h48v48H0z"/></clipPath></defs></svg>',InsertTable:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" viewBox="0 0 48 48"><path stroke="currentColor" stroke-width="4" d="M39.3 6H8.7A2.7 2.7 0 0 0 6 8.7v30.6A2.7 2.7 0 0 0 8.7 42h30.6a2.7 2.7 0 0 0 2.7-2.7V8.7A2.7 2.7 0 0 0 39.3 6Z"/><path stroke="currentColor" stroke-linecap="round" stroke-width="4" d="M18 6v36M30 6v36M6 18h36M6 30h36"/></svg>'},Nfe="Strikethrough",Mfe="text",Ife="Table",Lfe="Heading",Dfe="Task list",Rfe="todo",Pfe={strike:Nfe,strikeText:Mfe,table:Ife,tableHeading:Lfe,task:Dfe,taskText:Rfe};function Ffe({locale:n,...e}={}){const t={...Pfe,...n};return{remark:i=>i.use(Ofe,e),actions:[{title:t.strike,icon:R0.Strikethrough,cheatsheet:`~~${t.strikeText}~~`,handler:{type:"action",click({wrapText:i,editor:r}){i("~~"),r.focus()}}},{title:t.task,icon:R0.CheckCorrect,cheatsheet:`- [ ] ${t.taskText}`,handler:{type:"action",click({replaceLines:i,editor:r}){i(l=>"- [ ] "+l),r.focus()}}},{title:t.table,icon:R0.InsertTable,handler:{type:"action",click({editor:i,appendBlock:r,codemirror:l}){const{line:s}=r(`| ${t.tableHeading} |  |
| --- | --- |
|  |  |
`);i.setSelection(l.Pos(s,2),l.Pos(s,2+t.tableHeading.length)),i.focus()}}}]}}/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function UN(n){return typeof n>"u"||n===null}function $fe(n){return typeof n=="object"&&n!==null}function Hfe(n){return Array.isArray(n)?n:UN(n)?[]:[n]}function Bfe(n,e){var t,i,r,l;if(e)for(l=Object.keys(e),t=0,i=l.length;t<i;t+=1)r=l[t],n[r]=e[r];return n}function xfe(n,e){var t="",i;for(i=0;i<e;i+=1)t+=n;return t}function Ufe(n){return n===0&&Number.NEGATIVE_INFINITY===1/n}var zfe=UN,qfe=$fe,jfe=Hfe,Wfe=xfe,Kfe=Ufe,Vfe=Bfe,Er={isNothing:zfe,isObject:qfe,toArray:jfe,repeat:Wfe,isNegativeZero:Kfe,extend:Vfe};function zN(n,e){var t="",i=n.reason||"(unknown reason)";return n.mark?(n.mark.name&&(t+='in "'+n.mark.name+'" '),t+="("+(n.mark.line+1)+":"+(n.mark.column+1)+")",!e&&n.mark.snippet&&(t+=`

`+n.mark.snippet),i+" "+t):i}function Vc(n,e){Error.call(this),this.name="YAMLException",this.reason=n,this.mark=e,this.message=zN(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Vc.prototype=Object.create(Error.prototype);Vc.prototype.constructor=Vc;Vc.prototype.toString=function(e){return this.name+": "+zN(this,e)};var Us=Vc;function P0(n,e,t,i,r){var l="",s="",o=Math.floor(r/2)-1;return i-e>o&&(l=" ... ",e=i-o+l.length),t-i>o&&(s=" ...",t=i+o-s.length),{str:l+n.slice(e,t).replace(/\t/g,"→")+s,pos:i-e+l.length}}function F0(n,e){return Er.repeat(" ",e-n.length)+n}function Gfe(n,e){if(e=Object.create(e||null),!n.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var t=/\r?\n|\r|\0/g,i=[0],r=[],l,s=-1;l=t.exec(n.buffer);)r.push(l.index),i.push(l.index+l[0].length),n.position<=l.index&&s<0&&(s=i.length-2);s<0&&(s=i.length-1);var o="",a,u,f=Math.min(n.line+e.linesAfter,r.length).toString().length,c=e.maxLength-(e.indent+f+3);for(a=1;a<=e.linesBefore&&!(s-a<0);a++)u=P0(n.buffer,i[s-a],r[s-a],n.position-(i[s]-i[s-a]),c),o=Er.repeat(" ",e.indent)+F0((n.line-a+1).toString(),f)+" | "+u.str+`
`+o;for(u=P0(n.buffer,i[s],r[s],n.position,c),o+=Er.repeat(" ",e.indent)+F0((n.line+1).toString(),f)+" | "+u.str+`
`,o+=Er.repeat("-",e.indent+f+3+u.pos)+`^
`,a=1;a<=e.linesAfter&&!(s+a>=r.length);a++)u=P0(n.buffer,i[s+a],r[s+a],n.position-(i[s]-i[s+a]),c),o+=Er.repeat(" ",e.indent)+F0((n.line+a+1).toString(),f)+" | "+u.str+`
`;return o.replace(/\n$/,"")}var Yfe=Gfe,Xfe=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Zfe=["scalar","sequence","mapping"];function Qfe(n){var e={};return n!==null&&Object.keys(n).forEach(function(t){n[t].forEach(function(i){e[String(i)]=t})}),e}function Jfe(n,e){if(e=e||{},Object.keys(e).forEach(function(t){if(Xfe.indexOf(t)===-1)throw new Us('Unknown option "'+t+'" is met in definition of "'+n+'" YAML type.')}),this.options=e,this.tag=n,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(t){return t},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=Qfe(e.styleAliases||null),Zfe.indexOf(this.kind)===-1)throw new Us('Unknown kind "'+this.kind+'" is specified for "'+n+'" YAML type.')}var dr=Jfe;function Qw(n,e){var t=[];return n[e].forEach(function(i){var r=t.length;t.forEach(function(l,s){l.tag===i.tag&&l.kind===i.kind&&l.multi===i.multi&&(r=s)}),t[r]=i}),t}function ece(){var n={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,t;function i(r){r.multi?(n.multi[r.kind].push(r),n.multi.fallback.push(r)):n[r.kind][r.tag]=n.fallback[r.tag]=r}for(e=0,t=arguments.length;e<t;e+=1)arguments[e].forEach(i);return n}function Rg(n){return this.extend(n)}Rg.prototype.extend=function(e){var t=[],i=[];if(e instanceof dr)i.push(e);else if(Array.isArray(e))i=i.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(t=t.concat(e.implicit)),e.explicit&&(i=i.concat(e.explicit));else throw new Us("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");t.forEach(function(l){if(!(l instanceof dr))throw new Us("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(l.loadKind&&l.loadKind!=="scalar")throw new Us("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(l.multi)throw new Us("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),i.forEach(function(l){if(!(l instanceof dr))throw new Us("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var r=Object.create(Rg.prototype);return r.implicit=(this.implicit||[]).concat(t),r.explicit=(this.explicit||[]).concat(i),r.compiledImplicit=Qw(r,"implicit"),r.compiledExplicit=Qw(r,"explicit"),r.compiledTypeMap=ece(r.compiledImplicit,r.compiledExplicit),r};var tce=Rg,nce=new dr("tag:yaml.org,2002:str",{kind:"scalar",construct:function(n){return n!==null?n:""}}),ice=new dr("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(n){return n!==null?n:[]}}),rce=new dr("tag:yaml.org,2002:map",{kind:"mapping",construct:function(n){return n!==null?n:{}}}),lce=new tce({explicit:[nce,ice,rce]});function sce(n){if(n===null)return!0;var e=n.length;return e===1&&n==="~"||e===4&&(n==="null"||n==="Null"||n==="NULL")}function oce(){return null}function ace(n){return n===null}var uce=new dr("tag:yaml.org,2002:null",{kind:"scalar",resolve:sce,construct:oce,predicate:ace,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function fce(n){if(n===null)return!1;var e=n.length;return e===4&&(n==="true"||n==="True"||n==="TRUE")||e===5&&(n==="false"||n==="False"||n==="FALSE")}function cce(n){return n==="true"||n==="True"||n==="TRUE"}function dce(n){return Object.prototype.toString.call(n)==="[object Boolean]"}var hce=new dr("tag:yaml.org,2002:bool",{kind:"scalar",resolve:fce,construct:cce,predicate:dce,represent:{lowercase:function(n){return n?"true":"false"},uppercase:function(n){return n?"TRUE":"FALSE"},camelcase:function(n){return n?"True":"False"}},defaultStyle:"lowercase"});function pce(n){return 48<=n&&n<=57||65<=n&&n<=70||97<=n&&n<=102}function mce(n){return 48<=n&&n<=55}function gce(n){return 48<=n&&n<=57}function _ce(n){if(n===null)return!1;var e=n.length,t=0,i=!1,r;if(!e)return!1;if(r=n[t],(r==="-"||r==="+")&&(r=n[++t]),r==="0"){if(t+1===e)return!0;if(r=n[++t],r==="b"){for(t++;t<e;t++)if(r=n[t],r!=="_"){if(r!=="0"&&r!=="1")return!1;i=!0}return i&&r!=="_"}if(r==="x"){for(t++;t<e;t++)if(r=n[t],r!=="_"){if(!pce(n.charCodeAt(t)))return!1;i=!0}return i&&r!=="_"}if(r==="o"){for(t++;t<e;t++)if(r=n[t],r!=="_"){if(!mce(n.charCodeAt(t)))return!1;i=!0}return i&&r!=="_"}}if(r==="_")return!1;for(;t<e;t++)if(r=n[t],r!=="_"){if(!gce(n.charCodeAt(t)))return!1;i=!0}return!(!i||r==="_")}function bce(n){var e=n,t=1,i;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),i=e[0],(i==="-"||i==="+")&&(i==="-"&&(t=-1),e=e.slice(1),i=e[0]),e==="0")return 0;if(i==="0"){if(e[1]==="b")return t*parseInt(e.slice(2),2);if(e[1]==="x")return t*parseInt(e.slice(2),16);if(e[1]==="o")return t*parseInt(e.slice(2),8)}return t*parseInt(e,10)}function vce(n){return Object.prototype.toString.call(n)==="[object Number]"&&n%1===0&&!Er.isNegativeZero(n)}var yce=new dr("tag:yaml.org,2002:int",{kind:"scalar",resolve:_ce,construct:bce,predicate:vce,represent:{binary:function(n){return n>=0?"0b"+n.toString(2):"-0b"+n.toString(2).slice(1)},octal:function(n){return n>=0?"0o"+n.toString(8):"-0o"+n.toString(8).slice(1)},decimal:function(n){return n.toString(10)},hexadecimal:function(n){return n>=0?"0x"+n.toString(16).toUpperCase():"-0x"+n.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),kce=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function Tce(n){return!(n===null||!kce.test(n)||n[n.length-1]==="_")}function wce(n){var e,t;return e=n.replace(/_/g,"").toLowerCase(),t=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?t===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:t*parseFloat(e,10)}var Ece=/^[-+]?[0-9]+e/;function Sce(n,e){var t;if(isNaN(n))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===n)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===n)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Er.isNegativeZero(n))return"-0.0";return t=n.toString(10),Ece.test(t)?t.replace("e",".e"):t}function Cce(n){return Object.prototype.toString.call(n)==="[object Number]"&&(n%1!==0||Er.isNegativeZero(n))}var Ace=new dr("tag:yaml.org,2002:float",{kind:"scalar",resolve:Tce,construct:wce,predicate:Cce,represent:Sce,defaultStyle:"lowercase"}),Oce=lce.extend({implicit:[uce,hce,yce,Ace]}),Nce=Oce,qN=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),jN=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function Mce(n){return n===null?!1:qN.exec(n)!==null||jN.exec(n)!==null}function Ice(n){var e,t,i,r,l,s,o,a=0,u=null,f,c,h;if(e=qN.exec(n),e===null&&(e=jN.exec(n)),e===null)throw new Error("Date resolve error");if(t=+e[1],i=+e[2]-1,r=+e[3],!e[4])return new Date(Date.UTC(t,i,r));if(l=+e[4],s=+e[5],o=+e[6],e[7]){for(a=e[7].slice(0,3);a.length<3;)a+="0";a=+a}return e[9]&&(f=+e[10],c=+(e[11]||0),u=(f*60+c)*6e4,e[9]==="-"&&(u=-u)),h=new Date(Date.UTC(t,i,r,l,s,o,a)),u&&h.setTime(h.getTime()-u),h}function Lce(n){return n.toISOString()}var Dce=new dr("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:Mce,construct:Ice,instanceOf:Date,represent:Lce});function Rce(n){return n==="<<"||n===null}var Pce=new dr("tag:yaml.org,2002:merge",{kind:"scalar",resolve:Rce}),fb=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function Fce(n){if(n===null)return!1;var e,t,i=0,r=n.length,l=fb;for(t=0;t<r;t++)if(e=l.indexOf(n.charAt(t)),!(e>64)){if(e<0)return!1;i+=6}return i%8===0}function $ce(n){var e,t,i=n.replace(/[\r\n=]/g,""),r=i.length,l=fb,s=0,o=[];for(e=0;e<r;e++)e%4===0&&e&&(o.push(s>>16&255),o.push(s>>8&255),o.push(s&255)),s=s<<6|l.indexOf(i.charAt(e));return t=r%4*6,t===0?(o.push(s>>16&255),o.push(s>>8&255),o.push(s&255)):t===18?(o.push(s>>10&255),o.push(s>>2&255)):t===12&&o.push(s>>4&255),new Uint8Array(o)}function Hce(n){var e="",t=0,i,r,l=n.length,s=fb;for(i=0;i<l;i++)i%3===0&&i&&(e+=s[t>>18&63],e+=s[t>>12&63],e+=s[t>>6&63],e+=s[t&63]),t=(t<<8)+n[i];return r=l%3,r===0?(e+=s[t>>18&63],e+=s[t>>12&63],e+=s[t>>6&63],e+=s[t&63]):r===2?(e+=s[t>>10&63],e+=s[t>>4&63],e+=s[t<<2&63],e+=s[64]):r===1&&(e+=s[t>>2&63],e+=s[t<<4&63],e+=s[64],e+=s[64]),e}function Bce(n){return Object.prototype.toString.call(n)==="[object Uint8Array]"}var xce=new dr("tag:yaml.org,2002:binary",{kind:"scalar",resolve:Fce,construct:$ce,predicate:Bce,represent:Hce}),Uce=Object.prototype.hasOwnProperty,zce=Object.prototype.toString;function qce(n){if(n===null)return!0;var e=[],t,i,r,l,s,o=n;for(t=0,i=o.length;t<i;t+=1){if(r=o[t],s=!1,zce.call(r)!=="[object Object]")return!1;for(l in r)if(Uce.call(r,l))if(!s)s=!0;else return!1;if(!s)return!1;if(e.indexOf(l)===-1)e.push(l);else return!1}return!0}function jce(n){return n!==null?n:[]}var Wce=new dr("tag:yaml.org,2002:omap",{kind:"sequence",resolve:qce,construct:jce}),Kce=Object.prototype.toString;function Vce(n){if(n===null)return!0;var e,t,i,r,l,s=n;for(l=new Array(s.length),e=0,t=s.length;e<t;e+=1){if(i=s[e],Kce.call(i)!=="[object Object]"||(r=Object.keys(i),r.length!==1))return!1;l[e]=[r[0],i[r[0]]]}return!0}function Gce(n){if(n===null)return[];var e,t,i,r,l,s=n;for(l=new Array(s.length),e=0,t=s.length;e<t;e+=1)i=s[e],r=Object.keys(i),l[e]=[r[0],i[r[0]]];return l}var Yce=new dr("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:Vce,construct:Gce}),Xce=Object.prototype.hasOwnProperty;function Zce(n){if(n===null)return!0;var e,t=n;for(e in t)if(Xce.call(t,e)&&t[e]!==null)return!1;return!0}function Qce(n){return n!==null?n:{}}var Jce=new dr("tag:yaml.org,2002:set",{kind:"mapping",resolve:Zce,construct:Qce}),e1e=Nce.extend({implicit:[Dce,Pce],explicit:[xce,Wce,Yce,Jce]}),Po=Object.prototype.hasOwnProperty,Rh=1,WN=2,KN=3,Ph=4,$0=1,t1e=2,Jw=3,n1e=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,i1e=/[\x85\u2028\u2029]/,r1e=/[,\[\]\{\}]/,VN=/^(?:!|!!|![a-z\-]+!)$/i,GN=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function e6(n){return Object.prototype.toString.call(n)}function ks(n){return n===10||n===13}function wa(n){return n===9||n===32}function Wr(n){return n===9||n===32||n===10||n===13}function Su(n){return n===44||n===91||n===93||n===123||n===125}function l1e(n){var e;return 48<=n&&n<=57?n-48:(e=n|32,97<=e&&e<=102?e-97+10:-1)}function s1e(n){return n===120?2:n===117?4:n===85?8:0}function o1e(n){return 48<=n&&n<=57?n-48:-1}function t6(n){return n===48?"\0":n===97?"\x07":n===98?"\b":n===116||n===9?"	":n===110?`
`:n===118?"\v":n===102?"\f":n===114?"\r":n===101?"\x1B":n===32?" ":n===34?'"':n===47?"/":n===92?"\\":n===78?"":n===95?" ":n===76?"\u2028":n===80?"\u2029":""}function a1e(n){return n<=65535?String.fromCharCode(n):String.fromCharCode((n-65536>>10)+55296,(n-65536&1023)+56320)}var YN=new Array(256),XN=new Array(256);for(var gu=0;gu<256;gu++)YN[gu]=t6(gu)?1:0,XN[gu]=t6(gu);function u1e(n,e){this.input=n,this.filename=e.filename||null,this.schema=e.schema||e1e,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=n.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function ZN(n,e){var t={name:n.filename,buffer:n.input.slice(0,-1),position:n.position,line:n.line,column:n.position-n.lineStart};return t.snippet=Yfe(t),new Us(e,t)}function Xt(n,e){throw ZN(n,e)}function Fh(n,e){n.onWarning&&n.onWarning.call(null,ZN(n,e))}var n6={YAML:function(e,t,i){var r,l,s;e.version!==null&&Xt(e,"duplication of %YAML directive"),i.length!==1&&Xt(e,"YAML directive accepts exactly one argument"),r=/^([0-9]+)\.([0-9]+)$/.exec(i[0]),r===null&&Xt(e,"ill-formed argument of the YAML directive"),l=parseInt(r[1],10),s=parseInt(r[2],10),l!==1&&Xt(e,"unacceptable YAML version of the document"),e.version=i[0],e.checkLineBreaks=s<2,s!==1&&s!==2&&Fh(e,"unsupported YAML version of the document")},TAG:function(e,t,i){var r,l;i.length!==2&&Xt(e,"TAG directive accepts exactly two arguments"),r=i[0],l=i[1],VN.test(r)||Xt(e,"ill-formed tag handle (first argument) of the TAG directive"),Po.call(e.tagMap,r)&&Xt(e,'there is a previously declared suffix for "'+r+'" tag handle'),GN.test(l)||Xt(e,"ill-formed tag prefix (second argument) of the TAG directive");try{l=decodeURIComponent(l)}catch{Xt(e,"tag prefix is malformed: "+l)}e.tagMap[r]=l}};function Mo(n,e,t,i){var r,l,s,o;if(e<t){if(o=n.input.slice(e,t),i)for(r=0,l=o.length;r<l;r+=1)s=o.charCodeAt(r),s===9||32<=s&&s<=1114111||Xt(n,"expected valid JSON character");else n1e.test(o)&&Xt(n,"the stream contains non-printable characters");n.result+=o}}function i6(n,e,t,i){var r,l,s,o;for(Er.isObject(t)||Xt(n,"cannot merge mappings; the provided source object is unacceptable"),r=Object.keys(t),s=0,o=r.length;s<o;s+=1)l=r[s],Po.call(e,l)||(e[l]=t[l],i[l]=!0)}function Cu(n,e,t,i,r,l,s,o,a){var u,f;if(Array.isArray(r))for(r=Array.prototype.slice.call(r),u=0,f=r.length;u<f;u+=1)Array.isArray(r[u])&&Xt(n,"nested arrays are not supported inside keys"),typeof r=="object"&&e6(r[u])==="[object Object]"&&(r[u]="[object Object]");if(typeof r=="object"&&e6(r)==="[object Object]"&&(r="[object Object]"),r=String(r),e===null&&(e={}),i==="tag:yaml.org,2002:merge")if(Array.isArray(l))for(u=0,f=l.length;u<f;u+=1)i6(n,e,l[u],t);else i6(n,e,l,t);else!n.json&&!Po.call(t,r)&&Po.call(e,r)&&(n.line=s||n.line,n.lineStart=o||n.lineStart,n.position=a||n.position,Xt(n,"duplicated mapping key")),r==="__proto__"?Object.defineProperty(e,r,{configurable:!0,enumerable:!0,writable:!0,value:l}):e[r]=l,delete t[r];return e}function cb(n){var e;e=n.input.charCodeAt(n.position),e===10?n.position++:e===13?(n.position++,n.input.charCodeAt(n.position)===10&&n.position++):Xt(n,"a line break is expected"),n.line+=1,n.lineStart=n.position,n.firstTabInLine=-1}function Fi(n,e,t){for(var i=0,r=n.input.charCodeAt(n.position);r!==0;){for(;wa(r);)r===9&&n.firstTabInLine===-1&&(n.firstTabInLine=n.position),r=n.input.charCodeAt(++n.position);if(e&&r===35)do r=n.input.charCodeAt(++n.position);while(r!==10&&r!==13&&r!==0);if(ks(r))for(cb(n),r=n.input.charCodeAt(n.position),i++,n.lineIndent=0;r===32;)n.lineIndent++,r=n.input.charCodeAt(++n.position);else break}return t!==-1&&i!==0&&n.lineIndent<t&&Fh(n,"deficient indentation"),i}function bp(n){var e=n.position,t;return t=n.input.charCodeAt(e),!!((t===45||t===46)&&t===n.input.charCodeAt(e+1)&&t===n.input.charCodeAt(e+2)&&(e+=3,t=n.input.charCodeAt(e),t===0||Wr(t)))}function db(n,e){e===1?n.result+=" ":e>1&&(n.result+=Er.repeat(`
`,e-1))}function f1e(n,e,t){var i,r,l,s,o,a,u,f,c=n.kind,h=n.result,p;if(p=n.input.charCodeAt(n.position),Wr(p)||Su(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96||(p===63||p===45)&&(r=n.input.charCodeAt(n.position+1),Wr(r)||t&&Su(r)))return!1;for(n.kind="scalar",n.result="",l=s=n.position,o=!1;p!==0;){if(p===58){if(r=n.input.charCodeAt(n.position+1),Wr(r)||t&&Su(r))break}else if(p===35){if(i=n.input.charCodeAt(n.position-1),Wr(i))break}else{if(n.position===n.lineStart&&bp(n)||t&&Su(p))break;if(ks(p))if(a=n.line,u=n.lineStart,f=n.lineIndent,Fi(n,!1,-1),n.lineIndent>=e){o=!0,p=n.input.charCodeAt(n.position);continue}else{n.position=s,n.line=a,n.lineStart=u,n.lineIndent=f;break}}o&&(Mo(n,l,s,!1),db(n,n.line-a),l=s=n.position,o=!1),wa(p)||(s=n.position+1),p=n.input.charCodeAt(++n.position)}return Mo(n,l,s,!1),n.result?!0:(n.kind=c,n.result=h,!1)}function c1e(n,e){var t,i,r;if(t=n.input.charCodeAt(n.position),t!==39)return!1;for(n.kind="scalar",n.result="",n.position++,i=r=n.position;(t=n.input.charCodeAt(n.position))!==0;)if(t===39)if(Mo(n,i,n.position,!0),t=n.input.charCodeAt(++n.position),t===39)i=n.position,n.position++,r=n.position;else return!0;else ks(t)?(Mo(n,i,r,!0),db(n,Fi(n,!1,e)),i=r=n.position):n.position===n.lineStart&&bp(n)?Xt(n,"unexpected end of the document within a single quoted scalar"):(n.position++,r=n.position);Xt(n,"unexpected end of the stream within a single quoted scalar")}function d1e(n,e){var t,i,r,l,s,o;if(o=n.input.charCodeAt(n.position),o!==34)return!1;for(n.kind="scalar",n.result="",n.position++,t=i=n.position;(o=n.input.charCodeAt(n.position))!==0;){if(o===34)return Mo(n,t,n.position,!0),n.position++,!0;if(o===92){if(Mo(n,t,n.position,!0),o=n.input.charCodeAt(++n.position),ks(o))Fi(n,!1,e);else if(o<256&&YN[o])n.result+=XN[o],n.position++;else if((s=s1e(o))>0){for(r=s,l=0;r>0;r--)o=n.input.charCodeAt(++n.position),(s=l1e(o))>=0?l=(l<<4)+s:Xt(n,"expected hexadecimal character");n.result+=a1e(l),n.position++}else Xt(n,"unknown escape sequence");t=i=n.position}else ks(o)?(Mo(n,t,i,!0),db(n,Fi(n,!1,e)),t=i=n.position):n.position===n.lineStart&&bp(n)?Xt(n,"unexpected end of the document within a double quoted scalar"):(n.position++,i=n.position)}Xt(n,"unexpected end of the stream within a double quoted scalar")}function h1e(n,e){var t=!0,i,r,l,s=n.tag,o,a=n.anchor,u,f,c,h,p,_=Object.create(null),v,b,y,A;if(A=n.input.charCodeAt(n.position),A===91)f=93,p=!1,o=[];else if(A===123)f=125,p=!0,o={};else return!1;for(n.anchor!==null&&(n.anchorMap[n.anchor]=o),A=n.input.charCodeAt(++n.position);A!==0;){if(Fi(n,!0,e),A=n.input.charCodeAt(n.position),A===f)return n.position++,n.tag=s,n.anchor=a,n.kind=p?"mapping":"sequence",n.result=o,!0;t?A===44&&Xt(n,"expected the node content, but found ','"):Xt(n,"missed comma between flow collection entries"),b=v=y=null,c=h=!1,A===63&&(u=n.input.charCodeAt(n.position+1),Wr(u)&&(c=h=!0,n.position++,Fi(n,!0,e))),i=n.line,r=n.lineStart,l=n.position,Gu(n,e,Rh,!1,!0),b=n.tag,v=n.result,Fi(n,!0,e),A=n.input.charCodeAt(n.position),(h||n.line===i)&&A===58&&(c=!0,A=n.input.charCodeAt(++n.position),Fi(n,!0,e),Gu(n,e,Rh,!1,!0),y=n.result),p?Cu(n,o,_,b,v,y,i,r,l):c?o.push(Cu(n,null,_,b,v,y,i,r,l)):o.push(v),Fi(n,!0,e),A=n.input.charCodeAt(n.position),A===44?(t=!0,A=n.input.charCodeAt(++n.position)):t=!1}Xt(n,"unexpected end of the stream within a flow collection")}function p1e(n,e){var t,i,r=$0,l=!1,s=!1,o=e,a=0,u=!1,f,c;if(c=n.input.charCodeAt(n.position),c===124)i=!1;else if(c===62)i=!0;else return!1;for(n.kind="scalar",n.result="";c!==0;)if(c=n.input.charCodeAt(++n.position),c===43||c===45)$0===r?r=c===43?Jw:t1e:Xt(n,"repeat of a chomping mode identifier");else if((f=o1e(c))>=0)f===0?Xt(n,"bad explicit indentation width of a block scalar; it cannot be less than one"):s?Xt(n,"repeat of an indentation width identifier"):(o=e+f-1,s=!0);else break;if(wa(c)){do c=n.input.charCodeAt(++n.position);while(wa(c));if(c===35)do c=n.input.charCodeAt(++n.position);while(!ks(c)&&c!==0)}for(;c!==0;){for(cb(n),n.lineIndent=0,c=n.input.charCodeAt(n.position);(!s||n.lineIndent<o)&&c===32;)n.lineIndent++,c=n.input.charCodeAt(++n.position);if(!s&&n.lineIndent>o&&(o=n.lineIndent),ks(c)){a++;continue}if(n.lineIndent<o){r===Jw?n.result+=Er.repeat(`
`,l?1+a:a):r===$0&&l&&(n.result+=`
`);break}for(i?wa(c)?(u=!0,n.result+=Er.repeat(`
`,l?1+a:a)):u?(u=!1,n.result+=Er.repeat(`
`,a+1)):a===0?l&&(n.result+=" "):n.result+=Er.repeat(`
`,a):n.result+=Er.repeat(`
`,l?1+a:a),l=!0,s=!0,a=0,t=n.position;!ks(c)&&c!==0;)c=n.input.charCodeAt(++n.position);Mo(n,t,n.position,!1)}return!0}function r6(n,e){var t,i=n.tag,r=n.anchor,l=[],s,o=!1,a;if(n.firstTabInLine!==-1)return!1;for(n.anchor!==null&&(n.anchorMap[n.anchor]=l),a=n.input.charCodeAt(n.position);a!==0&&(n.firstTabInLine!==-1&&(n.position=n.firstTabInLine,Xt(n,"tab characters must not be used in indentation")),!(a!==45||(s=n.input.charCodeAt(n.position+1),!Wr(s))));){if(o=!0,n.position++,Fi(n,!0,-1)&&n.lineIndent<=e){l.push(null),a=n.input.charCodeAt(n.position);continue}if(t=n.line,Gu(n,e,KN,!1,!0),l.push(n.result),Fi(n,!0,-1),a=n.input.charCodeAt(n.position),(n.line===t||n.lineIndent>e)&&a!==0)Xt(n,"bad indentation of a sequence entry");else if(n.lineIndent<e)break}return o?(n.tag=i,n.anchor=r,n.kind="sequence",n.result=l,!0):!1}function m1e(n,e,t){var i,r,l,s,o,a,u=n.tag,f=n.anchor,c={},h=Object.create(null),p=null,_=null,v=null,b=!1,y=!1,A;if(n.firstTabInLine!==-1)return!1;for(n.anchor!==null&&(n.anchorMap[n.anchor]=c),A=n.input.charCodeAt(n.position);A!==0;){if(!b&&n.firstTabInLine!==-1&&(n.position=n.firstTabInLine,Xt(n,"tab characters must not be used in indentation")),i=n.input.charCodeAt(n.position+1),l=n.line,(A===63||A===58)&&Wr(i))A===63?(b&&(Cu(n,c,h,p,_,null,s,o,a),p=_=v=null),y=!0,b=!0,r=!0):b?(b=!1,r=!0):Xt(n,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),n.position+=1,A=i;else{if(s=n.line,o=n.lineStart,a=n.position,!Gu(n,t,WN,!1,!0))break;if(n.line===l){for(A=n.input.charCodeAt(n.position);wa(A);)A=n.input.charCodeAt(++n.position);if(A===58)A=n.input.charCodeAt(++n.position),Wr(A)||Xt(n,"a whitespace character is expected after the key-value separator within a block mapping"),b&&(Cu(n,c,h,p,_,null,s,o,a),p=_=v=null),y=!0,b=!1,r=!1,p=n.tag,_=n.result;else if(y)Xt(n,"can not read an implicit mapping pair; a colon is missed");else return n.tag=u,n.anchor=f,!0}else if(y)Xt(n,"can not read a block mapping entry; a multiline key may not be an implicit key");else return n.tag=u,n.anchor=f,!0}if((n.line===l||n.lineIndent>e)&&(b&&(s=n.line,o=n.lineStart,a=n.position),Gu(n,e,Ph,!0,r)&&(b?_=n.result:v=n.result),b||(Cu(n,c,h,p,_,v,s,o,a),p=_=v=null),Fi(n,!0,-1),A=n.input.charCodeAt(n.position)),(n.line===l||n.lineIndent>e)&&A!==0)Xt(n,"bad indentation of a mapping entry");else if(n.lineIndent<e)break}return b&&Cu(n,c,h,p,_,null,s,o,a),y&&(n.tag=u,n.anchor=f,n.kind="mapping",n.result=c),y}function g1e(n){var e,t=!1,i=!1,r,l,s;if(s=n.input.charCodeAt(n.position),s!==33)return!1;if(n.tag!==null&&Xt(n,"duplication of a tag property"),s=n.input.charCodeAt(++n.position),s===60?(t=!0,s=n.input.charCodeAt(++n.position)):s===33?(i=!0,r="!!",s=n.input.charCodeAt(++n.position)):r="!",e=n.position,t){do s=n.input.charCodeAt(++n.position);while(s!==0&&s!==62);n.position<n.length?(l=n.input.slice(e,n.position),s=n.input.charCodeAt(++n.position)):Xt(n,"unexpected end of the stream within a verbatim tag")}else{for(;s!==0&&!Wr(s);)s===33&&(i?Xt(n,"tag suffix cannot contain exclamation marks"):(r=n.input.slice(e-1,n.position+1),VN.test(r)||Xt(n,"named tag handle cannot contain such characters"),i=!0,e=n.position+1)),s=n.input.charCodeAt(++n.position);l=n.input.slice(e,n.position),r1e.test(l)&&Xt(n,"tag suffix cannot contain flow indicator characters")}l&&!GN.test(l)&&Xt(n,"tag name cannot contain such characters: "+l);try{l=decodeURIComponent(l)}catch{Xt(n,"tag name is malformed: "+l)}return t?n.tag=l:Po.call(n.tagMap,r)?n.tag=n.tagMap[r]+l:r==="!"?n.tag="!"+l:r==="!!"?n.tag="tag:yaml.org,2002:"+l:Xt(n,'undeclared tag handle "'+r+'"'),!0}function _1e(n){var e,t;if(t=n.input.charCodeAt(n.position),t!==38)return!1;for(n.anchor!==null&&Xt(n,"duplication of an anchor property"),t=n.input.charCodeAt(++n.position),e=n.position;t!==0&&!Wr(t)&&!Su(t);)t=n.input.charCodeAt(++n.position);return n.position===e&&Xt(n,"name of an anchor node must contain at least one character"),n.anchor=n.input.slice(e,n.position),!0}function b1e(n){var e,t,i;if(i=n.input.charCodeAt(n.position),i!==42)return!1;for(i=n.input.charCodeAt(++n.position),e=n.position;i!==0&&!Wr(i)&&!Su(i);)i=n.input.charCodeAt(++n.position);return n.position===e&&Xt(n,"name of an alias node must contain at least one character"),t=n.input.slice(e,n.position),Po.call(n.anchorMap,t)||Xt(n,'unidentified alias "'+t+'"'),n.result=n.anchorMap[t],Fi(n,!0,-1),!0}function Gu(n,e,t,i,r){var l,s,o,a=1,u=!1,f=!1,c,h,p,_,v,b;if(n.listener!==null&&n.listener("open",n),n.tag=null,n.anchor=null,n.kind=null,n.result=null,l=s=o=Ph===t||KN===t,i&&Fi(n,!0,-1)&&(u=!0,n.lineIndent>e?a=1:n.lineIndent===e?a=0:n.lineIndent<e&&(a=-1)),a===1)for(;g1e(n)||_1e(n);)Fi(n,!0,-1)?(u=!0,o=l,n.lineIndent>e?a=1:n.lineIndent===e?a=0:n.lineIndent<e&&(a=-1)):o=!1;if(o&&(o=u||r),(a===1||Ph===t)&&(Rh===t||WN===t?v=e:v=e+1,b=n.position-n.lineStart,a===1?o&&(r6(n,b)||m1e(n,b,v))||h1e(n,v)?f=!0:(s&&p1e(n,v)||c1e(n,v)||d1e(n,v)?f=!0:b1e(n)?(f=!0,(n.tag!==null||n.anchor!==null)&&Xt(n,"alias node should not have any properties")):f1e(n,v,Rh===t)&&(f=!0,n.tag===null&&(n.tag="?")),n.anchor!==null&&(n.anchorMap[n.anchor]=n.result)):a===0&&(f=o&&r6(n,b))),n.tag===null)n.anchor!==null&&(n.anchorMap[n.anchor]=n.result);else if(n.tag==="?"){for(n.result!==null&&n.kind!=="scalar"&&Xt(n,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+n.kind+'"'),c=0,h=n.implicitTypes.length;c<h;c+=1)if(_=n.implicitTypes[c],_.resolve(n.result)){n.result=_.construct(n.result),n.tag=_.tag,n.anchor!==null&&(n.anchorMap[n.anchor]=n.result);break}}else if(n.tag!=="!"){if(Po.call(n.typeMap[n.kind||"fallback"],n.tag))_=n.typeMap[n.kind||"fallback"][n.tag];else for(_=null,p=n.typeMap.multi[n.kind||"fallback"],c=0,h=p.length;c<h;c+=1)if(n.tag.slice(0,p[c].tag.length)===p[c].tag){_=p[c];break}_||Xt(n,"unknown tag !<"+n.tag+">"),n.result!==null&&_.kind!==n.kind&&Xt(n,"unacceptable node kind for !<"+n.tag+'> tag; it should be "'+_.kind+'", not "'+n.kind+'"'),_.resolve(n.result,n.tag)?(n.result=_.construct(n.result,n.tag),n.anchor!==null&&(n.anchorMap[n.anchor]=n.result)):Xt(n,"cannot resolve a node with !<"+n.tag+"> explicit tag")}return n.listener!==null&&n.listener("close",n),n.tag!==null||n.anchor!==null||f}function v1e(n){var e=n.position,t,i,r,l=!1,s;for(n.version=null,n.checkLineBreaks=n.legacy,n.tagMap=Object.create(null),n.anchorMap=Object.create(null);(s=n.input.charCodeAt(n.position))!==0&&(Fi(n,!0,-1),s=n.input.charCodeAt(n.position),!(n.lineIndent>0||s!==37));){for(l=!0,s=n.input.charCodeAt(++n.position),t=n.position;s!==0&&!Wr(s);)s=n.input.charCodeAt(++n.position);for(i=n.input.slice(t,n.position),r=[],i.length<1&&Xt(n,"directive name must not be less than one character in length");s!==0;){for(;wa(s);)s=n.input.charCodeAt(++n.position);if(s===35){do s=n.input.charCodeAt(++n.position);while(s!==0&&!ks(s));break}if(ks(s))break;for(t=n.position;s!==0&&!Wr(s);)s=n.input.charCodeAt(++n.position);r.push(n.input.slice(t,n.position))}s!==0&&cb(n),Po.call(n6,i)?n6[i](n,i,r):Fh(n,'unknown document directive "'+i+'"')}if(Fi(n,!0,-1),n.lineIndent===0&&n.input.charCodeAt(n.position)===45&&n.input.charCodeAt(n.position+1)===45&&n.input.charCodeAt(n.position+2)===45?(n.position+=3,Fi(n,!0,-1)):l&&Xt(n,"directives end mark is expected"),Gu(n,n.lineIndent-1,Ph,!1,!0),Fi(n,!0,-1),n.checkLineBreaks&&i1e.test(n.input.slice(e,n.position))&&Fh(n,"non-ASCII line breaks are interpreted as content"),n.documents.push(n.result),n.position===n.lineStart&&bp(n)){n.input.charCodeAt(n.position)===46&&(n.position+=3,Fi(n,!0,-1));return}if(n.position<n.length-1)Xt(n,"end of the stream or a document separator is expected");else return}function y1e(n,e){n=String(n),e=e||{},n.length!==0&&(n.charCodeAt(n.length-1)!==10&&n.charCodeAt(n.length-1)!==13&&(n+=`
`),n.charCodeAt(0)===65279&&(n=n.slice(1)));var t=new u1e(n,e),i=n.indexOf("\0");for(i!==-1&&(t.position=i,Xt(t,"null byte is not allowed in input")),t.input+="\0";t.input.charCodeAt(t.position)===32;)t.lineIndent+=1,t.position+=1;for(;t.position<t.length-1;)v1e(t);return t.documents}function k1e(n,e){var t=y1e(n,e);if(t.length!==0){if(t.length===1)return t[0];throw new Us("expected a single document in the stream, but found more")}}var T1e=k1e,w1e={load:T1e},E1e=w1e.load,QN={exports:{}};(function(n){(function(){var e;e=n.exports=r,e.format=r,e.vsprintf=i,typeof console<"u"&&typeof console.log=="function"&&(e.printf=t);function t(){console.log(r.apply(null,arguments))}function i(l,s){return r.apply(null,[l].concat(s))}function r(l){for(var s=1,o=[].slice.call(arguments),a=0,u=l.length,f="",c,h=!1,p,_,v=!1,b,y=function(){return o[s++]},A=function(){for(var M="";/\d/.test(l[a]);)M+=l[a++],c=l[a];return M.length>0?parseInt(M):null};a<u;++a)if(c=l[a],h)switch(h=!1,c=="."?(v=!1,c=l[++a]):c=="0"&&l[a+1]=="."?(v=!0,a+=2,c=l[a]):v=!0,b=A(),c){case"b":f+=parseInt(y(),10).toString(2);break;case"c":p=y(),typeof p=="string"||p instanceof String?f+=p:f+=String.fromCharCode(parseInt(p,10));break;case"d":f+=parseInt(y(),10);break;case"f":_=String(parseFloat(y()).toFixed(b||6)),f+=v?_:_.replace(/^0/,"");break;case"j":f+=JSON.stringify(y());break;case"o":f+="0"+parseInt(y(),10).toString(8);break;case"s":f+=y();break;case"x":f+="0x"+parseInt(y(),10).toString(16);break;case"X":f+="0x"+parseInt(y(),10).toString(16).toUpperCase();break;default:f+=c;break}else c==="%"?h=!0:f+=c;return f}})()})(QN);var S1e=QN.exports;const C1e=Ju(S1e),$d=Object.assign(fa(Error),{eval:fa(EvalError),range:fa(RangeError),reference:fa(ReferenceError),syntax:fa(SyntaxError),type:fa(TypeError),uri:fa(URIError)});function fa(n){return e.displayName=n.displayName||n.name,e;function e(t,...i){const r=t&&C1e(t,...i);return new n(r)}}const Hd={}.hasOwnProperty,l6={yaml:"-",toml:"+"};function hb(n){const e=[];let t=-1;const i=Array.isArray(n)?n:n?[n]:["yaml"];for(;++t<i.length;)e[t]=A1e(i[t]);return e}function A1e(n){let e=n;if(typeof e=="string"){if(!Hd.call(l6,e))throw $d("Missing matter definition for `%s`",e);e={type:e,marker:l6[e]}}else if(typeof e!="object")throw $d("Expected matter to be an object, not `%j`",e);if(!Hd.call(e,"type"))throw $d("Missing `type` in matter `%j`",e);if(!Hd.call(e,"fence")&&!Hd.call(e,"marker"))throw $d("Missing `marker` or `fence` in matter `%j`",e);return e}function O1e(n){const e=hb(n),t={};let i=-1;for(;++i<e.length;){const r=e[i],l=Pg(r,"open").charCodeAt(0),s=N1e(r),o=t[l];Array.isArray(o)?o.push(s):t[l]=[s]}return{flow:t}}function N1e(n){const e=n.anywhere,t=n.type,i=t+"Fence",r=i+"Sequence",l=t+"Value",s={tokenize:f,partial:!0};let o,a=0;return{tokenize:u,concrete:!0};function u(c,h,p){const _=this;return v;function v(R){const $=_.now();return $.column===1&&($.line===1||e)&&(o=Pg(n,"open"),a=0,R===o.charCodeAt(a))?(c.enter(t),c.enter(i),c.enter(r),b(R)):p(R)}function b(R){return a===o.length?(c.exit(r),kn(R)?(c.enter("whitespace"),y(R)):A(R)):R===o.charCodeAt(a++)?(c.consume(R),b):p(R)}function y(R){return kn(R)?(c.consume(R),y):(c.exit("whitespace"),A(R))}function A(R){return Yt(R)?(c.exit(i),c.enter("lineEnding"),c.consume(R),c.exit("lineEnding"),o=Pg(n,"close"),a=0,c.attempt(s,I,M)):p(R)}function M(R){return R===null||Yt(R)?L(R):(c.enter(l),N(R))}function N(R){return R===null||Yt(R)?(c.exit(l),L(R)):(c.consume(R),N)}function L(R){return R===null?p(R):(c.enter("lineEnding"),c.consume(R),c.exit("lineEnding"),c.attempt(s,I,M))}function I(R){return c.exit(t),h(R)}}function f(c,h,p){let _=0;return v;function v(M){return M===o.charCodeAt(_)?(c.enter(i),c.enter(r),b(M)):p(M)}function b(M){return _===o.length?(c.exit(r),kn(M)?(c.enter("whitespace"),y(M)):A(M)):M===o.charCodeAt(_++)?(c.consume(M),b):p(M)}function y(M){return kn(M)?(c.consume(M),y):(c.exit("whitespace"),A(M))}function A(M){return M===null||Yt(M)?(c.exit(i),h(M)):p(M)}}}function Pg(n,e){return n.marker?s6(n.marker,e).repeat(3):s6(n.fence,e)}function s6(n,e){return typeof n=="string"?n:n[e]}function M1e(n){const e=hb(n),t={},i={};let r=-1;for(;++r<e.length;){const l=e[r];t[l.type]=I1e(l),i[l.type]=L1e,i[l.type+"Value"]=D1e}return{enter:t,exit:i}}function I1e(n){return e;function e(t){this.enter({type:n.type,value:""},t),this.buffer()}}function L1e(n){const e=this.resume(),t=this.exit(n);t.value=e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,"")}function D1e(n){this.config.enter.data.call(this,n),this.config.exit.data.call(this,n)}function R1e(n){const e=[],t={},i=hb(n);let r=-1;for(;++r<i.length;){const l=i[r];t[l.type]=P1e(l),e.push({atBreak:!0,character:Fg(l,"open").charAt(0)})}return{unsafe:e,handlers:t}}function P1e(n){const e=Fg(n,"open"),t=Fg(n,"close");return i;function i(r){return e+(r.value?`
`+r.value:"")+`
`+t}}function Fg(n,e){return n.marker?o6(n.marker,e).repeat(3):o6(n.fence,e)}function o6(n,e){return typeof n=="string"?n:n[e]}function F1e(n="yaml"){const e=this.data();t("micromarkExtensions",O1e(n)),t("fromMarkdownExtensions",M1e(n)),t("toMarkdownExtensions",R1e(n));function t(i,r){(e[i]?e[i]:e[i]=[]).push(r)}}function $1e({onError:n}={}){return{remark:e=>e.use(F1e).use(()=>(t,i)=>{const r=t.children[0];if((r==null?void 0:r.type)==="yaml")try{i.frontmatter=E1e(r.value)}catch(l){n==null||n(l)}})}}function H1e({init:n}={}){let e;return{viewerEffect({markdownBody:t}){(async()=>{const i=t.querySelectorAll("pre>code");i.length!==0&&(e||(e=await Dn(()=>import("./index-D9eQ7ptJ.js"),[],import.meta.url).then(r=>r.default),n&&await n(e)),i.forEach(r=>{e.highlightElement(r)}))})()}}}function a6(n){let e,t,i,r,l,s,o,a,u,f;return t=new zae({props:{value:n[0],plugins:n[6]}}),t.$on("change",n[7]),t.$on("ready",n[11]),{c(){e=k("div"),ee(t.$$.fragment),i=D(),r=k("div"),l=k("button"),l.innerHTML='<i class="ri-image-line"></i> <span class="txt">Inline</span>',s=D(),o=k("button"),o.innerHTML='<i class="ri-image-add-line"></i> <span class="txt">From collection</span>',m(l,"type","button"),m(l,"class","button small secondary"),m(l,"title","Insert inline image"),m(o,"type","button"),m(o,"class","button small secondary"),m(o,"title","Insert image from collection"),m(r,"class","button-group svelte-imsn7c"),m(e,"class","markdown-editor-wrapper svelte-imsn7c")},m(c,h){S(c,e,h),Q(t,e,null),T(e,i),T(e,r),T(r,l),T(r,s),T(r,o),a=!0,u||(f=[se(l,"click",n[9]),se(o,"click",n[8])],u=!0)},p(c,h){const p={};h&1&&(p.value=c[0]),t.$set(p)},i(c){a||(F(t.$$.fragment,c),a=!0)},o(c){x(t.$$.fragment,c),a=!1},d(c){c&&E(e),J(t),u=!1,it(f)}}}function B1e(n){let e,t,i,r;e=new Qr({props:{uniqueId:n[16],field:n[1]}});let l=n[5]&&a6(n);return{c(){ee(e.$$.fragment),t=D(),l&&l.c(),i=ze()},m(s,o){Q(e,s,o),S(s,t,o),l&&l.m(s,o),S(s,i,o),r=!0},p(s,o){const a={};o&65536&&(a.uniqueId=s[16]),o&2&&(a.field=s[1]),e.$set(a),s[5]?l?(l.p(s,o),o&32&&F(l,1)):(l=a6(s),l.c(),F(l,1),l.m(i.parentNode,i)):l&&(Ne(),x(l,1,1,()=>{l=null}),Me())},i(s){r||(F(e.$$.fragment,s),F(l),r=!0)},o(s){x(e.$$.fragment,s),x(l),r=!1},d(s){s&&(E(t),E(i)),J(e,s),l&&l.d(s)}}}function x1e(n){let e,t,i,r,l,s,o,a;e=new Pe({props:{class:"form-field "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[B1e,({uniqueId:f})=>({16:f}),({uniqueId:f})=>f?65536:0]},$$scope:{ctx:n}}});let u={title:"Select an image",fileTypes:["image"]};return l=new DA({props:u}),n[13](l),l.$on("submit",n[14]),{c(){ee(e.$$.fragment),t=D(),i=k("input"),r=D(),ee(l.$$.fragment),m(i,"type","file"),m(i,"accept","image/*"),Bg(i,"display","none")},m(f,c){Q(e,f,c),S(f,t,c),S(f,i,c),n[12](i),S(f,r,c),Q(l,f,c),s=!0,o||(a=se(i,"change",n[10]),o=!0)},p(f,[c]){const h={};c&2&&(h.class="form-field "+(f[1].required?"required":"")),c&2&&(h.name=f[1].name),c&196659&&(h.$$scope={dirty:c,ctx:f}),e.$set(h);const p={};l.$set(p)},i(f){s||(F(e.$$.fragment,f),F(l.$$.fragment,f),s=!0)},o(f){x(e.$$.fragment,f),x(l.$$.fragment,f),s=!1},d(f){f&&(E(t),E(i),E(r)),J(e,f),n[12](null),n[13](null),J(l,f),o=!1,a()}}}function U1e(n,e,t){let{field:i}=e,{value:r=""}=e,l,s,o,a=!1;const u=[Ffe(),$1e(),H1e()];function f(A){t(0,r=A.detail.value)}function c(){l==null||l.show()}function h(){s==null||s.click()}async function p(A){const M=A.target.files[0];if(!(!M||!M.type.startsWith("image/")))try{const N=await re.generateThumb(M,800,600),L=`![${M.name}](${N})`;if(o){const I=o.cm,R=I.getCursor();I.replaceRange(L,R)}else t(0,r=(r||"")+`
`+L);A.target.value=""}catch(N){console.error("Failed to process image:",N)}}hi(async()=>{typeof r>"u"&&t(0,r=""),setTimeout(()=>{t(5,a=!0)},100)});const _=A=>{t(4,o=A.detail.editor)};function v(A){ye[A?"unshift":"push"](()=>{s=A,t(3,s)})}function b(A){ye[A?"unshift":"push"](()=>{l=A,t(2,l)})}const y=A=>{const M=xe.files.getURL(A.detail.record,A.detail.name,{thumb:A.detail.size}),N=`![${A.detail.name}](${M})`;if(o){const L=o.cm,I=L.getCursor();L.replaceRange(N,I)}else t(0,r=(r||"")+`
`+N)};return n.$$set=A=>{"field"in A&&t(1,i=A.field),"value"in A&&t(0,r=A.value)},n.$$.update=()=>{n.$$.dirty&1&&typeof r>"u"&&t(0,r="")},[r,i,l,s,o,a,u,f,c,h,p,_,v,b,y]}class z1e extends je{constructor(e){super(),qe(this,e,U1e,x1e,We,{field:1,value:0})}}function q1e(n){let e,t,i,r,l,s,o,a;return e=new Qr({props:{uniqueId:n[3],field:n[1]}}),{c(){ee(e.$$.fragment),t=D(),i=k("input"),m(i,"type","email"),m(i,"id",r=n[3]),i.required=l=n[1].required},m(u,f){Q(e,u,f),S(u,t,f),S(u,i,f),He(i,n[0]),s=!0,o||(a=se(i,"input",n[2]),o=!0)},p(u,f){const c={};f&8&&(c.uniqueId=u[3]),f&2&&(c.field=u[1]),e.$set(c),(!s||f&8&&r!==(r=u[3]))&&m(i,"id",r),(!s||f&2&&l!==(l=u[1].required))&&(i.required=l),f&1&&i.value!==u[0]&&He(i,u[0])},i(u){s||(F(e.$$.fragment,u),s=!0)},o(u){x(e.$$.fragment,u),s=!1},d(u){u&&(E(t),E(i)),J(e,u),o=!1,a()}}}function j1e(n){let e,t;return e=new Pe({props:{class:"form-field "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[q1e,({uniqueId:i})=>({3:i}),({uniqueId:i})=>i?8:0]},$$scope:{ctx:n}}}),{c(){ee(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,[r]){const l={};r&2&&(l.class="form-field "+(i[1].required?"required":"")),r&2&&(l.name=i[1].name),r&27&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){x(e.$$.fragment,i),t=!1},d(i){J(e,i)}}}function W1e(n,e,t){let{field:i}=e,{value:r=void 0}=e;function l(){r=this.value,t(0,r)}return n.$$set=s=>{"field"in s&&t(1,i=s.field),"value"in s&&t(0,r=s.value)},[r,i,l]}class K1e extends je{constructor(e){super(),qe(this,e,W1e,j1e,We,{field:1,value:0})}}function V1e(n){let e,t;return{c(){e=k("i"),m(e,"class","ri-file-line"),m(e,"alt",t=n[0].name)},m(i,r){S(i,e,r)},p(i,r){r&1&&t!==(t=i[0].name)&&m(e,"alt",t)},d(i){i&&E(e)}}}function G1e(n){let e,t,i;return{c(){e=k("img"),m(e,"draggable",!1),hr(e.src,t=n[2])||m(e,"src",t),m(e,"width",n[1]),m(e,"height",n[1]),m(e,"alt",i=n[0].name)},m(r,l){S(r,e,l)},p(r,l){l&4&&!hr(e.src,t=r[2])&&m(e,"src",t),l&2&&m(e,"width",r[1]),l&2&&m(e,"height",r[1]),l&1&&i!==(i=r[0].name)&&m(e,"alt",i)},d(r){r&&E(e)}}}function Y1e(n){let e;function t(l,s){return l[2]?G1e:V1e}let i=t(n),r=i(n);return{c(){r.c(),e=ze()},m(l,s){r.m(l,s),S(l,e,s)},p(l,[s]){i===(i=t(l))&&r?r.p(l,s):(r.d(1),r=i(l),r&&(r.c(),r.m(e.parentNode,e)))},i:ge,o:ge,d(l){l&&E(e),r.d(l)}}}function X1e(n,e,t){let i,{file:r}=e,{size:l=50}=e;function s(){re.hasImageExtension(r==null?void 0:r.name)?re.generateThumb(r,l,l).then(o=>{t(2,i=o)}).catch(o=>{t(2,i=""),console.warn("Unable to generate thumb: ",o)}):t(2,i="")}return n.$$set=o=>{"file"in o&&t(0,r=o.file),"size"in o&&t(1,l=o.size)},n.$$.update=()=>{n.$$.dirty&1&&typeof r<"u"&&s()},t(2,i=""),[r,l,i]}class Z1e extends je{constructor(e){super(),qe(this,e,X1e,Y1e,We,{file:0,size:1})}}function u6(n,e,t){const i=n.slice();return i[31]=e[t],i[33]=t,i}function f6(n,e,t){const i=n.slice();i[36]=e[t],i[33]=t;const r=i[2].includes(i[36]);return i[37]=r,i}function Q1e(n){let e,t,i;function r(){return n[19](n[36])}return{c(){e=k("button"),e.innerHTML='<i class="ri-close-line"></i>',m(e,"type","button"),m(e,"class","btn btn-transparent btn-hint btn-sm btn-circle btn-remove")},m(l,s){S(l,e,s),t||(i=[nt(_t.call(null,e,"Remove file")),se(e,"click",r)],t=!0)},p(l,s){n=l},d(l){l&&E(e),t=!1,it(i)}}}function J1e(n){let e,t,i;function r(){return n[18](n[36])}return{c(){e=k("button"),e.innerHTML='<span class="txt">Restore</span>',m(e,"type","button"),m(e,"class","btn btn-sm btn-danger btn-transparent")},m(l,s){S(l,e,s),t||(i=se(e,"click",r),t=!0)},p(l,s){n=l},d(l){l&&E(e),t=!1,i()}}}function ede(n){let e,t,i,r,l,s,o=n[36]+"",a,u,f,c,h,p,_;i=new L_({props:{record:n[3],filename:n[36]}});function v(){return n[16](n[36])}function b(){return n[17](n[36])}function y(N,L){return N[37]?J1e:Q1e}let A=y(n),M=A(n);return{c(){e=k("div"),t=k("div"),ee(i.$$.fragment),r=D(),l=k("div"),s=k("button"),a=le(o),f=D(),c=k("div"),M.c(),he(t,"fade",n[37]),m(s,"type","button"),m(s,"draggable",!1),m(s,"class",u="txt-ellipsis "+(n[37]?"txt-strikethrough link-hint":"link-primary")),m(s,"title","Download"),m(l,"class","content"),m(c,"class","actions"),m(e,"class","list-item"),he(e,"dragging",n[34]),he(e,"dragover",n[35])},m(N,L){S(N,e,L),T(e,t),Q(i,t,null),T(e,r),T(e,l),T(l,s),T(s,a),T(e,f),T(e,c),M.m(c,null),h=!0,p||(_=[se(s,"auxclick",v),se(s,"click",b)],p=!0)},p(N,L){n=N;const I={};L[0]&8&&(I.record=n[3]),L[0]&32&&(I.filename=n[36]),i.$set(I),(!h||L[0]&36)&&he(t,"fade",n[37]),(!h||L[0]&32)&&o!==(o=n[36]+"")&&Se(a,o),(!h||L[0]&36&&u!==(u="txt-ellipsis "+(n[37]?"txt-strikethrough link-hint":"link-primary")))&&m(s,"class",u),A===(A=y(n))&&M?M.p(n,L):(M.d(1),M=A(n),M&&(M.c(),M.m(c,null))),(!h||L[1]&8)&&he(e,"dragging",n[34]),(!h||L[1]&16)&&he(e,"dragover",n[35])},i(N){h||(F(i.$$.fragment,N),h=!0)},o(N){x(i.$$.fragment,N),h=!1},d(N){N&&E(e),J(i),M.d(),p=!1,it(_)}}}function c6(n,e){let t,i,r,l;function s(a){e[20](a)}let o={group:e[4].name+"_uploaded",index:e[33],disabled:!e[6],$$slots:{default:[ede,({dragging:a,dragover:u})=>({34:a,35:u}),({dragging:a,dragover:u})=>[0,(a?8:0)|(u?16:0)]]},$$scope:{ctx:e}};return e[0]!==void 0&&(o.list=e[0]),i=new nf({props:o}),ye.push(()=>Ke(i,"list",s)),{key:n,first:null,c(){t=ze(),ee(i.$$.fragment),this.first=t},m(a,u){S(a,t,u),Q(i,a,u),l=!0},p(a,u){e=a;const f={};u[0]&16&&(f.group=e[4].name+"_uploaded"),u[0]&32&&(f.index=e[33]),u[0]&64&&(f.disabled=!e[6]),u[0]&44|u[1]&280&&(f.$$scope={dirty:u,ctx:e}),!r&&u[0]&1&&(r=!0,f.list=e[0],Ye(()=>r=!1)),i.$set(f)},i(a){l||(F(i.$$.fragment,a),l=!0)},o(a){x(i.$$.fragment,a),l=!1},d(a){a&&E(t),J(i,a)}}}function tde(n){let e,t,i,r,l,s,o,a,u=n[31].name+"",f,c,h,p,_,v,b;i=new Z1e({props:{file:n[31]}});function y(){return n[21](n[33])}return{c(){e=k("div"),t=k("figure"),ee(i.$$.fragment),r=D(),l=k("div"),s=k("small"),s.textContent="New",o=D(),a=k("span"),f=le(u),h=D(),p=k("button"),p.innerHTML='<i class="ri-close-line"></i>',m(t,"class","thumb"),m(s,"class","label label-success m-r-5"),m(a,"class","txt"),m(l,"class","filename m-r-auto"),m(l,"title",c=n[31].name),m(p,"type","button"),m(p,"class","btn btn-transparent btn-hint btn-sm btn-circle btn-remove"),m(e,"class","list-item"),he(e,"dragging",n[34]),he(e,"dragover",n[35])},m(A,M){S(A,e,M),T(e,t),Q(i,t,null),T(e,r),T(e,l),T(l,s),T(l,o),T(l,a),T(a,f),T(e,h),T(e,p),_=!0,v||(b=[nt(_t.call(null,p,"Remove file")),se(p,"click",y)],v=!0)},p(A,M){n=A;const N={};M[0]&2&&(N.file=n[31]),i.$set(N),(!_||M[0]&2)&&u!==(u=n[31].name+"")&&Se(f,u),(!_||M[0]&2&&c!==(c=n[31].name))&&m(l,"title",c),(!_||M[1]&8)&&he(e,"dragging",n[34]),(!_||M[1]&16)&&he(e,"dragover",n[35])},i(A){_||(F(i.$$.fragment,A),_=!0)},o(A){x(i.$$.fragment,A),_=!1},d(A){A&&E(e),J(i),v=!1,it(b)}}}function d6(n,e){let t,i,r,l;function s(a){e[22](a)}let o={group:e[4].name+"_new",index:e[33],disabled:!e[6],$$slots:{default:[tde,({dragging:a,dragover:u})=>({34:a,35:u}),({dragging:a,dragover:u})=>[0,(a?8:0)|(u?16:0)]]},$$scope:{ctx:e}};return e[1]!==void 0&&(o.list=e[1]),i=new nf({props:o}),ye.push(()=>Ke(i,"list",s)),{key:n,first:null,c(){t=ze(),ee(i.$$.fragment),this.first=t},m(a,u){S(a,t,u),Q(i,a,u),l=!0},p(a,u){e=a;const f={};u[0]&16&&(f.group=e[4].name+"_new"),u[0]&2&&(f.index=e[33]),u[0]&64&&(f.disabled=!e[6]),u[0]&2|u[1]&280&&(f.$$scope={dirty:u,ctx:e}),!r&&u[0]&2&&(r=!0,f.list=e[1],Ye(()=>r=!1)),i.$set(f)},i(a){l||(F(i.$$.fragment,a),l=!0)},o(a){x(i.$$.fragment,a),l=!1},d(a){a&&E(t),J(i,a)}}}function nde(n){let e,t,i,r=[],l=new Map,s,o=[],a=new Map,u,f,c,h,p,_,v,b,y,A,M,N;e=new Qr({props:{uniqueId:n[30],field:n[4]}});let L=Re(n[5]);const I=B=>B[36]+B[3].id;for(let B=0;B<L.length;B+=1){let H=f6(n,L,B),q=I(H);l.set(q,r[B]=c6(q,H))}let R=Re(n[1]);const $=B=>B[31].name+B[33];for(let B=0;B<R.length;B+=1){let H=u6(n,R,B),q=$(H);a.set(q,o[B]=d6(q,H))}return{c(){var B;ee(e.$$.fragment),t=D(),i=k("div");for(let H=0;H<r.length;H+=1)r[H].c();s=D();for(let H=0;H<o.length;H+=1)o[H].c();u=D(),f=k("div"),c=k("input"),p=D(),_=k("button"),v=k("i"),b=D(),y=k("span"),y.textContent="Upload new file",m(c,"type","file"),m(c,"class","hidden"),m(c,"accept",h=((B=n[4].mimeTypes)==null?void 0:B.join(","))||null),c.multiple=n[6],m(v,"class","ri-upload-cloud-line"),m(y,"class","txt"),m(_,"type","button"),m(_,"class","btn btn-transparent btn-sm btn-block"),_.disabled=n[10],m(f,"class","list-item list-item-btn"),m(i,"class","list")},m(B,H){Q(e,B,H),S(B,t,H),S(B,i,H);for(let q=0;q<r.length;q+=1)r[q]&&r[q].m(i,null);T(i,s);for(let q=0;q<o.length;q+=1)o[q]&&o[q].m(i,null);T(i,u),T(i,f),T(f,c),n[23](c),T(f,p),T(f,_),T(_,v),T(_,b),T(_,y),n[26](i),A=!0,M||(N=[se(c,"change",n[24]),se(_,"click",n[25])],M=!0)},p(B,H){var z;const q={};H[0]&1073741824&&(q.uniqueId=B[30]),H[0]&16&&(q.field=B[4]),e.$set(q),H[0]&39037|H[1]&24&&(L=Re(B[5]),Ne(),r=In(r,H,I,1,B,L,l,i,di,c6,s,f6),Me()),H[0]&8274|H[1]&24&&(R=Re(B[1]),Ne(),o=In(o,H,$,1,B,R,a,i,di,d6,u,u6),Me()),(!A||H[0]&16&&h!==(h=((z=B[4].mimeTypes)==null?void 0:z.join(","))||null))&&m(c,"accept",h),(!A||H[0]&64)&&(c.multiple=B[6]),(!A||H[0]&1024)&&(_.disabled=B[10])},i(B){if(!A){F(e.$$.fragment,B);for(let H=0;H<L.length;H+=1)F(r[H]);for(let H=0;H<R.length;H+=1)F(o[H]);A=!0}},o(B){x(e.$$.fragment,B);for(let H=0;H<r.length;H+=1)x(r[H]);for(let H=0;H<o.length;H+=1)x(o[H]);A=!1},d(B){B&&(E(t),E(i)),J(e,B);for(let H=0;H<r.length;H+=1)r[H].d();for(let H=0;H<o.length;H+=1)o[H].d();n[23](null),n[26](null),M=!1,it(N)}}}function ide(n){let e,t,i,r,l;return t=new Pe({props:{class:`
            form-field form-field-list form-field-file
            `+(n[4].required?"required":"")+`
            `+(n[9]?"dragover":"")+`
        `,name:n[4].name,$$slots:{default:[nde,({uniqueId:s})=>({30:s}),({uniqueId:s})=>[s?1073741824:0]]},$$scope:{ctx:n}}}),{c(){e=k("div"),ee(t.$$.fragment),m(e,"class","block")},m(s,o){S(s,e,o),Q(t,e,null),i=!0,r||(l=[se(e,"dragover",ln(n[27])),se(e,"dragleave",n[28]),se(e,"drop",n[14])],r=!0)},p(s,o){const a={};o[0]&528&&(a.class=`
            form-field form-field-list form-field-file
            `+(s[4].required?"required":"")+`
            `+(s[9]?"dragover":"")+`
        `),o[0]&16&&(a.name=s[4].name),o[0]&1073743359|o[1]&256&&(a.$$scope={dirty:o,ctx:s}),t.$set(a)},i(s){i||(F(t.$$.fragment,s),i=!0)},o(s){x(t.$$.fragment,s),i=!1},d(s){s&&E(e),J(t),r=!1,it(l)}}}function rde(n,e,t){let i,r,l,{record:s}=e,{field:o}=e,{value:a=""}=e,{uploadedFiles:u=[]}=e,{deletedFileNames:f=[]}=e,c,h,p=!1;function _(te){re.removeByValue(f,te),t(2,f)}function v(te){re.pushUnique(f,te),t(2,f)}function b(te){re.isEmpty(u[te])||u.splice(te,1),t(1,u)}function y(){h==null||h.dispatchEvent(new CustomEvent("change",{detail:{value:a,uploadedFiles:u,deletedFileNames:f},bubbles:!0}))}function A(te){var ue;te.preventDefault(),t(9,p=!1);const ae=((ue=te.dataTransfer)==null?void 0:ue.files)||[];if(!(l||!ae.length)){for(const K of ae){const X=r.length+u.length-f.length;if(o.maxSelect<=X)break;u.push(K)}t(1,u)}}async function M(te){try{let ae=await xe.getSuperuserFileToken(s.collectionId),ue=xe.files.getURL(s,te,{token:ae});window.open(ue,"_blank","noreferrer, noopener")}catch(ae){console.warn("openInNewTab file token failure:",ae)}}const N=te=>M(te),L=te=>M(te),I=te=>_(te),R=te=>v(te);function $(te){a=te,t(0,a),t(6,i),t(4,o)}const B=te=>b(te);function H(te){u=te,t(1,u)}function q(te){ye[te?"unshift":"push"](()=>{c=te,t(7,c)})}const z=()=>{for(let te of c.files)u.push(te);t(1,u),t(7,c.value=null,c)},j=()=>c==null?void 0:c.click();function W(te){ye[te?"unshift":"push"](()=>{h=te,t(8,h)})}const G=()=>{t(9,p=!0)},ie=()=>{t(9,p=!1)};return n.$$set=te=>{"record"in te&&t(3,s=te.record),"field"in te&&t(4,o=te.field),"value"in te&&t(0,a=te.value),"uploadedFiles"in te&&t(1,u=te.uploadedFiles),"deletedFileNames"in te&&t(2,f=te.deletedFileNames)},n.$$.update=()=>{n.$$.dirty[0]&2&&(Array.isArray(u)||t(1,u=re.toArray(u))),n.$$.dirty[0]&4&&(Array.isArray(f)||t(2,f=re.toArray(f))),n.$$.dirty[0]&16&&t(6,i=o.maxSelect>1),n.$$.dirty[0]&65&&re.isEmpty(a)&&t(0,a=i?[]:""),n.$$.dirty[0]&1&&t(5,r=re.toArray(a)),n.$$.dirty[0]&54&&t(10,l=(r.length||u.length)&&o.maxSelect<=r.length+u.length-f.length),n.$$.dirty[0]&6&&(u!==-1||f!==-1)&&y()},[a,u,f,s,o,r,i,c,h,p,l,_,v,b,A,M,N,L,I,R,$,B,H,q,z,j,W,G,ie]}class lde extends je{constructor(e){super(),qe(this,e,rde,ide,We,{record:3,field:4,value:0,uploadedFiles:1,deletedFileNames:2},null,[-1,-1])}}function sde(n){let e;return{c(){e=k("i"),m(e,"class","ri-error-warning-fill txt-danger")},m(t,i){S(t,e,i)},d(t){t&&E(e)}}}function ode(n){let e;return{c(){e=k("i"),m(e,"class","ri-checkbox-circle-fill txt-success")},m(t,i){S(t,e,i)},d(t){t&&E(e)}}}function ade(n){let e,t,i,r;function l(a,u){return a[4]?ode:sde}let s=l(n),o=s(n);return{c(){e=k("span"),o.c(),m(e,"class","json-state svelte-p6ecb8")},m(a,u){S(a,e,u),o.m(e,null),i||(r=nt(t=_t.call(null,e,{position:"left",text:n[4]?"Valid JSON":"Invalid JSON"})),i=!0)},p(a,u){s!==(s=l(a))&&(o.d(1),o=s(a),o&&(o.c(),o.m(e,null))),t&&Kn(t.update)&&u&16&&t.update.call(null,{position:"left",text:a[4]?"Valid JSON":"Invalid JSON"})},d(a){a&&E(e),o.d(),i=!1,r()}}}function ude(n){let e;return{c(){e=k("input"),m(e,"type","text"),m(e,"class","txt-mono"),e.value="Loading...",e.disabled=!0},m(t,i){S(t,e,i)},p:ge,i:ge,o:ge,d(t){t&&E(e)}}}function fde(n){let e,t,i;var r=n[3];function l(s,o){return{props:{id:s[6],maxHeight:"500",language:"json",value:s[2]}}}return r&&(e=ri(r,l(n)),e.$on("change",n[5])),{c(){e&&ee(e.$$.fragment),t=ze()},m(s,o){e&&Q(e,s,o),S(s,t,o),i=!0},p(s,o){if(o&8&&r!==(r=s[3])){if(e){Ne();const a=e;x(a.$$.fragment,1,0,()=>{J(a,1)}),Me()}r?(e=ri(r,l(s)),e.$on("change",s[5]),ee(e.$$.fragment),F(e.$$.fragment,1),Q(e,t.parentNode,t)):e=null}else if(r){const a={};o&64&&(a.id=s[6]),o&4&&(a.value=s[2]),e.$set(a)}},i(s){i||(e&&F(e.$$.fragment,s),i=!0)},o(s){e&&x(e.$$.fragment,s),i=!1},d(s){s&&E(t),e&&J(e,s)}}}function cde(n){let e,t,i,r,l,s;e=new Qr({props:{uniqueId:n[6],field:n[1],$$slots:{default:[ade]},$$scope:{ctx:n}}});const o=[fde,ude],a=[];function u(f,c){return f[3]?0:1}return i=u(n),r=a[i]=o[i](n),{c(){ee(e.$$.fragment),t=D(),r.c(),l=ze()},m(f,c){Q(e,f,c),S(f,t,c),a[i].m(f,c),S(f,l,c),s=!0},p(f,c){const h={};c&64&&(h.uniqueId=f[6]),c&2&&(h.field=f[1]),c&144&&(h.$$scope={dirty:c,ctx:f}),e.$set(h);let p=i;i=u(f),i===p?a[i].p(f,c):(Ne(),x(a[p],1,1,()=>{a[p]=null}),Me(),r=a[i],r?r.p(f,c):(r=a[i]=o[i](f),r.c()),F(r,1),r.m(l.parentNode,l))},i(f){s||(F(e.$$.fragment,f),F(r),s=!0)},o(f){x(e.$$.fragment,f),x(r),s=!1},d(f){f&&(E(t),E(l)),J(e,f),a[i].d(f)}}}function dde(n){let e,t;return e=new Pe({props:{class:"form-field "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[cde,({uniqueId:i})=>({6:i}),({uniqueId:i})=>i?64:0]},$$scope:{ctx:n}}}),{c(){ee(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,[r]){const l={};r&2&&(l.class="form-field "+(i[1].required?"required":"")),r&2&&(l.name=i[1].name),r&223&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){x(e.$$.fragment,i),t=!1},d(i){J(e,i)}}}function h6(n){return typeof n=="string"&&JN(n)?n:JSON.stringify(typeof n>"u"?null:n,null,2)}function JN(n){try{return JSON.parse(n===""?null:n),!0}catch{}return!1}function hde(n,e,t){let i,{field:r}=e,{value:l=void 0}=e,s,o=h6(l);hi(async()=>{try{t(3,s=(await Dn(async()=>{const{default:u}=await import("./CodeEditor-Bmd7XMbF.js");return{default:u}},__vite__mapDeps([13,1]),import.meta.url)).default)}catch(u){console.warn(u)}});const a=u=>{t(2,o=u.detail),t(0,l=o.trim())};return n.$$set=u=>{"field"in u&&t(1,r=u.field),"value"in u&&t(0,l=u.value)},n.$$.update=()=>{n.$$.dirty&5&&l!==(o==null?void 0:o.trim())&&(t(2,o=h6(l)),t(0,l=o)),n.$$.dirty&4&&t(4,i=JN(o))},[l,r,o,s,i,a]}class pde extends je{constructor(e){super(),qe(this,e,hde,dde,We,{field:1,value:0})}}function mde(n){let e,t,i,r,l,s,o,a,u,f;return e=new Qr({props:{uniqueId:n[3],field:n[1]}}),{c(){ee(e.$$.fragment),t=D(),i=k("input"),m(i,"type","number"),m(i,"id",r=n[3]),i.required=l=n[1].required,m(i,"min",s=n[1].min),m(i,"max",o=n[1].max),m(i,"step","any")},m(c,h){Q(e,c,h),S(c,t,h),S(c,i,h),He(i,n[0]),a=!0,u||(f=se(i,"input",n[2]),u=!0)},p(c,h){const p={};h&8&&(p.uniqueId=c[3]),h&2&&(p.field=c[1]),e.$set(p),(!a||h&8&&r!==(r=c[3]))&&m(i,"id",r),(!a||h&2&&l!==(l=c[1].required))&&(i.required=l),(!a||h&2&&s!==(s=c[1].min))&&m(i,"min",s),(!a||h&2&&o!==(o=c[1].max))&&m(i,"max",o),h&1&&wn(i.value)!==c[0]&&He(i,c[0])},i(c){a||(F(e.$$.fragment,c),a=!0)},o(c){x(e.$$.fragment,c),a=!1},d(c){c&&(E(t),E(i)),J(e,c),u=!1,f()}}}function gde(n){let e,t;return e=new Pe({props:{class:"form-field "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[mde,({uniqueId:i})=>({3:i}),({uniqueId:i})=>i?8:0]},$$scope:{ctx:n}}}),{c(){ee(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,[r]){const l={};r&2&&(l.class="form-field "+(i[1].required?"required":"")),r&2&&(l.name=i[1].name),r&27&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){x(e.$$.fragment,i),t=!1},d(i){J(e,i)}}}function _de(n,e,t){let{field:i}=e,{value:r=void 0}=e;function l(){r=wn(this.value),t(0,r)}return n.$$set=s=>{"field"in s&&t(1,i=s.field),"value"in s&&t(0,r=s.value)},[r,i,l]}class bde extends je{constructor(e){super(),qe(this,e,_de,gde,We,{field:1,value:0})}}function vde(n){let e,t,i,r,l,s,o,a;return e=new Qr({props:{uniqueId:n[3],field:n[1]}}),{c(){ee(e.$$.fragment),t=D(),i=k("input"),m(i,"type","password"),m(i,"id",r=n[3]),m(i,"autocomplete","new-password"),i.required=l=n[1].required},m(u,f){Q(e,u,f),S(u,t,f),S(u,i,f),He(i,n[0]),s=!0,o||(a=se(i,"input",n[2]),o=!0)},p(u,f){const c={};f&8&&(c.uniqueId=u[3]),f&2&&(c.field=u[1]),e.$set(c),(!s||f&8&&r!==(r=u[3]))&&m(i,"id",r),(!s||f&2&&l!==(l=u[1].required))&&(i.required=l),f&1&&i.value!==u[0]&&He(i,u[0])},i(u){s||(F(e.$$.fragment,u),s=!0)},o(u){x(e.$$.fragment,u),s=!1},d(u){u&&(E(t),E(i)),J(e,u),o=!1,a()}}}function yde(n){let e,t;return e=new Pe({props:{class:"form-field "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[vde,({uniqueId:i})=>({3:i}),({uniqueId:i})=>i?8:0]},$$scope:{ctx:n}}}),{c(){ee(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,[r]){const l={};r&2&&(l.class="form-field "+(i[1].required?"required":"")),r&2&&(l.name=i[1].name),r&27&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){x(e.$$.fragment,i),t=!1},d(i){J(e,i)}}}function kde(n,e,t){let{field:i}=e,{value:r=void 0}=e;function l(){r=this.value,t(0,r)}return n.$$set=s=>{"field"in s&&t(1,i=s.field),"value"in s&&t(0,r=s.value)},[r,i,l]}class Tde extends je{constructor(e){super(),qe(this,e,kde,yde,We,{field:1,value:0})}}function p6(n){return typeof n=="function"?{threshold:100,callback:n}:n||{}}function wde(n,e){e=p6(e),e!=null&&e.callback&&e.callback();function t(i){if(!(e!=null&&e.callback))return;i.target.scrollHeight-i.target.clientHeight-i.target.scrollTop<=e.threshold&&e.callback()}return n.addEventListener("scroll",t),n.addEventListener("resize",t),{update(i){e=p6(i)},destroy(){n.removeEventListener("scroll",t),n.removeEventListener("resize",t)}}}function m6(n,e,t){const i=n.slice();return i[52]=e[t],i[54]=t,i}function g6(n,e,t){const i=n.slice();i[52]=e[t];const r=i[10](i[52]);return i[6]=r,i}function _6(n){let e,t,i;return{c(){e=k("button"),e.innerHTML='<div class="txt">New record</div>',m(e,"type","button"),m(e,"class","btn btn-pill btn-transparent btn-hint p-l-xs p-r-xs")},m(r,l){S(r,e,l),t||(i=se(e,"click",n[33]),t=!0)},p:ge,d(r){r&&E(e),t=!1,i()}}}function b6(n){let e,t=!n[14]&&v6(n);return{c(){t&&t.c(),e=ze()},m(i,r){t&&t.m(i,r),S(i,e,r)},p(i,r){i[14]?t&&(t.d(1),t=null):t?t.p(i,r):(t=v6(i),t.c(),t.m(e.parentNode,e))},d(i){i&&E(e),t&&t.d(i)}}}function v6(n){var l;let e,t,i,r=((l=n[2])==null?void 0:l.length)&&y6(n);return{c(){e=k("div"),t=k("span"),t.textContent="No records found.",i=D(),r&&r.c(),m(t,"class","txt txt-hint"),m(e,"class","list-item")},m(s,o){S(s,e,o),T(e,t),T(e,i),r&&r.m(e,null)},p(s,o){var a;(a=s[2])!=null&&a.length?r?r.p(s,o):(r=y6(s),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},d(s){s&&E(e),r&&r.d()}}}function y6(n){let e,t,i;return{c(){e=k("button"),e.innerHTML='<span class="txt">Clear filters</span>',m(e,"type","button"),m(e,"class","btn btn-hint btn-sm")},m(r,l){S(r,e,l),t||(i=se(e,"click",n[37]),t=!0)},p:ge,d(r){r&&E(e),t=!1,i()}}}function Ede(n){let e;return{c(){e=k("i"),m(e,"class","ri-checkbox-blank-circle-line txt-disabled")},m(t,i){S(t,e,i)},d(t){t&&E(e)}}}function Sde(n){let e;return{c(){e=k("i"),m(e,"class","ri-checkbox-circle-fill txt-success")},m(t,i){S(t,e,i)},d(t){t&&E(e)}}}function Cde(n){let e,t;return e=new tp({props:{record:n[52]}}),{c(){ee(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,r){const l={};r[0]&256&&(l.record=i[52]),e.$set(l)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){x(e.$$.fragment,i),t=!1},d(i){J(e,i)}}}function Ade(n){let e;return{c(){e=k("span"),m(e,"class","loader loader-xs active")},m(t,i){S(t,e,i)},p:ge,i:ge,o:ge,d(t){t&&E(e)}}}function k6(n){let e,t,i,r;function l(){return n[34](n[52])}return{c(){e=k("div"),t=k("button"),t.innerHTML='<i class="ri-pencil-line"></i>',m(t,"type","button"),m(t,"class","btn btn-sm btn-circle btn-transparent btn-hint m-l-auto"),m(e,"class","actions nonintrusive")},m(s,o){S(s,e,o),T(e,t),i||(r=[nt(_t.call(null,t,"Edit")),se(t,"keydown",Ai(n[29])),se(t,"click",Ai(l))],i=!0)},p(s,o){n=s},d(s){s&&E(e),i=!1,it(r)}}}function T6(n,e){let t,i,r,l,s,o,a,u,f;function c(N,L){return N[6]?Sde:Ede}let h=c(e),p=h(e);const _=[Ade,Cde],v=[];function b(N,L){return N[9][N[52].id]?0:1}l=b(e),s=v[l]=_[l](e);let y=!e[12]&&k6(e);function A(){return e[35](e[52])}function M(...N){return e[36](e[52],...N)}return{key:n,first:null,c(){t=k("div"),p.c(),i=D(),r=k("div"),s.c(),o=D(),y&&y.c(),m(r,"class","content"),m(t,"tabindex","0"),m(t,"class","list-item handle"),he(t,"selected",e[6]),he(t,"disabled",e[9][e[52].id]||!e[6]&&e[4]>1&&!e[11]),this.first=t},m(N,L){S(N,t,L),p.m(t,null),T(t,i),T(t,r),v[l].m(r,null),T(t,o),y&&y.m(t,null),a=!0,u||(f=[se(t,"click",A),se(t,"keydown",M)],u=!0)},p(N,L){e=N,h!==(h=c(e))&&(p.d(1),p=h(e),p&&(p.c(),p.m(t,i)));let I=l;l=b(e),l===I?v[l].p(e,L):(Ne(),x(v[I],1,1,()=>{v[I]=null}),Me(),s=v[l],s?s.p(e,L):(s=v[l]=_[l](e),s.c()),F(s,1),s.m(r,null)),e[12]?y&&(y.d(1),y=null):y?y.p(e,L):(y=k6(e),y.c(),y.m(t,null)),(!a||L[0]&1280)&&he(t,"selected",e[6]),(!a||L[0]&3856)&&he(t,"disabled",e[9][e[52].id]||!e[6]&&e[4]>1&&!e[11])},i(N){a||(F(s),a=!0)},o(N){x(s),a=!1},d(N){N&&E(t),p.d(),v[l].d(),y&&y.d(),u=!1,it(f)}}}function w6(n){let e;return{c(){e=k("div"),e.innerHTML='<div class="block txt-center"><span class="loader loader-sm active"></span></div>',m(e,"class","list-item")},m(t,i){S(t,e,i)},d(t){t&&E(e)}}}function E6(n){let e,t=n[6].length+"",i,r,l,s;return{c(){e=le("("),i=le(t),r=le(" of MAX "),l=le(n[4]),s=le(")")},m(o,a){S(o,e,a),S(o,i,a),S(o,r,a),S(o,l,a),S(o,s,a)},p(o,a){a[0]&64&&t!==(t=o[6].length+"")&&Se(i,t),a[0]&16&&Se(l,o[4])},d(o){o&&(E(e),E(i),E(r),E(l),E(s))}}}function Ode(n){let e;return{c(){e=k("p"),e.textContent="No selected records.",m(e,"class","txt-hint")},m(t,i){S(t,e,i)},p:ge,i:ge,o:ge,d(t){t&&E(e)}}}function Nde(n){let e,t,i=Re(n[6]),r=[];for(let s=0;s<i.length;s+=1)r[s]=S6(m6(n,i,s));const l=s=>x(r[s],1,1,()=>{r[s]=null});return{c(){e=k("div");for(let s=0;s<r.length;s+=1)r[s].c();m(e,"class","selected-list svelte-1u8jhky")},m(s,o){S(s,e,o);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(e,null);t=!0},p(s,o){if(o[0]&262720|o[1]&50331648){i=Re(s[6]);let a;for(a=0;a<i.length;a+=1){const u=m6(s,i,a);r[a]?(r[a].p(u,o),F(r[a],1)):(r[a]=S6(u),r[a].c(),F(r[a],1),r[a].m(e,null))}for(Ne(),a=i.length;a<r.length;a+=1)l(a);Me()}},i(s){if(!t){for(let o=0;o<i.length;o+=1)F(r[o]);t=!0}},o(s){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)x(r[o]);t=!1},d(s){s&&E(e),fn(r,s)}}}function Mde(n){let e,t;return e=new tp({props:{record:n[52]}}),{c(){ee(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,r){const l={};r[0]&64&&(l.record=i[52]),e.$set(l)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){x(e.$$.fragment,i),t=!1},d(i){J(e,i)}}}function Ide(n){let e;return{c(){e=k("span"),m(e,"class","loader loader-xs active")},m(t,i){S(t,e,i)},p:ge,i:ge,o:ge,d(t){t&&E(e)}}}function Lde(n){let e,t,i,r,l,s,o,a,u;const f=[Ide,Mde],c=[];function h(_,v){return _[9][_[52].id]?0:1}t=h(n),i=c[t]=f[t](n);function p(){return n[39](n[52])}return{c(){e=k("span"),i.c(),r=D(),l=k("button"),l.innerHTML='<i class="ri-close-line"></i>',s=D(),m(l,"type","button"),m(l,"title","Remove"),m(l,"class","btn btn-circle btn-transparent btn-hint btn-xs"),m(e,"class","label"),he(e,"label-danger",n[55]),he(e,"label-warning",n[56])},m(_,v){S(_,e,v),c[t].m(e,null),T(e,r),T(e,l),S(_,s,v),o=!0,a||(u=se(l,"click",p),a=!0)},p(_,v){n=_;let b=t;t=h(n),t===b?c[t].p(n,v):(Ne(),x(c[b],1,1,()=>{c[b]=null}),Me(),i=c[t],i?i.p(n,v):(i=c[t]=f[t](n),i.c()),F(i,1),i.m(e,r)),(!o||v[1]&16777216)&&he(e,"label-danger",n[55]),(!o||v[1]&33554432)&&he(e,"label-warning",n[56])},i(_){o||(F(i),o=!0)},o(_){x(i),o=!1},d(_){_&&(E(e),E(s)),c[t].d(),a=!1,u()}}}function S6(n){let e,t,i;function r(s){n[40](s)}let l={index:n[54],$$slots:{default:[Lde,({dragging:s,dragover:o})=>({55:s,56:o}),({dragging:s,dragover:o})=>[0,(s?16777216:0)|(o?33554432:0)]]},$$scope:{ctx:n}};return n[6]!==void 0&&(l.list=n[6]),e=new nf({props:l}),ye.push(()=>Ke(e,"list",r)),{c(){ee(e.$$.fragment)},m(s,o){Q(e,s,o),i=!0},p(s,o){const a={};o[0]&576|o[1]&318767104&&(a.$$scope={dirty:o,ctx:s}),!t&&o[0]&64&&(t=!0,a.list=s[6],Ye(()=>t=!1)),e.$set(a)},i(s){i||(F(e.$$.fragment,s),i=!0)},o(s){x(e.$$.fragment,s),i=!1},d(s){J(e,s)}}}function Dde(n){let e,t,i,r,l,s=[],o=new Map,a,u,f,c,h,p,_,v,b,y,A,M;t=new Xh({props:{value:n[2],autocompleteCollection:n[5]}}),t.$on("submit",n[32]);let N=!n[12]&&_6(n),L=Re(n[8]);const I=j=>j[52].id;for(let j=0;j<L.length;j+=1){let W=g6(n,L,j),G=I(W);o.set(G,s[j]=T6(G,W))}let R=null;L.length||(R=b6(n));let $=n[14]&&w6(),B=n[4]>1&&E6(n);const H=[Nde,Ode],q=[];function z(j,W){return j[6].length?0:1}return _=z(n),v=q[_]=H[_](n),{c(){e=k("div"),ee(t.$$.fragment),i=D(),N&&N.c(),r=D(),l=k("div");for(let j=0;j<s.length;j+=1)s[j].c();R&&R.c(),a=D(),$&&$.c(),f=D(),c=k("h5"),h=le(`Selected
        `),B&&B.c(),p=D(),v.c(),b=ze(),m(e,"class","flex m-b-base flex-gap-10"),m(l,"class","list picker-list m-b-base svelte-1u8jhky"),m(c,"class","section-title")},m(j,W){S(j,e,W),Q(t,e,null),T(e,i),N&&N.m(e,null),S(j,r,W),S(j,l,W);for(let G=0;G<s.length;G+=1)s[G]&&s[G].m(l,null);R&&R.m(l,null),T(l,a),$&&$.m(l,null),S(j,f,W),S(j,c,W),T(c,h),B&&B.m(c,null),S(j,p,W),q[_].m(j,W),S(j,b,W),y=!0,A||(M=nt(u=wde.call(null,l,n[38])),A=!0)},p(j,W){const G={};W[0]&4&&(G.value=j[2]),W[0]&32&&(G.autocompleteCollection=j[5]),t.$set(G),j[12]?N&&(N.d(1),N=null):N?N.p(j,W):(N=_6(j),N.c(),N.m(e,null)),W[0]&548756&&(L=Re(j[8]),Ne(),s=In(s,W,I,1,j,L,o,l,di,T6,a,g6),Me(),!L.length&&R?R.p(j,W):L.length?R&&(R.d(1),R=null):(R=b6(j),R.c(),R.m(l,a))),j[14]?$||($=w6(),$.c(),$.m(l,null)):$&&($.d(1),$=null),u&&Kn(u.update)&&W[0]&8200&&u.update.call(null,j[38]),j[4]>1?B?B.p(j,W):(B=E6(j),B.c(),B.m(c,null)):B&&(B.d(1),B=null);let ie=_;_=z(j),_===ie?q[_].p(j,W):(Ne(),x(q[ie],1,1,()=>{q[ie]=null}),Me(),v=q[_],v?v.p(j,W):(v=q[_]=H[_](j),v.c()),F(v,1),v.m(b.parentNode,b))},i(j){if(!y){F(t.$$.fragment,j);for(let W=0;W<L.length;W+=1)F(s[W]);F(v),y=!0}},o(j){x(t.$$.fragment,j);for(let W=0;W<s.length;W+=1)x(s[W]);x(v),y=!1},d(j){j&&(E(e),E(r),E(l),E(f),E(c),E(p),E(b)),J(t),N&&N.d();for(let W=0;W<s.length;W+=1)s[W].d();R&&R.d(),$&&$.d(),B&&B.d(),q[_].d(j),A=!1,M()}}}function Rde(n){var o;let e,t,i,r=(((o=n[5])==null?void 0:o.name)||"")+"",l,s;return{c(){e=k("h4"),t=le("Select "),i=k("strong"),l=le(r),s=le(" records")},m(a,u){S(a,e,u),T(e,t),T(e,i),T(i,l),T(e,s)},p(a,u){var f;u[0]&32&&r!==(r=(((f=a[5])==null?void 0:f.name)||"")+"")&&Se(l,r)},d(a){a&&E(e)}}}function Pde(n){let e,t,i,r,l;return{c(){e=k("button"),e.innerHTML='<span class="txt">Cancel</span>',t=D(),i=k("button"),i.innerHTML='<span class="txt">Set selection</span>',m(e,"type","button"),m(e,"class","btn btn-transparent"),m(i,"type","button"),m(i,"class","btn")},m(s,o){S(s,e,o),S(s,t,o),S(s,i,o),r||(l=[se(e,"click",n[30]),se(i,"click",n[31])],r=!0)},p:ge,d(s){s&&(E(e),E(t),E(i)),r=!1,it(l)}}}function Fde(n){let e,t,i,r;const l=[{popup:!0},{class:"overlay-panel-xl"},n[21]];let s={$$slots:{footer:[Pde],header:[Rde],default:[Dde]},$$scope:{ctx:n}};for(let a=0;a<l.length;a+=1)s=kt(s,l[a]);e=new Mi({props:s}),n[41](e),e.$on("hide",n[42]),e.$on("show",n[43]);let o={collection:n[5]};return i=new pb({props:o}),n[44](i),i.$on("save",n[45]),i.$on("delete",n[46]),{c(){ee(e.$$.fragment),t=D(),ee(i.$$.fragment)},m(a,u){Q(e,a,u),S(a,t,u),Q(i,a,u),r=!0},p(a,u){const f=u[0]&2097152?Ln(l,[l[0],l[1],Wn(a[21])]):{};u[0]&32764|u[1]&268435456&&(f.$$scope={dirty:u,ctx:a}),e.$set(f);const c={};u[0]&32&&(c.collection=a[5]),i.$set(c)},i(a){r||(F(e.$$.fragment,a),F(i.$$.fragment,a),r=!0)},o(a){x(e.$$.fragment,a),x(i.$$.fragment,a),r=!1},d(a){a&&E(t),n[41](null),J(e,a),n[44](null),J(i,a)}}}const Bd=50;function $de(n,e,t){let i,r,l,s,o,a,u,f;const c=["value","field","show","hide"];let h=rn(e,c),p;Wt(n,Or,Ee=>t(28,p=Ee));const _=Sn(),v="picker_"+re.randomString(5);let{value:b}=e,{field:y}=e,A,M,N="",L=[],I=[],R=1,$=0,B=!1,H=!1,q={};function z(){return t(2,N=""),t(8,L=[]),t(6,I=[]),G(),ie(!0),A==null?void 0:A.show()}function j(){return A==null?void 0:A.hide()}function W(){var sn;let Ee=[];const Ue=(sn=l==null?void 0:l.fields)==null?void 0:sn.filter(gn=>!gn.hidden&&gn.presentable&&gn.type=="relation");for(const gn of Ue)Ee=Ee.concat(re.getExpandPresentableRelFields(gn,p,2));return Ee.join(",")}async function G(){const Ee=re.toArray(b);if(!r||!Ee.length)return;t(26,H=!0);let Ue=[];const sn=Ee.slice(),gn=[];for(;sn.length>0;){const Zt=[];for(const Xe of sn.splice(0,Bd))Zt.push(`id="${Xe}"`);gn.push(xe.collection(r).getFullList({batch:Bd,filter:Zt.join("||"),fields:"*:excerpt(200)",expand:W(),requestKey:null}))}try{await Promise.all(gn).then(Zt=>{Ue=Ue.concat(...Zt)}),t(6,I=[]);for(const Zt of Ee){const Xe=re.findByKey(Ue,"id",Zt);Xe&&I.push(Xe)}N.trim()||t(8,L=re.filterDuplicatesByKey(I.concat(L))),t(26,H=!1)}catch(Zt){Zt.isAbort||(xe.error(Zt),t(26,H=!1))}}async function ie(Ee=!1){if(r){t(3,B=!0),Ee&&(N.trim()?t(8,L=[]):t(8,L=re.toArray(I).slice()));try{const Ue=Ee?1:R+1,sn=re.getAllCollectionIdentifiers(l);let gn="";s||(gn="-@rowid");const Zt=await xe.collection(r).getList(Ue,Bd,{filter:re.normalizeSearchFilter(N,sn),sort:gn,fields:"*:excerpt(200)",skipTotal:1,expand:W(),requestKey:v+"loadList"});t(8,L=re.filterDuplicatesByKey(L.concat(Zt.items))),R=Zt.page,t(25,$=Zt.items.length),t(3,B=!1)}catch(Ue){Ue.isAbort||(xe.error(Ue),t(3,B=!1))}}}async function te(Ee){if(Ee!=null&&Ee.id){t(9,q[Ee.id]=!0,q);try{const Ue=await xe.collection(r).getOne(Ee.id,{fields:"*:excerpt(200)",expand:W(),requestKey:v+"reload"+Ee.id});re.pushOrReplaceByKey(I,Ue),re.pushOrReplaceByKey(L,Ue),t(6,I),t(8,L),t(9,q[Ee.id]=!1,q)}catch(Ue){Ue.isAbort||(xe.error(Ue),t(9,q[Ee.id]=!1,q))}}}function ae(Ee){i==1?t(6,I=[Ee]):u&&(re.pushOrReplaceByKey(I,Ee),t(6,I))}function ue(Ee){re.removeByKey(I,"id",Ee.id),t(6,I)}function K(Ee){f(Ee)?ue(Ee):ae(Ee)}function X(){var Ee;i!=1?t(22,b=I.map(Ue=>Ue.id)):t(22,b=((Ee=I==null?void 0:I[0])==null?void 0:Ee.id)||""),_("save",I),j()}function _e(Ee){ut.call(this,n,Ee)}const oe=()=>j(),Le=()=>X(),lt=Ee=>t(2,N=Ee.detail),St=()=>M==null?void 0:M.show(),bt=Ee=>M==null?void 0:M.show(Ee.id),At=Ee=>K(Ee),ot=(Ee,Ue)=>{(Ue.code==="Enter"||Ue.code==="Space")&&(Ue.preventDefault(),Ue.stopPropagation(),K(Ee))},vt=()=>t(2,N=""),zt=()=>{a&&!B&&ie()},pt=Ee=>ue(Ee);function $e(Ee){I=Ee,t(6,I)}function Bt(Ee){ye[Ee?"unshift":"push"](()=>{A=Ee,t(1,A)})}function Ze(Ee){ut.call(this,n,Ee)}function dt(Ee){ut.call(this,n,Ee)}function Fe(Ee){ye[Ee?"unshift":"push"](()=>{M=Ee,t(7,M)})}const Ft=Ee=>{re.removeByKey(L,"id",Ee.detail.record.id),L.unshift(Ee.detail.record),t(8,L),ae(Ee.detail.record),te(Ee.detail.record)},cn=Ee=>{re.removeByKey(L,"id",Ee.detail.id),t(8,L),ue(Ee.detail)};return n.$$set=Ee=>{e=kt(kt({},e),ui(Ee)),t(21,h=rn(e,c)),"value"in Ee&&t(22,b=Ee.value),"field"in Ee&&t(23,y=Ee.field)},n.$$.update=()=>{n.$$.dirty[0]&8388608&&t(4,i=(y==null?void 0:y.maxSelect)||null),n.$$.dirty[0]&8388608&&t(27,r=y==null?void 0:y.collectionId),n.$$.dirty[0]&402653184&&t(5,l=p.find(Ee=>Ee.id==r)||null),n.$$.dirty[0]&6&&typeof N<"u"&&A!=null&&A.isActive()&&ie(!0),n.$$.dirty[0]&32&&t(12,s=(l==null?void 0:l.type)==="view"),n.$$.dirty[0]&67108872&&t(14,o=B||H),n.$$.dirty[0]&33554432&&t(13,a=$==Bd),n.$$.dirty[0]&80&&t(11,u=i<=0||i>I.length),n.$$.dirty[0]&64&&t(10,f=function(Ee){return re.findByKey(I,"id",Ee.id)})},[j,A,N,B,i,l,I,M,L,q,f,u,s,a,o,ie,te,ae,ue,K,X,h,b,y,z,$,H,r,p,_e,oe,Le,lt,St,bt,At,ot,vt,zt,pt,$e,Bt,Ze,dt,Fe,Ft,cn]}class Hde extends je{constructor(e){super(),qe(this,e,$de,Fde,We,{value:22,field:23,show:24,hide:0},null,[-1,-1])}get show(){return this.$$.ctx[24]}get hide(){return this.$$.ctx[0]}}function C6(n,e,t){const i=n.slice();return i[22]=e[t],i[24]=t,i}function A6(n,e,t){const i=n.slice();return i[27]=e[t],i}function O6(n){let e,t,i,r;return{c(){e=k("i"),m(e,"class","ri-error-warning-line link-hint m-l-auto flex-order-10")},m(l,s){S(l,e,s),i||(r=nt(t=_t.call(null,e,{position:"left",text:"The following relation ids were removed from the list because they are missing or invalid: "+n[6].join(", ")})),i=!0)},p(l,s){t&&Kn(t.update)&&s&64&&t.update.call(null,{position:"left",text:"The following relation ids were removed from the list because they are missing or invalid: "+l[6].join(", ")})},d(l){l&&E(e),i=!1,r()}}}function Bde(n){let e,t=n[6].length&&O6(n);return{c(){t&&t.c(),e=ze()},m(i,r){t&&t.m(i,r),S(i,e,r)},p(i,r){i[6].length?t?t.p(i,r):(t=O6(i),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(i){i&&E(e),t&&t.d(i)}}}function N6(n){let e,t=n[5]&&M6(n);return{c(){t&&t.c(),e=ze()},m(i,r){t&&t.m(i,r),S(i,e,r)},p(i,r){i[5]?t?t.p(i,r):(t=M6(i),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(i){i&&E(e),t&&t.d(i)}}}function M6(n){let e,t=Re(re.toArray(n[0]).slice(0,10)),i=[];for(let r=0;r<t.length;r+=1)i[r]=I6(A6(n,t,r));return{c(){for(let r=0;r<i.length;r+=1)i[r].c();e=ze()},m(r,l){for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(r,l);S(r,e,l)},p(r,l){if(l&1){t=Re(re.toArray(r[0]).slice(0,10));let s;for(s=0;s<t.length;s+=1){const o=A6(r,t,s);i[s]?i[s].p(o,l):(i[s]=I6(),i[s].c(),i[s].m(e.parentNode,e))}for(;s<i.length;s+=1)i[s].d(1);i.length=t.length}},d(r){r&&E(e),fn(i,r)}}}function I6(n){let e;return{c(){e=k("div"),e.innerHTML='<div class="skeleton-loader"></div> ',m(e,"class","list-item")},m(t,i){S(t,e,i)},p:ge,d(t){t&&E(e)}}}function xde(n){let e,t,i,r,l,s,o,a,u,f;i=new tp({props:{record:n[22]}});function c(){return n[11](n[22])}return{c(){e=k("div"),t=k("div"),ee(i.$$.fragment),r=D(),l=k("div"),s=k("button"),s.innerHTML='<i class="ri-close-line"></i>',o=D(),m(t,"class","content"),m(s,"type","button"),m(s,"class","btn btn-transparent btn-hint btn-sm btn-circle btn-remove"),m(l,"class","actions"),m(e,"class","list-item"),he(e,"dragging",n[25]),he(e,"dragover",n[26])},m(h,p){S(h,e,p),T(e,t),Q(i,t,null),T(e,r),T(e,l),T(l,s),S(h,o,p),a=!0,u||(f=[nt(_t.call(null,s,"Remove")),se(s,"click",c)],u=!0)},p(h,p){n=h;const _={};p&16&&(_.record=n[22]),i.$set(_),(!a||p&33554432)&&he(e,"dragging",n[25]),(!a||p&67108864)&&he(e,"dragover",n[26])},i(h){a||(F(i.$$.fragment,h),a=!0)},o(h){x(i.$$.fragment,h),a=!1},d(h){h&&(E(e),E(o)),J(i),u=!1,it(f)}}}function L6(n,e){let t,i,r,l;function s(a){e[12](a)}let o={group:e[2].name+"_relation",index:e[24],disabled:!e[7],$$slots:{default:[xde,({dragging:a,dragover:u})=>({25:a,26:u}),({dragging:a,dragover:u})=>(a?33554432:0)|(u?67108864:0)]},$$scope:{ctx:e}};return e[4]!==void 0&&(o.list=e[4]),i=new nf({props:o}),ye.push(()=>Ke(i,"list",s)),i.$on("sort",e[13]),{key:n,first:null,c(){t=ze(),ee(i.$$.fragment),this.first=t},m(a,u){S(a,t,u),Q(i,a,u),l=!0},p(a,u){e=a;const f={};u&4&&(f.group=e[2].name+"_relation"),u&16&&(f.index=e[24]),u&128&&(f.disabled=!e[7]),u&1174405136&&(f.$$scope={dirty:u,ctx:e}),!r&&u&16&&(r=!0,f.list=e[4],Ye(()=>r=!1)),i.$set(f)},i(a){l||(F(i.$$.fragment,a),l=!0)},o(a){x(i.$$.fragment,a),l=!1},d(a){a&&E(t),J(i,a)}}}function Ude(n){let e,t,i,r,l=[],s=new Map,o,a,u,f,c,h;e=new Qr({props:{uniqueId:n[21],field:n[2],$$slots:{default:[Bde]},$$scope:{ctx:n}}});let p=Re(n[4]);const _=b=>b[22].id;for(let b=0;b<p.length;b+=1){let y=C6(n,p,b),A=_(y);s.set(A,l[b]=L6(A,y))}let v=null;return p.length||(v=N6(n)),{c(){ee(e.$$.fragment),t=D(),i=k("div"),r=k("div");for(let b=0;b<l.length;b+=1)l[b].c();v&&v.c(),o=D(),a=k("div"),u=k("button"),u.innerHTML='<i class="ri-magic-line"></i> <span class="txt">Open picker</span>',m(r,"class","relations-list svelte-1ynw0pc"),m(u,"type","button"),m(u,"class","btn btn-transparent btn-sm btn-block"),m(a,"class","list-item list-item-btn"),m(i,"class","list")},m(b,y){Q(e,b,y),S(b,t,y),S(b,i,y),T(i,r);for(let A=0;A<l.length;A+=1)l[A]&&l[A].m(r,null);v&&v.m(r,null),T(i,o),T(i,a),T(a,u),f=!0,c||(h=se(u,"click",n[14]),c=!0)},p(b,y){const A={};y&2097152&&(A.uniqueId=b[21]),y&4&&(A.field=b[2]),y&1073741888&&(A.$$scope={dirty:y,ctx:b}),e.$set(A),y&100664245&&(p=Re(b[4]),Ne(),l=In(l,y,_,1,b,p,s,r,di,L6,null,C6),Me(),!p.length&&v?v.p(b,y):p.length?v&&(v.d(1),v=null):(v=N6(b),v.c(),v.m(r,null)))},i(b){if(!f){F(e.$$.fragment,b);for(let y=0;y<p.length;y+=1)F(l[y]);f=!0}},o(b){x(e.$$.fragment,b);for(let y=0;y<l.length;y+=1)x(l[y]);f=!1},d(b){b&&(E(t),E(i)),J(e,b);for(let y=0;y<l.length;y+=1)l[y].d();v&&v.d(),c=!1,h()}}}function zde(n){let e,t,i,r,l={class:"form-field form-field-list "+(n[2].required?"required":""),name:n[2].name,$$slots:{default:[Ude,({uniqueId:o})=>({21:o}),({uniqueId:o})=>o?2097152:0]},$$scope:{ctx:n}};e=new Pe({props:l}),n[15](e);let s={value:n[0],field:n[2]};return i=new Hde({props:s}),n[16](i),i.$on("save",n[17]),{c(){ee(e.$$.fragment),t=D(),ee(i.$$.fragment)},m(o,a){Q(e,o,a),S(o,t,a),Q(i,o,a),r=!0},p(o,[a]){const u={};a&4&&(u.class="form-field form-field-list "+(o[2].required?"required":"")),a&4&&(u.name=o[2].name),a&1075839223&&(u.$$scope={dirty:a,ctx:o}),e.$set(u);const f={};a&1&&(f.value=o[0]),a&4&&(f.field=o[2]),i.$set(f)},i(o){r||(F(e.$$.fragment,o),F(i.$$.fragment,o),r=!0)},o(o){x(e.$$.fragment,o),x(i.$$.fragment,o),r=!1},d(o){o&&E(t),n[15](null),J(e,o),n[16](null),J(i,o)}}}const D6=100;function qde(n,e,t){let i,r;Wt(n,Or,$=>t(18,r=$));let{field:l}=e,{value:s}=e,{picker:o}=e,a,u=[],f=!1,c,h=[];function p(){if(f)return!1;const $=re.toArray(s);return t(4,u=u.filter(B=>$.includes(B.id))),$.length!=u.length}async function _(){var j,W;const $=re.toArray(s);if(t(4,u=[]),t(6,h=[]),!(l!=null&&l.collectionId)||!$.length){t(5,f=!1);return}t(5,f=!0);let B=[];const H=(W=(j=r.find(G=>G.id==l.collectionId))==null?void 0:j.fields)==null?void 0:W.filter(G=>!G.hidden&&G.presentable&&G.type=="relation");for(const G of H)B=B.concat(re.getExpandPresentableRelFields(G,r,2));const q=$.slice(),z=[];for(;q.length>0;){const G=[];for(const ie of q.splice(0,D6))G.push(`id="${ie}"`);z.push(xe.collection(l.collectionId).getFullList(D6,{filter:G.join("||"),fields:"*:excerpt(200)",expand:B.join(","),requestKey:null}))}try{let G=[];await Promise.all(z).then(ie=>{G=G.concat(...ie)});for(const ie of $){const te=re.findByKey(G,"id",ie);te?u.push(te):h.push(ie)}t(4,u),b()}catch(G){xe.error(G)}t(5,f=!1)}function v($){re.removeByKey(u,"id",$.id),t(4,u),b()}function b(){var $;i?t(0,s=u.map(B=>B.id)):t(0,s=(($=u[0])==null?void 0:$.id)||"")}Na(()=>{clearTimeout(c)});const y=$=>v($);function A($){u=$,t(4,u)}const M=()=>{b()},N=()=>o==null?void 0:o.show();function L($){ye[$?"unshift":"push"](()=>{a=$,t(3,a)})}function I($){ye[$?"unshift":"push"](()=>{o=$,t(1,o)})}const R=$=>{var B;t(4,u=$.detail||[]),t(0,s=i?u.map(H=>H.id):((B=u[0])==null?void 0:B.id)||"")};return n.$$set=$=>{"field"in $&&t(2,l=$.field),"value"in $&&t(0,s=$.value),"picker"in $&&t(1,o=$.picker)},n.$$.update=()=>{n.$$.dirty&4&&t(7,i=l.maxSelect>1),n.$$.dirty&9&&typeof s<"u"&&(a==null||a.changed()),n.$$.dirty&1041&&p()&&(t(5,f=!0),clearTimeout(c),t(10,c=setTimeout(_,0)))},[s,o,l,a,u,f,h,i,v,b,c,y,A,M,N,L,I,R]}class jde extends je{constructor(e){super(),qe(this,e,qde,zde,We,{field:2,value:0,picker:1})}}function R6(n){let e,t,i,r;return{c(){e=k("div"),t=le("Select up to "),i=le(n[2]),r=le(" items."),m(e,"class","help-block")},m(l,s){S(l,e,s),T(e,t),T(e,i),T(e,r)},p(l,s){s&4&&Se(i,l[2])},d(l){l&&E(e)}}}function Wde(n){var c,h;let e,t,i,r,l,s,o;e=new Qr({props:{uniqueId:n[5],field:n[1]}});function a(p){n[4](p)}let u={id:n[5],toggle:!n[1].required||n[3],multiple:n[3],closable:!n[3]||((c=n[0])==null?void 0:c.length)>=n[1].maxSelect,items:n[1].values,searchable:((h=n[1].values)==null?void 0:h.length)>5};n[0]!==void 0&&(u.selected=n[0]),i=new tf({props:u}),ye.push(()=>Ke(i,"selected",a));let f=n[3]&&R6(n);return{c(){ee(e.$$.fragment),t=D(),ee(i.$$.fragment),l=D(),f&&f.c(),s=ze()},m(p,_){Q(e,p,_),S(p,t,_),Q(i,p,_),S(p,l,_),f&&f.m(p,_),S(p,s,_),o=!0},p(p,_){var y,A;const v={};_&32&&(v.uniqueId=p[5]),_&2&&(v.field=p[1]),e.$set(v);const b={};_&32&&(b.id=p[5]),_&10&&(b.toggle=!p[1].required||p[3]),_&8&&(b.multiple=p[3]),_&11&&(b.closable=!p[3]||((y=p[0])==null?void 0:y.length)>=p[1].maxSelect),_&2&&(b.items=p[1].values),_&2&&(b.searchable=((A=p[1].values)==null?void 0:A.length)>5),!r&&_&1&&(r=!0,b.selected=p[0],Ye(()=>r=!1)),i.$set(b),p[3]?f?f.p(p,_):(f=R6(p),f.c(),f.m(s.parentNode,s)):f&&(f.d(1),f=null)},i(p){o||(F(e.$$.fragment,p),F(i.$$.fragment,p),o=!0)},o(p){x(e.$$.fragment,p),x(i.$$.fragment,p),o=!1},d(p){p&&(E(t),E(l),E(s)),J(e,p),J(i,p),f&&f.d(p)}}}function Kde(n){let e,t;return e=new Pe({props:{class:"form-field "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[Wde,({uniqueId:i})=>({5:i}),({uniqueId:i})=>i?32:0]},$$scope:{ctx:n}}}),{c(){ee(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,[r]){const l={};r&2&&(l.class="form-field "+(i[1].required?"required":"")),r&2&&(l.name=i[1].name),r&111&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){x(e.$$.fragment,i),t=!1},d(i){J(e,i)}}}function Vde(n,e,t){let i,r,{field:l}=e,{value:s=void 0}=e;function o(a){s=a,t(0,s),t(3,i),t(1,l),t(2,r)}return n.$$set=a=>{"field"in a&&t(1,l=a.field),"value"in a&&t(0,s=a.value)},n.$$.update=()=>{n.$$.dirty&2&&t(3,i=l.maxSelect>1),n.$$.dirty&9&&typeof s>"u"&&t(0,s=i?[]:""),n.$$.dirty&2&&t(2,r=l.maxSelect||l.values.length),n.$$.dirty&15&&i&&Array.isArray(s)&&(t(0,s=s.filter(a=>l.values.includes(a))),s.length>r&&t(0,s=s.slice(s.length-r)))},[s,l,r,i,o]}class Gde extends je{constructor(e){super(),qe(this,e,Vde,Kde,We,{field:1,value:0})}}function Yde(n){let e,t,i,r=[n[3]],l={};for(let s=0;s<r.length;s+=1)l=kt(l,r[s]);return{c(){e=k("textarea"),El(e,l),he(e,"svelte-1x1pbts",!0)},m(s,o){S(s,e,o),e.autofocus&&e.focus(),n[5](e),He(e,n[0]),t||(i=[se(e,"input",n[6]),se(e,"keydown",n[2])],t=!0)},p(s,[o]){El(e,l=Ln(r,[o&8&&s[3]])),o&1&&He(e,s[0]),he(e,"svelte-1x1pbts",!0)},i:ge,o:ge,d(s){s&&E(e),n[5](null),t=!1,it(i)}}}function Xde(n,e,t){const i=["value","maxHeight"];let r=rn(e,i),{value:l=""}=e,{maxHeight:s=200}=e,o,a;function u(){clearTimeout(a),a=setTimeout(()=>{o&&(t(1,o.style.height="",o),t(1,o.style.height=Math.min(o.scrollHeight,s)+"px",o))},0)}function f(p){if((p==null?void 0:p.code)==="Enter"&&!(p!=null&&p.shiftKey)&&!(p!=null&&p.isComposing)){p.preventDefault();const _=o.closest("form");_!=null&&_.requestSubmit&&_.requestSubmit()}}hi(()=>(u(),()=>clearTimeout(a)));function c(p){ye[p?"unshift":"push"](()=>{o=p,t(1,o)})}function h(){l=this.value,t(0,l)}return n.$$set=p=>{e=kt(kt({},e),ui(p)),t(3,r=rn(e,i)),"value"in p&&t(0,l=p.value),"maxHeight"in p&&t(4,s=p.maxHeight)},n.$$.update=()=>{n.$$.dirty&1&&typeof l!==void 0&&u()},[l,o,f,r,s,c,h]}class Zde extends je{constructor(e){super(),qe(this,e,Xde,Yde,We,{value:0,maxHeight:4})}}function Qde(n){let e,t,i,r,l;e=new Qr({props:{uniqueId:n[6],field:n[1]}});function s(a){n[5](a)}let o={id:n[6],required:n[3],placeholder:n[2]?"Leave empty to autogenerate...":""};return n[0]!==void 0&&(o.value=n[0]),i=new Zde({props:o}),ye.push(()=>Ke(i,"value",s)),{c(){ee(e.$$.fragment),t=D(),ee(i.$$.fragment)},m(a,u){Q(e,a,u),S(a,t,u),Q(i,a,u),l=!0},p(a,u){const f={};u&64&&(f.uniqueId=a[6]),u&2&&(f.field=a[1]),e.$set(f);const c={};u&64&&(c.id=a[6]),u&8&&(c.required=a[3]),u&4&&(c.placeholder=a[2]?"Leave empty to autogenerate...":""),!r&&u&1&&(r=!0,c.value=a[0],Ye(()=>r=!1)),i.$set(c)},i(a){l||(F(e.$$.fragment,a),F(i.$$.fragment,a),l=!0)},o(a){x(e.$$.fragment,a),x(i.$$.fragment,a),l=!1},d(a){a&&E(t),J(e,a),J(i,a)}}}function Jde(n){let e,t;return e=new Pe({props:{class:"form-field "+(n[3]?"required":""),name:n[1].name,$$slots:{default:[Qde,({uniqueId:i})=>({6:i}),({uniqueId:i})=>i?64:0]},$$scope:{ctx:n}}}),{c(){ee(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,[r]){const l={};r&8&&(l.class="form-field "+(i[3]?"required":"")),r&2&&(l.name=i[1].name),r&207&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){x(e.$$.fragment,i),t=!1},d(i){J(e,i)}}}function ehe(n,e,t){let i,r,{original:l}=e,{field:s}=e,{value:o=void 0}=e;function a(u){o=u,t(0,o)}return n.$$set=u=>{"original"in u&&t(4,l=u.original),"field"in u&&t(1,s=u.field),"value"in u&&t(0,o=u.value)},n.$$.update=()=>{n.$$.dirty&18&&t(2,i=!re.isEmpty(s.autogeneratePattern)&&!(l!=null&&l.id)),n.$$.dirty&6&&t(3,r=s.required&&!i)},[o,s,i,r,l,a]}class the extends je{constructor(e){super(),qe(this,e,ehe,Jde,We,{original:4,field:1,value:0})}}function nhe(n){let e,t,i,r,l,s,o,a;return e=new Qr({props:{uniqueId:n[3],field:n[1]}}),{c(){ee(e.$$.fragment),t=D(),i=k("input"),m(i,"type","url"),m(i,"id",r=n[3]),i.required=l=n[1].required},m(u,f){Q(e,u,f),S(u,t,f),S(u,i,f),He(i,n[0]),s=!0,o||(a=se(i,"input",n[2]),o=!0)},p(u,f){const c={};f&8&&(c.uniqueId=u[3]),f&2&&(c.field=u[1]),e.$set(c),(!s||f&8&&r!==(r=u[3]))&&m(i,"id",r),(!s||f&2&&l!==(l=u[1].required))&&(i.required=l),f&1&&i.value!==u[0]&&He(i,u[0])},i(u){s||(F(e.$$.fragment,u),s=!0)},o(u){x(e.$$.fragment,u),s=!1},d(u){u&&(E(t),E(i)),J(e,u),o=!1,a()}}}function ihe(n){let e,t;return e=new Pe({props:{class:"form-field "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[nhe,({uniqueId:i})=>({3:i}),({uniqueId:i})=>i?8:0]},$$scope:{ctx:n}}}),{c(){ee(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,[r]){const l={};r&2&&(l.class="form-field "+(i[1].required?"required":"")),r&2&&(l.name=i[1].name),r&27&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){x(e.$$.fragment,i),t=!1},d(i){J(e,i)}}}function rhe(n,e,t){let{field:i}=e,{value:r=void 0}=e;function l(){r=this.value,t(0,r)}return n.$$set=s=>{"field"in s&&t(1,i=s.field),"value"in s&&t(0,r=s.value)},[r,i,l]}class lhe extends je{constructor(e){super(),qe(this,e,rhe,ihe,We,{field:1,value:0})}}function she(n){let e,t,i,r,l,s,o,a,u;return{c(){e=k("label"),t=le("Longitude:"),r=D(),l=k("input"),m(e,"for",i=n[14]),m(l,"type","number"),m(l,"id",s=n[14]),l.required=o=n[1].required,m(l,"placeholder","0"),m(l,"step","any"),m(l,"min","-180"),m(l,"max","180")},m(f,c){S(f,e,c),T(e,t),S(f,r,c),S(f,l,c),He(l,n[0].lon),a||(u=se(l,"input",n[7]),a=!0)},p(f,c){c&16384&&i!==(i=f[14])&&m(e,"for",i),c&16384&&s!==(s=f[14])&&m(l,"id",s),c&2&&o!==(o=f[1].required)&&(l.required=o),c&1&&wn(l.value)!==f[0].lon&&He(l,f[0].lon)},d(f){f&&(E(e),E(r),E(l)),a=!1,u()}}}function ohe(n){let e,t,i,r,l,s,o,a,u;return{c(){e=k("label"),t=le("Latitude:"),r=D(),l=k("input"),m(e,"for",i=n[14]),m(l,"type","number"),m(l,"id",s=n[14]),l.required=o=n[1].required,m(l,"placeholder","0"),m(l,"step","any"),m(l,"min","-90"),m(l,"max","90")},m(f,c){S(f,e,c),T(e,t),S(f,r,c),S(f,l,c),He(l,n[0].lat),a||(u=se(l,"input",n[8]),a=!0)},p(f,c){c&16384&&i!==(i=f[14])&&m(e,"for",i),c&16384&&s!==(s=f[14])&&m(l,"id",s),c&2&&o!==(o=f[1].required)&&(l.required=o),c&1&&wn(l.value)!==f[0].lat&&He(l,f[0].lat)},d(f){f&&(E(e),E(r),E(l)),a=!1,u()}}}function P6(n){let e,t,i,r,l;const s=[uhe,ahe],o=[];function a(u,f){return u[3]?0:1}return t=a(n),i=o[t]=s[t](n),{c(){e=k("div"),i.c(),m(e,"class","block"),Bg(e,"height","200px")},m(u,f){S(u,e,f),o[t].m(e,null),l=!0},p(u,f){let c=t;t=a(u),t===c?o[t].p(u,f):(Ne(),x(o[c],1,1,()=>{o[c]=null}),Me(),i=o[t],i?i.p(u,f):(i=o[t]=s[t](u),i.c()),F(i,1),i.m(e,null))},i(u){l||(F(i),u&&tn(()=>{l&&(r||(r=Et(e,En,{duration:150},!0)),r.run(1))}),l=!0)},o(u){x(i),u&&(r||(r=Et(e,En,{duration:150},!1)),r.run(0)),l=!1},d(u){u&&E(e),o[t].d(),u&&r&&r.end()}}}function ahe(n){let e,t,i,r;function l(a){n[9](a)}var s=n[2];function o(a,u){let f={height:200};return a[0]!==void 0&&(f.point=a[0]),{props:f}}return s&&(e=ri(s,o(n)),ye.push(()=>Ke(e,"point",l))),{c(){e&&ee(e.$$.fragment),i=ze()},m(a,u){e&&Q(e,a,u),S(a,i,u),r=!0},p(a,u){if(u&4&&s!==(s=a[2])){if(e){Ne();const f=e;x(f.$$.fragment,1,0,()=>{J(f,1)}),Me()}s?(e=ri(s,o(a)),ye.push(()=>Ke(e,"point",l)),ee(e.$$.fragment),F(e.$$.fragment,1),Q(e,i.parentNode,i)):e=null}else if(s){const f={};!t&&u&1&&(t=!0,f.point=a[0],Ye(()=>t=!1)),e.$set(f)}},i(a){r||(e&&F(e.$$.fragment,a),r=!0)},o(a){e&&x(e.$$.fragment,a),r=!1},d(a){a&&E(i),e&&J(e,a)}}}function uhe(n){let e;return{c(){e=k("div"),e.innerHTML='<span class="loader loader-sm"></span>',m(e,"class","block txt-center p-base")},m(t,i){S(t,e,i)},p:ge,i:ge,o:ge,d(t){t&&E(e)}}}function fhe(n){let e,t,i,r,l,s,o,a,u,f,c,h,p,_,v,b,y,A,M;e=new Qr({props:{uniqueId:n[14],field:n[1]}}),l=new Pe({props:{class:"form-field form-field-inline m-0",$$slots:{default:[she,({uniqueId:L})=>({14:L}),({uniqueId:L})=>L?16384:0]},$$scope:{ctx:n}}}),u=new Pe({props:{class:"form-field form-field-inline m-0",$$slots:{default:[ohe,({uniqueId:L})=>({14:L}),({uniqueId:L})=>L?16384:0]},$$scope:{ctx:n}}});let N=n[4]&&P6(n);return{c(){ee(e.$$.fragment),t=D(),i=k("div"),r=k("div"),ee(l.$$.fragment),s=D(),o=k("span"),a=D(),ee(u.$$.fragment),f=D(),c=k("span"),h=D(),p=k("button"),_=k("i"),b=D(),N&&N.c(),m(o,"class","separator svelte-m6kyna"),m(c,"class","separator svelte-m6kyna"),m(_,"class","ri-map-2-line"),m(p,"type","button"),m(p,"class",v="btn btn-circle btn-sm btn-circle "+(n[4]?"btn-secondary":"btn-hint btn-transparent")),m(p,"aria-label","Toggle map"),m(r,"class","list-item svelte-m6kyna"),m(i,"class","list")},m(L,I){Q(e,L,I),S(L,t,I),S(L,i,I),T(i,r),Q(l,r,null),T(r,s),T(r,o),T(r,a),Q(u,r,null),T(r,f),T(r,c),T(r,h),T(r,p),T(p,_),T(i,b),N&&N.m(i,null),y=!0,A||(M=[nt(_t.call(null,p,"Toggle map")),se(p,"click",n[5])],A=!0)},p(L,I){const R={};I&16384&&(R.uniqueId=L[14]),I&2&&(R.field=L[1]),e.$set(R);const $={};I&49155&&($.$$scope={dirty:I,ctx:L}),l.$set($);const B={};I&49155&&(B.$$scope={dirty:I,ctx:L}),u.$set(B),(!y||I&16&&v!==(v="btn btn-circle btn-sm btn-circle "+(L[4]?"btn-secondary":"btn-hint btn-transparent")))&&m(p,"class",v),L[4]?N?(N.p(L,I),I&16&&F(N,1)):(N=P6(L),N.c(),F(N,1),N.m(i,null)):N&&(Ne(),x(N,1,1,()=>{N=null}),Me())},i(L){y||(F(e.$$.fragment,L),F(l.$$.fragment,L),F(u.$$.fragment,L),F(N),y=!0)},o(L){x(e.$$.fragment,L),x(l.$$.fragment,L),x(u.$$.fragment,L),x(N),y=!1},d(L){L&&(E(t),E(i)),J(e,L),J(l),J(u),N&&N.d(),A=!1,it(M)}}}function che(n){let e,t;return e=new Pe({props:{class:"form-field form-field-list "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[fhe,({uniqueId:i})=>({14:i}),({uniqueId:i})=>i?16384:0]},$$scope:{ctx:n}}}),{c(){ee(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,[r]){const l={};r&2&&(l.class="form-field form-field-list "+(i[1].required?"required":"")),r&2&&(l.name=i[1].name),r&49183&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){x(e.$$.fragment,i),t=!1},d(i){J(e,i)}}}function dhe(n,e,t){let{original:i}=e,{field:r}=e,{value:l=void 0}=e,s,o=!1,a=!1;function u(){l.lat>90&&t(0,l.lat=90,l),l.lat<-90&&t(0,l.lat=-90,l),l.lon>180&&t(0,l.lon=180,l),l.lon<-180&&t(0,l.lon=-180,l)}function f(){a?h():c()}function c(){p(),t(4,a=!0)}function h(){t(4,a=!1)}async function p(){s||o||(t(3,o=!0),t(2,s=(await Dn(async()=>{const{default:y}=await import("./Leaflet-CrPAIdDE.js");return{default:y}},__vite__mapDeps([14,15]),import.meta.url)).default),t(3,o=!1))}function _(){l.lon=wn(this.value),t(0,l)}function v(){l.lat=wn(this.value),t(0,l)}function b(y){l=y,t(0,l)}return n.$$set=y=>{"original"in y&&t(6,i=y.original),"field"in y&&t(1,r=y.field),"value"in y&&t(0,l=y.value)},n.$$.update=()=>{n.$$.dirty&1&&typeof l>"u"&&t(0,l={lat:0,lon:0}),n.$$.dirty&1&&l&&u()},[l,r,s,o,a,f,i,_,v,b]}class hhe extends je{constructor(e){super(),qe(this,e,dhe,che,We,{original:6,field:1,value:0})}}function F6(n,e,t){const i=n.slice();return i[6]=e[t],i}function $6(n,e,t){const i=n.slice();return i[6]=e[t],i}function H6(n,e){let t,i,r=e[6].title+"",l,s,o,a;function u(){return e[5](e[6])}return{key:n,first:null,c(){t=k("button"),i=k("div"),l=le(r),s=D(),m(i,"class","txt"),m(t,"class","tab-item svelte-1maocj6"),he(t,"active",e[1]===e[6].language),this.first=t},m(f,c){S(f,t,c),T(t,i),T(i,l),T(t,s),o||(a=se(t,"click",u),o=!0)},p(f,c){e=f,c&4&&r!==(r=e[6].title+"")&&Se(l,r),c&6&&he(t,"active",e[1]===e[6].language)},d(f){f&&E(t),o=!1,a()}}}function B6(n,e){let t,i,r,l,s,o,a=e[6].title+"",u,f,c,h,p;return i=new C_({props:{language:e[6].language,content:e[6].content}}),{key:n,first:null,c(){t=k("div"),ee(i.$$.fragment),r=D(),l=k("div"),s=k("em"),o=k("a"),u=le(a),f=le(" SDK"),h=D(),m(o,"href",c=e[6].url),m(o,"target","_blank"),m(o,"rel","noopener noreferrer"),m(s,"class","txt-sm txt-hint"),m(l,"class","txt-right"),m(t,"class","tab-item svelte-1maocj6"),he(t,"active",e[1]===e[6].language),this.first=t},m(_,v){S(_,t,v),Q(i,t,null),T(t,r),T(t,l),T(l,s),T(s,o),T(o,u),T(o,f),T(t,h),p=!0},p(_,v){e=_;const b={};v&4&&(b.language=e[6].language),v&4&&(b.content=e[6].content),i.$set(b),(!p||v&4)&&a!==(a=e[6].title+"")&&Se(u,a),(!p||v&4&&c!==(c=e[6].url))&&m(o,"href",c),(!p||v&6)&&he(t,"active",e[1]===e[6].language)},i(_){p||(F(i.$$.fragment,_),p=!0)},o(_){x(i.$$.fragment,_),p=!1},d(_){_&&E(t),J(i)}}}function phe(n){let e,t,i=[],r=new Map,l,s,o=[],a=new Map,u,f,c=Re(n[2]);const h=v=>v[6].language;for(let v=0;v<c.length;v+=1){let b=$6(n,c,v),y=h(b);r.set(y,i[v]=H6(y,b))}let p=Re(n[2]);const _=v=>v[6].language;for(let v=0;v<p.length;v+=1){let b=F6(n,p,v),y=_(b);a.set(y,o[v]=B6(y,b))}return{c(){e=k("div"),t=k("div");for(let v=0;v<i.length;v+=1)i[v].c();l=D(),s=k("div");for(let v=0;v<o.length;v+=1)o[v].c();m(t,"class","tabs-header compact combined left"),m(s,"class","tabs-content"),m(e,"class",u="tabs sdk-tabs "+n[0]+" svelte-1maocj6")},m(v,b){S(v,e,b),T(e,t);for(let y=0;y<i.length;y+=1)i[y]&&i[y].m(t,null);T(e,l),T(e,s);for(let y=0;y<o.length;y+=1)o[y]&&o[y].m(s,null);f=!0},p(v,[b]){b&6&&(c=Re(v[2]),i=In(i,b,h,1,v,c,r,t,Ol,H6,null,$6)),b&6&&(p=Re(v[2]),Ne(),o=In(o,b,_,1,v,p,a,s,di,B6,null,F6),Me()),(!f||b&1&&u!==(u="tabs sdk-tabs "+v[0]+" svelte-1maocj6"))&&m(e,"class",u)},i(v){if(!f){for(let b=0;b<p.length;b+=1)F(o[b]);f=!0}},o(v){for(let b=0;b<o.length;b+=1)x(o[b]);f=!1},d(v){v&&E(e);for(let b=0;b<i.length;b+=1)i[b].d();for(let b=0;b<o.length;b+=1)o[b].d()}}}const x6="pb_sdk_preference";function mhe(n,e,t){let i,{class:r="m-b-sm"}=e,{js:l=""}=e,{dart:s=""}=e,o=localStorage.getItem(x6)||"javascript";const a=u=>t(1,o=u.language);return n.$$set=u=>{"class"in u&&t(0,r=u.class),"js"in u&&t(3,l=u.js),"dart"in u&&t(4,s=u.dart)},n.$$.update=()=>{n.$$.dirty&2&&o&&localStorage.setItem(x6,o),n.$$.dirty&24&&t(2,i=[{title:"JavaScript",language:"javascript",content:l,url:"https://github.com/pocketbase/js-sdk"},{title:"Dart",language:"dart",content:s,url:"https://github.com/pocketbase/dart-sdk"}])},[r,o,i,l,s,a]}class ghe extends je{constructor(e){super(),qe(this,e,mhe,phe,We,{class:0,js:3,dart:4})}}function _he(n){let e,t,i,r,l,s=re.displayValue(n[1])+"",o,a,u,f,c,h,p;return f=new Pe({props:{class:"form-field m-b-xs m-t-sm",name:"duration",$$slots:{default:[vhe,({uniqueId:_})=>({20:_}),({uniqueId:_})=>_?1048576:0]},$$scope:{ctx:n}}}),{c(){e=k("form"),t=k("div"),i=k("p"),r=le(`Generate a non-refreshable auth token for
                    `),l=k("strong"),o=le(s),a=le(":"),u=D(),ee(f.$$.fragment),m(t,"class","content"),m(e,"id",n[8])},m(_,v){S(_,e,v),T(e,t),T(t,i),T(i,r),T(i,l),T(l,o),T(l,a),T(e,u),Q(f,e,null),c=!0,h||(p=se(e,"submit",ln(n[9])),h=!0)},p(_,v){(!c||v&2)&&s!==(s=re.displayValue(_[1])+"")&&Se(o,s);const b={};v&3145761&&(b.$$scope={dirty:v,ctx:_}),f.$set(b)},i(_){c||(F(f.$$.fragment,_),c=!0)},o(_){x(f.$$.fragment,_),c=!1},d(_){_&&E(e),J(f),h=!1,p()}}}function bhe(n){let e,t,i,r=n[3].authStore.token+"",l,s,o,a,u,f;return o=new bs({props:{value:n[3].authStore.token}}),u=new ghe({props:{class:"m-b-0",js:`
                import PocketBase from 'pocketbase';

                const token = "...";

                const pb = new PocketBase('${n[7]}');

                pb.authStore.save(token, null);
            `,dart:`
                import 'package:pocketbase/pocketbase.dart';

                final token = "...";

                final pb = PocketBase('${n[7]}');

                pb.authStore.save(token, null);
            `}}),{c(){e=k("div"),t=k("div"),i=k("span"),l=le(r),s=D(),ee(o.$$.fragment),a=D(),ee(u.$$.fragment),m(i,"class","txt token-holder svelte-1i56uix"),m(t,"class","content txt-bold"),m(e,"class","alert alert-success")},m(c,h){S(c,e,h),T(e,t),T(t,i),T(i,l),T(t,s),Q(o,t,null),S(c,a,h),Q(u,c,h),f=!0},p(c,h){(!f||h&8)&&r!==(r=c[3].authStore.token+"")&&Se(l,r);const p={};h&8&&(p.value=c[3].authStore.token),o.$set(p);const _={};h&128&&(_.js=`
                import PocketBase from 'pocketbase';

                const token = "...";

                const pb = new PocketBase('${c[7]}');

                pb.authStore.save(token, null);
            `),h&128&&(_.dart=`
                import 'package:pocketbase/pocketbase.dart';

                final token = "...";

                final pb = PocketBase('${c[7]}');

                pb.authStore.save(token, null);
            `),u.$set(_)},i(c){f||(F(o.$$.fragment,c),F(u.$$.fragment,c),f=!0)},o(c){x(o.$$.fragment,c),x(u.$$.fragment,c),f=!1},d(c){c&&(E(e),E(a)),J(o),J(u,c)}}}function vhe(n){let e,t,i,r,l,s,o,a,u,f;return{c(){var c,h;e=k("label"),t=le("Token duration (in seconds)"),r=D(),l=k("input"),m(e,"for",i=n[20]),m(l,"type","number"),m(l,"id",s=n[20]),m(l,"placeholder",o="Default to the collection setting ("+(((h=(c=n[0])==null?void 0:c.authToken)==null?void 0:h.duration)||0)+"s)"),m(l,"min","0"),m(l,"step","1"),l.value=a=n[5]||""},m(c,h){S(c,e,h),T(e,t),S(c,r,h),S(c,l,h),u||(f=se(l,"input",n[14]),u=!0)},p(c,h){var p,_;h&1048576&&i!==(i=c[20])&&m(e,"for",i),h&1048576&&s!==(s=c[20])&&m(l,"id",s),h&1&&o!==(o="Default to the collection setting ("+(((_=(p=c[0])==null?void 0:p.authToken)==null?void 0:_.duration)||0)+"s)")&&m(l,"placeholder",o),h&32&&a!==(a=c[5]||"")&&l.value!==a&&(l.value=a)},d(c){c&&(E(e),E(r),E(l)),u=!1,f()}}}function yhe(n){let e,t,i,r,l,s;const o=[bhe,_he],a=[];function u(f,c){var h,p;return(p=(h=f[3])==null?void 0:h.authStore)!=null&&p.token?0:1}return i=u(n),r=a[i]=o[i](n),{c(){e=k("div"),t=D(),r.c(),l=ze(),m(e,"class","clearfix")},m(f,c){S(f,e,c),S(f,t,c),a[i].m(f,c),S(f,l,c),s=!0},p(f,c){let h=i;i=u(f),i===h?a[i].p(f,c):(Ne(),x(a[h],1,1,()=>{a[h]=null}),Me(),r=a[i],r?r.p(f,c):(r=a[i]=o[i](f),r.c()),F(r,1),r.m(l.parentNode,l))},i(f){s||(F(r),s=!0)},o(f){x(r),s=!1},d(f){f&&(E(e),E(t),E(l)),a[i].d(f)}}}function khe(n){let e;return{c(){e=k("h4"),e.textContent="Impersonate auth token"},m(t,i){S(t,e,i)},p:ge,d(t){t&&E(e)}}}function The(n){let e,t,i,r;return{c(){e=k("button"),t=k("span"),t.textContent="Generate token",m(t,"class","txt"),m(e,"type","submit"),m(e,"form",n[8]),m(e,"class","btn btn-expanded"),e.disabled=n[6],he(e,"btn-loading",n[6])},m(l,s){S(l,e,s),T(e,t),i||(r=se(e,"click",n[13]),i=!0)},p(l,s){s&64&&(e.disabled=l[6]),s&64&&he(e,"btn-loading",l[6])},d(l){l&&E(e),i=!1,r()}}}function whe(n){let e,t,i,r;return{c(){e=k("button"),t=k("span"),t.textContent="Generate a new one",m(t,"class","txt"),m(e,"type","button"),m(e,"class","btn btn-secondary btn-expanded"),e.disabled=n[6]},m(l,s){S(l,e,s),T(e,t),i||(r=se(e,"click",n[12]),i=!0)},p(l,s){s&64&&(e.disabled=l[6])},d(l){l&&E(e),i=!1,r()}}}function Ehe(n){let e,t,i,r,l,s;function o(f,c){var h,p;return(p=(h=f[3])==null?void 0:h.authStore)!=null&&p.token?whe:The}let a=o(n),u=a(n);return{c(){e=k("button"),t=k("span"),t.textContent="Close",i=D(),u.c(),r=ze(),m(t,"class","txt"),m(e,"type","button"),m(e,"class","btn btn-transparent"),e.disabled=n[6]},m(f,c){S(f,e,c),T(e,t),S(f,i,c),u.m(f,c),S(f,r,c),l||(s=se(e,"click",n[2]),l=!0)},p(f,c){c&64&&(e.disabled=f[6]),a===(a=o(f))&&u?u.p(f,c):(u.d(1),u=a(f),u&&(u.c(),u.m(r.parentNode,r)))},d(f){f&&(E(e),E(i),E(r)),u.d(f),l=!1,s()}}}function She(n){let e,t,i={overlayClose:!1,escClose:!n[6],beforeHide:n[15],popup:!0,$$slots:{footer:[Ehe],header:[khe],default:[yhe]},$$scope:{ctx:n}};return e=new Mi({props:i}),n[16](e),e.$on("show",n[17]),e.$on("hide",n[18]),{c(){ee(e.$$.fragment)},m(r,l){Q(e,r,l),t=!0},p(r,[l]){const s={};l&64&&(s.escClose=!r[6]),l&64&&(s.beforeHide=r[15]),l&2097387&&(s.$$scope={dirty:l,ctx:r}),e.$set(s)},i(r){t||(F(e.$$.fragment,r),t=!0)},o(r){x(e.$$.fragment,r),t=!1},d(r){n[16](null),J(e,r)}}}function Che(n,e,t){let i;const r=Sn(),l="impersonate_"+re.randomString(5);let{collection:s}=e,{record:o}=e,a,u=0,f=!1,c;function h(){o&&(v(),a==null||a.show())}function p(){a==null||a.hide(),v()}async function _(){if(!(f||!s||!o)){t(6,f=!0);try{t(3,c=await xe.collection(s.name).impersonate(o.id,u)),r("submit",c)}catch(R){xe.error(R)}t(6,f=!1)}}function v(){t(5,u=0),t(3,c=void 0)}const b=()=>v(),y=()=>_(),A=R=>t(5,u=R.target.value<<0),M=()=>!f;function N(R){ye[R?"unshift":"push"](()=>{a=R,t(4,a)})}function L(R){ut.call(this,n,R)}function I(R){ut.call(this,n,R)}return n.$$set=R=>{"collection"in R&&t(0,s=R.collection),"record"in R&&t(1,o=R.record)},n.$$.update=()=>{n.$$.dirty&8&&t(7,i=re.getApiExampleUrl(c==null?void 0:c.baseURL))},[s,o,p,c,a,u,f,i,l,_,v,h,b,y,A,M,N,L,I]}class Ahe extends je{constructor(e){super(),qe(this,e,Che,She,We,{collection:0,record:1,show:11,hide:2})}get show(){return this.$$.ctx[11]}get hide(){return this.$$.ctx[2]}}function U6(n,e,t){const i=n.slice();return i[87]=e[t],i[88]=e,i[89]=t,i}function z6(n){let e,t,i,r,l,s,o,a,u,f,c,h,p,_,v;return{c(){e=k("div"),t=k("div"),i=k("div"),i.innerHTML='<i class="ri-information-line"></i>',r=D(),l=k("div"),s=le(`The record has previous unsaved changes.
                            `),o=k("button"),o.textContent="Restore draft",a=D(),u=k("button"),u.innerHTML='<i class="ri-close-line"></i>',f=D(),c=k("div"),m(i,"class","icon"),m(o,"type","button"),m(o,"class","btn btn-sm btn-secondary"),m(l,"class","flex flex-gap-xs"),m(u,"type","button"),m(u,"class","close"),m(u,"aria-label","Discard draft"),m(t,"class","alert alert-info m-0"),m(c,"class","clearfix p-b-base"),m(e,"class","block")},m(b,y){S(b,e,y),T(e,t),T(t,i),T(t,r),T(t,l),T(l,s),T(l,o),T(t,a),T(t,u),T(e,f),T(e,c),p=!0,_||(v=[se(o,"click",n[49]),nt(_t.call(null,u,"Discard draft")),se(u,"click",ln(n[50]))],_=!0)},p:ge,i(b){p||(h&&h.end(1),p=!0)},o(b){b&&(h=qg(e,En,{duration:150})),p=!1},d(b){b&&E(e),b&&h&&h.end(),_=!1,it(v)}}}function q6(n){let e,t,i;return t=new iX({props:{record:n[3]}}),{c(){e=k("div"),ee(t.$$.fragment),m(e,"class","form-field-addon")},m(r,l){S(r,e,l),Q(t,e,null),i=!0},p(r,l){const s={};l[0]&8&&(s.record=r[3]),t.$set(s)},i(r){i||(F(t.$$.fragment,r),i=!0)},o(r){x(t.$$.fragment,r),i=!1},d(r){r&&E(e),J(t)}}}function Ohe(n){let e,t,i,r,l,s,o,a,u,f,c,h,p,_,v,b,y,A,M=!n[6]&&q6(n);return{c(){var N,L,I;e=k("label"),t=k("i"),i=D(),r=k("span"),r.textContent="id",l=D(),s=k("span"),a=D(),M&&M.c(),u=D(),f=k("input"),m(t,"class",Ac(re.getFieldTypeIcon("primary"))+" svelte-qc5ngu"),m(r,"class","txt"),m(s,"class","flex-fill"),m(e,"for",o=n[90]),m(f,"type","text"),m(f,"id",c=n[90]),m(f,"placeholder",h=!n[7]&&!re.isEmpty((N=n[19])==null?void 0:N.autogeneratePattern)?"Leave empty to auto generate...":""),m(f,"minlength",p=((L=n[19])==null?void 0:L.min)||null),m(f,"maxlength",_=((I=n[19])==null?void 0:I.max)||null),f.readOnly=v=!n[6]},m(N,L){S(N,e,L),T(e,t),T(e,i),T(e,r),T(e,l),T(e,s),S(N,a,L),M&&M.m(N,L),S(N,u,L),S(N,f,L),He(f,n[3].id),b=!0,y||(A=se(f,"input",n[51]),y=!0)},p(N,L){var I,R,$;(!b||L[2]&268435456&&o!==(o=N[90]))&&m(e,"for",o),N[6]?M&&(Ne(),x(M,1,1,()=>{M=null}),Me()):M?(M.p(N,L),L[0]&64&&F(M,1)):(M=q6(N),M.c(),F(M,1),M.m(u.parentNode,u)),(!b||L[2]&268435456&&c!==(c=N[90]))&&m(f,"id",c),(!b||L[0]&524416&&h!==(h=!N[7]&&!re.isEmpty((I=N[19])==null?void 0:I.autogeneratePattern)?"Leave empty to auto generate...":""))&&m(f,"placeholder",h),(!b||L[0]&524288&&p!==(p=((R=N[19])==null?void 0:R.min)||null))&&m(f,"minlength",p),(!b||L[0]&524288&&_!==(_=(($=N[19])==null?void 0:$.max)||null))&&m(f,"maxlength",_),(!b||L[0]&64&&v!==(v=!N[6]))&&(f.readOnly=v),L[0]&8&&f.value!==N[3].id&&He(f,N[3].id)},i(N){b||(F(M),b=!0)},o(N){x(M),b=!1},d(N){N&&(E(e),E(a),E(u),E(f)),M&&M.d(N),y=!1,A()}}}function j6(n){let e,t,i,r,l;function s(u){n[52](u)}let o={isNew:n[6],collection:n[0]};n[3]!==void 0&&(o.record=n[3]),e=new kX({props:o}),ye.push(()=>Ke(e,"record",s));let a=n[16].length&&W6();return{c(){ee(e.$$.fragment),i=D(),a&&a.c(),r=ze()},m(u,f){Q(e,u,f),S(u,i,f),a&&a.m(u,f),S(u,r,f),l=!0},p(u,f){const c={};f[0]&64&&(c.isNew=u[6]),f[0]&1&&(c.collection=u[0]),!t&&f[0]&8&&(t=!0,c.record=u[3],Ye(()=>t=!1)),e.$set(c),u[16].length?a||(a=W6(),a.c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null)},i(u){l||(F(e.$$.fragment,u),l=!0)},o(u){x(e.$$.fragment,u),l=!1},d(u){u&&(E(i),E(r)),J(e,u),a&&a.d(u)}}}function W6(n){let e;return{c(){e=k("hr")},m(t,i){S(t,e,i)},d(t){t&&E(e)}}}function Nhe(n){let e,t,i;function r(s){n[68](s,n[87])}let l={field:n[87],original:n[2],record:n[3]};return n[3][n[87].name]!==void 0&&(l.value=n[3][n[87].name]),e=new hhe({props:l}),ye.push(()=>Ke(e,"value",r)),{c(){ee(e.$$.fragment)},m(s,o){Q(e,s,o),i=!0},p(s,o){n=s;const a={};o[0]&65536&&(a.field=n[87]),o[0]&4&&(a.original=n[2]),o[0]&8&&(a.record=n[3]),!t&&o[0]&65544&&(t=!0,a.value=n[3][n[87].name],Ye(()=>t=!1)),e.$set(a)},i(s){i||(F(e.$$.fragment,s),i=!0)},o(s){x(e.$$.fragment,s),i=!1},d(s){J(e,s)}}}function Mhe(n){let e,t,i;function r(s){n[67](s,n[87])}let l={field:n[87],original:n[2],record:n[3]};return n[3][n[87].name]!==void 0&&(l.value=n[3][n[87].name]),e=new Tde({props:l}),ye.push(()=>Ke(e,"value",r)),{c(){ee(e.$$.fragment)},m(s,o){Q(e,s,o),i=!0},p(s,o){n=s;const a={};o[0]&65536&&(a.field=n[87]),o[0]&4&&(a.original=n[2]),o[0]&8&&(a.record=n[3]),!t&&o[0]&65544&&(t=!0,a.value=n[3][n[87].name],Ye(()=>t=!1)),e.$set(a)},i(s){i||(F(e.$$.fragment,s),i=!0)},o(s){x(e.$$.fragment,s),i=!1},d(s){J(e,s)}}}function Ihe(n){let e,t,i;function r(s){n[66](s,n[87])}let l={field:n[87],original:n[2],record:n[3]};return n[3][n[87].name]!==void 0&&(l.value=n[3][n[87].name]),e=new jde({props:l}),ye.push(()=>Ke(e,"value",r)),{c(){ee(e.$$.fragment)},m(s,o){Q(e,s,o),i=!0},p(s,o){n=s;const a={};o[0]&65536&&(a.field=n[87]),o[0]&4&&(a.original=n[2]),o[0]&8&&(a.record=n[3]),!t&&o[0]&65544&&(t=!0,a.value=n[3][n[87].name],Ye(()=>t=!1)),e.$set(a)},i(s){i||(F(e.$$.fragment,s),i=!0)},o(s){x(e.$$.fragment,s),i=!1},d(s){J(e,s)}}}function Lhe(n){let e,t,i,r,l;function s(f){n[63](f,n[87])}function o(f){n[64](f,n[87])}function a(f){n[65](f,n[87])}let u={field:n[87],original:n[2],record:n[3]};return n[3][n[87].name]!==void 0&&(u.value=n[3][n[87].name]),n[4][n[87].name]!==void 0&&(u.uploadedFiles=n[4][n[87].name]),n[5][n[87].name]!==void 0&&(u.deletedFileNames=n[5][n[87].name]),e=new lde({props:u}),ye.push(()=>Ke(e,"value",s)),ye.push(()=>Ke(e,"uploadedFiles",o)),ye.push(()=>Ke(e,"deletedFileNames",a)),{c(){ee(e.$$.fragment)},m(f,c){Q(e,f,c),l=!0},p(f,c){n=f;const h={};c[0]&65536&&(h.field=n[87]),c[0]&4&&(h.original=n[2]),c[0]&8&&(h.record=n[3]),!t&&c[0]&65544&&(t=!0,h.value=n[3][n[87].name],Ye(()=>t=!1)),!i&&c[0]&65552&&(i=!0,h.uploadedFiles=n[4][n[87].name],Ye(()=>i=!1)),!r&&c[0]&65568&&(r=!0,h.deletedFileNames=n[5][n[87].name],Ye(()=>r=!1)),e.$set(h)},i(f){l||(F(e.$$.fragment,f),l=!0)},o(f){x(e.$$.fragment,f),l=!1},d(f){J(e,f)}}}function Dhe(n){let e,t,i;function r(s){n[62](s,n[87])}let l={field:n[87],original:n[2],record:n[3]};return n[3][n[87].name]!==void 0&&(l.value=n[3][n[87].name]),e=new pde({props:l}),ye.push(()=>Ke(e,"value",r)),{c(){ee(e.$$.fragment)},m(s,o){Q(e,s,o),i=!0},p(s,o){n=s;const a={};o[0]&65536&&(a.field=n[87]),o[0]&4&&(a.original=n[2]),o[0]&8&&(a.record=n[3]),!t&&o[0]&65544&&(t=!0,a.value=n[3][n[87].name],Ye(()=>t=!1)),e.$set(a)},i(s){i||(F(e.$$.fragment,s),i=!0)},o(s){x(e.$$.fragment,s),i=!1},d(s){J(e,s)}}}function Rhe(n){let e,t,i;function r(s){n[61](s,n[87])}let l={field:n[87],original:n[2],record:n[3]};return n[3][n[87].name]!==void 0&&(l.value=n[3][n[87].name]),e=new Gde({props:l}),ye.push(()=>Ke(e,"value",r)),{c(){ee(e.$$.fragment)},m(s,o){Q(e,s,o),i=!0},p(s,o){n=s;const a={};o[0]&65536&&(a.field=n[87]),o[0]&4&&(a.original=n[2]),o[0]&8&&(a.record=n[3]),!t&&o[0]&65544&&(t=!0,a.value=n[3][n[87].name],Ye(()=>t=!1)),e.$set(a)},i(s){i||(F(e.$$.fragment,s),i=!0)},o(s){x(e.$$.fragment,s),i=!1},d(s){J(e,s)}}}function Phe(n){let e,t,i;function r(s){n[60](s,n[87])}let l={field:n[87],original:n[2],record:n[3]};return n[3][n[87].name]!==void 0&&(l.value=n[3][n[87].name]),e=new DX({props:l}),ye.push(()=>Ke(e,"value",r)),{c(){ee(e.$$.fragment)},m(s,o){Q(e,s,o),i=!0},p(s,o){n=s;const a={};o[0]&65536&&(a.field=n[87]),o[0]&4&&(a.original=n[2]),o[0]&8&&(a.record=n[3]),!t&&o[0]&65544&&(t=!0,a.value=n[3][n[87].name],Ye(()=>t=!1)),e.$set(a)},i(s){i||(F(e.$$.fragment,s),i=!0)},o(s){x(e.$$.fragment,s),i=!1},d(s){J(e,s)}}}function Fhe(n){let e,t,i;function r(s){n[59](s,n[87])}let l={field:n[87],original:n[2],record:n[3]};return n[3][n[87].name]!==void 0&&(l.value=n[3][n[87].name]),e=new z1e({props:l}),ye.push(()=>Ke(e,"value",r)),{c(){ee(e.$$.fragment)},m(s,o){Q(e,s,o),i=!0},p(s,o){n=s;const a={};o[0]&65536&&(a.field=n[87]),o[0]&4&&(a.original=n[2]),o[0]&8&&(a.record=n[3]),!t&&o[0]&65544&&(t=!0,a.value=n[3][n[87].name],Ye(()=>t=!1)),e.$set(a)},i(s){i||(F(e.$$.fragment,s),i=!0)},o(s){x(e.$$.fragment,s),i=!1},d(s){J(e,s)}}}function $he(n){let e,t,i;function r(s){n[58](s,n[87])}let l={field:n[87],original:n[2],record:n[3]};return n[3][n[87].name]!==void 0&&(l.value=n[3][n[87].name]),e=new QX({props:l}),ye.push(()=>Ke(e,"value",r)),{c(){ee(e.$$.fragment)},m(s,o){Q(e,s,o),i=!0},p(s,o){n=s;const a={};o[0]&65536&&(a.field=n[87]),o[0]&4&&(a.original=n[2]),o[0]&8&&(a.record=n[3]),!t&&o[0]&65544&&(t=!0,a.value=n[3][n[87].name],Ye(()=>t=!1)),e.$set(a)},i(s){i||(F(e.$$.fragment,s),i=!0)},o(s){x(e.$$.fragment,s),i=!1},d(s){J(e,s)}}}function Hhe(n){let e,t,i;function r(s){n[57](s,n[87])}let l={field:n[87],original:n[2],record:n[3]};return n[3][n[87].name]!==void 0&&(l.value=n[3][n[87].name]),e=new lhe({props:l}),ye.push(()=>Ke(e,"value",r)),{c(){ee(e.$$.fragment)},m(s,o){Q(e,s,o),i=!0},p(s,o){n=s;const a={};o[0]&65536&&(a.field=n[87]),o[0]&4&&(a.original=n[2]),o[0]&8&&(a.record=n[3]),!t&&o[0]&65544&&(t=!0,a.value=n[3][n[87].name],Ye(()=>t=!1)),e.$set(a)},i(s){i||(F(e.$$.fragment,s),i=!0)},o(s){x(e.$$.fragment,s),i=!1},d(s){J(e,s)}}}function Bhe(n){let e,t,i;function r(s){n[56](s,n[87])}let l={field:n[87],original:n[2],record:n[3]};return n[3][n[87].name]!==void 0&&(l.value=n[3][n[87].name]),e=new K1e({props:l}),ye.push(()=>Ke(e,"value",r)),{c(){ee(e.$$.fragment)},m(s,o){Q(e,s,o),i=!0},p(s,o){n=s;const a={};o[0]&65536&&(a.field=n[87]),o[0]&4&&(a.original=n[2]),o[0]&8&&(a.record=n[3]),!t&&o[0]&65544&&(t=!0,a.value=n[3][n[87].name],Ye(()=>t=!1)),e.$set(a)},i(s){i||(F(e.$$.fragment,s),i=!0)},o(s){x(e.$$.fragment,s),i=!1},d(s){J(e,s)}}}function xhe(n){let e,t,i;function r(s){n[55](s,n[87])}let l={field:n[87],original:n[2],record:n[3]};return n[3][n[87].name]!==void 0&&(l.value=n[3][n[87].name]),e=new NX({props:l}),ye.push(()=>Ke(e,"value",r)),{c(){ee(e.$$.fragment)},m(s,o){Q(e,s,o),i=!0},p(s,o){n=s;const a={};o[0]&65536&&(a.field=n[87]),o[0]&4&&(a.original=n[2]),o[0]&8&&(a.record=n[3]),!t&&o[0]&65544&&(t=!0,a.value=n[3][n[87].name],Ye(()=>t=!1)),e.$set(a)},i(s){i||(F(e.$$.fragment,s),i=!0)},o(s){x(e.$$.fragment,s),i=!1},d(s){J(e,s)}}}function Uhe(n){let e,t,i;function r(s){n[54](s,n[87])}let l={field:n[87],original:n[2],record:n[3]};return n[3][n[87].name]!==void 0&&(l.value=n[3][n[87].name]),e=new bde({props:l}),ye.push(()=>Ke(e,"value",r)),{c(){ee(e.$$.fragment)},m(s,o){Q(e,s,o),i=!0},p(s,o){n=s;const a={};o[0]&65536&&(a.field=n[87]),o[0]&4&&(a.original=n[2]),o[0]&8&&(a.record=n[3]),!t&&o[0]&65544&&(t=!0,a.value=n[3][n[87].name],Ye(()=>t=!1)),e.$set(a)},i(s){i||(F(e.$$.fragment,s),i=!0)},o(s){x(e.$$.fragment,s),i=!1},d(s){J(e,s)}}}function zhe(n){let e,t,i;function r(s){n[53](s,n[87])}let l={field:n[87],original:n[2],record:n[3]};return n[3][n[87].name]!==void 0&&(l.value=n[3][n[87].name]),e=new the({props:l}),ye.push(()=>Ke(e,"value",r)),{c(){ee(e.$$.fragment)},m(s,o){Q(e,s,o),i=!0},p(s,o){n=s;const a={};o[0]&65536&&(a.field=n[87]),o[0]&4&&(a.original=n[2]),o[0]&8&&(a.record=n[3]),!t&&o[0]&65544&&(t=!0,a.value=n[3][n[87].name],Ye(()=>t=!1)),e.$set(a)},i(s){i||(F(e.$$.fragment,s),i=!0)},o(s){x(e.$$.fragment,s),i=!1},d(s){J(e,s)}}}function K6(n,e){let t,i,r,l,s;const o=[zhe,Uhe,xhe,Bhe,Hhe,$he,Fhe,Phe,Rhe,Dhe,Lhe,Ihe,Mhe,Nhe],a=[];function u(f,c){return f[87].type==="text"?0:f[87].type==="number"?1:f[87].type==="bool"?2:f[87].type==="email"?3:f[87].type==="url"?4:f[87].type==="editor"?5:f[87].type==="markdown"?6:f[87].type==="date"?7:f[87].type==="select"?8:f[87].type==="json"?9:f[87].type==="file"?10:f[87].type==="relation"?11:f[87].type==="password"?12:f[87].type==="geoPoint"?13:-1}return~(i=u(e))&&(r=a[i]=o[i](e)),{key:n,first:null,c(){t=ze(),r&&r.c(),l=ze(),this.first=t},m(f,c){S(f,t,c),~i&&a[i].m(f,c),S(f,l,c),s=!0},p(f,c){e=f;let h=i;i=u(e),i===h?~i&&a[i].p(e,c):(r&&(Ne(),x(a[h],1,1,()=>{a[h]=null}),Me()),~i?(r=a[i],r?r.p(e,c):(r=a[i]=o[i](e),r.c()),F(r,1),r.m(l.parentNode,l)):r=null)},i(f){s||(F(r),s=!0)},o(f){x(r),s=!1},d(f){f&&(E(t),E(l)),~i&&a[i].d(f)}}}function V6(n){let e,t,i;return t=new uX({props:{record:n[3]}}),{c(){e=k("div"),ee(t.$$.fragment),m(e,"class","tab-item"),he(e,"active",n[15]===Gc)},m(r,l){S(r,e,l),Q(t,e,null),i=!0},p(r,l){const s={};l[0]&8&&(s.record=r[3]),t.$set(s),(!i||l[0]&32768)&&he(e,"active",r[15]===Gc)},i(r){i||(F(t.$$.fragment,r),i=!0)},o(r){x(t.$$.fragment,r),i=!1},d(r){r&&E(e),J(t)}}}function qhe(n){let e,t,i,r,l,s,o=[],a=new Map,u,f,c,h,p=!n[8]&&n[12]&&!n[7]&&z6(n);r=new Pe({props:{class:"form-field "+(n[6]?"":"readonly"),name:"id",$$slots:{default:[Ohe,({uniqueId:A})=>({90:A}),({uniqueId:A})=>[0,0,A?268435456:0]]},$$scope:{ctx:n}}});let _=n[9]&&j6(n),v=Re(n[16]);const b=A=>A[87].name;for(let A=0;A<v.length;A+=1){let M=U6(n,v,A),N=b(M);a.set(N,o[A]=K6(N,M))}let y=n[9]&&!n[17]&&!n[6]&&V6(n);return{c(){e=k("div"),t=k("form"),p&&p.c(),i=D(),ee(r.$$.fragment),l=D(),_&&_.c(),s=D();for(let A=0;A<o.length;A+=1)o[A].c();u=D(),y&&y.c(),m(t,"id",n[22]),m(t,"class","tab-item"),he(t,"no-pointer-events",n[7]),he(t,"active",n[15]===Ea),m(e,"class","tabs-content no-animations")},m(A,M){S(A,e,M),T(e,t),p&&p.m(t,null),T(t,i),Q(r,t,null),T(t,l),_&&_.m(t,null),T(t,s);for(let N=0;N<o.length;N+=1)o[N]&&o[N].m(t,null);T(e,u),y&&y.m(e,null),f=!0,c||(h=[se(t,"submit",ln(n[26])),se(t,"keydown",n[31])],c=!0)},p(A,M){!A[8]&&A[12]&&!A[7]?p?(p.p(A,M),M[0]&4480&&F(p,1)):(p=z6(A),p.c(),F(p,1),p.m(t,i)):p&&(Ne(),x(p,1,1,()=>{p=null}),Me());const N={};M[0]&64&&(N.class="form-field "+(A[6]?"":"readonly")),M[0]&524488|M[2]&805306368&&(N.$$scope={dirty:M,ctx:A}),r.$set(N),A[9]?_?(_.p(A,M),M[0]&512&&F(_,1)):(_=j6(A),_.c(),F(_,1),_.m(t,s)):_&&(Ne(),x(_,1,1,()=>{_=null}),Me()),M[0]&65596&&(v=Re(A[16]),Ne(),o=In(o,M,b,1,A,v,a,t,di,K6,null,U6),Me()),(!f||M[0]&128)&&he(t,"no-pointer-events",A[7]),(!f||M[0]&32768)&&he(t,"active",A[15]===Ea),A[9]&&!A[17]&&!A[6]?y?(y.p(A,M),M[0]&131648&&F(y,1)):(y=V6(A),y.c(),F(y,1),y.m(e,null)):y&&(Ne(),x(y,1,1,()=>{y=null}),Me())},i(A){if(!f){F(p),F(r.$$.fragment,A),F(_);for(let M=0;M<v.length;M+=1)F(o[M]);F(y),f=!0}},o(A){x(p),x(r.$$.fragment,A),x(_);for(let M=0;M<o.length;M+=1)x(o[M]);x(y),f=!1},d(A){A&&E(e),p&&p.d(),J(r),_&&_.d();for(let M=0;M<o.length;M+=1)o[M].d();y&&y.d(),c=!1,it(h)}}}function jhe(n){var p;let e,t=n[6]?"New":"Edit",i,r,l,s=((p=n[0])==null?void 0:p.name)+"",o,a,u,f,c,h=!n[6]&&G6(n);return{c(){e=k("h4"),i=le(t),r=D(),l=k("strong"),o=le(s),a=le(" record"),u=D(),h&&h.c(),f=ze(),m(e,"class","panel-title svelte-qc5ngu")},m(_,v){S(_,e,v),T(e,i),T(e,r),T(e,l),T(l,o),T(e,a),S(_,u,v),h&&h.m(_,v),S(_,f,v),c=!0},p(_,v){var b;(!c||v[0]&64)&&t!==(t=_[6]?"New":"Edit")&&Se(i,t),(!c||v[0]&1)&&s!==(s=((b=_[0])==null?void 0:b.name)+"")&&Se(o,s),_[6]?h&&(Ne(),x(h,1,1,()=>{h=null}),Me()):h?(h.p(_,v),v[0]&64&&F(h,1)):(h=G6(_),h.c(),F(h,1),h.m(f.parentNode,f))},i(_){c||(F(h),c=!0)},o(_){x(h),c=!1},d(_){_&&(E(e),E(u),E(f)),h&&h.d(_)}}}function Whe(n){let e,t,i;return{c(){e=k("span"),t=D(),i=k("h4"),i.textContent="Loading...",m(e,"class","loader loader-sm"),m(i,"class","panel-title txt-hint svelte-qc5ngu")},m(r,l){S(r,e,l),S(r,t,l),S(r,i,l)},p:ge,i:ge,o:ge,d(r){r&&(E(e),E(t),E(i))}}}function G6(n){let e,t,i,r,l,s,o;return s=new Ar({props:{class:"dropdown dropdown-right dropdown-nowrap",$$slots:{default:[Khe]},$$scope:{ctx:n}}}),{c(){e=k("div"),t=D(),i=k("div"),r=k("i"),l=D(),ee(s.$$.fragment),m(e,"class","flex-fill"),m(r,"class","ri-more-line"),m(r,"aria-hidden","true"),m(i,"tabindex","0"),m(i,"role","button"),m(i,"aria-label","More record options"),m(i,"class","btn btn-sm btn-circle btn-transparent flex-gap-0")},m(a,u){S(a,e,u),S(a,t,u),S(a,i,u),T(i,r),T(i,l),Q(s,i,null),o=!0},p(a,u){const f={};u[0]&2564|u[2]&536870912&&(f.$$scope={dirty:u,ctx:a}),s.$set(f)},i(a){o||(F(s.$$.fragment,a),o=!0)},o(a){x(s.$$.fragment,a),o=!1},d(a){a&&(E(e),E(t),E(i)),J(s)}}}function Y6(n){let e,t,i;return{c(){e=k("button"),e.innerHTML='<i class="ri-mail-check-line" aria-hidden="true"></i> <span class="txt">Send verification email</span>',m(e,"type","button"),m(e,"class","dropdown-item closable"),m(e,"role","menuitem")},m(r,l){S(r,e,l),t||(i=se(e,"click",n[41]),t=!0)},p:ge,d(r){r&&E(e),t=!1,i()}}}function X6(n){let e,t,i;return{c(){e=k("button"),e.innerHTML='<i class="ri-mail-lock-line" aria-hidden="true"></i> <span class="txt">Send password reset email</span>',m(e,"type","button"),m(e,"class","dropdown-item closable"),m(e,"role","menuitem")},m(r,l){S(r,e,l),t||(i=se(e,"click",n[42]),t=!0)},p:ge,d(r){r&&E(e),t=!1,i()}}}function Z6(n){let e,t,i;return{c(){e=k("button"),e.innerHTML='<i class="ri-id-card-line" aria-hidden="true"></i> <span class="txt">Impersonate</span>',m(e,"type","button"),m(e,"class","dropdown-item closable"),m(e,"role","menuitem")},m(r,l){S(r,e,l),t||(i=se(e,"click",n[43]),t=!0)},p:ge,d(r){r&&E(e),t=!1,i()}}}function Khe(n){let e,t,i,r,l,s,o,a,u,f,c,h,p=n[9]&&!n[2].verified&&n[2].email&&Y6(n),_=n[9]&&n[2].email&&X6(n),v=n[9]&&Z6(n);return{c(){p&&p.c(),e=D(),_&&_.c(),t=D(),v&&v.c(),i=D(),r=k("button"),r.innerHTML='<i class="ri-braces-line" aria-hidden="true"></i> <span class="txt">Copy raw JSON</span>',l=D(),s=k("button"),s.innerHTML='<i class="ri-file-copy-line" aria-hidden="true"></i> <span class="txt">Duplicate</span>',o=D(),a=k("hr"),u=D(),f=k("button"),f.innerHTML='<i class="ri-delete-bin-7-line" aria-hidden="true"></i> <span class="txt">Delete</span>',m(r,"type","button"),m(r,"class","dropdown-item closable"),m(r,"role","menuitem"),m(s,"type","button"),m(s,"class","dropdown-item closable"),m(s,"role","menuitem"),m(f,"type","button"),m(f,"class","dropdown-item txt-danger closable"),m(f,"role","menuitem")},m(b,y){p&&p.m(b,y),S(b,e,y),_&&_.m(b,y),S(b,t,y),v&&v.m(b,y),S(b,i,y),S(b,r,y),S(b,l,y),S(b,s,y),S(b,o,y),S(b,a,y),S(b,u,y),S(b,f,y),c||(h=[se(r,"click",n[44]),se(s,"click",n[45]),se(f,"click",Ai(ln(n[46])))],c=!0)},p(b,y){b[9]&&!b[2].verified&&b[2].email?p?p.p(b,y):(p=Y6(b),p.c(),p.m(e.parentNode,e)):p&&(p.d(1),p=null),b[9]&&b[2].email?_?_.p(b,y):(_=X6(b),_.c(),_.m(t.parentNode,t)):_&&(_.d(1),_=null),b[9]?v?v.p(b,y):(v=Z6(b),v.c(),v.m(i.parentNode,i)):v&&(v.d(1),v=null)},d(b){b&&(E(e),E(t),E(i),E(r),E(l),E(s),E(o),E(a),E(u),E(f)),p&&p.d(b),_&&_.d(b),v&&v.d(b),c=!1,it(h)}}}function Q6(n){let e,t,i,r,l,s;return{c(){e=k("div"),t=k("button"),t.textContent="Account",i=D(),r=k("button"),r.textContent="Authorized providers",m(t,"type","button"),m(t,"class","tab-item"),he(t,"active",n[15]===Ea),m(r,"type","button"),m(r,"class","tab-item"),he(r,"active",n[15]===Gc),m(e,"class","tabs-header stretched")},m(o,a){S(o,e,a),T(e,t),T(e,i),T(e,r),l||(s=[se(t,"click",n[47]),se(r,"click",n[48])],l=!0)},p(o,a){a[0]&32768&&he(t,"active",o[15]===Ea),a[0]&32768&&he(r,"active",o[15]===Gc)},d(o){o&&E(e),l=!1,it(s)}}}function Vhe(n){let e,t,i,r,l;const s=[Whe,jhe],o=[];function a(f,c){return f[7]?0:1}e=a(n),t=o[e]=s[e](n);let u=n[9]&&!n[17]&&!n[6]&&Q6(n);return{c(){t.c(),i=D(),u&&u.c(),r=ze()},m(f,c){o[e].m(f,c),S(f,i,c),u&&u.m(f,c),S(f,r,c),l=!0},p(f,c){let h=e;e=a(f),e===h?o[e].p(f,c):(Ne(),x(o[h],1,1,()=>{o[h]=null}),Me(),t=o[e],t?t.p(f,c):(t=o[e]=s[e](f),t.c()),F(t,1),t.m(i.parentNode,i)),f[9]&&!f[17]&&!f[6]?u?u.p(f,c):(u=Q6(f),u.c(),u.m(r.parentNode,r)):u&&(u.d(1),u=null)},i(f){l||(F(t),l=!0)},o(f){x(t),l=!1},d(f){f&&(E(i),E(r)),o[e].d(f),u&&u.d(f)}}}function J6(n){let e,t,i,r,l,s;return r=new Ar({props:{class:"dropdown dropdown-upside dropdown-right dropdown-nowrap m-b-5",$$slots:{default:[Ghe]},$$scope:{ctx:n}}}),{c(){e=k("button"),t=k("i"),i=D(),ee(r.$$.fragment),m(t,"class","ri-arrow-down-s-line"),m(t,"aria-hidden","true"),m(e,"type","button"),m(e,"class","btn p-l-5 p-r-5 flex-gap-0"),e.disabled=l=!n[18]||n[13]},m(o,a){S(o,e,a),T(e,t),T(e,i),Q(r,e,null),s=!0},p(o,a){const u={};a[2]&536870912&&(u.$$scope={dirty:a,ctx:o}),r.$set(u),(!s||a[0]&270336&&l!==(l=!o[18]||o[13]))&&(e.disabled=l)},i(o){s||(F(r.$$.fragment,o),s=!0)},o(o){x(r.$$.fragment,o),s=!1},d(o){o&&E(e),J(r)}}}function Ghe(n){let e,t,i;return{c(){e=k("button"),e.innerHTML='<span class="txt">Save and continue</span>',m(e,"type","button"),m(e,"class","dropdown-item closable"),m(e,"role","menuitem")},m(r,l){S(r,e,l),t||(i=se(e,"click",n[40]),t=!0)},p:ge,d(r){r&&E(e),t=!1,i()}}}function Yhe(n){let e,t,i,r,l,s,o,a=n[6]?"Create":"Save changes",u,f,c,h,p,_,v=!n[6]&&J6(n);return{c(){e=k("button"),t=k("span"),t.textContent="Cancel",r=D(),l=k("div"),s=k("button"),o=k("span"),u=le(a),c=D(),v&&v.c(),m(t,"class","txt"),m(e,"type","button"),m(e,"class","btn btn-transparent"),e.disabled=i=n[13]||n[7],m(o,"class","txt"),m(s,"type","submit"),m(s,"form",n[22]),m(s,"title","Save and close"),m(s,"class","btn"),s.disabled=f=!n[18]||n[13],he(s,"btn-expanded",n[6]),he(s,"btn-expanded-sm",!n[6]),he(s,"btn-loading",n[13]||n[7]),m(l,"class","btns-group no-gap")},m(b,y){S(b,e,y),T(e,t),S(b,r,y),S(b,l,y),T(l,s),T(s,o),T(o,u),T(l,c),v&&v.m(l,null),h=!0,p||(_=se(e,"click",n[39]),p=!0)},p(b,y){(!h||y[0]&8320&&i!==(i=b[13]||b[7]))&&(e.disabled=i),(!h||y[0]&64)&&a!==(a=b[6]?"Create":"Save changes")&&Se(u,a),(!h||y[0]&270336&&f!==(f=!b[18]||b[13]))&&(s.disabled=f),(!h||y[0]&64)&&he(s,"btn-expanded",b[6]),(!h||y[0]&64)&&he(s,"btn-expanded-sm",!b[6]),(!h||y[0]&8320)&&he(s,"btn-loading",b[13]||b[7]),b[6]?v&&(Ne(),x(v,1,1,()=>{v=null}),Me()):v?(v.p(b,y),y[0]&64&&F(v,1)):(v=J6(b),v.c(),F(v,1),v.m(l,null))},i(b){h||(F(v),h=!0)},o(b){x(v),h=!1},d(b){b&&(E(e),E(r),E(l)),v&&v.d(),p=!1,_()}}}function eE(n){let e,t,i={record:n[3],collection:n[0]};return e=new Ahe({props:i}),n[73](e),{c(){ee(e.$$.fragment)},m(r,l){Q(e,r,l),t=!0},p(r,l){const s={};l[0]&8&&(s.record=r[3]),l[0]&1&&(s.collection=r[0]),e.$set(s)},i(r){t||(F(e.$$.fragment,r),t=!0)},o(r){x(e.$$.fragment,r),t=!1},d(r){n[73](null),J(e,r)}}}function Xhe(n){let e,t,i,r,l={class:`
        record-panel
        `+(n[21]?"overlay-panel-xl":"overlay-panel-lg")+`
        `+(n[20]?"overlay-panel-xl":"")+`
        `+(n[9]&&!n[17]&&!n[6]?"colored-header":"")+`
    `,btnClose:!n[7],escClose:!n[7],overlayClose:!n[7],beforeHide:n[69],$$slots:{footer:[Yhe],header:[Vhe],default:[qhe]},$$scope:{ctx:n}};e=new Mi({props:l}),n[70](e),e.$on("hide",n[71]),e.$on("show",n[72]);let s=n[9]&&eE(n);return{c(){ee(e.$$.fragment),t=D(),s&&s.c(),i=ze()},m(o,a){Q(e,o,a),S(o,t,a),s&&s.m(o,a),S(o,i,a),r=!0},p(o,a){const u={};a[0]&3277376&&(u.class=`
        record-panel
        `+(o[21]?"overlay-panel-xl":"overlay-panel-lg")+`
        `+(o[20]?"overlay-panel-xl":"")+`
        `+(o[9]&&!o[17]&&!o[6]?"colored-header":"")+`
    `),a[0]&128&&(u.btnClose=!o[7]),a[0]&128&&(u.escClose=!o[7]),a[0]&128&&(u.overlayClose=!o[7]),a[0]&16640&&(u.beforeHide=o[69]),a[0]&1031165|a[2]&536870912&&(u.$$scope={dirty:a,ctx:o}),e.$set(u),o[9]?s?(s.p(o,a),a[0]&512&&F(s,1)):(s=eE(o),s.c(),F(s,1),s.m(i.parentNode,i)):s&&(Ne(),x(s,1,1,()=>{s=null}),Me())},i(o){r||(F(e.$$.fragment,o),F(s),r=!0)},o(o){x(e.$$.fragment,o),x(s),r=!1},d(o){o&&(E(t),E(i)),n[70](null),J(e,o),s&&s.d(o)}}}const Ea="form",Gc="providers";function Zhe(n,e,t){let i,r,l,s,o,a,u,f,c;const h=Sn(),p="record_"+re.randomString(5);let{collection:_}=e,v,b,y={},A={},M=null,N=!1,L=!1,I={},R={},$=JSON.stringify(y),B=$,H=Ea,q=!0,z=!0,j=_,W=[];const G=["id"],ie=G.concat("email","emailVisibility","verified","tokenKey","password");function te(Oe){return _e(Oe),t(14,L=!0),t(15,H=Ea),v==null?void 0:v.show()}function ae(){return v==null?void 0:v.hide()}function ue(){t(14,L=!1),ae()}function K(){t(36,j=_),v!=null&&v.isActive()&&(St(JSON.stringify(A)),ue())}async function X(Oe){if(!Oe)return null;let st=typeof Oe=="string"?Oe:Oe==null?void 0:Oe.id;if(st)try{return await xe.collection(_.id).getOne(st)}catch(_n){_n.isAbort||(ue(),console.warn("resolveModel:",_n),Ts(`Unable to load record with id "${st}"`))}return typeof Oe=="object"?Oe:null}async function _e(Oe){t(7,z=!0),mi({}),t(4,I={}),t(5,R={}),t(2,y=typeof Oe=="string"?{id:Oe,collectionId:_==null?void 0:_.id,collectionName:_==null?void 0:_.name}:Oe||{}),t(3,A=structuredClone(y)),t(2,y=await X(Oe)||{}),t(3,A=structuredClone(y)),await Ni(),t(12,M=lt()),!M||At(A,M)?t(12,M=null):(delete M.password,delete M.passwordConfirm),t(34,$=JSON.stringify(A)),t(7,z=!1)}async function oe(Oe){var _n,hn;mi({}),t(2,y=Oe||{}),t(4,I={}),t(5,R={});const st=((hn=(_n=_==null?void 0:_.fields)==null?void 0:_n.filter(nn=>nn.type!="file"))==null?void 0:hn.map(nn=>nn.name))||[];for(let nn in Oe)st.includes(nn)||t(3,A[nn]=Oe[nn],A);await Ni(),t(34,$=JSON.stringify(A)),ot()}function Le(){return"record_draft_"+((_==null?void 0:_.id)||"")+"_"+((y==null?void 0:y.id)||"")}function lt(Oe){try{const st=window.localStorage.getItem(Le());if(st)return JSON.parse(st)}catch{}return Oe}function St(Oe){try{window.localStorage.setItem(Le(),Oe)}catch(st){console.warn("updateDraft failure:",st),window.localStorage.removeItem(Le())}}function bt(){M&&(t(3,A=M),t(12,M=null))}function At(Oe,st){var Ui;const _n=structuredClone(Oe||{}),hn=structuredClone(st||{}),nn=(Ui=_==null?void 0:_.fields)==null?void 0:Ui.filter(Gi=>Gi.type==="file");for(let Gi of nn)delete _n[Gi.name],delete hn[Gi.name];const xi=["expand","password","passwordConfirm"];for(let Gi of xi)delete _n[Gi],delete hn[Gi];return JSON.stringify(_n)==JSON.stringify(hn)}function ot(){t(12,M=null),window.localStorage.removeItem(Le())}async function vt(Oe=!0){var st;if(!(N||!f||!(_!=null&&_.id))){t(13,N=!0);try{const _n=pt();let hn;if(q?hn=await xe.collection(_.id).create(_n):hn=await xe.collection(_.id).update(A.id,_n),Oi(q?"Successfully created record.":"Successfully updated record."),ot(),r&&(A==null?void 0:A.id)==((st=xe.authStore.record)==null?void 0:st.id)&&_n.get("password"))return xe.logout();Oe?ue():oe(hn),h("save",{isNew:q,record:hn})}catch(_n){xe.error(_n)}t(13,N=!1)}}function zt(){y!=null&&y.id&&ar("Do you really want to delete the selected record?",()=>xe.collection(y.collectionId).delete(y.id).then(()=>{ue(),Oi("Successfully deleted record."),h("delete",y)}).catch(Oe=>{xe.error(Oe)}))}function pt(){const Oe=structuredClone(A||{}),st=new FormData,_n={},hn={};for(const nn of(_==null?void 0:_.fields)||[])nn.type=="autodate"||i&&nn.type=="password"||(_n[nn.name]=!0,nn.type=="json"&&(hn[nn.name]=!0));i&&Oe.password&&(_n.password=!0),i&&Oe.passwordConfirm&&(_n.passwordConfirm=!0);for(const nn in Oe)if(_n[nn]){if(typeof Oe[nn]>"u"&&(Oe[nn]=null),hn[nn]&&Oe[nn]!=="")try{JSON.parse(Oe[nn])}catch(xi){const Ui={};throw Ui[nn]={code:"invalid_json",message:xi.toString()},new Kr({status:400,response:{data:Ui}})}re.addValueToFormData(st,nn,Oe[nn])}for(const nn in I){const xi=re.toArray(I[nn]);for(const Ui of xi)st.append(nn+"+",Ui)}for(const nn in R){const xi=re.toArray(R[nn]);for(const Ui of xi)st.append(nn+"-",Ui)}return st}function $e(){!(_!=null&&_.id)||!(y!=null&&y.email)||ar(`Do you really want to sent verification email to ${y.email}?`,()=>xe.collection(_.id).requestVerification(y.email).then(()=>{Oi(`Successfully sent verification email to ${y.email}.`)}).catch(Oe=>{xe.error(Oe)}))}function Bt(){!(_!=null&&_.id)||!(y!=null&&y.email)||ar(`Do you really want to sent password reset email to ${y.email}?`,()=>xe.collection(_.id).requestPasswordReset(y.email).then(()=>{Oi(`Successfully sent password reset email to ${y.email}.`)}).catch(Oe=>{xe.error(Oe)}))}function Ze(){u?ar("You have unsaved changes. Do you really want to discard them?",()=>{dt()}):dt()}async function dt(){let Oe=y?structuredClone(y):null;if(Oe){const st=["file","autodate"],_n=(_==null?void 0:_.fields)||[];for(const hn of _n)st.includes(hn.type)&&delete Oe[hn.name];Oe.id=""}ot(),te(Oe),await Ni(),t(34,$="")}function Fe(Oe){(Oe.ctrlKey||Oe.metaKey)&&Oe.code=="KeyS"&&(Oe.preventDefault(),Oe.stopPropagation(),vt(!1))}function Ft(){re.copyToClipboard(JSON.stringify(y,null,2)),Dc("The record JSON was copied to your clipboard!",3e3)}const cn=()=>ae(),Ee=()=>vt(!1),Ue=()=>$e(),sn=()=>Bt(),gn=()=>b==null?void 0:b.show(),Zt=()=>Ft(),Xe=()=>Ze(),Kt=()=>zt(),Ie=()=>t(15,H=Ea),Je=()=>t(15,H=Gc),Dt=()=>bt(),Jt=()=>ot();function on(){A.id=this.value,t(3,A)}function at(Oe){A=Oe,t(3,A)}function ti(Oe,st){n.$$.not_equal(A[st.name],Oe)&&(A[st.name]=Oe,t(3,A))}function De(Oe,st){n.$$.not_equal(A[st.name],Oe)&&(A[st.name]=Oe,t(3,A))}function et(Oe,st){n.$$.not_equal(A[st.name],Oe)&&(A[st.name]=Oe,t(3,A))}function Ot(Oe,st){n.$$.not_equal(A[st.name],Oe)&&(A[st.name]=Oe,t(3,A))}function xt(Oe,st){n.$$.not_equal(A[st.name],Oe)&&(A[st.name]=Oe,t(3,A))}function qt(Oe,st){n.$$.not_equal(A[st.name],Oe)&&(A[st.name]=Oe,t(3,A))}function yn(Oe,st){n.$$.not_equal(A[st.name],Oe)&&(A[st.name]=Oe,t(3,A))}function Nn(Oe,st){n.$$.not_equal(A[st.name],Oe)&&(A[st.name]=Oe,t(3,A))}function fi(Oe,st){n.$$.not_equal(A[st.name],Oe)&&(A[st.name]=Oe,t(3,A))}function el(Oe,st){n.$$.not_equal(A[st.name],Oe)&&(A[st.name]=Oe,t(3,A))}function wi(Oe,st){n.$$.not_equal(A[st.name],Oe)&&(A[st.name]=Oe,t(3,A))}function ce(Oe,st){n.$$.not_equal(I[st.name],Oe)&&(I[st.name]=Oe,t(4,I))}function me(Oe,st){n.$$.not_equal(R[st.name],Oe)&&(R[st.name]=Oe,t(5,R))}function Ce(Oe,st){n.$$.not_equal(A[st.name],Oe)&&(A[st.name]=Oe,t(3,A))}function Ve(Oe,st){n.$$.not_equal(A[st.name],Oe)&&(A[st.name]=Oe,t(3,A))}function ht(Oe,st){n.$$.not_equal(A[st.name],Oe)&&(A[st.name]=Oe,t(3,A))}const Ct=()=>u&&L?(ar("You have unsaved changes. Do you really want to close the panel?",()=>{ue()}),!1):(mi({}),ot(),!0);function an(Oe){ye[Oe?"unshift":"push"](()=>{v=Oe,t(10,v)})}function Rt(Oe){ut.call(this,n,Oe)}function dn(Oe){ut.call(this,n,Oe)}function Pt(Oe){ye[Oe?"unshift":"push"](()=>{b=Oe,t(11,b)})}return n.$$set=Oe=>{"collection"in Oe&&t(0,_=Oe.collection)},n.$$.update=()=>{var Oe,st,_n,hn;n.$$.dirty[0]&1&&t(9,i=(_==null?void 0:_.type)==="auth"),n.$$.dirty[0]&1&&t(17,r=(_==null?void 0:_.name)==="_superusers"),n.$$.dirty[0]&1&&t(21,l=!!((Oe=_==null?void 0:_.fields)!=null&&Oe.find(nn=>nn.type==="editor"))),n.$$.dirty[0]&1&&t(20,s=!!((st=_==null?void 0:_.fields)!=null&&st.find(nn=>nn.type==="markdown"))),n.$$.dirty[0]&1&&t(19,o=(_n=_==null?void 0:_.fields)==null?void 0:_n.find(nn=>nn.name==="id")),n.$$.dirty[0]&48&&t(38,a=re.hasNonEmptyProps(I)||re.hasNonEmptyProps(R)),n.$$.dirty[0]&8&&t(35,B=JSON.stringify(A)),n.$$.dirty[1]&152&&t(8,u=a||$!=B),n.$$.dirty[0]&4&&t(6,q=!y||!y.id),n.$$.dirty[0]&448&&t(18,f=!z&&(q||u)),n.$$.dirty[0]&128|n.$$.dirty[1]&16&&(z||St(B)),n.$$.dirty[0]&1|n.$$.dirty[1]&32&&_&&(j==null?void 0:j.id)!=(_==null?void 0:_.id)&&K(),n.$$.dirty[0]&512&&t(37,c=i?ie:G),n.$$.dirty[0]&1|n.$$.dirty[1]&64&&t(16,W=((hn=_==null?void 0:_.fields)==null?void 0:hn.filter(nn=>!c.includes(nn.name)&&nn.type!="autodate"))||[])},[_,ae,y,A,I,R,q,z,u,i,v,b,M,N,L,H,W,r,f,o,s,l,p,ue,bt,ot,vt,zt,$e,Bt,Ze,Fe,Ft,te,$,B,j,c,a,cn,Ee,Ue,sn,gn,Zt,Xe,Kt,Ie,Je,Dt,Jt,on,at,ti,De,et,Ot,xt,qt,yn,Nn,fi,el,wi,ce,me,Ce,Ve,ht,Ct,an,Rt,dn,Pt]}class pb extends je{constructor(e){super(),qe(this,e,Zhe,Xhe,We,{collection:0,show:33,hide:1},null,[-1,-1,-1])}get show(){return this.$$.ctx[33]}get hide(){return this.$$.ctx[1]}}function Qhe(n){let e,t,i,r,l=(n[2]?"...":n[0])+"",s,o;return{c(){e=k("div"),t=k("span"),t.textContent="Total found:",i=D(),r=k("span"),s=le(l),m(t,"class","txt"),m(r,"class","txt"),m(e,"class",o="inline-flex flex-gap-5 records-counter "+n[1])},m(a,u){S(a,e,u),T(e,t),T(e,i),T(e,r),T(r,s)},p(a,[u]){u&5&&l!==(l=(a[2]?"...":a[0])+"")&&Se(s,l),u&2&&o!==(o="inline-flex flex-gap-5 records-counter "+a[1])&&m(e,"class",o)},i:ge,o:ge,d(a){a&&E(e)}}}function Jhe(n,e,t){const i=Sn();let{collection:r}=e,{filter:l=""}=e,{totalCount:s=0}=e,{class:o=void 0}=e,a=!1;async function u(){if(r!=null&&r.id){t(2,a=!0),t(0,s=0);try{const f=re.getAllCollectionIdentifiers(r),c=await xe.collection(r.id).getList(1,1,{filter:re.normalizeSearchFilter(l,f),fields:"id",requestKey:"records_count"});t(0,s=c.totalItems),i("count",s),t(2,a=!1)}catch(f){f!=null&&f.isAbort||(t(2,a=!1),console.warn(f))}}}return n.$$set=f=>{"collection"in f&&t(3,r=f.collection),"filter"in f&&t(4,l=f.filter),"totalCount"in f&&t(0,s=f.totalCount),"class"in f&&t(1,o=f.class)},n.$$.update=()=>{n.$$.dirty&24&&r!=null&&r.id&&l!==-1&&u()},[s,o,a,r,l,u]}class epe extends je{constructor(e){super(),qe(this,e,Jhe,Qhe,We,{collection:3,filter:4,totalCount:0,class:1,reload:5})}get reload(){return this.$$.ctx[5]}}function tE(n,e,t){const i=n.slice();return i[58]=e[t],i}function nE(n,e,t){const i=n.slice();return i[61]=e[t],i}function iE(n,e,t){const i=n.slice();return i[61]=e[t],i}function rE(n,e,t){const i=n.slice();return i[54]=e[t],i}function lE(n){let e;function t(l,s){return l[9]?npe:tpe}let i=t(n),r=i(n);return{c(){e=k("th"),r.c(),m(e,"class","bulk-select-col min-width")},m(l,s){S(l,e,s),r.m(e,null)},p(l,s){i===(i=t(l))&&r?r.p(l,s):(r.d(1),r=i(l),r&&(r.c(),r.m(e,null)))},d(l){l&&E(e),r.d()}}}function tpe(n){let e,t,i,r,l,s,o;return{c(){e=k("div"),t=k("input"),r=D(),l=k("label"),m(t,"type","checkbox"),m(t,"id","checkbox_0"),t.disabled=i=!n[3].length,t.checked=n[13],m(l,"for","checkbox_0"),m(e,"class","form-field")},m(a,u){S(a,e,u),T(e,t),T(e,r),T(e,l),s||(o=se(t,"change",n[31]),s=!0)},p(a,u){u[0]&8&&i!==(i=!a[3].length)&&(t.disabled=i),u[0]&8192&&(t.checked=a[13])},d(a){a&&E(e),s=!1,o()}}}function npe(n){let e;return{c(){e=k("span"),m(e,"class","loader loader-sm")},m(t,i){S(t,e,i)},p:ge,d(t){t&&E(e)}}}function ipe(n){let e,t;return{c(){e=k("i"),m(e,"class",t=re.getFieldTypeIcon(n[61].type))},m(i,r){S(i,e,r)},p(i,r){r[0]&32768&&t!==(t=re.getFieldTypeIcon(i[61].type))&&m(e,"class",t)},d(i){i&&E(e)}}}function rpe(n){let e;return{c(){e=k("i"),m(e,"class",re.getFieldTypeIcon("primary"))},m(t,i){S(t,e,i)},p:ge,d(t){t&&E(e)}}}function lpe(n){let e,t,i,r=n[61].name+"",l;function s(u,f){return u[61].primaryKey?rpe:ipe}let o=s(n),a=o(n);return{c(){e=k("div"),a.c(),t=D(),i=k("span"),l=le(r),m(i,"class","txt"),m(e,"class","col-header-content")},m(u,f){S(u,e,f),a.m(e,null),T(e,t),T(e,i),T(i,l)},p(u,f){o===(o=s(u))&&a?a.p(u,f):(a.d(1),a=o(u),a&&(a.c(),a.m(e,t))),f[0]&32768&&r!==(r=u[61].name+"")&&Se(l,r)},d(u){u&&E(e),a.d()}}}function sE(n,e){let t,i,r,l;function s(a){e[32](a)}let o={class:"col-type-"+e[61].type+" col-field-"+e[61].name,name:e[61].name,$$slots:{default:[lpe]},$$scope:{ctx:e}};return e[0]!==void 0&&(o.sort=e[0]),i=new jd({props:o}),ye.push(()=>Ke(i,"sort",s)),{key:n,first:null,c(){t=ze(),ee(i.$$.fragment),this.first=t},m(a,u){S(a,t,u),Q(i,a,u),l=!0},p(a,u){e=a;const f={};u[0]&32768&&(f.class="col-type-"+e[61].type+" col-field-"+e[61].name),u[0]&32768&&(f.name=e[61].name),u[0]&32768|u[2]&16&&(f.$$scope={dirty:u,ctx:e}),!r&&u[0]&1&&(r=!0,f.sort=e[0],Ye(()=>r=!1)),i.$set(f)},i(a){l||(F(i.$$.fragment,a),l=!0)},o(a){x(i.$$.fragment,a),l=!1},d(a){a&&E(t),J(i,a)}}}function oE(n){let e;return{c(){e=k("button"),e.innerHTML='<i class="ri-more-line"></i>',m(e,"type","button"),m(e,"aria-label","Toggle columns"),m(e,"class","btn btn-sm btn-transparent p-0")},m(t,i){S(t,e,i),n[33](e)},p:ge,d(t){t&&E(e),n[33](null)}}}function aE(n){let e;function t(l,s){return l[9]?ope:spe}let i=t(n),r=i(n);return{c(){r.c(),e=ze()},m(l,s){r.m(l,s),S(l,e,s)},p(l,s){i===(i=t(l))&&r?r.p(l,s):(r.d(1),r=i(l),r&&(r.c(),r.m(e.parentNode,e)))},d(l){l&&E(e),r.d(l)}}}function spe(n){let e,t,i,r;function l(a,u){var f;if((f=a[1])!=null&&f.length)return upe;if(!a[16])return ape}let s=l(n),o=s&&s(n);return{c(){e=k("tr"),t=k("td"),i=k("h6"),i.textContent="No records found.",r=D(),o&&o.c(),m(t,"colspan","99"),m(t,"class","txt-center txt-hint p-xs")},m(a,u){S(a,e,u),T(e,t),T(t,i),T(t,r),o&&o.m(t,null)},p(a,u){s===(s=l(a))&&o?o.p(a,u):(o&&o.d(1),o=s&&s(a),o&&(o.c(),o.m(t,null)))},d(a){a&&E(e),o&&o.d()}}}function ope(n){let e;return{c(){e=k("tr"),e.innerHTML='<td colspan="99" class="p-xs"><span class="skeleton-loader m-0"></span></td>'},m(t,i){S(t,e,i)},p:ge,d(t){t&&E(e)}}}function ape(n){let e,t,i;return{c(){e=k("button"),e.innerHTML='<i class="ri-add-line"></i> <span class="txt">New record</span>',m(e,"type","button"),m(e,"class","btn btn-secondary btn-expanded m-t-sm")},m(r,l){S(r,e,l),t||(i=se(e,"click",n[38]),t=!0)},p:ge,d(r){r&&E(e),t=!1,i()}}}function upe(n){let e,t,i;return{c(){e=k("button"),e.innerHTML='<span class="txt">Clear filters</span>',m(e,"type","button"),m(e,"class","btn btn-hint btn-expanded m-t-sm")},m(r,l){S(r,e,l),t||(i=se(e,"click",n[37]),t=!0)},p:ge,d(r){r&&E(e),t=!1,i()}}}function uE(n){let e,t,i,r,l,s,o,a,u,f;function c(){return n[34](n[58])}return{c(){e=k("td"),t=k("div"),i=k("input"),s=D(),o=k("label"),m(i,"type","checkbox"),m(i,"id",r="checkbox_"+n[58].id),i.checked=l=n[4][n[58].id],m(o,"for",a="checkbox_"+n[58].id),m(t,"class","form-field"),m(e,"class","bulk-select-col min-width")},m(h,p){S(h,e,p),T(e,t),T(t,i),T(t,s),T(t,o),u||(f=[se(i,"change",c),se(t,"click",Ai(n[29]))],u=!0)},p(h,p){n=h,p[0]&8&&r!==(r="checkbox_"+n[58].id)&&m(i,"id",r),p[0]&24&&l!==(l=n[4][n[58].id])&&(i.checked=l),p[0]&8&&a!==(a="checkbox_"+n[58].id)&&m(o,"for",a)},d(h){h&&E(e),u=!1,it(f)}}}function fE(n,e){let t,i,r,l;return i=new LA({props:{short:!0,record:e[58],field:e[61]}}),{key:n,first:null,c(){t=k("td"),ee(i.$$.fragment),m(t,"class",r="col-type-"+e[61].type+" col-field-"+e[61].name),this.first=t},m(s,o){S(s,t,o),Q(i,t,null),l=!0},p(s,o){e=s;const a={};o[0]&8&&(a.record=e[58]),o[0]&32768&&(a.field=e[61]),i.$set(a),(!l||o[0]&32768&&r!==(r="col-type-"+e[61].type+" col-field-"+e[61].name))&&m(t,"class",r)},i(s){l||(F(i.$$.fragment,s),l=!0)},o(s){x(i.$$.fragment,s),l=!1},d(s){s&&E(t),J(i)}}}function cE(n,e){let t,i,r=[],l=new Map,s,o,a,u,f,c=!e[16]&&uE(e),h=Re(e[15]);const p=b=>b[61].id;for(let b=0;b<h.length;b+=1){let y=nE(e,h,b),A=p(y);l.set(A,r[b]=fE(A,y))}function _(){return e[35](e[58])}function v(...b){return e[36](e[58],...b)}return{key:n,first:null,c(){t=k("tr"),c&&c.c(),i=D();for(let b=0;b<r.length;b+=1)r[b].c();s=D(),o=k("td"),o.innerHTML='<i class="ri-arrow-right-line"></i>',m(o,"class","col-type-action min-width"),m(t,"tabindex","0"),m(t,"class","row-handle"),this.first=t},m(b,y){S(b,t,y),c&&c.m(t,null),T(t,i);for(let A=0;A<r.length;A+=1)r[A]&&r[A].m(t,null);T(t,s),T(t,o),a=!0,u||(f=[se(t,"click",_),se(t,"keydown",v)],u=!0)},p(b,y){e=b,e[16]?c&&(c.d(1),c=null):c?c.p(e,y):(c=uE(e),c.c(),c.m(t,i)),y[0]&32776&&(h=Re(e[15]),Ne(),r=In(r,y,p,1,e,h,l,t,di,fE,s,nE),Me())},i(b){if(!a){for(let y=0;y<h.length;y+=1)F(r[y]);a=!0}},o(b){for(let y=0;y<r.length;y+=1)x(r[y]);a=!1},d(b){b&&E(t),c&&c.d();for(let y=0;y<r.length;y+=1)r[y].d();u=!1,it(f)}}}function dE(n){let e,t,i,r,l,s;return{c(){e=k("tr"),t=k("td"),i=k("button"),r=k("span"),r.textContent="Load more",m(r,"class","txt"),m(i,"class","btn btn-expanded-lg btn-secondary btn-horizontal-sticky"),i.disabled=n[9],he(i,"btn-loading",n[9]),m(t,"colspan","99"),m(t,"class","txt-center")},m(o,a){S(o,e,a),T(e,t),T(t,i),T(i,r),l||(s=se(i,"click",ln(n[39])),l=!0)},p(o,a){a[0]&512&&(i.disabled=o[9]),a[0]&512&&he(i,"btn-loading",o[9])},d(o){o&&E(e),l=!1,s()}}}function fpe(n){let e,t,i,r,l=[],s=new Map,o,a,u,f,c=[],h=new Map,p,_,v=!n[16]&&lE(n),b=Re(n[15]);const y=R=>R[61].id;for(let R=0;R<b.length;R+=1){let $=iE(n,b,R),B=y($);s.set(B,l[R]=sE(B,$))}let A=n[12].length&&oE(n),M=Re(n[3]);const N=R=>R[16]?R[58]:R[58].id;for(let R=0;R<M.length;R+=1){let $=tE(n,M,R),B=N($);h.set(B,c[R]=cE(B,$))}let L=null;M.length||(L=aE(n));let I=n[3].length&&n[14]&&dE(n);return{c(){e=k("table"),t=k("thead"),i=k("tr"),v&&v.c(),r=D();for(let R=0;R<l.length;R+=1)l[R].c();o=D(),a=k("th"),A&&A.c(),u=D(),f=k("tbody");for(let R=0;R<c.length;R+=1)c[R].c();L&&L.c(),p=D(),I&&I.c(),m(a,"class","col-type-action min-width"),m(e,"class","table"),he(e,"table-loading",n[9])},m(R,$){S(R,e,$),T(e,t),T(t,i),v&&v.m(i,null),T(i,r);for(let B=0;B<l.length;B+=1)l[B]&&l[B].m(i,null);T(i,o),T(i,a),A&&A.m(a,null),T(e,u),T(e,f);for(let B=0;B<c.length;B+=1)c[B]&&c[B].m(f,null);L&&L.m(f,null),T(f,p),I&&I.m(f,null),_=!0},p(R,$){R[16]?v&&(v.d(1),v=null):v?v.p(R,$):(v=lE(R),v.c(),v.m(i,r)),$[0]&32769&&(b=Re(R[15]),Ne(),l=In(l,$,y,1,R,b,s,i,di,sE,o,iE),Me()),R[12].length?A?A.p(R,$):(A=oE(R),A.c(),A.m(a,null)):A&&(A.d(1),A=null),$[0]&1278490&&(M=Re(R[3]),Ne(),c=In(c,$,N,1,R,M,h,f,di,cE,p,tE),Me(),!M.length&&L?L.p(R,$):M.length?L&&(L.d(1),L=null):(L=aE(R),L.c(),L.m(f,p))),R[3].length&&R[14]?I?I.p(R,$):(I=dE(R),I.c(),I.m(f,null)):I&&(I.d(1),I=null),(!_||$[0]&512)&&he(e,"table-loading",R[9])},i(R){if(!_){for(let $=0;$<b.length;$+=1)F(l[$]);for(let $=0;$<M.length;$+=1)F(c[$]);_=!0}},o(R){for(let $=0;$<l.length;$+=1)x(l[$]);for(let $=0;$<c.length;$+=1)x(c[$]);_=!1},d(R){R&&E(e),v&&v.d();for(let $=0;$<l.length;$+=1)l[$].d();A&&A.d();for(let $=0;$<c.length;$+=1)c[$].d();L&&L.d(),I&&I.d()}}}function hE(n){let e,t;return e=new Ar({props:{class:"dropdown dropdown-right dropdown-nowrap columns-dropdown",trigger:n[11],$$slots:{default:[dpe]},$$scope:{ctx:n}}}),{c(){ee(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,r){const l={};r[0]&2048&&(l.trigger=i[11]),r[0]&4128|r[2]&16&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){x(e.$$.fragment,i),t=!1},d(i){J(e,i)}}}function cpe(n){let e,t,i,r,l,s=n[54].name+"",o,a,u,f,c;function h(...p){return n[30](n[54],...p)}return{c(){e=k("input"),r=D(),l=k("label"),o=le(s),u=D(),m(e,"type","checkbox"),m(e,"id",t=n[57]),e.checked=i=!n[5].includes(n[54].id),m(l,"for",a=n[57])},m(p,_){S(p,e,_),S(p,r,_),S(p,l,_),T(l,o),S(p,u,_),f||(c=se(e,"change",h),f=!0)},p(p,_){n=p,_[1]&67108864&&t!==(t=n[57])&&m(e,"id",t),_[0]&4128&&i!==(i=!n[5].includes(n[54].id))&&(e.checked=i),_[0]&4096&&s!==(s=n[54].name+"")&&Se(o,s),_[1]&67108864&&a!==(a=n[57])&&m(l,"for",a)},d(p){p&&(E(e),E(r),E(l),E(u)),f=!1,c()}}}function pE(n,e){let t,i,r;return i=new Pe({props:{class:"form-field form-field-sm form-field-toggle m-0 p-5",$$slots:{default:[cpe,({uniqueId:l})=>({57:l}),({uniqueId:l})=>[0,l?67108864:0]]},$$scope:{ctx:e}}}),{key:n,first:null,c(){t=ze(),ee(i.$$.fragment),this.first=t},m(l,s){S(l,t,s),Q(i,l,s),r=!0},p(l,s){e=l;const o={};s[0]&4128|s[1]&67108864|s[2]&16&&(o.$$scope={dirty:s,ctx:e}),i.$set(o)},i(l){r||(F(i.$$.fragment,l),r=!0)},o(l){x(i.$$.fragment,l),r=!1},d(l){l&&E(t),J(i,l)}}}function dpe(n){let e,t,i=[],r=new Map,l,s,o=Re(n[12]);const a=u=>u[54].id+u[54].name;for(let u=0;u<o.length;u+=1){let f=rE(n,o,u),c=a(f);r.set(c,i[u]=pE(c,f))}return{c(){e=k("div"),e.textContent="Toggle columns",t=D();for(let u=0;u<i.length;u+=1)i[u].c();l=ze(),m(e,"class","txt-hint txt-sm p-5 m-b-5")},m(u,f){S(u,e,f),S(u,t,f);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(u,f);S(u,l,f),s=!0},p(u,f){f[0]&4128|f[1]&67108864&&(o=Re(u[12]),Ne(),i=In(i,f,a,1,u,o,r,l.parentNode,di,pE,l,rE),Me())},i(u){if(!s){for(let f=0;f<o.length;f+=1)F(i[f]);s=!0}},o(u){for(let f=0;f<i.length;f+=1)x(i[f]);s=!1},d(u){u&&(E(e),E(t),E(l));for(let f=0;f<i.length;f+=1)i[f].d(u)}}}function hpe(n){let e,t,i=n[11]&&hE(n);return{c(){i&&i.c(),e=ze()},m(r,l){i&&i.m(r,l),S(r,e,l),t=!0},p(r,l){r[11]?i?(i.p(r,l),l[0]&2048&&F(i,1)):(i=hE(r),i.c(),F(i,1),i.m(e.parentNode,e)):i&&(Ne(),x(i,1,1,()=>{i=null}),Me())},i(r){t||(F(i),t=!0)},o(r){x(i),t=!1},d(r){r&&E(e),i&&i.d(r)}}}function mE(n){let e,t,i,r,l,s,o=n[6]===1?"record":"records",a,u,f,c,h,p,_,v,b,y,A;return{c(){e=k("div"),t=k("div"),i=le("Selected "),r=k("strong"),l=le(n[6]),s=D(),a=le(o),u=D(),f=k("button"),f.innerHTML='<span class="txt">Reset</span>',c=D(),h=k("div"),p=D(),_=k("button"),_.innerHTML='<span class="txt">Delete selected</span>',m(t,"class","txt"),m(f,"type","button"),m(f,"class","btn btn-xs btn-transparent btn-outline p-l-5 p-r-5"),he(f,"btn-disabled",n[10]),m(h,"class","flex-fill"),m(_,"type","button"),m(_,"class","btn btn-sm btn-transparent btn-danger"),he(_,"btn-loading",n[10]),he(_,"btn-disabled",n[10]),m(e,"class","bulkbar")},m(M,N){S(M,e,N),T(e,t),T(t,i),T(t,r),T(r,l),T(t,s),T(t,a),T(e,u),T(e,f),T(e,c),T(e,h),T(e,p),T(e,_),b=!0,y||(A=[se(f,"click",n[41]),se(_,"click",n[42])],y=!0)},p(M,N){(!b||N[0]&64)&&Se(l,M[6]),(!b||N[0]&64)&&o!==(o=M[6]===1?"record":"records")&&Se(a,o),(!b||N[0]&1024)&&he(f,"btn-disabled",M[10]),(!b||N[0]&1024)&&he(_,"btn-loading",M[10]),(!b||N[0]&1024)&&he(_,"btn-disabled",M[10])},i(M){b||(M&&tn(()=>{b&&(v||(v=Et(e,Yr,{duration:150,y:5},!0)),v.run(1))}),b=!0)},o(M){M&&(v||(v=Et(e,Yr,{duration:150,y:5},!1)),v.run(0)),b=!1},d(M){M&&E(e),M&&v&&v.end(),y=!1,it(A)}}}function ppe(n){let e,t,i,r,l={class:"table-wrapper",$$slots:{before:[hpe],default:[fpe]},$$scope:{ctx:n}};e=new a_({props:l}),n[40](e);let s=n[6]&&mE(n);return{c(){ee(e.$$.fragment),t=D(),s&&s.c(),i=ze()},m(o,a){Q(e,o,a),S(o,t,a),s&&s.m(o,a),S(o,i,a),r=!0},p(o,a){const u={};a[0]&129851|a[2]&16&&(u.$$scope={dirty:a,ctx:o}),e.$set(u),o[6]?s?(s.p(o,a),a[0]&64&&F(s,1)):(s=mE(o),s.c(),F(s,1),s.m(i.parentNode,i)):s&&(Ne(),x(s,1,1,()=>{s=null}),Me())},i(o){r||(F(e.$$.fragment,o),F(s),r=!0)},o(o){x(e.$$.fragment,o),x(s),r=!1},d(o){o&&(E(t),E(i)),n[40](null),J(e,o),s&&s.d(o)}}}const mpe=/^([\+\-])?(\w+)$/,gE=40;function gpe(n,e,t){let i,r,l,s,o,a,u,f,c,h,p;Wt(n,Or,Ue=>t(47,h=Ue)),Wt(n,Rc,Ue=>t(28,p=Ue));const _=Sn();let{collection:v}=e,{sort:b=""}=e,{filter:y=""}=e,A,M=[],N=1,L=0,I={},R=!0,$=!1,B=0,H,q=[],z=[],j="";const W=["verified","emailVisibility"];function G(){v!=null&&v.id&&(q.length?localStorage.setItem(j,JSON.stringify(q)):localStorage.removeItem(j))}function ie(){if(t(5,q=[]),!!(v!=null&&v.id))try{const Ue=localStorage.getItem(j);Ue&&t(5,q=JSON.parse(Ue)||[])}catch{}}function te(Ue){return!!M.find(sn=>sn.id==Ue)}async function ae(){const Ue=N;for(let sn=1;sn<=Ue;sn++)(sn===1||u)&&await ue(sn,!1)}async function ue(Ue=1,sn=!0){var Dt,Jt,on;if(!(v!=null&&v.id))return;t(9,R=!0);let gn=b;const Zt=gn.match(mpe),Xe=Zt?o.find(at=>at.name===Zt[2]):null;if(Zt&&Xe){const at=((on=(Jt=(Dt=h==null?void 0:h.find(De=>De.id==Xe.collectionId))==null?void 0:Dt.fields)==null?void 0:Jt.filter(De=>De.presentable))==null?void 0:on.map(De=>De.name))||[],ti=[];for(const De of at)ti.push((Zt[1]||"")+Zt[2]+"."+De);ti.length>0&&(gn=ti.join(","))}const Kt=re.getAllCollectionIdentifiers(v),Ie=s.map(at=>at.name+":excerpt(200)").concat(o.map(at=>"expand."+at.name+".*:excerpt(200)"));Ie.length&&Ie.unshift("*");let Je=[];for(const at of o)Je=Je.concat(re.getExpandPresentableRelFields(at,h,2));return xe.collection(v.id).getList(Ue,gE,{sort:gn,skipTotal:1,filter:re.normalizeSearchFilter(y,Kt),expand:Je.join(","),fields:Ie.join(","),requestKey:"records_list"}).then(async at=>{var ti;if(Ue<=1&&K(),t(9,R=!1),t(8,N=at.page),t(25,L=at.items.length),_("load",M.concat(at.items)),s.length)for(let De of at.items)De._partial=!0;if(sn){const De=++B;for(;(ti=at.items)!=null&&ti.length&&B==De;){const et=at.items.splice(0,20);for(let Ot of et)re.pushOrReplaceByKey(M,Ot);t(3,M),await re.yieldToMain()}}else{for(let De of at.items)re.pushOrReplaceByKey(M,De);t(3,M)}}).catch(at=>{at!=null&&at.isAbort||(t(9,R=!1),console.warn(at),K(),xe.error(at,!y||(at==null?void 0:at.status)!=400))})}function K(){A==null||A.resetVerticalScroll(),t(3,M=[]),t(8,N=1),t(25,L=0),t(4,I={})}function X(){c?_e():oe()}function _e(){t(4,I={})}function oe(){for(const Ue of M)t(4,I[Ue.id]=Ue,I);t(4,I)}function Le(Ue){I[Ue.id]?delete I[Ue.id]:t(4,I[Ue.id]=Ue,I),t(4,I)}function lt(){ar(`Do you really want to delete the selected ${f===1?"record":"records"}?`,St)}async function St(){if($||!f||!(v!=null&&v.id))return;let Ue=[];for(const sn of Object.keys(I))Ue.push(xe.collection(v.id).delete(sn));return t(10,$=!0),Promise.all(Ue).then(()=>{Oi(`Successfully deleted the selected ${f===1?"record":"records"}.`),_("delete",I),_e()}).catch(sn=>{xe.error(sn)}).finally(()=>(t(10,$=!1),ae()))}function bt(Ue){ut.call(this,n,Ue)}const At=(Ue,sn)=>{sn.target.checked?re.removeByValue(q,Ue.id):re.pushUnique(q,Ue.id),t(5,q)},ot=()=>X();function vt(Ue){b=Ue,t(0,b)}function zt(Ue){ye[Ue?"unshift":"push"](()=>{H=Ue,t(11,H)})}const pt=Ue=>Le(Ue),$e=Ue=>_("select",Ue),Bt=(Ue,sn)=>{sn.code==="Enter"&&(sn.preventDefault(),_("select",Ue))},Ze=()=>t(1,y=""),dt=()=>_("new"),Fe=()=>ue(N+1);function Ft(Ue){ye[Ue?"unshift":"push"](()=>{A=Ue,t(7,A)})}const cn=()=>_e(),Ee=()=>lt();return n.$$set=Ue=>{"collection"in Ue&&t(22,v=Ue.collection),"sort"in Ue&&t(0,b=Ue.sort),"filter"in Ue&&t(1,y=Ue.filter)},n.$$.update=()=>{n.$$.dirty[0]&4194304&&v!=null&&v.id&&(j=v.id+"@hiddenColumns",ie(),K()),n.$$.dirty[0]&4194304&&t(16,i=(v==null?void 0:v.type)==="view"),n.$$.dirty[0]&4194304&&t(27,r=(v==null?void 0:v.type)==="auth"&&v.name==="_superusers"),n.$$.dirty[0]&138412032&&t(26,l=((v==null?void 0:v.fields)||[]).filter(Ue=>!Ue.hidden&&(!r||!W.includes(Ue.name)))),n.$$.dirty[0]&67108864&&(s=l.filter(Ue=>Ue.type==="editor")),n.$$.dirty[0]&67108864&&(o=l.filter(Ue=>Ue.type==="relation")),n.$$.dirty[0]&67108896&&t(15,a=l.filter(Ue=>!q.includes(Ue.id))),n.$$.dirty[0]&272629763&&!p&&v!=null&&v.id&&b!==-1&&y!==-1&&ue(1),n.$$.dirty[0]&33554432&&t(14,u=L>=gE),n.$$.dirty[0]&16&&t(6,f=Object.keys(I).length),n.$$.dirty[0]&72&&t(13,c=M.length&&f===M.length),n.$$.dirty[0]&32&&q!==-1&&G(),n.$$.dirty[0]&67108864&&t(12,z=l.filter(Ue=>!Ue.primaryKey).map(Ue=>({id:Ue.id,name:Ue.name})))},[b,y,ue,M,I,q,f,A,N,R,$,H,z,c,u,a,i,_,X,_e,Le,lt,v,te,ae,L,l,r,p,bt,At,ot,vt,zt,pt,$e,Bt,Ze,dt,Fe,Ft,cn,Ee]}class _pe extends je{constructor(e){super(),qe(this,e,gpe,ppe,We,{collection:22,sort:0,filter:1,hasRecord:23,reloadLoadedPages:24,load:2},null,[-1,-1,-1])}get hasRecord(){return this.$$.ctx[23]}get reloadLoadedPages(){return this.$$.ctx[24]}get load(){return this.$$.ctx[2]}}function bpe(n){let e,t,i,r;return e=new KG({}),i=new Nl({props:{class:"flex-content",$$slots:{footer:[Tpe],default:[kpe]},$$scope:{ctx:n}}}),{c(){ee(e.$$.fragment),t=D(),ee(i.$$.fragment)},m(l,s){Q(e,l,s),S(l,t,s),Q(i,l,s),r=!0},p(l,s){const o={};s[0]&6135|s[1]&32768&&(o.$$scope={dirty:s,ctx:l}),i.$set(o)},i(l){r||(F(e.$$.fragment,l),F(i.$$.fragment,l),r=!0)},o(l){x(e.$$.fragment,l),x(i.$$.fragment,l),r=!1},d(l){l&&E(t),J(e,l),J(i,l)}}}function vpe(n){let e,t;return e=new Nl({props:{center:!0,$$slots:{default:[Spe]},$$scope:{ctx:n}}}),{c(){ee(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,r){const l={};r[0]&4112|r[1]&32768&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){x(e.$$.fragment,i),t=!1},d(i){J(e,i)}}}function ype(n){let e,t;return e=new Nl({props:{center:!0,$$slots:{default:[Cpe]},$$scope:{ctx:n}}}),{c(){ee(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,r){const l={};r[1]&32768&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){x(e.$$.fragment,i),t=!1},d(i){J(e,i)}}}function _E(n){let e,t,i;return{c(){e=k("button"),e.innerHTML='<i class="ri-settings-4-line"></i>',m(e,"type","button"),m(e,"aria-label","Edit collection"),m(e,"class","btn btn-transparent btn-circle")},m(r,l){S(r,e,l),t||(i=[nt(_t.call(null,e,{text:"Edit collection",position:"right"})),se(e,"click",n[21])],t=!0)},p:ge,d(r){r&&E(e),t=!1,it(i)}}}function bE(n){let e,t,i;return{c(){e=k("button"),e.innerHTML='<i class="ri-add-line"></i> <span class="txt">New record</span>',m(e,"type","button"),m(e,"class","btn btn-expanded")},m(r,l){S(r,e,l),t||(i=se(e,"click",n[24]),t=!0)},p:ge,d(r){r&&E(e),t=!1,i()}}}function kpe(n){let e,t,i,r,l,s=n[2].name+"",o,a,u,f,c,h,p,_,v,b,y,A,M,N,L,I,R,$,B,H,q=!n[12]&&_E(n);c=new Zh({}),c.$on("refresh",n[22]);let z=n[2].type!=="view"&&bE(n);y=new Xh({props:{value:n[0],autocompleteCollection:n[2]}}),y.$on("submit",n[25]);function j(ie){n[27](ie)}function W(ie){n[28](ie)}let G={collection:n[2]};return n[0]!==void 0&&(G.filter=n[0]),n[1]!==void 0&&(G.sort=n[1]),L=new _pe({props:G}),n[26](L),ye.push(()=>Ke(L,"filter",j)),ye.push(()=>Ke(L,"sort",W)),L.$on("select",n[29]),L.$on("delete",n[30]),L.$on("new",n[31]),{c(){e=k("header"),t=k("nav"),i=k("div"),i.textContent="Collections",r=D(),l=k("div"),o=le(s),a=D(),u=k("div"),q&&q.c(),f=D(),ee(c.$$.fragment),h=D(),p=k("div"),_=k("button"),_.innerHTML='<i class="ri-code-s-slash-line"></i> <span class="txt">API Preview</span>',v=D(),z&&z.c(),b=D(),ee(y.$$.fragment),A=D(),M=k("div"),N=D(),ee(L.$$.fragment),m(i,"class","breadcrumb-item"),m(l,"class","breadcrumb-item"),m(t,"class","breadcrumbs"),m(u,"class","inline-flex gap-5"),m(_,"type","button"),m(_,"class","btn btn-outline"),m(p,"class","btns-group"),m(e,"class","page-header"),m(M,"class","clearfix m-b-sm")},m(ie,te){S(ie,e,te),T(e,t),T(t,i),T(t,r),T(t,l),T(l,o),T(e,a),T(e,u),q&&q.m(u,null),T(u,f),Q(c,u,null),T(e,h),T(e,p),T(p,_),T(p,v),z&&z.m(p,null),S(ie,b,te),Q(y,ie,te),S(ie,A,te),S(ie,M,te),S(ie,N,te),Q(L,ie,te),$=!0,B||(H=se(_,"click",n[23]),B=!0)},p(ie,te){(!$||te[0]&4)&&s!==(s=ie[2].name+"")&&Se(o,s),ie[12]?q&&(q.d(1),q=null):q?q.p(ie,te):(q=_E(ie),q.c(),q.m(u,f)),ie[2].type!=="view"?z?z.p(ie,te):(z=bE(ie),z.c(),z.m(p,null)):z&&(z.d(1),z=null);const ae={};te[0]&1&&(ae.value=ie[0]),te[0]&4&&(ae.autocompleteCollection=ie[2]),y.$set(ae);const ue={};te[0]&4&&(ue.collection=ie[2]),!I&&te[0]&1&&(I=!0,ue.filter=ie[0],Ye(()=>I=!1)),!R&&te[0]&2&&(R=!0,ue.sort=ie[1],Ye(()=>R=!1)),L.$set(ue)},i(ie){$||(F(c.$$.fragment,ie),F(y.$$.fragment,ie),F(L.$$.fragment,ie),$=!0)},o(ie){x(c.$$.fragment,ie),x(y.$$.fragment,ie),x(L.$$.fragment,ie),$=!1},d(ie){ie&&(E(e),E(b),E(A),E(M),E(N)),q&&q.d(),J(c),z&&z.d(),J(y,ie),n[26](null),J(L,ie),B=!1,H()}}}function Tpe(n){let e,t,i;function r(s){n[20](s)}let l={class:"m-r-auto txt-sm txt-hint",collection:n[2],filter:n[0]};return n[10]!==void 0&&(l.totalCount=n[10]),e=new epe({props:l}),n[19](e),ye.push(()=>Ke(e,"totalCount",r)),{c(){ee(e.$$.fragment)},m(s,o){Q(e,s,o),i=!0},p(s,o){const a={};o[0]&4&&(a.collection=s[2]),o[0]&1&&(a.filter=s[0]),!t&&o[0]&1024&&(t=!0,a.totalCount=s[10],Ye(()=>t=!1)),e.$set(a)},i(s){i||(F(e.$$.fragment,s),i=!0)},o(s){x(e.$$.fragment,s),i=!1},d(s){n[19](null),J(e,s)}}}function wpe(n){let e,t,i,r,l;return{c(){e=k("h1"),e.textContent="Create your first collection to add records!",t=D(),i=k("button"),i.innerHTML='<i class="ri-add-line"></i> <span class="txt">Create new collection</span>',m(e,"class","m-b-10"),m(i,"type","button"),m(i,"class","btn btn-expanded-lg btn-lg")},m(s,o){S(s,e,o),S(s,t,o),S(s,i,o),r||(l=se(i,"click",n[18]),r=!0)},p:ge,d(s){s&&(E(e),E(t),E(i)),r=!1,l()}}}function Epe(n){let e;return{c(){e=k("h1"),e.textContent="You don't have any collections yet.",m(e,"class","m-b-10")},m(t,i){S(t,e,i)},p:ge,d(t){t&&E(e)}}}function Spe(n){let e,t,i;function r(o,a){return o[12]?Epe:wpe}let l=r(n),s=l(n);return{c(){e=k("div"),t=k("div"),t.innerHTML='<i class="ri-database-2-line"></i>',i=D(),s.c(),m(t,"class","icon"),m(e,"class","placeholder-section m-b-base")},m(o,a){S(o,e,a),T(e,t),T(e,i),s.m(e,null)},p(o,a){l===(l=r(o))&&s?s.p(o,a):(s.d(1),s=l(o),s&&(s.c(),s.m(e,null)))},d(o){o&&E(e),s.d()}}}function Cpe(n){let e;return{c(){e=k("div"),e.innerHTML='<span class="loader loader-lg"></span> <h1>Loading collections...</h1>',m(e,"class","placeholder-section m-b-base")},m(t,i){S(t,e,i)},p:ge,d(t){t&&E(e)}}}function Ape(n){let e,t,i,r,l,s,o,a,u,f,c;const h=[ype,vpe,bpe],p=[];function _(M,N){return M[3]&&!M[11].length?0:M[11].length?2:1}e=_(n),t=p[e]=h[e](n);let v={};r=new M_({props:v}),n[32](r),r.$on("truncate",n[33]);let b={};s=new lz({props:b}),n[34](s);let y={collection:n[2]};a=new pb({props:y}),n[35](a),a.$on("hide",n[36]),a.$on("save",n[37]),a.$on("delete",n[38]);let A={collection:n[2]};return f=new JY({props:A}),n[39](f),f.$on("hide",n[40]),{c(){t.c(),i=D(),ee(r.$$.fragment),l=D(),ee(s.$$.fragment),o=D(),ee(a.$$.fragment),u=D(),ee(f.$$.fragment)},m(M,N){p[e].m(M,N),S(M,i,N),Q(r,M,N),S(M,l,N),Q(s,M,N),S(M,o,N),Q(a,M,N),S(M,u,N),Q(f,M,N),c=!0},p(M,N){let L=e;e=_(M),e===L?p[e].p(M,N):(Ne(),x(p[L],1,1,()=>{p[L]=null}),Me(),t=p[e],t?t.p(M,N):(t=p[e]=h[e](M),t.c()),F(t,1),t.m(i.parentNode,i));const I={};r.$set(I);const R={};s.$set(R);const $={};N[0]&4&&($.collection=M[2]),a.$set($);const B={};N[0]&4&&(B.collection=M[2]),f.$set(B)},i(M){c||(F(t),F(r.$$.fragment,M),F(s.$$.fragment,M),F(a.$$.fragment,M),F(f.$$.fragment,M),c=!0)},o(M){x(t),x(r.$$.fragment,M),x(s.$$.fragment,M),x(a.$$.fragment,M),x(f.$$.fragment,M),c=!1},d(M){M&&(E(i),E(l),E(o),E(u)),p[e].d(M),n[32](null),J(r,M),n[34](null),J(s,M),n[35](null),J(a,M),n[39](null),J(f,M)}}}function Ope(n,e,t){let i,r,l,s,o,a,u,f;Wt(n,Sl,$e=>t(2,l=$e)),Wt(n,Hi,$e=>t(41,s=$e)),Wt(n,Rc,$e=>t(3,o=$e)),Wt(n,o_,$e=>t(17,a=$e)),Wt(n,Or,$e=>t(11,u=$e)),Wt(n,Sa,$e=>t(12,f=$e));const c=new URLSearchParams(a);let h,p,_,v,b,y,A=c.get("filter")||"",M=c.get("sort")||"-@rowid",N=c.get("collection")||(l==null?void 0:l.id),L=0;l_(N);async function I($e){await Ni(),(l==null?void 0:l.type)==="view"?v.show($e):_==null||_.show($e)}function R(){t(14,N=l==null?void 0:l.id),t(0,A=""),t(1,M="-@rowid"),$(),B({recordId:null}),h==null||h.forceHide(),p==null||p.hide()}async function $(){if(!M)return;const $e=re.getAllCollectionIdentifiers(l),Bt=M.split(",").map(Ze=>Ze.startsWith("+")||Ze.startsWith("-")?Ze.substring(1):Ze);Bt.filter(Ze=>$e.includes(Ze)).length!=Bt.length&&((l==null?void 0:l.type)!="view"?t(1,M="-@rowid"):$e.includes("created")?t(1,M="-created"):t(1,M=""))}function B($e={}){const Bt=Object.assign({collection:(l==null?void 0:l.id)||"",filter:A,sort:M},$e);re.replaceHashQueryParams(Bt)}const H=()=>h==null?void 0:h.show();function q($e){ye[$e?"unshift":"push"](()=>{y=$e,t(9,y)})}function z($e){L=$e,t(10,L)}const j=()=>h==null?void 0:h.show(l),W=()=>{b==null||b.load(),y==null||y.reload()},G=()=>p==null?void 0:p.show(l),ie=()=>_==null?void 0:_.show(),te=$e=>t(0,A=$e.detail);function ae($e){ye[$e?"unshift":"push"](()=>{b=$e,t(8,b)})}function ue($e){A=$e,t(0,A)}function K($e){M=$e,t(1,M)}const X=$e=>{B({recordId:$e.detail.id});let Bt=$e.detail._partial?$e.detail.id:$e.detail;l.type==="view"?v==null||v.show(Bt):_==null||_.show(Bt)},_e=()=>{y==null||y.reload()},oe=()=>_==null?void 0:_.show();function Le($e){ye[$e?"unshift":"push"](()=>{h=$e,t(4,h)})}const lt=()=>{b==null||b.load(),y==null||y.reload()};function St($e){ye[$e?"unshift":"push"](()=>{p=$e,t(5,p)})}function bt($e){ye[$e?"unshift":"push"](()=>{_=$e,t(6,_)})}const At=()=>{B({recordId:null})},ot=$e=>{A?y==null||y.reload():$e.detail.isNew&&t(10,L++,L),b==null||b.reloadLoadedPages()},vt=$e=>{(!A||b!=null&&b.hasRecord($e.detail.id))&&t(10,L--,L),b==null||b.reloadLoadedPages()};function zt($e){ye[$e?"unshift":"push"](()=>{v=$e,t(7,v)})}const pt=()=>{B({recordId:null})};return n.$$.update=()=>{n.$$.dirty[0]&131072&&t(16,i=new URLSearchParams(a)),n.$$.dirty[0]&65536&&t(15,r=i.get("collection")),n.$$.dirty[0]&49164&&!o&&r&&r!=N&&r!=(l==null?void 0:l.id)&&r!=(l==null?void 0:l.name)&&fP(r),n.$$.dirty[0]&16388&&l!=null&&l.id&&N!=l.id&&N!=l.name&&R(),n.$$.dirty[0]&4&&l!=null&&l.id&&$(),n.$$.dirty[0]&8&&!o&&c.get("recordId")&&I(c.get("recordId")),n.$$.dirty[0]&15&&!o&&(M||A||l!=null&&l.id)&&B(),n.$$.dirty[0]&4&&Cr(Hi,s=(l==null?void 0:l.name)||"Collections",s)},[A,M,l,o,h,p,_,v,b,y,L,u,f,B,N,r,i,a,H,q,z,j,W,G,ie,te,ae,ue,K,X,_e,oe,Le,lt,St,bt,At,ot,vt,zt,pt]}class Npe extends je{constructor(e){super(),qe(this,e,Ope,Ape,We,{},null,[-1,-1])}}function vE(n){let e,t,i,r,l,s,o;return{c(){e=k("div"),e.innerHTML='<span class="txt">Sync</span>',t=D(),i=k("a"),i.innerHTML='<i class="ri-uninstall-line" aria-hidden="true"></i> <span class="txt">Export collections</span>',r=D(),l=k("a"),l.innerHTML='<i class="ri-install-line" aria-hidden="true"></i> <span class="txt">Import collections</span>',m(e,"class","sidebar-title"),m(i,"href","/settings/export-collections"),m(i,"class","sidebar-list-item"),m(l,"href","/settings/import-collections"),m(l,"class","sidebar-list-item")},m(a,u){S(a,e,u),S(a,t,u),S(a,i,u),S(a,r,u),S(a,l,u),s||(o=[nt(hs.call(null,i,{path:"/settings/export-collections/?.*"})),nt(qr.call(null,i)),nt(hs.call(null,l,{path:"/settings/import-collections/?.*"})),nt(qr.call(null,l))],s=!0)},d(a){a&&(E(e),E(t),E(i),E(r),E(l)),s=!1,it(o)}}}function Mpe(n){let e,t,i,r,l,s,o,a,u,f,c,h,p,_,v,b=!n[0]&&vE();return{c(){e=k("div"),t=k("div"),t.textContent="System",i=D(),r=k("a"),r.innerHTML='<i class="ri-home-gear-line" aria-hidden="true"></i> <span class="txt">Application</span>',l=D(),s=k("a"),s.innerHTML='<i class="ri-send-plane-2-line" aria-hidden="true"></i> <span class="txt">Mail settings</span>',o=D(),a=k("a"),a.innerHTML='<i class="ri-archive-drawer-line" aria-hidden="true"></i> <span class="txt">Files storage</span>',u=D(),f=k("a"),f.innerHTML='<i class="ri-archive-line" aria-hidden="true"></i> <span class="txt">Backups</span>',c=D(),h=k("a"),h.innerHTML='<i class="ri-time-line" aria-hidden="true"></i> <span class="txt">Crons</span>',p=D(),b&&b.c(),m(t,"class","sidebar-title"),m(r,"href","/settings"),m(r,"class","sidebar-list-item"),m(s,"href","/settings/mail"),m(s,"class","sidebar-list-item"),m(a,"href","/settings/storage"),m(a,"class","sidebar-list-item"),m(f,"href","/settings/backups"),m(f,"class","sidebar-list-item"),m(h,"href","/settings/crons"),m(h,"class","sidebar-list-item"),m(e,"class","sidebar-content")},m(y,A){S(y,e,A),T(e,t),T(e,i),T(e,r),T(e,l),T(e,s),T(e,o),T(e,a),T(e,u),T(e,f),T(e,c),T(e,h),T(e,p),b&&b.m(e,null),_||(v=[nt(hs.call(null,r,{path:"/settings"})),nt(qr.call(null,r)),nt(hs.call(null,s,{path:"/settings/mail/?.*"})),nt(qr.call(null,s)),nt(hs.call(null,a,{path:"/settings/storage/?.*"})),nt(qr.call(null,a)),nt(hs.call(null,f,{path:"/settings/backups/?.*"})),nt(qr.call(null,f)),nt(hs.call(null,h,{path:"/settings/crons/?.*"})),nt(qr.call(null,h))],_=!0)},p(y,A){y[0]?b&&(b.d(1),b=null):b||(b=vE(),b.c(),b.m(e,null))},d(y){y&&E(e),b&&b.d(),_=!1,it(v)}}}function Ipe(n){let e,t;return e=new NA({props:{class:"settings-sidebar",$$slots:{default:[Mpe]},$$scope:{ctx:n}}}),{c(){ee(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,[r]){const l={};r&3&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){x(e.$$.fragment,i),t=!1},d(i){J(e,i)}}}function Lpe(n,e,t){let i;return Wt(n,Sa,r=>t(0,i=r)),[i]}class Fa extends je{constructor(e){super(),qe(this,e,Lpe,Ipe,We,{})}}function Dpe(n){let e,t,i,r,l,s,o,a,u;return{c(){e=k("input"),i=D(),r=k("label"),l=le("Enable "),s=k("small"),s.textContent="(experimental)",m(e,"type","checkbox"),m(e,"id",t=n[8]),m(s,"class","txt-hint"),m(r,"for",o=n[8])},m(f,c){S(f,e,c),e.checked=n[0].batch.enabled,S(f,i,c),S(f,r,c),T(r,l),T(r,s),a||(u=se(e,"change",n[4]),a=!0)},p(f,c){c&256&&t!==(t=f[8])&&m(e,"id",t),c&1&&(e.checked=f[0].batch.enabled),c&256&&o!==(o=f[8])&&m(r,"for",o)},d(f){f&&(E(e),E(i),E(r)),a=!1,u()}}}function Rpe(n){let e,t,i,r,l,s,o,a;return{c(){e=k("label"),t=le("Max allowed batch requests"),r=D(),l=k("input"),m(e,"for",i=n[8]),m(l,"type","number"),m(l,"id",s=n[8]),m(l,"min","0"),m(l,"step","1"),l.required=n[1]},m(u,f){S(u,e,f),T(e,t),S(u,r,f),S(u,l,f),He(l,n[0].batch.maxRequests),o||(a=se(l,"input",n[5]),o=!0)},p(u,f){f&256&&i!==(i=u[8])&&m(e,"for",i),f&256&&s!==(s=u[8])&&m(l,"id",s),f&2&&(l.required=u[1]),f&1&&wn(l.value)!==u[0].batch.maxRequests&&He(l,u[0].batch.maxRequests)},d(u){u&&(E(e),E(r),E(l)),o=!1,a()}}}function Ppe(n){let e,t,i,r,l,s,o,a;return{c(){e=k("label"),t=k("span"),t.textContent="Max processing time (in seconds)",r=D(),l=k("input"),m(t,"class","txt"),m(e,"for",i=n[8]),m(l,"type","number"),m(l,"id",s=n[8]),m(l,"min","0"),m(l,"step","1"),l.required=n[1]},m(u,f){S(u,e,f),T(e,t),S(u,r,f),S(u,l,f),He(l,n[0].batch.timeout),o||(a=se(l,"input",n[6]),o=!0)},p(u,f){f&256&&i!==(i=u[8])&&m(e,"for",i),f&256&&s!==(s=u[8])&&m(l,"id",s),f&2&&(l.required=u[1]),f&1&&wn(l.value)!==u[0].batch.timeout&&He(l,u[0].batch.timeout)},d(u){u&&(E(e),E(r),E(l)),o=!1,a()}}}function Fpe(n){let e,t,i,r,l,s,o,a,u;return{c(){e=k("label"),t=le("Max body size (in bytes)"),r=D(),l=k("input"),m(e,"for",i=n[8]),m(l,"type","number"),m(l,"id",s=n[8]),m(l,"min","0"),m(l,"step","1"),m(l,"placeholder","Default to 128MB"),l.value=o=n[0].batch.maxBodySize||""},m(f,c){S(f,e,c),T(e,t),S(f,r,c),S(f,l,c),a||(u=se(l,"input",n[7]),a=!0)},p(f,c){c&256&&i!==(i=f[8])&&m(e,"for",i),c&256&&s!==(s=f[8])&&m(l,"id",s),c&1&&o!==(o=f[0].batch.maxBodySize||"")&&l.value!==o&&(l.value=o)},d(f){f&&(E(e),E(r),E(l)),a=!1,u()}}}function $pe(n){let e,t,i,r,l,s,o,a,u,f,c,h;return e=new Pe({props:{class:"form-field form-field-toggle m-b-sm",name:"batch.enabled",$$slots:{default:[Dpe,({uniqueId:p})=>({8:p}),({uniqueId:p})=>p?256:0]},$$scope:{ctx:n}}}),l=new Pe({props:{class:"form-field "+(n[1]?"required":""),name:"batch.maxRequests",$$slots:{default:[Rpe,({uniqueId:p})=>({8:p}),({uniqueId:p})=>p?256:0]},$$scope:{ctx:n}}}),a=new Pe({props:{class:"form-field "+(n[1]?"required":""),name:"batch.timeout",$$slots:{default:[Ppe,({uniqueId:p})=>({8:p}),({uniqueId:p})=>p?256:0]},$$scope:{ctx:n}}}),c=new Pe({props:{class:"form-field",name:"batch.maxBodySize",$$slots:{default:[Fpe,({uniqueId:p})=>({8:p}),({uniqueId:p})=>p?256:0]},$$scope:{ctx:n}}}),{c(){ee(e.$$.fragment),t=D(),i=k("div"),r=k("div"),ee(l.$$.fragment),s=D(),o=k("div"),ee(a.$$.fragment),u=D(),f=k("div"),ee(c.$$.fragment),m(r,"class","col-lg-4"),m(o,"class","col-lg-4"),m(f,"class","col-lg-4"),m(i,"class","grid")},m(p,_){Q(e,p,_),S(p,t,_),S(p,i,_),T(i,r),Q(l,r,null),T(i,s),T(i,o),Q(a,o,null),T(i,u),T(i,f),Q(c,f,null),h=!0},p(p,_){const v={};_&769&&(v.$$scope={dirty:_,ctx:p}),e.$set(v);const b={};_&2&&(b.class="form-field "+(p[1]?"required":"")),_&771&&(b.$$scope={dirty:_,ctx:p}),l.$set(b);const y={};_&2&&(y.class="form-field "+(p[1]?"required":"")),_&771&&(y.$$scope={dirty:_,ctx:p}),a.$set(y);const A={};_&769&&(A.$$scope={dirty:_,ctx:p}),c.$set(A)},i(p){h||(F(e.$$.fragment,p),F(l.$$.fragment,p),F(a.$$.fragment,p),F(c.$$.fragment,p),h=!0)},o(p){x(e.$$.fragment,p),x(l.$$.fragment,p),x(a.$$.fragment,p),x(c.$$.fragment,p),h=!1},d(p){p&&(E(t),E(i)),J(e,p),J(l),J(a),J(c)}}}function Hpe(n){let e;return{c(){e=k("span"),e.textContent="Disabled",m(e,"class","label")},m(t,i){S(t,e,i)},d(t){t&&E(e)}}}function Bpe(n){let e;return{c(){e=k("span"),e.textContent="Enabled",m(e,"class","label label-success")},m(t,i){S(t,e,i)},d(t){t&&E(e)}}}function yE(n){let e,t,i,r,l;return{c(){e=k("i"),m(e,"class","ri-error-warning-fill txt-danger")},m(s,o){S(s,e,o),i=!0,r||(l=nt(_t.call(null,e,{text:"Has errors",position:"left"})),r=!0)},i(s){i||(s&&tn(()=>{i&&(t||(t=Et(e,Bn,{duration:150,start:.7},!0)),t.run(1))}),i=!0)},o(s){s&&(t||(t=Et(e,Bn,{duration:150,start:.7},!1)),t.run(0)),i=!1},d(s){s&&E(e),s&&t&&t.end(),r=!1,l()}}}function xpe(n){let e,t,i,r,l,s;function o(c,h){return c[1]?Bpe:Hpe}let a=o(n),u=a(n),f=n[2]&&yE();return{c(){e=k("div"),e.innerHTML='<i class="ri-archive-stack-line"></i> <span class="txt">Batch API</span>',t=D(),i=k("div"),r=D(),u.c(),l=D(),f&&f.c(),s=ze(),m(e,"class","inline-flex"),m(i,"class","flex-fill")},m(c,h){S(c,e,h),S(c,t,h),S(c,i,h),S(c,r,h),u.m(c,h),S(c,l,h),f&&f.m(c,h),S(c,s,h)},p(c,h){a!==(a=o(c))&&(u.d(1),u=a(c),u&&(u.c(),u.m(l.parentNode,l))),c[2]?f?h&4&&F(f,1):(f=yE(),f.c(),F(f,1),f.m(s.parentNode,s)):f&&(Ne(),x(f,1,1,()=>{f=null}),Me())},d(c){c&&(E(e),E(t),E(i),E(r),E(l),E(s)),u.d(c),f&&f.d(c)}}}function Upe(n){let e,t;return e=new Vs({props:{single:!0,$$slots:{header:[xpe],default:[$pe]},$$scope:{ctx:n}}}),{c(){ee(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,[r]){const l={};r&519&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){x(e.$$.fragment,i),t=!1},d(i){J(e,i)}}}function zpe(n,e,t){let i,r,l;Wt(n,mr,c=>t(3,l=c));let{formSettings:s}=e;function o(){s.batch.enabled=this.checked,t(0,s)}function a(){s.batch.maxRequests=wn(this.value),t(0,s)}function u(){s.batch.timeout=wn(this.value),t(0,s)}const f=c=>t(0,s.batch.maxBodySize=c.target.value<<0,s);return n.$$set=c=>{"formSettings"in c&&t(0,s=c.formSettings)},n.$$.update=()=>{var c;n.$$.dirty&8&&t(2,i=!re.isEmpty(l==null?void 0:l.batch)),n.$$.dirty&1&&t(1,r=!!((c=s.batch)!=null&&c.enabled))},[s,r,i,l,o,a,u,f]}class qpe extends je{constructor(e){super(),qe(this,e,zpe,Upe,We,{formSettings:0})}}function kE(n,e,t){const i=n.slice();return i[17]=e[t],i}function TE(n){let e,t=n[17]+"",i,r,l,s;function o(){return n[13](n[17])}return{c(){e=k("button"),i=le(t),r=le(" "),m(e,"type","button"),m(e,"class","label label-sm link-primary txt-mono")},m(a,u){S(a,e,u),T(e,i),S(a,r,u),l||(s=se(e,"click",o),l=!0)},p(a,u){n=a,u&4&&t!==(t=n[17]+"")&&Se(i,t)},d(a){a&&(E(e),E(r)),l=!1,s()}}}function jpe(n){let e,t,i,r,l,s,o,a,u,f,c,h,p,_,v,b;function y(L){n[11](L)}let A={id:n[16],placeholder:"Leave empty to disable"};n[0].trustedProxy.headers!==void 0&&(A.value=n[0].trustedProxy.headers),l=new l1({props:A}),ye.push(()=>Ke(l,"value",y));let M=Re(n[2]),N=[];for(let L=0;L<M.length;L+=1)N[L]=TE(kE(n,M,L));return{c(){e=k("label"),t=le("Trusted proxy headers"),r=D(),ee(l.$$.fragment),o=D(),a=k("div"),u=k("button"),u.textContent="Clear",f=D(),c=k("div"),h=k("p"),p=le(`Comma separated list of headers such as:
                        `);for(let L=0;L<N.length;L+=1)N[L].c();m(e,"for",i=n[16]),m(u,"type","button"),m(u,"class","btn btn-sm btn-hint btn-transparent btn-clear"),he(u,"hidden",re.isEmpty(n[0].trustedProxy.headers)),m(a,"class","form-field-addon"),m(c,"class","help-block")},m(L,I){S(L,e,I),T(e,t),S(L,r,I),Q(l,L,I),S(L,o,I),S(L,a,I),T(a,u),S(L,f,I),S(L,c,I),T(c,h),T(h,p);for(let R=0;R<N.length;R+=1)N[R]&&N[R].m(h,null);_=!0,v||(b=se(u,"click",n[12]),v=!0)},p(L,I){(!_||I&65536&&i!==(i=L[16]))&&m(e,"for",i);const R={};if(I&65536&&(R.id=L[16]),!s&&I&1&&(s=!0,R.value=L[0].trustedProxy.headers,Ye(()=>s=!1)),l.$set(R),(!_||I&1)&&he(u,"hidden",re.isEmpty(L[0].trustedProxy.headers)),I&68){M=Re(L[2]);let $;for($=0;$<M.length;$+=1){const B=kE(L,M,$);N[$]?N[$].p(B,I):(N[$]=TE(B),N[$].c(),N[$].m(h,null))}for(;$<N.length;$+=1)N[$].d(1);N.length=M.length}},i(L){_||(F(l.$$.fragment,L),_=!0)},o(L){x(l.$$.fragment,L),_=!1},d(L){L&&(E(e),E(r),E(o),E(a),E(f),E(c)),J(l,L),fn(N,L),v=!1,b()}}}function Wpe(n){let e,t,i,r,l,s,o,a,u,f,c;function h(_){n[14](_)}let p={items:n[7]};return n[0].trustedProxy.useLeftmostIP!==void 0&&(p.keyOfSelected=n[0].trustedProxy.useLeftmostIP),o=new Nr({props:p}),ye.push(()=>Ke(o,"keyOfSelected",h)),{c(){e=k("label"),t=k("span"),t.textContent="IP priority selection",i=D(),r=k("i"),s=D(),ee(o.$$.fragment),m(t,"class","txt"),m(r,"class","ri-information-line link-hint"),m(e,"for",l=n[16])},m(_,v){S(_,e,v),T(e,t),T(e,i),T(e,r),S(_,s,v),Q(o,_,v),u=!0,f||(c=nt(_t.call(null,r,{text:"This is in case the proxy returns more than 1 IP as header value. The rightmost IP is usually considered to be the more trustworthy but this could vary depending on the proxy.",position:"right"})),f=!0)},p(_,v){(!u||v&65536&&l!==(l=_[16]))&&m(e,"for",l);const b={};!a&&v&1&&(a=!0,b.keyOfSelected=_[0].trustedProxy.useLeftmostIP,Ye(()=>a=!1)),o.$set(b)},i(_){u||(F(o.$$.fragment,_),u=!0)},o(_){x(o.$$.fragment,_),u=!1},d(_){_&&(E(e),E(s)),J(o,_),f=!1,c()}}}function Kpe(n){let e,t,i,r,l,s,o=(n[1].realIP||"N/A")+"",a,u,f,c,h,p,_,v,b,y,A=(n[1].possibleProxyHeader||"N/A")+"",M,N,L,I,R,$,B,H,q,z,j,W,G;return B=new Pe({props:{class:"form-field m-b-0",name:"trustedProxy.headers",$$slots:{default:[jpe,({uniqueId:ie})=>({16:ie}),({uniqueId:ie})=>ie?65536:0]},$$scope:{ctx:n}}}),z=new Pe({props:{class:"form-field m-0",name:"trustedProxy.useLeftmostIP",$$slots:{default:[Wpe,({uniqueId:ie})=>({16:ie}),({uniqueId:ie})=>ie?65536:0]},$$scope:{ctx:n}}}),{c(){e=k("div"),t=k("div"),i=k("div"),r=k("span"),r.textContent="Resolved user IP:",l=D(),s=k("strong"),a=le(o),u=D(),f=k("i"),c=D(),h=k("br"),p=D(),_=k("div"),v=k("span"),v.textContent="Detected proxy header:",b=D(),y=k("strong"),M=le(A),N=D(),L=k("div"),L.innerHTML=`<p>When PocketBase is deployed on platforms like Fly or it is accessible through proxies such as
            NGINX, requests from different users will originate from the same IP address (the IP of the proxy
            connecting to your PocketBase app).</p> <p>In this case to retrieve the actual user IP (used for rate limiting, logging, etc.) you need to
            properly configure your proxy and list below the trusted headers that PocketBase could use to
            extract the user IP.</p> <p class="txt-bold">When using such proxy, to avoid spoofing it is recommended to:</p> <ul class="m-t-0 txt-bold"><li>use headers that are controlled only by the proxy and cannot be manually set by the users</li> <li>make sure that the PocketBase server can be accessed only through the proxy</li></ul> <p>You can clear the headers field if PocketBase is not deployed behind a proxy.</p>`,I=D(),R=k("div"),$=k("div"),ee(B.$$.fragment),H=D(),q=k("div"),ee(z.$$.fragment),m(f,"class","ri-information-line txt-sm link-hint"),m(i,"class","inline-flex flex-gap-5"),m(_,"class","inline-flex flex-gap-5"),m(t,"class","content"),m(e,"class","alert alert-info m-b-sm"),m(L,"class","content m-b-sm"),m($,"class","col-lg-9"),m(q,"class","col-lg-3"),m(R,"class","grid grid-sm")},m(ie,te){S(ie,e,te),T(e,t),T(t,i),T(i,r),T(i,l),T(i,s),T(s,a),T(i,u),T(i,f),T(t,c),T(t,h),T(t,p),T(t,_),T(_,v),T(_,b),T(_,y),T(y,M),S(ie,N,te),S(ie,L,te),S(ie,I,te),S(ie,R,te),T(R,$),Q(B,$,null),T(R,H),T(R,q),Q(z,q,null),j=!0,W||(G=nt(_t.call(null,f,`Must show your actual IP.
If not, set the correct proxy header.`)),W=!0)},p(ie,te){(!j||te&2)&&o!==(o=(ie[1].realIP||"N/A")+"")&&Se(a,o),(!j||te&2)&&A!==(A=(ie[1].possibleProxyHeader||"N/A")+"")&&Se(M,A);const ae={};te&1114117&&(ae.$$scope={dirty:te,ctx:ie}),B.$set(ae);const ue={};te&1114113&&(ue.$$scope={dirty:te,ctx:ie}),z.$set(ue)},i(ie){j||(F(B.$$.fragment,ie),F(z.$$.fragment,ie),j=!0)},o(ie){x(B.$$.fragment,ie),x(z.$$.fragment,ie),j=!1},d(ie){ie&&(E(e),E(N),E(L),E(I),E(R)),J(B),J(z),W=!1,G()}}}function Vpe(n){let e,t,i;return{c(){e=k("i"),m(e,"class","ri-alert-line txt-sm txt-hint")},m(r,l){S(r,e,l),t||(i=nt(_t.call(null,e,"The configured proxy header doesn't match with the detected one.")),t=!0)},d(r){r&&E(e),t=!1,i()}}}function Gpe(n){let e,t,i;return{c(){e=k("i"),m(e,"class","ri-alert-line txt-sm txt-warning")},m(r,l){S(r,e,l),t||(i=nt(_t.call(null,e,`Detected proxy header.
It is recommend to list it as trusted.`)),t=!0)},d(r){r&&E(e),t=!1,i()}}}function Ype(n){let e;return{c(){e=k("span"),e.textContent="Disabled",m(e,"class","label")},m(t,i){S(t,e,i)},d(t){t&&E(e)}}}function Xpe(n){let e;return{c(){e=k("span"),e.textContent="Enabled",m(e,"class","label label-success")},m(t,i){S(t,e,i)},d(t){t&&E(e)}}}function wE(n){let e,t,i,r,l;return{c(){e=k("i"),m(e,"class","ri-error-warning-fill txt-danger")},m(s,o){S(s,e,o),i=!0,r||(l=nt(_t.call(null,e,{text:"Has errors",position:"left"})),r=!0)},i(s){i||(s&&tn(()=>{i&&(t||(t=Et(e,Bn,{duration:150,start:.7},!0)),t.run(1))}),i=!0)},o(s){s&&(t||(t=Et(e,Bn,{duration:150,start:.7},!1)),t.run(0)),i=!1},d(s){s&&E(e),s&&t&&t.end(),r=!1,l()}}}function Zpe(n){let e,t,i,r,l,s,o,a,u,f,c;function h(M,N){if(N&43&&(s=null),!M[3]&&M[1].possibleProxyHeader)return Gpe;if(s==null&&(s=!!(M[3]&&!M[5]&&!M[0].trustedProxy.headers.includes(M[1].possibleProxyHeader))),s)return Vpe}let p=h(n,-1),_=p&&p(n);function v(M,N){return M[3]?Xpe:Ype}let b=v(n),y=b(n),A=n[4]&&wE();return{c(){e=k("div"),t=k("i"),i=D(),r=k("span"),r.textContent="User IP proxy headers",l=D(),_&&_.c(),o=D(),a=k("div"),u=D(),y.c(),f=D(),A&&A.c(),c=ze(),m(t,"class","ri-route-line"),m(r,"class","txt"),m(e,"class","inline-flex"),m(a,"class","flex-fill")},m(M,N){S(M,e,N),T(e,t),T(e,i),T(e,r),T(e,l),_&&_.m(e,null),S(M,o,N),S(M,a,N),S(M,u,N),y.m(M,N),S(M,f,N),A&&A.m(M,N),S(M,c,N)},p(M,N){p!==(p=h(M,N))&&(_&&_.d(1),_=p&&p(M),_&&(_.c(),_.m(e,null))),b!==(b=v(M))&&(y.d(1),y=b(M),y&&(y.c(),y.m(f.parentNode,f))),M[4]?A?N&16&&F(A,1):(A=wE(),A.c(),F(A,1),A.m(c.parentNode,c)):A&&(Ne(),x(A,1,1,()=>{A=null}),Me())},d(M){M&&(E(e),E(o),E(a),E(u),E(f),E(c)),_&&_.d(),y.d(M),A&&A.d(M)}}}function Qpe(n){let e,t;return e=new Vs({props:{single:!0,$$slots:{header:[Zpe],default:[Kpe]},$$scope:{ctx:n}}}),{c(){ee(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,[r]){const l={};r&1048639&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){x(e.$$.fragment,i),t=!1},d(i){J(e,i)}}}function Jpe(n,e,t){let i,r,l,s,o,a;Wt(n,mr,M=>t(10,a=M));const u=["X-Forwarded-For","Fly-Client-IP","CF-Connecting-IP"];let{formSettings:f}=e,{healthData:c}=e,h="";function p(M){t(0,f.trustedProxy.headers=[M],f)}const _=[{label:"Use leftmost IP",value:!0},{label:"Use rightmost IP",value:!1}];function v(M){n.$$.not_equal(f.trustedProxy.headers,M)&&(f.trustedProxy.headers=M,t(0,f))}const b=()=>t(0,f.trustedProxy.headers=[],f),y=M=>p(M);function A(M){n.$$.not_equal(f.trustedProxy.useLeftmostIP,M)&&(f.trustedProxy.useLeftmostIP=M,t(0,f))}return n.$$set=M=>{"formSettings"in M&&t(0,f=M.formSettings),"healthData"in M&&t(1,c=M.healthData)},n.$$.update=()=>{n.$$.dirty&1&&t(9,i=JSON.stringify(f)),n.$$.dirty&768&&h!=i&&t(8,h=i),n.$$.dirty&768&&t(5,r=h!=i),n.$$.dirty&1024&&t(4,l=!re.isEmpty(a==null?void 0:a.trustedProxy)),n.$$.dirty&1&&t(3,s=!re.isEmpty(f.trustedProxy.headers)),n.$$.dirty&2&&t(2,o=c.possibleProxyHeader?[c.possibleProxyHeader].concat(u.filter(M=>M!=c.possibleProxyHeader)):u)},[f,c,o,s,l,r,p,_,h,i,a,v,b,y,A]}class eme extends je{constructor(e){super(),qe(this,e,Jpe,Qpe,We,{formSettings:0,healthData:1})}}function EE(n,e,t){const i=n.slice();return i[5]=e[t],i}function SE(n){let e,t=(n[5].label||"")+"",i,r;return{c(){e=k("option"),i=le(t),e.__value=r=n[5].value,He(e,e.__value)},m(l,s){S(l,e,s),T(e,i)},p(l,s){s&2&&t!==(t=(l[5].label||"")+"")&&Se(i,t),s&2&&r!==(r=l[5].value)&&(e.__value=r,He(e,e.__value))},d(l){l&&E(e)}}}function tme(n){let e,t,i,r,l,s,o=[{type:t=n[3].type||"text"},{list:n[2]},{value:n[0]},n[3]],a={};for(let c=0;c<o.length;c+=1)a=kt(a,o[c]);let u=Re(n[1]),f=[];for(let c=0;c<u.length;c+=1)f[c]=SE(EE(n,u,c));return{c(){e=k("input"),i=D(),r=k("datalist");for(let c=0;c<f.length;c+=1)f[c].c();El(e,a),m(r,"id",n[2])},m(c,h){S(c,e,h),"value"in a&&(e.value=a.value),e.autofocus&&e.focus(),S(c,i,h),S(c,r,h);for(let p=0;p<f.length;p+=1)f[p]&&f[p].m(r,null);l||(s=se(e,"input",n[4]),l=!0)},p(c,[h]){if(El(e,a=Ln(o,[h&8&&t!==(t=c[3].type||"text")&&{type:t},{list:c[2]},h&1&&e.value!==c[0]&&{value:c[0]},h&8&&c[3]])),"value"in a&&(e.value=a.value),h&2){u=Re(c[1]);let p;for(p=0;p<u.length;p+=1){const _=EE(c,u,p);f[p]?f[p].p(_,h):(f[p]=SE(_),f[p].c(),f[p].m(r,null))}for(;p<f.length;p+=1)f[p].d(1);f.length=u.length}},i:ge,o:ge,d(c){c&&(E(e),E(i),E(r)),fn(f,c),l=!1,s()}}}function nme(n,e,t){const i=["value","options"];let r=rn(e,i),{value:l=""}=e,{options:s=[]}=e;const o="list_"+re.randomString(5),a=u=>{t(0,l=u.target.value)};return n.$$set=u=>{e=kt(kt({},e),ui(u)),t(3,r=rn(e,i)),"value"in u&&t(0,l=u.value),"options"in u&&t(1,s=u.options)},[l,s,o,r,a]}class ime extends je{constructor(e){super(),qe(this,e,nme,tme,We,{value:0,options:1})}}function CE(n,e,t){const i=n.slice();return i[22]=e[t],i}function AE(n,e,t){const i=n.slice();return i[25]=e[t],i[26]=e,i[27]=t,i}function rme(n){let e,t,i,r,l,s,o,a,u;return{c(){e=k("input"),i=D(),r=k("label"),l=le("Enable "),s=k("small"),s.textContent="(experimental)",m(e,"type","checkbox"),m(e,"id",t=n[28]),m(s,"class","txt-hint"),m(r,"for",o=n[28])},m(f,c){S(f,e,c),e.checked=n[0].rateLimits.enabled,S(f,i,c),S(f,r,c),T(r,l),T(r,s),a||(u=se(e,"change",n[9]),a=!0)},p(f,c){c&268435456&&t!==(t=f[28])&&m(e,"id",t),c&1&&(e.checked=f[0].rateLimits.enabled),c&268435456&&o!==(o=f[28])&&m(r,"for",o)},d(f){f&&(E(e),E(i),E(r)),a=!1,u()}}}function OE(n){let e,t,i,r,l,s=Re(n[0].rateLimits.rules||[]),o=[];for(let u=0;u<s.length;u+=1)o[u]=NE(AE(n,s,u));const a=u=>x(o[u],1,1,()=>{o[u]=null});return{c(){e=k("table"),t=k("thead"),t.innerHTML='<tr><th class="col-label">Rate limit label</th> <th class="col-requests">Max requests<br/><small>(per IP)</small></th> <th class="col-duration">Interval<br/><small>(in seconds)</small></th> <th class="col-audience">Targeted users</th> <th></th></tr>',i=D(),r=k("tbody");for(let u=0;u<o.length;u+=1)o[u].c();m(e,"class","rate-limit-table")},m(u,f){S(u,e,f),T(e,t),T(e,i),T(e,r);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(r,null);l=!0},p(u,f){if(f&293){s=Re(u[0].rateLimits.rules||[]);let c;for(c=0;c<s.length;c+=1){const h=AE(u,s,c);o[c]?(o[c].p(h,f),F(o[c],1)):(o[c]=NE(h),o[c].c(),F(o[c],1),o[c].m(r,null))}for(Ne(),c=s.length;c<o.length;c+=1)a(c);Me()}},i(u){if(!l){for(let f=0;f<s.length;f+=1)F(o[f]);l=!0}},o(u){o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)x(o[f]);l=!1},d(u){u&&E(e),fn(o,u)}}}function lme(n){let e,t,i;function r(s){n[10](s,n[25])}let l={required:!0,placeholder:"tag (users:create) or path (/api/)",options:n[2]};return n[25].label!==void 0&&(l.value=n[25].label),e=new ime({props:l}),ye.push(()=>Ke(e,"value",r)),{c(){ee(e.$$.fragment)},m(s,o){Q(e,s,o),i=!0},p(s,o){n=s;const a={};o&4&&(a.options=n[2]),!t&&o&1&&(t=!0,a.value=n[25].label,Ye(()=>t=!1)),e.$set(a)},i(s){i||(F(e.$$.fragment,s),i=!0)},o(s){x(e.$$.fragment,s),i=!1},d(s){J(e,s)}}}function sme(n){let e,t,i;function r(){n[11].call(e,n[26],n[27])}return{c(){e=k("input"),m(e,"type","number"),e.required=!0,m(e,"placeholder","Max requests*"),m(e,"min","1"),m(e,"step","1")},m(l,s){S(l,e,s),He(e,n[25].maxRequests),t||(i=se(e,"input",r),t=!0)},p(l,s){n=l,s&1&&wn(e.value)!==n[25].maxRequests&&He(e,n[25].maxRequests)},d(l){l&&E(e),t=!1,i()}}}function ome(n){let e,t,i;function r(){n[12].call(e,n[26],n[27])}return{c(){e=k("input"),m(e,"type","number"),e.required=!0,m(e,"placeholder","Interval*"),m(e,"min","1"),m(e,"step","1")},m(l,s){S(l,e,s),He(e,n[25].duration),t||(i=se(e,"input",r),t=!0)},p(l,s){n=l,s&1&&wn(e.value)!==n[25].duration&&He(e,n[25].duration)},d(l){l&&E(e),t=!1,i()}}}function ame(n){let e,t,i;function r(o){n[13](o,n[25])}function l(){return n[14](n[27])}let s={items:n[5]};return n[25].audience!==void 0&&(s.keyOfSelected=n[25].audience),e=new Nr({props:s}),ye.push(()=>Ke(e,"keyOfSelected",r)),e.$on("change",l),{c(){ee(e.$$.fragment)},m(o,a){Q(e,o,a),i=!0},p(o,a){n=o;const u={};!t&&a&1&&(t=!0,u.keyOfSelected=n[25].audience,Ye(()=>t=!1)),e.$set(u)},i(o){i||(F(e.$$.fragment,o),i=!0)},o(o){x(e.$$.fragment,o),i=!1},d(o){J(e,o)}}}function NE(n){let e,t,i,r,l,s,o,a,u,f,c,h,p,_,v,b,y,A,M;i=new Pe({props:{class:"form-field",name:"rateLimits.rules."+n[27]+".label",inlineError:!0,$$slots:{default:[lme]},$$scope:{ctx:n}}}),s=new Pe({props:{class:"form-field",name:"rateLimits.rules."+n[27]+".maxRequests",inlineError:!0,$$slots:{default:[sme]},$$scope:{ctx:n}}}),u=new Pe({props:{class:"form-field",name:"rateLimits.rules."+n[27]+".duration",inlineError:!0,$$slots:{default:[ome]},$$scope:{ctx:n}}}),h=new Pe({props:{class:"form-field",name:"rateLimits.rules."+n[27]+".audience",inlineError:!0,$$slots:{default:[ame]},$$scope:{ctx:n}}});function N(){return n[15](n[27])}return{c(){e=k("tr"),t=k("td"),ee(i.$$.fragment),r=D(),l=k("td"),ee(s.$$.fragment),o=D(),a=k("td"),ee(u.$$.fragment),f=D(),c=k("td"),ee(h.$$.fragment),p=D(),_=k("td"),v=k("button"),v.innerHTML='<i class="ri-close-line"></i>',b=D(),m(t,"class","col-label"),m(l,"class","col-requests"),m(a,"class","col-duration"),m(c,"class","col-audience"),m(v,"type","button"),m(v,"title","Remove rule"),m(v,"aria-label","Remove rule"),m(v,"class","btn btn-xs btn-circle btn-hint btn-transparent"),m(_,"class","col-action"),m(e,"class","rate-limit-row")},m(L,I){S(L,e,I),T(e,t),Q(i,t,null),T(e,r),T(e,l),Q(s,l,null),T(e,o),T(e,a),Q(u,a,null),T(e,f),T(e,c),Q(h,c,null),T(e,p),T(e,_),T(_,v),T(e,b),y=!0,A||(M=se(v,"click",N),A=!0)},p(L,I){n=L;const R={};I&536870917&&(R.$$scope={dirty:I,ctx:n}),i.$set(R);const $={};I&536870913&&($.$$scope={dirty:I,ctx:n}),s.$set($);const B={};I&536870913&&(B.$$scope={dirty:I,ctx:n}),u.$set(B);const H={};I&536870913&&(H.$$scope={dirty:I,ctx:n}),h.$set(H)},i(L){y||(F(i.$$.fragment,L),F(s.$$.fragment,L),F(u.$$.fragment,L),F(h.$$.fragment,L),y=!0)},o(L){x(i.$$.fragment,L),x(s.$$.fragment,L),x(u.$$.fragment,L),x(h.$$.fragment,L),y=!1},d(L){L&&E(e),J(i),J(s),J(u),J(h),A=!1,M()}}}function ume(n){let e,t,i=!re.isEmpty(n[0].rateLimits.rules),r,l,s,o,a,u,f,c;e=new Pe({props:{class:"form-field form-field-toggle m-b-xs",name:"rateLimits.enabled",$$slots:{default:[rme,({uniqueId:p})=>({28:p}),({uniqueId:p})=>p?268435456:0]},$$scope:{ctx:n}}});let h=i&&OE(n);return{c(){var p,_,v;ee(e.$$.fragment),t=D(),h&&h.c(),r=D(),l=k("div"),s=k("button"),s.innerHTML='<i class="ri-add-line"></i> <span class="txt">Add rate limit rule</span>',o=D(),a=k("button"),a.innerHTML="<em>Learn more about the rate limit rules</em>",m(s,"type","button"),m(s,"class","btn btn-sm btn-secondary m-r-auto"),he(s,"btn-danger",(v=(_=(p=n[1])==null?void 0:p.rateLimits)==null?void 0:_.rules)==null?void 0:v.message),m(a,"type","button"),m(a,"class","txt-nowrap txt-sm link-hint"),m(l,"class","flex m-t-sm")},m(p,_){Q(e,p,_),S(p,t,_),h&&h.m(p,_),S(p,r,_),S(p,l,_),T(l,s),T(l,o),T(l,a),u=!0,f||(c=[se(s,"click",n[16]),se(a,"click",n[17])],f=!0)},p(p,_){var b,y,A;const v={};_&805306369&&(v.$$scope={dirty:_,ctx:p}),e.$set(v),_&1&&(i=!re.isEmpty(p[0].rateLimits.rules)),i?h?(h.p(p,_),_&1&&F(h,1)):(h=OE(p),h.c(),F(h,1),h.m(r.parentNode,r)):h&&(Ne(),x(h,1,1,()=>{h=null}),Me()),(!u||_&2)&&he(s,"btn-danger",(A=(y=(b=p[1])==null?void 0:b.rateLimits)==null?void 0:y.rules)==null?void 0:A.message)},i(p){u||(F(e.$$.fragment,p),F(h),u=!0)},o(p){x(e.$$.fragment,p),x(h),u=!1},d(p){p&&(E(t),E(r),E(l)),J(e,p),h&&h.d(p),f=!1,it(c)}}}function ME(n){let e,t,i,r,l;return{c(){e=k("i"),m(e,"class","ri-error-warning-fill txt-danger")},m(s,o){S(s,e,o),i=!0,r||(l=nt(_t.call(null,e,{text:"Has errors",position:"left"})),r=!0)},i(s){i||(s&&tn(()=>{i&&(t||(t=Et(e,Bn,{duration:150,start:.7},!0)),t.run(1))}),i=!0)},o(s){s&&(t||(t=Et(e,Bn,{duration:150,start:.7},!1)),t.run(0)),i=!1},d(s){s&&E(e),s&&t&&t.end(),r=!1,l()}}}function fme(n){let e;return{c(){e=k("span"),e.textContent="Disabled",m(e,"class","label")},m(t,i){S(t,e,i)},d(t){t&&E(e)}}}function cme(n){let e;return{c(){e=k("span"),e.textContent="Enabled",m(e,"class","label label-success")},m(t,i){S(t,e,i)},d(t){t&&E(e)}}}function dme(n){let e,t,i,r,l,s,o=n[4]&&ME();function a(c,h){return c[0].rateLimits.enabled?cme:fme}let u=a(n),f=u(n);return{c(){e=k("div"),e.innerHTML='<i class="ri-pulse-fill"></i> <span class="txt">Rate limiting</span>',t=D(),i=k("div"),r=D(),o&&o.c(),l=D(),f.c(),s=ze(),m(e,"class","inline-flex"),m(i,"class","flex-fill")},m(c,h){S(c,e,h),S(c,t,h),S(c,i,h),S(c,r,h),o&&o.m(c,h),S(c,l,h),f.m(c,h),S(c,s,h)},p(c,h){c[4]?o?h&16&&F(o,1):(o=ME(),o.c(),F(o,1),o.m(l.parentNode,l)):o&&(Ne(),x(o,1,1,()=>{o=null}),Me()),u!==(u=a(c))&&(f.d(1),f=u(c),f&&(f.c(),f.m(s.parentNode,s)))},d(c){c&&(E(e),E(t),E(i),E(r),E(l),E(s)),o&&o.d(c),f.d(c)}}}function hme(n){let e;return{c(){e=k("em"),e.textContent=`(${n[22].description})`,m(e,"class","txt-hint")},m(t,i){S(t,e,i)},p:ge,d(t){t&&E(e)}}}function IE(n){let e,t=n[22].value.replace("*:",":")+"",i,r,l,s=n[22].description&&hme(n);return{c(){e=k("li"),i=le(t),r=D(),s&&s.c(),l=D(),m(e,"class","m-0")},m(o,a){S(o,e,a),T(e,i),T(e,r),s&&s.m(e,null),T(e,l)},p(o,a){o[22].description&&s.p(o,a)},d(o){o&&E(e),s&&s.d()}}}function pme(n){let e,t,i,r,l,s,o,a,u,f,c,h,p,_,v,b,y,A,M,N,L,I,R,$,B,H,q,z,j,W,G,ie=Re(n[6]),te=[];for(let ae=0;ae<ie.length;ae+=1)te[ae]=IE(CE(n,ie,ae));return{c(){e=k("p"),e.textContent="The rate limit rules are resolved in the following order (stops on the first match):",t=D(),i=k("ol"),i.innerHTML="<li>exact tag (e.g. <code>users:create</code>)</li> <li>wildcard tag (e.g. <code>*:create</code>)</li> <li>METHOD + exact path (e.g. <code>POST /a/b</code>)</li> <li>METHOD + prefix path (e.g. <code>POST /a/b<strong>/</strong></code>)</li> <li>exact path (e.g. <code>/a/b</code>)</li> <li>prefix path (e.g. <code>/a/b<strong>/</strong></code>)</li>",r=D(),l=k("p"),l.textContent=`In case of multiple rules with the same label but different target user audience (e.g. "guest" vs
        "auth"), only the matching audience rule is taken in consideration.`,s=D(),o=k("hr"),a=D(),u=k("p"),u.textContent="The rate limit label could be in one of the following formats:",f=D(),c=k("ul"),h=k("li"),h.innerHTML=`<code>[METHOD ]/my/path</code> - full exact route match (
            <strong>must be without trailing slash </strong>; &quot;METHOD&quot; is optional).
            <br/> For example:
            <ul class="m-0"><li class="m-0"><code>/hello</code> - matches <code>GET /hello</code>, <code>POST /hello</code>, etc.</li> <li class="m-0"><code>POST /hello</code> - matches only <code>POST /hello</code></li></ul>`,p=D(),_=k("li"),_.innerHTML=`<code>[METHOD ]/my/prefix<strong>/</strong></code> - path prefix (
            <strong>must end with trailing slash;</strong>
            &quot;METHOD&quot; is optional). For example:
            <ul class="m-0"><li class="m-0"><code>/hello/</code> - matches <code>GET /hello</code>,
                    <code>POST /hello/a/b/c</code>, etc.</li> <li class="m-0"><code>POST /hello/</code> - matches <code>POST /hello</code>,
                    <code>POST /hello/a/b/c</code>, etc.</li></ul>`,v=D(),b=k("li"),y=k("code"),y.textContent="collectionName:predefinedTag",A=le(` - targets a specific action of a single collection. To
            apply the rule for all collections you can use the `),M=k("code"),M.textContent="*",N=le(` wildcard. For example:
            `),L=k("code"),L.textContent="posts:create",I=le(", "),R=k("code"),R.textContent="users:listAuthMethods",$=le(", "),B=k("code"),B.textContent="*:auth",H=le(`.
            `),q=k("br"),z=le(`
            The predifined collection tags are (`),j=k("em"),j.textContent="there should be autocomplete once you start typing",W=le(`):
            `),G=k("ul");for(let ae=0;ae<te.length;ae+=1)te[ae].c();m(o,"class","m-t-xs m-b-xs"),m(h,"class","m-b-sm"),m(_,"class","m-b-sm")},m(ae,ue){S(ae,e,ue),S(ae,t,ue),S(ae,i,ue),S(ae,r,ue),S(ae,l,ue),S(ae,s,ue),S(ae,o,ue),S(ae,a,ue),S(ae,u,ue),S(ae,f,ue),S(ae,c,ue),T(c,h),T(c,p),T(c,_),T(c,v),T(c,b),T(b,y),T(b,A),T(b,M),T(b,N),T(b,L),T(b,I),T(b,R),T(b,$),T(b,B),T(b,H),T(b,q),T(b,z),T(b,j),T(b,W),T(b,G);for(let K=0;K<te.length;K+=1)te[K]&&te[K].m(G,null)},p(ae,ue){if(ue&64){ie=Re(ae[6]);let K;for(K=0;K<ie.length;K+=1){const X=CE(ae,ie,K);te[K]?te[K].p(X,ue):(te[K]=IE(X),te[K].c(),te[K].m(G,null))}for(;K<te.length;K+=1)te[K].d(1);te.length=ie.length}},d(ae){ae&&(E(e),E(t),E(i),E(r),E(l),E(s),E(o),E(a),E(u),E(f),E(c)),fn(te,ae)}}}function mme(n){let e;return{c(){e=k("h4"),e.textContent="Rate limit label format",m(e,"class","center txt-break")},m(t,i){S(t,e,i)},p:ge,d(t){t&&E(e)}}}function gme(n){let e,t,i;return{c(){e=k("button"),e.textContent="Close",m(e,"type","button"),m(e,"class","btn btn-transparent")},m(r,l){S(r,e,l),t||(i=se(e,"click",n[18]),t=!0)},p:ge,d(r){r&&E(e),t=!1,i()}}}function _me(n){let e,t,i,r;e=new Vs({props:{single:!0,$$slots:{header:[dme],default:[ume]},$$scope:{ctx:n}}});let l={$$slots:{footer:[gme],header:[mme],default:[pme]},$$scope:{ctx:n}};return i=new Mi({props:l}),n[19](i),{c(){ee(e.$$.fragment),t=D(),ee(i.$$.fragment)},m(s,o){Q(e,s,o),S(s,t,o),Q(i,s,o),r=!0},p(s,[o]){const a={};o&536870943&&(a.$$scope={dirty:o,ctx:s}),e.$set(a);const u={};o&536870920&&(u.$$scope={dirty:o,ctx:s}),i.$set(u)},i(s){r||(F(e.$$.fragment,s),F(i.$$.fragment,s),r=!0)},o(s){x(e.$$.fragment,s),x(i.$$.fragment,s),r=!1},d(s){s&&E(t),J(e,s),n[19](null),J(i,s)}}}function bme(n,e,t){let i,r,l;Wt(n,Or,B=>t(20,r=B)),Wt(n,mr,B=>t(1,l=B));let{formSettings:s}=e;const o=[{value:"",label:"All"},{value:"@guest",label:"Guest only"},{value:"@auth",label:"Auth only"}],a=[{value:"*:list"},{value:"*:view"},{value:"*:create"},{value:"*:update"},{value:"*:delete"},{value:"*:file",description:"targets the files download endpoint"},{value:"*:listAuthMethods"},{value:"*:authRefresh"},{value:"*:auth",description:"targets all auth methods"},{value:"*:authWithPassword"},{value:"*:authWithOAuth2"},{value:"*:authWithOTP"},{value:"*:requestOTP"},{value:"*:requestPasswordReset"},{value:"*:confirmPasswordReset"},{value:"*:requestVerification"},{value:"*:confirmVerification"},{value:"*:requestEmailChange"},{value:"*:confirmEmailChange"}];let u=a,f;c();async function c(){await l_(),t(2,u=[]);for(let B of r)B.system||(u.push({value:B.name+":list"}),u.push({value:B.name+":view"}),B.type!="view"&&(u.push({value:B.name+":create"}),u.push({value:B.name+":update"}),u.push({value:B.name+":delete"})),B.type=="auth"&&(u.push({value:B.name+":listAuthMethods"}),u.push({value:B.name+":authRefresh"}),u.push({value:B.name+":auth"}),u.push({value:B.name+":authWithPassword"}),u.push({value:B.name+":authWithOAuth2"}),u.push({value:B.name+":authWithOTP"}),u.push({value:B.name+":requestOTP"}),u.push({value:B.name+":requestPasswordReset"}),u.push({value:B.name+":confirmPasswordReset"}),u.push({value:B.name+":requestVerification"}),u.push({value:B.name+":confirmVerification"}),u.push({value:B.name+":requestEmailChange"}),u.push({value:B.name+":confirmEmailChange"})),B.fields.find(H=>H.type=="file")&&u.push({value:B.name+":file"}));t(2,u=u.concat(a))}function h(){mi({}),Array.isArray(s.rateLimits.rules)||t(0,s.rateLimits.rules=[],s),s.rateLimits.rules.push({label:"",maxRequests:300,duration:10,audience:""}),t(0,s),s.rateLimits.rules.length==1&&t(0,s.rateLimits.enabled=!0,s)}function p(B){mi({}),s.rateLimits.rules.splice(B,1),t(0,s),s.rateLimits.rules.length||t(0,s.rateLimits.enabled=!1,s)}function _(){s.rateLimits.enabled=this.checked,t(0,s)}function v(B,H){n.$$.not_equal(H.label,B)&&(H.label=B,t(0,s))}function b(B,H){B[H].maxRequests=wn(this.value),t(0,s)}function y(B,H){B[H].duration=wn(this.value),t(0,s)}function A(B,H){n.$$.not_equal(H.audience,B)&&(H.audience=B,t(0,s))}const M=B=>{ul("rateLimits.rules."+B)},N=B=>p(B),L=()=>h(),I=()=>f==null?void 0:f.show(),R=()=>f==null?void 0:f.hide();function $(B){ye[B?"unshift":"push"](()=>{f=B,t(3,f)})}return n.$$set=B=>{"formSettings"in B&&t(0,s=B.formSettings)},n.$$.update=()=>{n.$$.dirty&2&&t(4,i=!re.isEmpty(l==null?void 0:l.rateLimits))},[s,l,u,f,i,o,a,h,p,_,v,b,y,A,M,N,L,I,R,$]}class vme extends je{constructor(e){super(),qe(this,e,bme,_me,We,{formSettings:0})}}function yme(n){let e,t,i,r,l,s,o,a,u,f,c,h,p,_,v,b,y,A,M,N,L,I,R,$,B,H,q,z,j,W,G;i=new Pe({props:{class:"form-field required",name:"meta.appName",$$slots:{default:[Tme,({uniqueId:oe})=>({23:oe}),({uniqueId:oe})=>oe?8388608:0]},$$scope:{ctx:n}}}),s=new Pe({props:{class:"form-field required",name:"meta.appURL",$$slots:{default:[wme,({uniqueId:oe})=>({23:oe}),({uniqueId:oe})=>oe?8388608:0]},$$scope:{ctx:n}}});function ie(oe){n[11](oe)}let te={healthData:n[3]};n[0]!==void 0&&(te.formSettings=n[0]),f=new eme({props:te}),ye.push(()=>Ke(f,"formSettings",ie));function ae(oe){n[12](oe)}let ue={};n[0]!==void 0&&(ue.formSettings=n[0]),p=new vme({props:ue}),ye.push(()=>Ke(p,"formSettings",ae));function K(oe){n[13](oe)}let X={};n[0]!==void 0&&(X.formSettings=n[0]),b=new qpe({props:X}),ye.push(()=>Ke(b,"formSettings",K)),N=new Pe({props:{class:"form-field form-field-toggle m-0",name:"meta.hideControls",$$slots:{default:[Eme,({uniqueId:oe})=>({23:oe}),({uniqueId:oe})=>oe?8388608:0]},$$scope:{ctx:n}}});let _e=n[4]&&LE(n);return{c(){e=k("div"),t=k("div"),ee(i.$$.fragment),r=D(),l=k("div"),ee(s.$$.fragment),o=D(),a=k("div"),u=k("div"),ee(f.$$.fragment),h=D(),ee(p.$$.fragment),v=D(),ee(b.$$.fragment),A=D(),M=k("div"),ee(N.$$.fragment),L=D(),I=k("div"),R=k("div"),$=D(),_e&&_e.c(),B=D(),H=k("button"),q=k("span"),q.textContent="Save changes",m(t,"class","col-lg-6"),m(l,"class","col-lg-6"),m(u,"class","accordions"),m(a,"class","col-lg-12"),m(M,"class","col-lg-12"),m(e,"class","grid"),m(R,"class","flex-fill"),m(q,"class","txt"),m(H,"type","submit"),m(H,"class","btn btn-expanded"),H.disabled=z=!n[4]||n[2],he(H,"btn-loading",n[2]),m(I,"class","flex m-t-base")},m(oe,Le){S(oe,e,Le),T(e,t),Q(i,t,null),T(e,r),T(e,l),Q(s,l,null),T(e,o),T(e,a),T(a,u),Q(f,u,null),T(u,h),Q(p,u,null),T(u,v),Q(b,u,null),T(e,A),T(e,M),Q(N,M,null),S(oe,L,Le),S(oe,I,Le),T(I,R),T(I,$),_e&&_e.m(I,null),T(I,B),T(I,H),T(H,q),j=!0,W||(G=se(H,"click",n[16]),W=!0)},p(oe,Le){const lt={};Le&25165825&&(lt.$$scope={dirty:Le,ctx:oe}),i.$set(lt);const St={};Le&25165825&&(St.$$scope={dirty:Le,ctx:oe}),s.$set(St);const bt={};Le&8&&(bt.healthData=oe[3]),!c&&Le&1&&(c=!0,bt.formSettings=oe[0],Ye(()=>c=!1)),f.$set(bt);const At={};!_&&Le&1&&(_=!0,At.formSettings=oe[0],Ye(()=>_=!1)),p.$set(At);const ot={};!y&&Le&1&&(y=!0,ot.formSettings=oe[0],Ye(()=>y=!1)),b.$set(ot);const vt={};Le&25165825&&(vt.$$scope={dirty:Le,ctx:oe}),N.$set(vt),oe[4]?_e?_e.p(oe,Le):(_e=LE(oe),_e.c(),_e.m(I,B)):_e&&(_e.d(1),_e=null),(!j||Le&20&&z!==(z=!oe[4]||oe[2]))&&(H.disabled=z),(!j||Le&4)&&he(H,"btn-loading",oe[2])},i(oe){j||(F(i.$$.fragment,oe),F(s.$$.fragment,oe),F(f.$$.fragment,oe),F(p.$$.fragment,oe),F(b.$$.fragment,oe),F(N.$$.fragment,oe),j=!0)},o(oe){x(i.$$.fragment,oe),x(s.$$.fragment,oe),x(f.$$.fragment,oe),x(p.$$.fragment,oe),x(b.$$.fragment,oe),x(N.$$.fragment,oe),j=!1},d(oe){oe&&(E(e),E(L),E(I)),J(i),J(s),J(f),J(p),J(b),J(N),_e&&_e.d(),W=!1,G()}}}function kme(n){let e;return{c(){e=k("div"),m(e,"class","loader")},m(t,i){S(t,e,i)},p:ge,i:ge,o:ge,d(t){t&&E(e)}}}function Tme(n){let e,t,i,r,l,s,o,a;return{c(){e=k("label"),t=le("Application name"),r=D(),l=k("input"),m(e,"for",i=n[23]),m(l,"type","text"),m(l,"id",s=n[23]),l.required=!0},m(u,f){S(u,e,f),T(e,t),S(u,r,f),S(u,l,f),He(l,n[0].meta.appName),o||(a=se(l,"input",n[9]),o=!0)},p(u,f){f&8388608&&i!==(i=u[23])&&m(e,"for",i),f&8388608&&s!==(s=u[23])&&m(l,"id",s),f&1&&l.value!==u[0].meta.appName&&He(l,u[0].meta.appName)},d(u){u&&(E(e),E(r),E(l)),o=!1,a()}}}function wme(n){let e,t,i,r,l,s,o,a;return{c(){e=k("label"),t=le("Application URL"),r=D(),l=k("input"),m(e,"for",i=n[23]),m(l,"type","text"),m(l,"id",s=n[23]),l.required=!0},m(u,f){S(u,e,f),T(e,t),S(u,r,f),S(u,l,f),He(l,n[0].meta.appURL),o||(a=se(l,"input",n[10]),o=!0)},p(u,f){f&8388608&&i!==(i=u[23])&&m(e,"for",i),f&8388608&&s!==(s=u[23])&&m(l,"id",s),f&1&&l.value!==u[0].meta.appURL&&He(l,u[0].meta.appURL)},d(u){u&&(E(e),E(r),E(l)),o=!1,a()}}}function Eme(n){let e,t,i,r,l,s,o,a,u,f;return{c(){e=k("input"),i=D(),r=k("label"),l=k("span"),l.textContent="Hide collection create and edit controls",s=D(),o=k("i"),m(e,"type","checkbox"),m(e,"id",t=n[23]),m(l,"class","txt"),m(o,"class","ri-information-line link-hint"),m(r,"for",a=n[23])},m(c,h){S(c,e,h),e.checked=n[0].meta.hideControls,S(c,i,h),S(c,r,h),T(r,l),T(r,s),T(r,o),u||(f=[se(e,"change",n[14]),nt(_t.call(null,o,{text:"This could prevent making accidental schema changes when in production environment.",position:"right"}))],u=!0)},p(c,h){h&8388608&&t!==(t=c[23])&&m(e,"id",t),h&1&&(e.checked=c[0].meta.hideControls),h&8388608&&a!==(a=c[23])&&m(r,"for",a)},d(c){c&&(E(e),E(i),E(r)),u=!1,it(f)}}}function LE(n){let e,t,i,r;return{c(){e=k("button"),t=k("span"),t.textContent="Cancel",m(t,"class","txt"),m(e,"type","button"),m(e,"class","btn btn-transparent btn-hint"),e.disabled=n[2]},m(l,s){S(l,e,s),T(e,t),i||(r=se(e,"click",n[15]),i=!0)},p(l,s){s&4&&(e.disabled=l[2])},d(l){l&&E(e),i=!1,r()}}}function Sme(n){let e,t,i,r,l,s,o,a,u;const f=[kme,yme],c=[];function h(p,_){return p[1]?0:1}return l=h(n),s=c[l]=f[l](n),{c(){e=k("header"),e.innerHTML='<nav class="breadcrumbs"><div class="breadcrumb-item">Settings</div> <div class="breadcrumb-item">Application</div></nav>',t=D(),i=k("div"),r=k("form"),s.c(),m(e,"class","page-header"),m(r,"class","panel"),m(r,"autocomplete","off"),m(i,"class","wrapper")},m(p,_){S(p,e,_),S(p,t,_),S(p,i,_),T(i,r),c[l].m(r,null),o=!0,a||(u=se(r,"submit",ln(n[5])),a=!0)},p(p,_){let v=l;l=h(p),l===v?c[l].p(p,_):(Ne(),x(c[v],1,1,()=>{c[v]=null}),Me(),s=c[l],s?s.p(p,_):(s=c[l]=f[l](p),s.c()),F(s,1),s.m(r,null))},i(p){o||(F(s),o=!0)},o(p){x(s),o=!1},d(p){p&&(E(e),E(t),E(i)),c[l].d(),a=!1,u()}}}function Cme(n){let e,t,i,r;return e=new Fa({}),i=new Nl({props:{$$slots:{default:[Sme]},$$scope:{ctx:n}}}),{c(){ee(e.$$.fragment),t=D(),ee(i.$$.fragment)},m(l,s){Q(e,l,s),S(l,t,s),Q(i,l,s),r=!0},p(l,[s]){const o={};s&16777247&&(o.$$scope={dirty:s,ctx:l}),i.$set(o)},i(l){r||(F(e.$$.fragment,l),F(i.$$.fragment,l),r=!0)},o(l){x(e.$$.fragment,l),x(i.$$.fragment,l),r=!1},d(l){l&&E(t),J(e,l),J(i,l)}}}function DE(n){if(!n)return;let e=[{},{}];return n.sort((t,i)=>{e[0].length=t.label.length,e[0].isTag=t.label.includes(":")||!t.label.includes("/"),e[0].isWildcardTag=e[0].isTag&&t.label.startsWith("*"),e[0].isExactTag=e[0].isTag&&!e[0].isWildcardTag,e[0].isPrefix=!e[0].isTag&&t.label.endsWith("/"),e[0].hasMethod=!e[0].isTag&&t.label.includes(" /"),e[1].length=i.label.length,e[1].isTag=i.label.includes(":")||!i.label.includes("/"),e[1].isWildcardTag=e[1].isTag&&i.label.startsWith("*"),e[1].isExactTag=e[1].isTag&&!e[1].isWildcardTag,e[1].isPrefix=!e[1].isTag&&i.label.endsWith("/"),e[1].hasMethod=!e[1].isTag&&i.label.includes(" /");for(let r of e)r.priority=0,r.isTag?(r.priority+=1e3,r.isExactTag?r.priority+=10:r.priority+=5):(r.hasMethod&&(r.priority+=10),r.isPrefix||(r.priority+=5));return e[0].isPrefix&&e[1].isPrefix&&(e[0].hasMethod&&e[1].hasMethod||!e[0].hasMethod&&!e[1].hasMethod)&&(e[0].length>e[1].length?e[0].priority+=1:e[0].length<e[1].length&&(e[1].priority+=1)),e[0].priority>e[1].priority?-1:e[0].priority<e[1].priority?1:0}),n}function Ame(n,e,t){let i,r,l,s;Wt(n,Sa,H=>t(17,r=H)),Wt(n,ch,H=>t(18,l=H)),Wt(n,Hi,H=>t(19,s=H)),Cr(Hi,s="Application settings",s);let o={},a={},u=!1,f=!1,c="",h={};_();async function p(){var H;try{t(3,h=((H=await xe.health.check()||{})==null?void 0:H.data)||{})}catch(q){console.warn("Health check failed:",q)}}async function _(){t(1,u=!0);try{const H=await xe.settings.getAll()||{};b(H),await p()}catch(H){xe.error(H)}t(1,u=!1)}async function v(){if(!(f||!i)){t(2,f=!0),t(0,a.rateLimits.rules=DE(a.rateLimits.rules),a);try{const H=await xe.settings.update(re.filterRedactedProps(a));b(H),await p(),mi({}),Oi("Successfully saved application settings.")}catch(H){xe.error(H)}t(2,f=!1)}}function b(H={}){var q,z;Cr(ch,l=(q=H==null?void 0:H.meta)==null?void 0:q.appName,l),Cr(Sa,r=!!((z=H==null?void 0:H.meta)!=null&&z.hideControls),r),t(0,a={meta:(H==null?void 0:H.meta)||{},batch:H.batch||{},trustedProxy:H.trustedProxy||{headers:[]},rateLimits:H.rateLimits||{rules:[]}}),DE(a.rateLimits.rules),t(7,o=JSON.parse(JSON.stringify(a)))}function y(){t(0,a=JSON.parse(JSON.stringify(o||{})))}function A(){a.meta.appName=this.value,t(0,a)}function M(){a.meta.appURL=this.value,t(0,a)}function N(H){a=H,t(0,a)}function L(H){a=H,t(0,a)}function I(H){a=H,t(0,a)}function R(){a.meta.hideControls=this.checked,t(0,a)}const $=()=>y(),B=()=>v();return n.$$.update=()=>{n.$$.dirty&128&&t(8,c=JSON.stringify(o)),n.$$.dirty&257&&t(4,i=c!=JSON.stringify(a))},[a,u,f,h,i,v,y,o,c,A,M,N,L,I,R,$,B]}class Ome extends je{constructor(e){super(),qe(this,e,Ame,Cme,We,{})}}function Nme(n){let e,t,i,r,l,s,o,a,u,f;return{c(){e=k("label"),t=le("Backup name"),r=D(),l=k("input"),o=D(),a=k("em"),a.textContent="Must be in the format [a-z0-9_-].zip",m(e,"for",i=n[15]),m(l,"type","text"),m(l,"id",s=n[15]),m(l,"placeholder","Leave empty to autogenerate"),m(l,"pattern","^[a-z0-9_-]+\\.zip$"),m(a,"class","help-block")},m(c,h){S(c,e,h),T(e,t),S(c,r,h),S(c,l,h),He(l,n[2]),S(c,o,h),S(c,a,h),u||(f=se(l,"input",n[7]),u=!0)},p(c,h){h&32768&&i!==(i=c[15])&&m(e,"for",i),h&32768&&s!==(s=c[15])&&m(l,"id",s),h&4&&l.value!==c[2]&&He(l,c[2])},d(c){c&&(E(e),E(r),E(l),E(o),E(a)),u=!1,f()}}}function Mme(n){let e,t,i,r,l,s,o;return r=new Pe({props:{class:"form-field m-0",name:"name",$$slots:{default:[Nme,({uniqueId:a})=>({15:a}),({uniqueId:a})=>a?32768:0]},$$scope:{ctx:n}}}),{c(){e=k("div"),e.innerHTML=`<div class="icon"><i class="ri-information-line"></i></div> <div class="content"><p>Please note that during the backup other concurrent write requests may fail since the
                database will be temporary &quot;locked&quot; (this usually happens only during the ZIP generation).</p> <p class="txt-bold">If you are using S3 storage for the collections file upload, you&#39;ll have to backup them
                separately since they are not locally stored and will not be included in the final backup!</p></div>`,t=D(),i=k("form"),ee(r.$$.fragment),m(e,"class","alert alert-info"),m(i,"id",n[4]),m(i,"autocomplete","off")},m(a,u){S(a,e,u),S(a,t,u),S(a,i,u),Q(r,i,null),l=!0,s||(o=se(i,"submit",ln(n[5])),s=!0)},p(a,u){const f={};u&98308&&(f.$$scope={dirty:u,ctx:a}),r.$set(f)},i(a){l||(F(r.$$.fragment,a),l=!0)},o(a){x(r.$$.fragment,a),l=!1},d(a){a&&(E(e),E(t),E(i)),J(r),s=!1,o()}}}function Ime(n){let e;return{c(){e=k("h4"),e.textContent="Initialize new backup",m(e,"class","center txt-break")},m(t,i){S(t,e,i)},p:ge,d(t){t&&E(e)}}}function Lme(n){let e,t,i,r,l,s,o;return{c(){e=k("button"),t=k("span"),t.textContent="Cancel",i=D(),r=k("button"),l=k("span"),l.textContent="Start backup",m(t,"class","txt"),m(e,"type","button"),m(e,"class","btn btn-transparent"),e.disabled=n[3],m(l,"class","txt"),m(r,"type","submit"),m(r,"form",n[4]),m(r,"class","btn btn-expanded"),r.disabled=n[3],he(r,"btn-loading",n[3])},m(a,u){S(a,e,u),T(e,t),S(a,i,u),S(a,r,u),T(r,l),s||(o=se(e,"click",n[0]),s=!0)},p(a,u){u&8&&(e.disabled=a[3]),u&8&&(r.disabled=a[3]),u&8&&he(r,"btn-loading",a[3])},d(a){a&&(E(e),E(i),E(r)),s=!1,o()}}}function Dme(n){let e,t,i={class:"backup-create-panel",beforeOpen:n[8],beforeHide:n[9],popup:!0,$$slots:{footer:[Lme],header:[Ime],default:[Mme]},$$scope:{ctx:n}};return e=new Mi({props:i}),n[10](e),e.$on("show",n[11]),e.$on("hide",n[12]),{c(){ee(e.$$.fragment)},m(r,l){Q(e,r,l),t=!0},p(r,[l]){const s={};l&8&&(s.beforeOpen=r[8]),l&8&&(s.beforeHide=r[9]),l&65548&&(s.$$scope={dirty:l,ctx:r}),e.$set(s)},i(r){t||(F(e.$$.fragment,r),t=!0)},o(r){x(e.$$.fragment,r),t=!1},d(r){n[10](null),J(e,r)}}}function Rme(n,e,t){const i=Sn(),r="backup_create_"+re.randomString(5);let l,s="",o=!1,a;function u(A){mi({}),t(3,o=!1),t(2,s=A||""),l==null||l.show()}function f(){return l==null?void 0:l.hide()}async function c(){if(!o){t(3,o=!0),clearTimeout(a),a=setTimeout(()=>{f()},1500);try{await xe.backups.create(s,{$cancelKey:r}),t(3,o=!1),f(),i("submit"),Oi("Successfully generated new backup.")}catch(A){A.isAbort||xe.error(A)}clearTimeout(a),t(3,o=!1)}}Na(()=>{clearTimeout(a)});function h(){s=this.value,t(2,s)}const p=()=>o?(Dc("A backup has already been started, please wait."),!1):!0,_=()=>(o&&Dc("The backup was started but may take a while to complete. You can come back later.",4500),!0);function v(A){ye[A?"unshift":"push"](()=>{l=A,t(1,l)})}function b(A){ut.call(this,n,A)}function y(A){ut.call(this,n,A)}return[f,l,s,o,r,c,u,h,p,_,v,b,y]}class Pme extends je{constructor(e){super(),qe(this,e,Rme,Dme,We,{show:6,hide:0})}get show(){return this.$$.ctx[6]}get hide(){return this.$$.ctx[0]}}function Fme(n){let e,t,i,r,l,s,o,a;return{c(){e=k("label"),t=le("Backup name"),r=D(),l=k("input"),m(e,"for",i=n[15]),m(l,"type","text"),m(l,"id",s=n[15]),l.required=!0},m(u,f){S(u,e,f),T(e,t),S(u,r,f),S(u,l,f),He(l,n[2]),o||(a=se(l,"input",n[9]),o=!0)},p(u,f){f&32768&&i!==(i=u[15])&&m(e,"for",i),f&32768&&s!==(s=u[15])&&m(l,"id",s),f&4&&l.value!==u[2]&&He(l,u[2])},d(u){u&&(E(e),E(r),E(l)),o=!1,a()}}}function $me(n){let e,t,i,r,l,s,o,a,u,f,c,h,p,_,v,b;return u=new bs({props:{value:n[1]}}),p=new Pe({props:{class:"form-field required m-0",name:"name",$$slots:{default:[Fme,({uniqueId:y})=>({15:y}),({uniqueId:y})=>y?32768:0]},$$scope:{ctx:n}}}),{c(){e=k("div"),e.innerHTML=`<div class="icon"><i class="ri-alert-line"></i></div> <div class="content"><p class="txt-bold">Please proceed with caution and use it only with trusted backups!</p> <p>Backup restore is experimental and works only on UNIX based systems.</p> <p>The restore operation will attempt to replace your existing <code>pb_data</code> with the one from
                the backup and will restart the application process.</p> <p>This means that on success all of your data (including app settings, users, superusers, etc.) will
                be replaced with the ones from the backup.</p> <p>Nothing will happen if the backup is invalid or incompatible (ex. missing
                <code>data.db</code> file).</p></div>`,t=D(),i=k("div"),r=le(`Type the backup name
        `),l=k("div"),s=k("span"),o=le(n[1]),a=D(),ee(u.$$.fragment),f=le(`
        to confirm:`),c=D(),h=k("form"),ee(p.$$.fragment),m(e,"class","alert alert-danger"),m(s,"class","txt"),m(l,"class","label"),m(i,"class","content m-b-xs"),m(h,"id",n[6]),m(h,"autocomplete","off")},m(y,A){S(y,e,A),S(y,t,A),S(y,i,A),T(i,r),T(i,l),T(l,s),T(s,o),T(l,a),Q(u,l,null),T(i,f),S(y,c,A),S(y,h,A),Q(p,h,null),_=!0,v||(b=se(h,"submit",ln(n[7])),v=!0)},p(y,A){(!_||A&2)&&Se(o,y[1]);const M={};A&2&&(M.value=y[1]),u.$set(M);const N={};A&98308&&(N.$$scope={dirty:A,ctx:y}),p.$set(N)},i(y){_||(F(u.$$.fragment,y),F(p.$$.fragment,y),_=!0)},o(y){x(u.$$.fragment,y),x(p.$$.fragment,y),_=!1},d(y){y&&(E(e),E(t),E(i),E(c),E(h)),J(u),J(p),v=!1,b()}}}function Hme(n){let e,t,i,r;return{c(){e=k("h4"),t=le("Restore "),i=k("strong"),r=le(n[1]),m(e,"class","popup-title txt-ellipsis svelte-1fcgldh")},m(l,s){S(l,e,s),T(e,t),T(e,i),T(i,r)},p(l,s){s&2&&Se(r,l[1])},d(l){l&&E(e)}}}function Bme(n){let e,t,i,r,l,s,o,a;return{c(){e=k("button"),t=le("Cancel"),i=D(),r=k("button"),l=k("span"),l.textContent="Restore backup",m(e,"type","button"),m(e,"class","btn btn-transparent"),e.disabled=n[4],m(l,"class","txt"),m(r,"type","submit"),m(r,"form",n[6]),m(r,"class","btn btn-expanded"),r.disabled=s=!n[5]||n[4],he(r,"btn-loading",n[4])},m(u,f){S(u,e,f),T(e,t),S(u,i,f),S(u,r,f),T(r,l),o||(a=se(e,"click",n[0]),o=!0)},p(u,f){f&16&&(e.disabled=u[4]),f&48&&s!==(s=!u[5]||u[4])&&(r.disabled=s),f&16&&he(r,"btn-loading",u[4])},d(u){u&&(E(e),E(i),E(r)),o=!1,a()}}}function xme(n){let e,t,i={class:"backup-restore-panel",overlayClose:!n[4],escClose:!n[4],beforeHide:n[10],popup:!0,$$slots:{footer:[Bme],header:[Hme],default:[$me]},$$scope:{ctx:n}};return e=new Mi({props:i}),n[11](e),e.$on("show",n[12]),e.$on("hide",n[13]),{c(){ee(e.$$.fragment)},m(r,l){Q(e,r,l),t=!0},p(r,[l]){const s={};l&16&&(s.overlayClose=!r[4]),l&16&&(s.escClose=!r[4]),l&16&&(s.beforeHide=r[10]),l&65590&&(s.$$scope={dirty:l,ctx:r}),e.$set(s)},i(r){t||(F(e.$$.fragment,r),t=!0)},o(r){x(e.$$.fragment,r),t=!1},d(r){n[11](null),J(e,r)}}}function Ume(n,e,t){let i;const r="backup_restore_"+re.randomString(5);let l,s="",o="",a=!1,u=null;function f(A){mi({}),t(2,o=""),t(1,s=A),t(4,a=!1),l==null||l.show()}function c(){return l==null?void 0:l.hide()}async function h(){var A;if(!(!i||a)){clearTimeout(u),t(4,a=!0);try{await xe.backups.restore(s),u=setTimeout(()=>{window.location.reload()},2e3)}catch(M){clearTimeout(u),M!=null&&M.isAbort||(t(4,a=!1),Ts(((A=M.response)==null?void 0:A.message)||M.message))}}}Na(()=>{clearTimeout(u)});function p(){o=this.value,t(2,o)}const _=()=>!a;function v(A){ye[A?"unshift":"push"](()=>{l=A,t(3,l)})}function b(A){ut.call(this,n,A)}function y(A){ut.call(this,n,A)}return n.$$.update=()=>{n.$$.dirty&6&&t(5,i=o!=""&&s==o)},[c,s,o,l,a,i,r,h,f,p,_,v,b,y]}class zme extends je{constructor(e){super(),qe(this,e,Ume,xme,We,{show:8,hide:0})}get show(){return this.$$.ctx[8]}get hide(){return this.$$.ctx[0]}}function RE(n,e,t){const i=n.slice();return i[22]=e[t],i}function PE(n,e,t){const i=n.slice();return i[19]=e[t],i}function qme(n){let e=[],t=new Map,i,r,l=Re(n[3]);const s=a=>a[22].key;for(let a=0;a<l.length;a+=1){let u=RE(n,l,a),f=s(u);t.set(f,e[a]=$E(f,u))}let o=null;return l.length||(o=FE()),{c(){for(let a=0;a<e.length;a+=1)e[a].c();i=ze(),o&&o.c()},m(a,u){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(a,u);S(a,i,u),o&&o.m(a,u),r=!0},p(a,u){u&876&&(l=Re(a[3]),Ne(),e=In(e,u,s,1,a,l,t,i.parentNode,di,$E,i,RE),Me(),!l.length&&o?o.p(a,u):l.length?o&&(o.d(1),o=null):(o=FE(),o.c(),o.m(i.parentNode,i)))},i(a){if(!r){for(let u=0;u<l.length;u+=1)F(e[u]);r=!0}},o(a){for(let u=0;u<e.length;u+=1)x(e[u]);r=!1},d(a){a&&E(i);for(let u=0;u<e.length;u+=1)e[u].d(a);o&&o.d(a)}}}function jme(n){let e,t=Re(Array(n[3].length||1)),i=[];for(let r=0;r<t.length;r+=1)i[r]=HE(PE(n,t,r));return{c(){for(let r=0;r<i.length;r+=1)i[r].c();e=ze()},m(r,l){for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(r,l);S(r,e,l)},p(r,l){if(l&8){t=Re(Array(r[3].length||1));let s;for(s=0;s<t.length;s+=1){const o=PE(r,t,s);i[s]?i[s].p(o,l):(i[s]=HE(),i[s].c(),i[s].m(e.parentNode,e))}for(;s<i.length;s+=1)i[s].d(1);i.length=t.length}},i:ge,o:ge,d(r){r&&E(e),fn(i,r)}}}function FE(n){let e;return{c(){e=k("div"),e.innerHTML='<span class="txt">No backups yet.</span> ',m(e,"class","list-item list-item-placeholder svelte-1ulbkf5")},m(t,i){S(t,e,i)},p:ge,d(t){t&&E(e)}}}function $E(n,e){let t,i,r,l,s,o=e[22].key+"",a,u,f,c,h,p=re.formattedFileSize(e[22].size)+"",_,v,b,y,A,M,N,L,I,R,$,B,H,q,z,j,W,G,ie,te;function ae(){return e[10](e[22])}function ue(){return e[11](e[22])}function K(){return e[12](e[22])}return{key:n,first:null,c(){t=k("div"),i=k("i"),r=D(),l=k("div"),s=k("span"),a=le(o),f=D(),c=k("span"),h=le("("),_=le(p),v=le(")"),b=D(),y=k("div"),A=k("button"),M=k("i"),L=D(),I=k("button"),R=k("i"),B=D(),H=k("button"),q=k("i"),j=D(),m(i,"class","ri-folder-zip-line"),m(s,"class","name backup-name svelte-1ulbkf5"),m(s,"title",u=e[22].key),m(c,"class","size txt-hint txt-nowrap"),m(l,"class","content"),m(M,"class","ri-download-line"),m(A,"type","button"),m(A,"class","btn btn-sm btn-circle btn-hint btn-transparent"),A.disabled=N=e[6][e[22].key]||e[5][e[22].key],m(A,"aria-label","Download"),he(A,"btn-loading",e[5][e[22].key]),m(R,"class","ri-restart-line"),m(I,"type","button"),m(I,"class","btn btn-sm btn-circle btn-hint btn-transparent"),I.disabled=$=e[6][e[22].key],m(I,"aria-label","Restore"),m(q,"class","ri-delete-bin-7-line"),m(H,"type","button"),m(H,"class","btn btn-sm btn-circle btn-hint btn-transparent"),H.disabled=z=e[6][e[22].key],m(H,"aria-label","Delete"),he(H,"btn-loading",e[6][e[22].key]),m(y,"class","actions nonintrusive"),m(t,"class","list-item svelte-1ulbkf5"),this.first=t},m(X,_e){S(X,t,_e),T(t,i),T(t,r),T(t,l),T(l,s),T(s,a),T(l,f),T(l,c),T(c,h),T(c,_),T(c,v),T(t,b),T(t,y),T(y,A),T(A,M),T(y,L),T(y,I),T(I,R),T(y,B),T(y,H),T(H,q),T(t,j),G=!0,ie||(te=[nt(_t.call(null,A,"Download")),se(A,"click",ln(ae)),nt(_t.call(null,I,"Restore")),se(I,"click",ln(ue)),nt(_t.call(null,H,"Delete")),se(H,"click",ln(K))],ie=!0)},p(X,_e){e=X,(!G||_e&8)&&o!==(o=e[22].key+"")&&Se(a,o),(!G||_e&8&&u!==(u=e[22].key))&&m(s,"title",u),(!G||_e&8)&&p!==(p=re.formattedFileSize(e[22].size)+"")&&Se(_,p),(!G||_e&104&&N!==(N=e[6][e[22].key]||e[5][e[22].key]))&&(A.disabled=N),(!G||_e&40)&&he(A,"btn-loading",e[5][e[22].key]),(!G||_e&72&&$!==($=e[6][e[22].key]))&&(I.disabled=$),(!G||_e&72&&z!==(z=e[6][e[22].key]))&&(H.disabled=z),(!G||_e&72)&&he(H,"btn-loading",e[6][e[22].key])},i(X){G||(X&&tn(()=>{G&&(W||(W=Et(t,En,{duration:150},!0)),W.run(1))}),G=!0)},o(X){X&&(W||(W=Et(t,En,{duration:150},!1)),W.run(0)),G=!1},d(X){X&&E(t),X&&W&&W.end(),ie=!1,it(te)}}}function HE(n){let e;return{c(){e=k("div"),e.innerHTML='<span class="skeleton-loader"></span> ',m(e,"class","list-item list-item-loader svelte-1ulbkf5")},m(t,i){S(t,e,i)},p:ge,d(t){t&&E(e)}}}function Wme(n){let e,t,i;return{c(){e=k("span"),t=D(),i=k("span"),i.textContent="Backup/restore operation is in process",m(e,"class","loader loader-sm"),m(i,"class","txt")},m(r,l){S(r,e,l),S(r,t,l),S(r,i,l)},d(r){r&&(E(e),E(t),E(i))}}}function Kme(n){let e,t,i;return{c(){e=k("i"),t=D(),i=k("span"),i.textContent="Initialize new backup",m(e,"class","ri-play-circle-line"),m(i,"class","txt")},m(r,l){S(r,e,l),S(r,t,l),S(r,i,l)},d(r){r&&(E(e),E(t),E(i))}}}function Vme(n){let e,t,i,r,l,s,o,a,u,f,c,h,p,_,v;const b=[jme,qme],y=[];function A($,B){return $[4]?0:1}i=A(n),r=y[i]=b[i](n);function M($,B){return $[7]?Kme:Wme}let N=M(n),L=N(n),I={};f=new Pme({props:I}),n[14](f),f.$on("submit",n[15]);let R={};return h=new zme({props:R}),n[16](h),{c(){e=k("div"),t=k("div"),r.c(),l=D(),s=k("div"),o=k("button"),L.c(),u=D(),ee(f.$$.fragment),c=D(),ee(h.$$.fragment),m(t,"class","list-content svelte-1ulbkf5"),m(o,"type","button"),m(o,"class","btn btn-block btn-transparent"),o.disabled=a=n[4]||!n[7],m(s,"class","list-item list-item-btn"),m(e,"class","list list-compact")},m($,B){S($,e,B),T(e,t),y[i].m(t,null),T(e,l),T(e,s),T(s,o),L.m(o,null),S($,u,B),Q(f,$,B),S($,c,B),Q(h,$,B),p=!0,_||(v=se(o,"click",n[13]),_=!0)},p($,[B]){let H=i;i=A($),i===H?y[i].p($,B):(Ne(),x(y[H],1,1,()=>{y[H]=null}),Me(),r=y[i],r?r.p($,B):(r=y[i]=b[i]($),r.c()),F(r,1),r.m(t,null)),N!==(N=M($))&&(L.d(1),L=N($),L&&(L.c(),L.m(o,null))),(!p||B&144&&a!==(a=$[4]||!$[7]))&&(o.disabled=a);const q={};f.$set(q);const z={};h.$set(z)},i($){p||(F(r),F(f.$$.fragment,$),F(h.$$.fragment,$),p=!0)},o($){x(r),x(f.$$.fragment,$),x(h.$$.fragment,$),p=!1},d($){$&&(E(e),E(u),E(c)),y[i].d(),L.d(),n[14](null),J(f,$),n[16](null),J(h,$),_=!1,v()}}}function Gme(n,e,t){let i,r,l=[],s=!1,o={},a={},u=!0;f(),_();async function f(){t(4,s=!0);try{t(3,l=await xe.backups.getFullList()),l.sort((I,R)=>I.modified<R.modified?1:I.modified>R.modified?-1:0),t(4,s=!1)}catch(I){I.isAbort||(xe.error(I),t(4,s=!1))}}async function c(I){if(!o[I]){t(5,o[I]=!0,o);try{const R=await xe.getSuperuserFileToken();re.download(xe.backups.getDownloadURL(R,I))}catch(R){R.isAbort||xe.error(R)}delete o[I],t(5,o)}}function h(I){ar(`Do you really want to delete ${I}?`,()=>p(I))}async function p(I){if(!a[I]){t(6,a[I]=!0,a);try{await xe.backups.delete(I),re.removeByKey(l,"name",I),f(),Oi(`Successfully deleted ${I}.`)}catch(R){R.isAbort||xe.error(R)}delete a[I],t(6,a)}}async function _(){var I;try{const R=await xe.health.check({$autoCancel:!1}),$=u;t(7,u=((I=R==null?void 0:R.data)==null?void 0:I.canBackup)||!1),$!=u&&u&&f()}catch{}}hi(()=>{let I=setInterval(()=>{_()},3e3);return()=>{clearInterval(I)}});const v=I=>c(I.key),b=I=>r.show(I.key),y=I=>h(I.key),A=()=>i==null?void 0:i.show();function M(I){ye[I?"unshift":"push"](()=>{i=I,t(1,i)})}const N=()=>{f()};function L(I){ye[I?"unshift":"push"](()=>{r=I,t(2,r)})}return[f,i,r,l,s,o,a,u,c,h,v,b,y,A,M,N,L]}class Yme extends je{constructor(e){super(),qe(this,e,Gme,Vme,We,{loadBackups:0})}get loadBackups(){return this.$$.ctx[0]}}const Xme=n=>({isTesting:n&4,testError:n&2,enabled:n&1}),BE=n=>({isTesting:n[2],testError:n[1],enabled:n[0].enabled});function Zme(n){let e,t,i,r,l,s,o,a;return{c(){e=k("input"),i=D(),r=k("label"),l=le(n[4]),m(e,"type","checkbox"),m(e,"id",t=n[23]),e.required=!0,m(r,"for",s=n[23])},m(u,f){S(u,e,f),e.checked=n[0].enabled,S(u,i,f),S(u,r,f),T(r,l),o||(a=se(e,"change",n[9]),o=!0)},p(u,f){f&8388608&&t!==(t=u[23])&&m(e,"id",t),f&1&&(e.checked=u[0].enabled),f&16&&Se(l,u[4]),f&8388608&&s!==(s=u[23])&&m(r,"for",s)},d(u){u&&(E(e),E(i),E(r)),o=!1,a()}}}function xE(n){let e,t,i,r,l,s,o,a,u,f,c,h,p,_,v,b,y,A,M,N,L,I;return i=new Pe({props:{class:"form-field required",name:n[3]+".endpoint",$$slots:{default:[Qme,({uniqueId:R})=>({23:R}),({uniqueId:R})=>R?8388608:0]},$$scope:{ctx:n}}}),s=new Pe({props:{class:"form-field required",name:n[3]+".bucket",$$slots:{default:[Jme,({uniqueId:R})=>({23:R}),({uniqueId:R})=>R?8388608:0]},$$scope:{ctx:n}}}),u=new Pe({props:{class:"form-field required",name:n[3]+".region",$$slots:{default:[e0e,({uniqueId:R})=>({23:R}),({uniqueId:R})=>R?8388608:0]},$$scope:{ctx:n}}}),h=new Pe({props:{class:"form-field required",name:n[3]+".accessKey",$$slots:{default:[t0e,({uniqueId:R})=>({23:R}),({uniqueId:R})=>R?8388608:0]},$$scope:{ctx:n}}}),v=new Pe({props:{class:"form-field required",name:n[3]+".secret",$$slots:{default:[n0e,({uniqueId:R})=>({23:R}),({uniqueId:R})=>R?8388608:0]},$$scope:{ctx:n}}}),A=new Pe({props:{class:"form-field",name:n[3]+".forcePathStyle",$$slots:{default:[i0e,({uniqueId:R})=>({23:R}),({uniqueId:R})=>R?8388608:0]},$$scope:{ctx:n}}}),{c(){e=k("div"),t=k("div"),ee(i.$$.fragment),r=D(),l=k("div"),ee(s.$$.fragment),o=D(),a=k("div"),ee(u.$$.fragment),f=D(),c=k("div"),ee(h.$$.fragment),p=D(),_=k("div"),ee(v.$$.fragment),b=D(),y=k("div"),ee(A.$$.fragment),M=D(),N=k("div"),m(t,"class","col-lg-6"),m(l,"class","col-lg-3"),m(a,"class","col-lg-3"),m(c,"class","col-lg-6"),m(_,"class","col-lg-6"),m(y,"class","col-lg-12"),m(N,"class","col-lg-12"),m(e,"class","grid")},m(R,$){S(R,e,$),T(e,t),Q(i,t,null),T(e,r),T(e,l),Q(s,l,null),T(e,o),T(e,a),Q(u,a,null),T(e,f),T(e,c),Q(h,c,null),T(e,p),T(e,_),Q(v,_,null),T(e,b),T(e,y),Q(A,y,null),T(e,M),T(e,N),I=!0},p(R,$){const B={};$&8&&(B.name=R[3]+".endpoint"),$&8519681&&(B.$$scope={dirty:$,ctx:R}),i.$set(B);const H={};$&8&&(H.name=R[3]+".bucket"),$&8519681&&(H.$$scope={dirty:$,ctx:R}),s.$set(H);const q={};$&8&&(q.name=R[3]+".region"),$&8519681&&(q.$$scope={dirty:$,ctx:R}),u.$set(q);const z={};$&8&&(z.name=R[3]+".accessKey"),$&8519681&&(z.$$scope={dirty:$,ctx:R}),h.$set(z);const j={};$&8&&(j.name=R[3]+".secret"),$&8519713&&(j.$$scope={dirty:$,ctx:R}),v.$set(j);const W={};$&8&&(W.name=R[3]+".forcePathStyle"),$&8519681&&(W.$$scope={dirty:$,ctx:R}),A.$set(W)},i(R){I||(F(i.$$.fragment,R),F(s.$$.fragment,R),F(u.$$.fragment,R),F(h.$$.fragment,R),F(v.$$.fragment,R),F(A.$$.fragment,R),R&&tn(()=>{I&&(L||(L=Et(e,En,{duration:150},!0)),L.run(1))}),I=!0)},o(R){x(i.$$.fragment,R),x(s.$$.fragment,R),x(u.$$.fragment,R),x(h.$$.fragment,R),x(v.$$.fragment,R),x(A.$$.fragment,R),R&&(L||(L=Et(e,En,{duration:150},!1)),L.run(0)),I=!1},d(R){R&&E(e),J(i),J(s),J(u),J(h),J(v),J(A),R&&L&&L.end()}}}function Qme(n){let e,t,i,r,l,s,o,a;return{c(){e=k("label"),t=le("Endpoint"),r=D(),l=k("input"),m(e,"for",i=n[23]),m(l,"type","text"),m(l,"id",s=n[23]),l.required=!0},m(u,f){S(u,e,f),T(e,t),S(u,r,f),S(u,l,f),He(l,n[0].endpoint),o||(a=se(l,"input",n[10]),o=!0)},p(u,f){f&8388608&&i!==(i=u[23])&&m(e,"for",i),f&8388608&&s!==(s=u[23])&&m(l,"id",s),f&1&&l.value!==u[0].endpoint&&He(l,u[0].endpoint)},d(u){u&&(E(e),E(r),E(l)),o=!1,a()}}}function Jme(n){let e,t,i,r,l,s,o,a;return{c(){e=k("label"),t=le("Bucket"),r=D(),l=k("input"),m(e,"for",i=n[23]),m(l,"type","text"),m(l,"id",s=n[23]),l.required=!0},m(u,f){S(u,e,f),T(e,t),S(u,r,f),S(u,l,f),He(l,n[0].bucket),o||(a=se(l,"input",n[11]),o=!0)},p(u,f){f&8388608&&i!==(i=u[23])&&m(e,"for",i),f&8388608&&s!==(s=u[23])&&m(l,"id",s),f&1&&l.value!==u[0].bucket&&He(l,u[0].bucket)},d(u){u&&(E(e),E(r),E(l)),o=!1,a()}}}function e0e(n){let e,t,i,r,l,s,o,a;return{c(){e=k("label"),t=le("Region"),r=D(),l=k("input"),m(e,"for",i=n[23]),m(l,"type","text"),m(l,"id",s=n[23]),l.required=!0},m(u,f){S(u,e,f),T(e,t),S(u,r,f),S(u,l,f),He(l,n[0].region),o||(a=se(l,"input",n[12]),o=!0)},p(u,f){f&8388608&&i!==(i=u[23])&&m(e,"for",i),f&8388608&&s!==(s=u[23])&&m(l,"id",s),f&1&&l.value!==u[0].region&&He(l,u[0].region)},d(u){u&&(E(e),E(r),E(l)),o=!1,a()}}}function t0e(n){let e,t,i,r,l,s,o,a;return{c(){e=k("label"),t=le("Access key"),r=D(),l=k("input"),m(e,"for",i=n[23]),m(l,"type","text"),m(l,"id",s=n[23]),l.required=!0},m(u,f){S(u,e,f),T(e,t),S(u,r,f),S(u,l,f),He(l,n[0].accessKey),o||(a=se(l,"input",n[13]),o=!0)},p(u,f){f&8388608&&i!==(i=u[23])&&m(e,"for",i),f&8388608&&s!==(s=u[23])&&m(l,"id",s),f&1&&l.value!==u[0].accessKey&&He(l,u[0].accessKey)},d(u){u&&(E(e),E(r),E(l)),o=!1,a()}}}function n0e(n){let e,t,i,r,l,s,o,a;function u(h){n[14](h)}function f(h){n[15](h)}let c={required:!0,id:n[23]};return n[5]!==void 0&&(c.mask=n[5]),n[0].secret!==void 0&&(c.value=n[0].secret),l=new A_({props:c}),ye.push(()=>Ke(l,"mask",u)),ye.push(()=>Ke(l,"value",f)),{c(){e=k("label"),t=le("Secret"),r=D(),ee(l.$$.fragment),m(e,"for",i=n[23])},m(h,p){S(h,e,p),T(e,t),S(h,r,p),Q(l,h,p),a=!0},p(h,p){(!a||p&8388608&&i!==(i=h[23]))&&m(e,"for",i);const _={};p&8388608&&(_.id=h[23]),!s&&p&32&&(s=!0,_.mask=h[5],Ye(()=>s=!1)),!o&&p&1&&(o=!0,_.value=h[0].secret,Ye(()=>o=!1)),l.$set(_)},i(h){a||(F(l.$$.fragment,h),a=!0)},o(h){x(l.$$.fragment,h),a=!1},d(h){h&&(E(e),E(r)),J(l,h)}}}function i0e(n){let e,t,i,r,l,s,o,a,u,f;return{c(){e=k("input"),i=D(),r=k("label"),l=k("span"),l.textContent="Force path-style addressing",s=D(),o=k("i"),m(e,"type","checkbox"),m(e,"id",t=n[23]),m(l,"class","txt"),m(o,"class","ri-information-line link-hint"),m(r,"for",a=n[23])},m(c,h){S(c,e,h),e.checked=n[0].forcePathStyle,S(c,i,h),S(c,r,h),T(r,l),T(r,s),T(r,o),u||(f=[se(e,"change",n[16]),nt(_t.call(null,o,{text:'Forces the request to use path-style addressing, eg. "https://s3.amazonaws.com/BUCKET/KEY" instead of the default "https://BUCKET.s3.amazonaws.com/KEY".',position:"top"}))],u=!0)},p(c,h){h&8388608&&t!==(t=c[23])&&m(e,"id",t),h&1&&(e.checked=c[0].forcePathStyle),h&8388608&&a!==(a=c[23])&&m(r,"for",a)},d(c){c&&(E(e),E(i),E(r)),u=!1,it(f)}}}function r0e(n){let e,t,i,r,l;e=new Pe({props:{class:"form-field form-field-toggle",$$slots:{default:[Zme,({uniqueId:u})=>({23:u}),({uniqueId:u})=>u?8388608:0]},$$scope:{ctx:n}}});const s=n[8].default,o=Zn(s,n,n[17],BE);let a=n[0].enabled&&xE(n);return{c(){ee(e.$$.fragment),t=D(),o&&o.c(),i=D(),a&&a.c(),r=ze()},m(u,f){Q(e,u,f),S(u,t,f),o&&o.m(u,f),S(u,i,f),a&&a.m(u,f),S(u,r,f),l=!0},p(u,[f]){const c={};f&8519697&&(c.$$scope={dirty:f,ctx:u}),e.$set(c),o&&o.p&&(!l||f&131079)&&Jn(o,s,u,u[17],l?Qn(s,u[17],f,Xme):ei(u[17]),BE),u[0].enabled?a?(a.p(u,f),f&1&&F(a,1)):(a=xE(u),a.c(),F(a,1),a.m(r.parentNode,r)):a&&(Ne(),x(a,1,1,()=>{a=null}),Me())},i(u){l||(F(e.$$.fragment,u),F(o,u),F(a),l=!0)},o(u){x(e.$$.fragment,u),x(o,u),x(a),l=!1},d(u){u&&(E(t),E(i),E(r)),J(e,u),o&&o.d(u),a&&a.d(u)}}}const H0="s3_test_request";function l0e(n,e,t){let{$$slots:i={},$$scope:r}=e,{originalConfig:l={}}=e,{config:s={}}=e,{configKey:o="s3"}=e,{toggleLabel:a="Enable S3"}=e,{testFilesystem:u="storage"}=e,{testError:f=null}=e,{isTesting:c=!1}=e,h=null,p=null,_=!1;function v(){t(5,_=!!(l!=null&&l.accessKey))}function b(H){t(2,c=!0),clearTimeout(p),p=setTimeout(()=>{y()},H)}async function y(){if(t(1,f=null),!s.enabled)return t(2,c=!1),f;xe.cancelRequest(H0),clearTimeout(h),h=setTimeout(()=>{xe.cancelRequest(H0),t(1,f=new Error("S3 test connection timeout.")),t(2,c=!1)},3e4),t(2,c=!0);let H;try{await xe.settings.testS3(u,{$cancelKey:H0})}catch(q){H=q}return H!=null&&H.isAbort||(t(1,f=H),t(2,c=!1),clearTimeout(h)),f}hi(()=>()=>{clearTimeout(h),clearTimeout(p)});function A(){s.enabled=this.checked,t(0,s)}function M(){s.endpoint=this.value,t(0,s)}function N(){s.bucket=this.value,t(0,s)}function L(){s.region=this.value,t(0,s)}function I(){s.accessKey=this.value,t(0,s)}function R(H){_=H,t(5,_)}function $(H){n.$$.not_equal(s.secret,H)&&(s.secret=H,t(0,s))}function B(){s.forcePathStyle=this.checked,t(0,s)}return n.$$set=H=>{"originalConfig"in H&&t(6,l=H.originalConfig),"config"in H&&t(0,s=H.config),"configKey"in H&&t(3,o=H.configKey),"toggleLabel"in H&&t(4,a=H.toggleLabel),"testFilesystem"in H&&t(7,u=H.testFilesystem),"testError"in H&&t(1,f=H.testError),"isTesting"in H&&t(2,c=H.isTesting),"$$scope"in H&&t(17,r=H.$$scope)},n.$$.update=()=>{n.$$.dirty&64&&l!=null&&l.enabled&&(v(),b(100)),n.$$.dirty&9&&(s.enabled||ul(o))},[s,f,c,o,a,_,l,u,i,A,M,N,L,I,R,$,B,r]}class eM extends je{constructor(e){super(),qe(this,e,l0e,r0e,We,{originalConfig:6,config:0,configKey:3,toggleLabel:4,testFilesystem:7,testError:1,isTesting:2})}}function s0e(n){let e,t,i,r,l,s,o;return{c(){e=k("button"),t=k("i"),r=D(),l=k("input"),m(t,"class","ri-upload-cloud-line"),m(e,"type","button"),m(e,"class",i="btn btn-circle btn-transparent "+n[0]),m(e,"aria-label","Upload backup"),he(e,"btn-loading",n[2]),he(e,"btn-disabled",n[2]),m(l,"type","file"),m(l,"accept","application/zip"),m(l,"class","hidden")},m(a,u){S(a,e,u),T(e,t),S(a,r,u),S(a,l,u),n[5](l),s||(o=[nt(_t.call(null,e,"Upload backup")),se(e,"click",n[4]),se(l,"change",n[6])],s=!0)},p(a,[u]){u&1&&i!==(i="btn btn-circle btn-transparent "+a[0])&&m(e,"class",i),u&5&&he(e,"btn-loading",a[2]),u&5&&he(e,"btn-disabled",a[2])},i:ge,o:ge,d(a){a&&(E(e),E(r),E(l)),n[5](null),s=!1,it(o)}}}const UE="upload_backup";function o0e(n,e,t){const i=Sn();let{class:r=""}=e,l,s=!1;function o(){l&&t(1,l.value="",l)}function a(p){p&&ar(`Note that we don't perform validations for the uploaded backup files. Proceed with caution and only if you trust the source.

Do you really want to upload "${p.name}"?`,()=>{u(p)},()=>{o()})}async function u(p){var v,b,y;if(s||!p)return;t(2,s=!0);const _=new FormData;_.set("file",p);try{await xe.backups.upload(_,{requestKey:UE}),t(2,s=!1),i("success"),Oi("Successfully uploaded a new backup.")}catch(A){A.isAbort||(t(2,s=!1),(y=(b=(v=A.response)==null?void 0:v.data)==null?void 0:b.file)!=null&&y.message?Ts(A.response.data.file.message):xe.error(A))}o()}Na(()=>{xe.cancelRequest(UE)});const f=()=>l==null?void 0:l.click();function c(p){ye[p?"unshift":"push"](()=>{l=p,t(1,l)})}const h=p=>{var _,v;a((v=(_=p==null?void 0:p.target)==null?void 0:_.files)==null?void 0:v[0])};return n.$$set=p=>{"class"in p&&t(0,r=p.class)},[r,l,s,a,f,c,h]}class a0e extends je{constructor(e){super(),qe(this,e,o0e,s0e,We,{class:0})}}function u0e(n){let e;return{c(){e=k("i"),m(e,"class","ri-arrow-down-s-line")},m(t,i){S(t,e,i)},d(t){t&&E(e)}}}function f0e(n){let e;return{c(){e=k("i"),m(e,"class","ri-arrow-up-s-line")},m(t,i){S(t,e,i)},d(t){t&&E(e)}}}function zE(n){var G,ie,te;let e,t,i,r,l,s,o,a,u,f,c,h,p,_,v,b,y,A,M,N,L,I,R;t=new Pe({props:{class:"form-field form-field-toggle m-t-base m-b-0",$$slots:{default:[c0e,({uniqueId:ae})=>({31:ae}),({uniqueId:ae})=>[0,ae?1:0]]},$$scope:{ctx:n}}});let $=n[2]&&qE(n);function B(ae){n[24](ae)}function H(ae){n[25](ae)}function q(ae){n[26](ae)}let z={toggleLabel:"Store backups in S3 storage",testFilesystem:"backups",configKey:"backups.s3",originalConfig:(G=n[0].backups)==null?void 0:G.s3};n[1].backups.s3!==void 0&&(z.config=n[1].backups.s3),n[7]!==void 0&&(z.isTesting=n[7]),n[8]!==void 0&&(z.testError=n[8]),o=new eM({props:z}),ye.push(()=>Ke(o,"config",B)),ye.push(()=>Ke(o,"isTesting",H)),ye.push(()=>Ke(o,"testError",q));let j=((te=(ie=n[1].backups)==null?void 0:ie.s3)==null?void 0:te.enabled)&&!n[9]&&!n[5]&&jE(n),W=n[9]&&WE(n);return{c(){e=k("form"),ee(t.$$.fragment),i=D(),$&&$.c(),r=D(),l=k("div"),s=D(),ee(o.$$.fragment),c=D(),h=k("div"),p=k("div"),_=D(),j&&j.c(),v=D(),W&&W.c(),b=D(),y=k("button"),A=k("span"),A.textContent="Save changes",m(l,"class","clearfix m-b-base"),m(p,"class","flex-fill"),m(A,"class","txt"),m(y,"type","submit"),m(y,"class","btn btn-expanded"),y.disabled=M=!n[9]||n[5],he(y,"btn-loading",n[5]),m(h,"class","flex"),m(e,"class","block"),m(e,"autocomplete","off")},m(ae,ue){S(ae,e,ue),Q(t,e,null),T(e,i),$&&$.m(e,null),T(e,r),T(e,l),T(e,s),Q(o,e,null),T(e,c),T(e,h),T(h,p),T(h,_),j&&j.m(h,null),T(h,v),W&&W.m(h,null),T(h,b),T(h,y),T(y,A),L=!0,I||(R=[se(y,"click",n[28]),se(e,"submit",ln(n[11]))],I=!0)},p(ae,ue){var _e,oe,Le;const K={};ue[0]&4|ue[1]&3&&(K.$$scope={dirty:ue,ctx:ae}),t.$set(K),ae[2]?$?($.p(ae,ue),ue[0]&4&&F($,1)):($=qE(ae),$.c(),F($,1),$.m(e,r)):$&&(Ne(),x($,1,1,()=>{$=null}),Me());const X={};ue[0]&1&&(X.originalConfig=(_e=ae[0].backups)==null?void 0:_e.s3),!a&&ue[0]&2&&(a=!0,X.config=ae[1].backups.s3,Ye(()=>a=!1)),!u&&ue[0]&128&&(u=!0,X.isTesting=ae[7],Ye(()=>u=!1)),!f&&ue[0]&256&&(f=!0,X.testError=ae[8],Ye(()=>f=!1)),o.$set(X),(Le=(oe=ae[1].backups)==null?void 0:oe.s3)!=null&&Le.enabled&&!ae[9]&&!ae[5]?j?j.p(ae,ue):(j=jE(ae),j.c(),j.m(h,v)):j&&(j.d(1),j=null),ae[9]?W?W.p(ae,ue):(W=WE(ae),W.c(),W.m(h,b)):W&&(W.d(1),W=null),(!L||ue[0]&544&&M!==(M=!ae[9]||ae[5]))&&(y.disabled=M),(!L||ue[0]&32)&&he(y,"btn-loading",ae[5])},i(ae){L||(F(t.$$.fragment,ae),F($),F(o.$$.fragment,ae),ae&&tn(()=>{L&&(N||(N=Et(e,En,{duration:150},!0)),N.run(1))}),L=!0)},o(ae){x(t.$$.fragment,ae),x($),x(o.$$.fragment,ae),ae&&(N||(N=Et(e,En,{duration:150},!1)),N.run(0)),L=!1},d(ae){ae&&E(e),J(t),$&&$.d(),J(o),j&&j.d(),W&&W.d(),ae&&N&&N.end(),I=!1,it(R)}}}function c0e(n){let e,t,i,r,l,s,o,a;return{c(){e=k("input"),i=D(),r=k("label"),l=le("Enable auto backups"),m(e,"type","checkbox"),m(e,"id",t=n[31]),m(r,"for",s=n[31])},m(u,f){S(u,e,f),e.checked=n[2],S(u,i,f),S(u,r,f),T(r,l),o||(a=se(e,"change",n[17]),o=!0)},p(u,f){f[1]&1&&t!==(t=u[31])&&m(e,"id",t),f[0]&4&&(e.checked=u[2]),f[1]&1&&s!==(s=u[31])&&m(r,"for",s)},d(u){u&&(E(e),E(i),E(r)),o=!1,a()}}}function qE(n){let e,t,i,r,l,s,o,a,u;return r=new Pe({props:{class:"form-field required",name:"backups.cron",$$slots:{default:[h0e,({uniqueId:f})=>({31:f}),({uniqueId:f})=>[0,f?1:0]]},$$scope:{ctx:n}}}),o=new Pe({props:{class:"form-field required",name:"backups.cronMaxKeep",$$slots:{default:[p0e,({uniqueId:f})=>({31:f}),({uniqueId:f})=>[0,f?1:0]]},$$scope:{ctx:n}}}),{c(){e=k("div"),t=k("div"),i=k("div"),ee(r.$$.fragment),l=D(),s=k("div"),ee(o.$$.fragment),m(i,"class","col-lg-6"),m(s,"class","col-lg-6"),m(t,"class","grid p-t-base p-b-sm"),m(e,"class","block")},m(f,c){S(f,e,c),T(e,t),T(t,i),Q(r,i,null),T(t,l),T(t,s),Q(o,s,null),u=!0},p(f,c){const h={};c[0]&3|c[1]&3&&(h.$$scope={dirty:c,ctx:f}),r.$set(h);const p={};c[0]&2|c[1]&3&&(p.$$scope={dirty:c,ctx:f}),o.$set(p)},i(f){u||(F(r.$$.fragment,f),F(o.$$.fragment,f),f&&tn(()=>{u&&(a||(a=Et(e,En,{duration:150},!0)),a.run(1))}),u=!0)},o(f){x(r.$$.fragment,f),x(o.$$.fragment,f),f&&(a||(a=Et(e,En,{duration:150},!1)),a.run(0)),u=!1},d(f){f&&E(e),J(r),J(o),f&&a&&a.end()}}}function d0e(n){let e,t,i,r,l,s,o,a,u;return{c(){e=k("button"),e.innerHTML='<span class="txt">Every day at 00:00h</span>',t=D(),i=k("button"),i.innerHTML='<span class="txt">Every sunday at 00:00h</span>',r=D(),l=k("button"),l.innerHTML='<span class="txt">Every Mon and Wed at 00:00h</span>',s=D(),o=k("button"),o.innerHTML='<span class="txt">Every first day of the month at 00:00h</span>',m(e,"type","button"),m(e,"class","dropdown-item closable"),m(i,"type","button"),m(i,"class","dropdown-item closable"),m(l,"type","button"),m(l,"class","dropdown-item closable"),m(o,"type","button"),m(o,"class","dropdown-item closable")},m(f,c){S(f,e,c),S(f,t,c),S(f,i,c),S(f,r,c),S(f,l,c),S(f,s,c),S(f,o,c),a||(u=[se(e,"click",n[19]),se(i,"click",n[20]),se(l,"click",n[21]),se(o,"click",n[22])],a=!0)},p:ge,d(f){f&&(E(e),E(t),E(i),E(r),E(l),E(s),E(o)),a=!1,it(u)}}}function h0e(n){let e,t,i,r,l,s,o,a,u,f,c,h,p,_,v,b,y,A,M,N,L,I,R,$,B,H;return v=new Ar({props:{class:"dropdown dropdown-nowrap dropdown-right",$$slots:{default:[d0e]},$$scope:{ctx:n}}}),{c(){var q,z;e=k("label"),t=le("Cron expression"),r=D(),l=k("input"),a=D(),u=k("div"),f=k("button"),c=k("span"),c.textContent="Presets",h=D(),p=k("i"),_=D(),ee(v.$$.fragment),b=D(),y=k("div"),A=k("p"),M=le(`Supports numeric list, steps, ranges or
                                                `),N=k("span"),N.textContent="macros",L=le(`.
                                                `),I=k("br"),R=le(`
                                                The timezone is in UTC.`),m(e,"for",i=n[31]),l.required=!0,m(l,"type","text"),m(l,"id",s=n[31]),m(l,"class","txt-lg txt-mono"),m(l,"placeholder","* * * * *"),l.autofocus=o=!((z=(q=n[0])==null?void 0:q.backups)!=null&&z.cron),m(c,"class","txt"),m(p,"class","ri-arrow-drop-down-fill"),m(f,"type","button"),m(f,"class","btn btn-sm btn-outline p-r-0"),m(u,"class","form-field-addon"),m(N,"class","link-primary"),m(y,"class","help-block")},m(q,z){var j,W;S(q,e,z),T(e,t),S(q,r,z),S(q,l,z),He(l,n[1].backups.cron),S(q,a,z),S(q,u,z),T(u,f),T(f,c),T(f,h),T(f,p),T(f,_),Q(v,f,null),S(q,b,z),S(q,y,z),T(y,A),T(A,M),T(A,N),T(A,L),T(A,I),T(A,R),$=!0,(W=(j=n[0])==null?void 0:j.backups)!=null&&W.cron||l.focus(),B||(H=[se(l,"input",n[18]),nt(_t.call(null,N,`@yearly
@annually
@monthly
@weekly
@daily
@midnight
@hourly`))],B=!0)},p(q,z){var W,G;(!$||z[1]&1&&i!==(i=q[31]))&&m(e,"for",i),(!$||z[1]&1&&s!==(s=q[31]))&&m(l,"id",s),(!$||z[0]&1&&o!==(o=!((G=(W=q[0])==null?void 0:W.backups)!=null&&G.cron)))&&(l.autofocus=o),z[0]&2&&l.value!==q[1].backups.cron&&He(l,q[1].backups.cron);const j={};z[0]&2|z[1]&2&&(j.$$scope={dirty:z,ctx:q}),v.$set(j)},i(q){$||(F(v.$$.fragment,q),$=!0)},o(q){x(v.$$.fragment,q),$=!1},d(q){q&&(E(e),E(r),E(l),E(a),E(u),E(b),E(y)),J(v),B=!1,it(H)}}}function p0e(n){let e,t,i,r,l,s,o,a;return{c(){e=k("label"),t=le("Max @auto backups to keep"),r=D(),l=k("input"),m(e,"for",i=n[31]),m(l,"type","number"),m(l,"id",s=n[31]),m(l,"min","1")},m(u,f){S(u,e,f),T(e,t),S(u,r,f),S(u,l,f),He(l,n[1].backups.cronMaxKeep),o||(a=se(l,"input",n[23]),o=!0)},p(u,f){f[1]&1&&i!==(i=u[31])&&m(e,"for",i),f[1]&1&&s!==(s=u[31])&&m(l,"id",s),f[0]&2&&wn(l.value)!==u[1].backups.cronMaxKeep&&He(l,u[1].backups.cronMaxKeep)},d(u){u&&(E(e),E(r),E(l)),o=!1,a()}}}function jE(n){let e;function t(l,s){return l[7]?_0e:l[8]?g0e:m0e}let i=t(n),r=i(n);return{c(){r.c(),e=ze()},m(l,s){r.m(l,s),S(l,e,s)},p(l,s){i===(i=t(l))&&r?r.p(l,s):(r.d(1),r=i(l),r&&(r.c(),r.m(e.parentNode,e)))},d(l){l&&E(e),r.d(l)}}}function m0e(n){let e;return{c(){e=k("div"),e.innerHTML='<i class="ri-checkbox-circle-line txt-success"></i> <span class="txt">S3 connected successfully</span>',m(e,"class","label label-sm label-success entrance-right")},m(t,i){S(t,e,i)},p:ge,d(t){t&&E(e)}}}function g0e(n){let e,t,i,r;return{c(){e=k("div"),e.innerHTML='<i class="ri-error-warning-line txt-warning"></i> <span class="txt">Failed to establish S3 connection</span>',m(e,"class","label label-sm label-warning entrance-right")},m(l,s){var o;S(l,e,s),i||(r=nt(t=_t.call(null,e,(o=n[8].data)==null?void 0:o.message)),i=!0)},p(l,s){var o;t&&Kn(t.update)&&s[0]&256&&t.update.call(null,(o=l[8].data)==null?void 0:o.message)},d(l){l&&E(e),i=!1,r()}}}function _0e(n){let e;return{c(){e=k("span"),m(e,"class","loader loader-sm")},m(t,i){S(t,e,i)},p:ge,d(t){t&&E(e)}}}function WE(n){let e,t,i,r,l;return{c(){e=k("button"),t=k("span"),t.textContent="Reset",m(t,"class","txt"),m(e,"type","button"),m(e,"class","btn btn-hint btn-transparent"),e.disabled=i=!n[9]||n[5]},m(s,o){S(s,e,o),T(e,t),r||(l=se(e,"click",n[27]),r=!0)},p(s,o){o[0]&544&&i!==(i=!s[9]||s[5])&&(e.disabled=i)},d(s){s&&E(e),r=!1,l()}}}function b0e(n){let e,t,i,r,l,s,o,a,u,f,c,h,p,_,v,b,y,A,M,N,L,I,R,$,B,H,q;p=new Zh({props:{class:"btn-sm",tooltip:"Refresh"}}),p.$on("refresh",n[13]),v=new a0e({props:{class:"btn-sm"}}),v.$on("success",n[13]);let z={};y=new Yme({props:z}),n[15](y);function j(te,ae){return te[6]?f0e:u0e}let W=j(n),G=W(n),ie=n[6]&&!n[4]&&zE(n);return{c(){e=k("header"),t=k("nav"),i=k("div"),i.textContent="Settings",r=D(),l=k("div"),s=le(n[10]),o=D(),a=k("div"),u=k("div"),f=k("div"),c=k("span"),c.textContent="Backup and restore your PocketBase data",h=D(),ee(p.$$.fragment),_=D(),ee(v.$$.fragment),b=D(),ee(y.$$.fragment),A=D(),M=k("hr"),N=D(),L=k("button"),I=k("span"),I.textContent="Backups options",R=D(),G.c(),$=D(),ie&&ie.c(),m(i,"class","breadcrumb-item"),m(l,"class","breadcrumb-item"),m(t,"class","breadcrumbs"),m(e,"class","page-header"),m(c,"class","txt-xl"),m(f,"class","flex m-b-sm flex-gap-10"),m(I,"class","txt"),m(L,"type","button"),m(L,"class","btn btn-secondary"),L.disabled=n[4],he(L,"btn-loading",n[4]),m(u,"class","panel"),m(u,"autocomplete","off"),m(a,"class","wrapper")},m(te,ae){S(te,e,ae),T(e,t),T(t,i),T(t,r),T(t,l),T(l,s),S(te,o,ae),S(te,a,ae),T(a,u),T(u,f),T(f,c),T(f,h),Q(p,f,null),T(f,_),Q(v,f,null),T(u,b),Q(y,u,null),T(u,A),T(u,M),T(u,N),T(u,L),T(L,I),T(L,R),G.m(L,null),T(u,$),ie&&ie.m(u,null),B=!0,H||(q=[se(L,"click",n[16]),se(u,"submit",ln(n[11]))],H=!0)},p(te,ae){(!B||ae[0]&1024)&&Se(s,te[10]);const ue={};y.$set(ue),W!==(W=j(te))&&(G.d(1),G=W(te),G&&(G.c(),G.m(L,null))),(!B||ae[0]&16)&&(L.disabled=te[4]),(!B||ae[0]&16)&&he(L,"btn-loading",te[4]),te[6]&&!te[4]?ie?(ie.p(te,ae),ae[0]&80&&F(ie,1)):(ie=zE(te),ie.c(),F(ie,1),ie.m(u,null)):ie&&(Ne(),x(ie,1,1,()=>{ie=null}),Me())},i(te){B||(F(p.$$.fragment,te),F(v.$$.fragment,te),F(y.$$.fragment,te),F(ie),B=!0)},o(te){x(p.$$.fragment,te),x(v.$$.fragment,te),x(y.$$.fragment,te),x(ie),B=!1},d(te){te&&(E(e),E(o),E(a)),J(p),J(v),n[15](null),J(y),G.d(),ie&&ie.d(),H=!1,it(q)}}}function v0e(n){let e,t,i,r;return e=new Fa({}),i=new Nl({props:{$$slots:{default:[b0e]},$$scope:{ctx:n}}}),{c(){ee(e.$$.fragment),t=D(),ee(i.$$.fragment)},m(l,s){Q(e,l,s),S(l,t,s),Q(i,l,s),r=!0},p(l,s){const o={};s[0]&2047|s[1]&2&&(o.$$scope={dirty:s,ctx:l}),i.$set(o)},i(l){r||(F(e.$$.fragment,l),F(i.$$.fragment,l),r=!0)},o(l){x(e.$$.fragment,l),x(i.$$.fragment,l),r=!1},d(l){l&&E(t),J(e,l),J(i,l)}}}function y0e(n,e,t){let i,r;Wt(n,Hi,ae=>t(10,r=ae)),Cr(Hi,r="Backups",r);let l,s={},o={},a=!1,u=!1,f="",c=!1,h=!1,p=!1,_=null;v();async function v(){t(4,a=!0);try{const ae=await xe.settings.getAll()||{};y(ae)}catch(ae){xe.error(ae)}t(4,a=!1)}async function b(){if(!(u||!i)){t(5,u=!0);try{const ae=await xe.settings.update(re.filterRedactedProps(o));mi({}),await M(),y(ae),Oi("Successfully saved application settings.")}catch(ae){xe.error(ae)}t(5,u=!1)}}function y(ae={}){t(1,o={backups:(ae==null?void 0:ae.backups)||{}}),t(2,c=o.backups.cron!=""),t(0,s=JSON.parse(JSON.stringify(o)))}function A(){t(1,o=JSON.parse(JSON.stringify(s||{backups:{}}))),t(2,c=o.backups.cron!="")}async function M(){return l==null?void 0:l.loadBackups()}function N(ae){ye[ae?"unshift":"push"](()=>{l=ae,t(3,l)})}const L=()=>t(6,h=!h);function I(){c=this.checked,t(2,c)}function R(){o.backups.cron=this.value,t(1,o),t(2,c)}const $=()=>{t(1,o.backups.cron="0 0 * * *",o)},B=()=>{t(1,o.backups.cron="0 0 * * 0",o)},H=()=>{t(1,o.backups.cron="0 0 * * 1,3",o)},q=()=>{t(1,o.backups.cron="0 0 1 * *",o)};function z(){o.backups.cronMaxKeep=wn(this.value),t(1,o),t(2,c)}function j(ae){n.$$.not_equal(o.backups.s3,ae)&&(o.backups.s3=ae,t(1,o),t(2,c))}function W(ae){p=ae,t(7,p)}function G(ae){_=ae,t(8,_)}const ie=()=>A(),te=()=>b();return n.$$.update=()=>{var ae;n.$$.dirty[0]&1&&t(14,f=JSON.stringify(s)),n.$$.dirty[0]&6&&!c&&(ae=o==null?void 0:o.backups)!=null&&ae.cron&&(ul("backups.cron"),t(1,o.backups.cron="",o)),n.$$.dirty[0]&16386&&t(9,i=f!=JSON.stringify(o))},[s,o,c,l,a,u,h,p,_,i,r,b,A,M,f,N,L,I,R,$,B,H,q,z,j,W,G,ie,te]}class k0e extends je{constructor(e){super(),qe(this,e,y0e,v0e,We,{},null,[-1,-1])}}function KE(n,e,t){const i=n.slice();return i[7]=e[t],i}function T0e(n){let e=[],t=new Map,i,r=Re(n[0]);const l=o=>o[7].id;for(let o=0;o<r.length;o+=1){let a=KE(n,r,o),u=l(a);t.set(u,e[o]=GE(u,a))}let s=null;return r.length||(s=VE()),{c(){for(let o=0;o<e.length;o+=1)e[o].c();i=ze(),s&&s.c()},m(o,a){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(o,a);S(o,i,a),s&&s.m(o,a)},p(o,a){a&37&&(r=Re(o[0]),e=In(e,a,l,1,o,r,t,i.parentNode,Ol,GE,i,KE),!r.length&&s?s.p(o,a):r.length?s&&(s.d(1),s=null):(s=VE(),s.c(),s.m(i.parentNode,i)))},d(o){o&&E(i);for(let a=0;a<e.length;a+=1)e[a].d(o);s&&s.d(o)}}}function w0e(n){let e,t,i,r,l,s,o;return{c(){e=k("div"),e.innerHTML='<span class="skeleton-loader skeleton-loader-lg"></span>',t=D(),i=k("div"),i.innerHTML='<span class="skeleton-loader skeleton-loader-lg"></span>',r=D(),l=k("div"),l.innerHTML='<span class="skeleton-loader skeleton-loader-lg"></span>',s=D(),o=k("div"),o.innerHTML='<span class="skeleton-loader skeleton-loader-lg"></span>',m(e,"class","list-item list-item-loader"),m(i,"class","list-item list-item-loader"),m(l,"class","list-item list-item-loader"),m(o,"class","list-item list-item-loader")},m(a,u){S(a,e,u),S(a,t,u),S(a,i,u),S(a,r,u),S(a,l,u),S(a,s,u),S(a,o,u)},p:ge,d(a){a&&(E(e),E(t),E(i),E(r),E(l),E(s),E(o))}}}function VE(n){let e;return{c(){e=k("div"),e.innerHTML='<span class="txt">No app crons found.</span> ',m(e,"class","list-item list-item-placeholder")},m(t,i){S(t,e,i)},p:ge,d(t){t&&E(e)}}}function GE(n,e){let t,i,r,l=e[7].id+"",s,o,a,u=e[7].expression+"",f,c,h,p,_,v,b,y,A;function M(){return e[6](e[7])}return{key:n,first:null,c(){t=k("div"),i=k("div"),r=k("span"),s=le(l),o=D(),a=k("span"),f=le(u),c=D(),h=k("div"),p=k("button"),_=k("i"),b=D(),m(r,"class","txt"),m(i,"class","content"),m(a,"class","txt-hint txt-nowrap txt-mono cron-expr m-r-xs"),m(_,"class","ri-play-large-line"),m(p,"type","button"),m(p,"class","btn btn-sm btn-circle btn-hint btn-transparent"),p.disabled=v=e[2][e[7].id],m(p,"aria-label","Run"),he(p,"btn-loading",e[2][e[7].id]),m(h,"class","actions"),m(t,"class","list-item"),this.first=t},m(N,L){S(N,t,L),T(t,i),T(i,r),T(r,s),T(t,o),T(t,a),T(a,f),T(t,c),T(t,h),T(h,p),T(p,_),T(t,b),y||(A=[nt(_t.call(null,p,"Run")),se(p,"click",ln(M))],y=!0)},p(N,L){e=N,L&1&&l!==(l=e[7].id+"")&&Se(s,l),L&1&&u!==(u=e[7].expression+"")&&Se(f,u),L&5&&v!==(v=e[2][e[7].id])&&(p.disabled=v),L&5&&he(p,"btn-loading",e[2][e[7].id])},d(N){N&&E(t),y=!1,it(A)}}}function E0e(n){let e,t,i,r,l,s,o,a,u,f,c,h,p,_,v,b,y,A,M;p=new Zh({props:{class:"btn-sm",tooltip:"Refresh"}}),p.$on("refresh",n[4]);function N(R,$){return R[1]?w0e:T0e}let L=N(n),I=L(n);return{c(){e=k("header"),t=k("nav"),i=k("div"),i.textContent="Settings",r=D(),l=k("div"),s=le(n[3]),o=D(),a=k("div"),u=k("div"),f=k("div"),c=k("span"),c.textContent="Registered app cron jobs",h=D(),ee(p.$$.fragment),_=D(),v=k("div"),b=k("div"),I.c(),y=D(),A=k("p"),A.innerHTML=`App cron jobs can be registered only programmatically with
                <a href="https://pocketbase.io/docs/go-jobs-scheduling/" target="_blank" rel="noopener noreferrer">Go</a>
                or
                <a href="https://pocketbase.io/docs/js-jobs-scheduling/" target="_blank" rel="noopener noreferrer">JavaScript
                </a>.`,m(i,"class","breadcrumb-item"),m(l,"class","breadcrumb-item"),m(t,"class","breadcrumbs"),m(e,"class","page-header"),m(c,"class","txt-xl"),m(f,"class","flex m-b-sm flex-gap-10"),m(b,"class","list-content"),m(v,"class","list list-compact"),m(A,"class","txt-hint m-t-xs"),m(u,"class","panel"),m(u,"autocomplete","off"),m(a,"class","wrapper")},m(R,$){S(R,e,$),T(e,t),T(t,i),T(t,r),T(t,l),T(l,s),S(R,o,$),S(R,a,$),T(a,u),T(u,f),T(f,c),T(f,h),Q(p,f,null),T(u,_),T(u,v),T(v,b),I.m(b,null),T(u,y),T(u,A),M=!0},p(R,$){(!M||$&8)&&Se(s,R[3]),L===(L=N(R))&&I?I.p(R,$):(I.d(1),I=L(R),I&&(I.c(),I.m(b,null)))},i(R){M||(F(p.$$.fragment,R),M=!0)},o(R){x(p.$$.fragment,R),M=!1},d(R){R&&(E(e),E(o),E(a)),J(p),I.d()}}}function S0e(n){let e,t,i,r;return e=new Fa({}),i=new Nl({props:{$$slots:{default:[E0e]},$$scope:{ctx:n}}}),{c(){ee(e.$$.fragment),t=D(),ee(i.$$.fragment)},m(l,s){Q(e,l,s),S(l,t,s),Q(i,l,s),r=!0},p(l,[s]){const o={};s&1039&&(o.$$scope={dirty:s,ctx:l}),i.$set(o)},i(l){r||(F(e.$$.fragment,l),F(i.$$.fragment,l),r=!0)},o(l){x(e.$$.fragment,l),x(i.$$.fragment,l),r=!1},d(l){l&&E(t),J(e,l),J(i,l)}}}function C0e(n,e,t){let i;Wt(n,Hi,f=>t(3,i=f)),Cr(Hi,i="Crons",i);let r=[],l=!1,s={};o();async function o(){t(1,l=!0);try{t(0,r=await xe.crons.getFullList()),t(1,l=!1)}catch(f){f.isAbort||(xe.error(f),t(1,l=!1))}}async function a(f){t(2,s[f]=!0,s);try{await xe.crons.run(f),Oi(`Successfully triggered ${f}.`),t(2,s[f]=!1,s)}catch(c){c.isAbort||(xe.error(c),t(2,s[f]=!1,s))}}return[r,l,s,i,o,a,f=>a(f.id)]}class A0e extends je{constructor(e){super(),qe(this,e,C0e,S0e,We,{})}}function YE(n,e,t){const i=n.slice();return i[22]=e[t],i}function O0e(n){let e,t,i,r,l,s,o,a=[],u=new Map,f,c,h,p,_,v,b,y,A,M,N,L,I,R,$,B,H,q,z,j;s=new Pe({props:{class:"form-field",$$slots:{default:[M0e,({uniqueId:ie})=>({12:ie}),({uniqueId:ie})=>ie?4096:0]},$$scope:{ctx:n}}});let W=Re(n[0]);const G=ie=>ie[22].id;for(let ie=0;ie<W.length;ie+=1){let te=YE(n,W,ie),ae=G(te);u.set(ae,a[ie]=XE(ae,te))}return{c(){e=k("div"),e.innerHTML=`<p>Below you&#39;ll find your current collections configuration that you could import in
                        another PocketBase environment.</p>`,t=D(),i=k("div"),r=k("div"),l=k("div"),ee(s.$$.fragment),o=D();for(let ie=0;ie<a.length;ie+=1)a[ie].c();f=D(),c=k("div"),h=k("button"),p=k("span"),p.textContent="Copy",v=D(),b=k("pre"),y=le(n[6]),A=D(),M=k("div"),N=k("div"),L=D(),I=k("button"),R=k("i"),$=D(),B=k("span"),B.textContent="Download as JSON",m(e,"class","content txt-xl m-b-base"),m(l,"class","list-item list-item-section"),m(r,"class","export-list"),m(p,"class","txt"),m(h,"type","button"),m(h,"class","btn btn-sm btn-transparent fade copy-schema"),h.disabled=_=!n[2],m(b,"class","code-wrapper"),m(c,"tabindex","0"),m(c,"class","export-preview"),m(i,"class","export-panel"),m(N,"class","flex-fill"),m(R,"class","ri-download-line"),m(B,"class","txt"),m(I,"type","button"),m(I,"class","btn btn-expanded"),I.disabled=H=!n[2],m(M,"class","flex m-t-base")},m(ie,te){S(ie,e,te),S(ie,t,te),S(ie,i,te),T(i,r),T(r,l),Q(s,l,null),T(r,o);for(let ae=0;ae<a.length;ae+=1)a[ae]&&a[ae].m(r,null);T(i,f),T(i,c),T(c,h),T(h,p),T(c,v),T(c,b),T(b,y),n[16](c),S(ie,A,te),S(ie,M,te),T(M,N),T(M,L),T(M,I),T(I,R),T(I,$),T(I,B),q=!0,z||(j=[se(h,"click",n[15]),se(c,"keydown",n[17]),se(I,"click",n[18])],z=!0)},p(ie,te){const ae={};te&33558561&&(ae.$$scope={dirty:te,ctx:ie}),s.$set(ae),te&6147&&(W=Re(ie[0]),Ne(),a=In(a,te,G,1,ie,W,u,r,di,XE,null,YE),Me()),(!q||te&4&&_!==(_=!ie[2]))&&(h.disabled=_),(!q||te&64)&&Se(y,ie[6]),(!q||te&4&&H!==(H=!ie[2]))&&(I.disabled=H)},i(ie){if(!q){F(s.$$.fragment,ie);for(let te=0;te<W.length;te+=1)F(a[te]);q=!0}},o(ie){x(s.$$.fragment,ie);for(let te=0;te<a.length;te+=1)x(a[te]);q=!1},d(ie){ie&&(E(e),E(t),E(i),E(A),E(M)),J(s);for(let te=0;te<a.length;te+=1)a[te].d();n[16](null),z=!1,it(j)}}}function N0e(n){let e;return{c(){e=k("div"),m(e,"class","loader")},m(t,i){S(t,e,i)},p:ge,i:ge,o:ge,d(t){t&&E(e)}}}function M0e(n){let e,t,i,r,l,s,o,a,u;return{c(){e=k("input"),r=D(),l=k("label"),s=le("Select all"),m(e,"type","checkbox"),m(e,"id",t=n[12]),e.disabled=i=!n[0].length,e.checked=n[5],m(l,"for",o=n[12])},m(f,c){S(f,e,c),S(f,r,c),S(f,l,c),T(l,s),a||(u=se(e,"change",n[13]),a=!0)},p(f,c){c&4096&&t!==(t=f[12])&&m(e,"id",t),c&1&&i!==(i=!f[0].length)&&(e.disabled=i),c&32&&(e.checked=f[5]),c&4096&&o!==(o=f[12])&&m(l,"for",o)},d(f){f&&(E(e),E(r),E(l)),a=!1,u()}}}function I0e(n){let e,t,i,r,l,s=n[22].name+"",o,a,u,f,c;function h(){return n[14](n[22])}return{c(){e=k("input"),r=D(),l=k("label"),o=le(s),m(e,"type","checkbox"),m(e,"id",t=n[12]),e.checked=i=n[1][n[22].id],m(l,"for",a=n[12]),m(l,"title",u=n[22].name)},m(p,_){S(p,e,_),S(p,r,_),S(p,l,_),T(l,o),f||(c=se(e,"change",h),f=!0)},p(p,_){n=p,_&4096&&t!==(t=n[12])&&m(e,"id",t),_&3&&i!==(i=n[1][n[22].id])&&(e.checked=i),_&1&&s!==(s=n[22].name+"")&&Se(o,s),_&4096&&a!==(a=n[12])&&m(l,"for",a),_&1&&u!==(u=n[22].name)&&m(l,"title",u)},d(p){p&&(E(e),E(r),E(l)),f=!1,c()}}}function XE(n,e){let t,i,r,l;return i=new Pe({props:{class:"form-field",$$slots:{default:[I0e,({uniqueId:s})=>({12:s}),({uniqueId:s})=>s?4096:0]},$$scope:{ctx:e}}}),{key:n,first:null,c(){t=k("div"),ee(i.$$.fragment),r=D(),m(t,"class","list-item list-item-collection"),this.first=t},m(s,o){S(s,t,o),Q(i,t,null),T(t,r),l=!0},p(s,o){e=s;const a={};o&33558531&&(a.$$scope={dirty:o,ctx:e}),i.$set(a)},i(s){l||(F(i.$$.fragment,s),l=!0)},o(s){x(i.$$.fragment,s),l=!1},d(s){s&&E(t),J(i)}}}function L0e(n){let e,t,i,r,l,s,o,a,u,f,c,h;const p=[N0e,O0e],_=[];function v(b,y){return b[4]?0:1}return f=v(n),c=_[f]=p[f](n),{c(){e=k("header"),t=k("nav"),i=k("div"),i.textContent="Settings",r=D(),l=k("div"),s=le(n[7]),o=D(),a=k("div"),u=k("div"),c.c(),m(i,"class","breadcrumb-item"),m(l,"class","breadcrumb-item"),m(t,"class","breadcrumbs"),m(e,"class","page-header"),m(u,"class","panel"),m(a,"class","wrapper")},m(b,y){S(b,e,y),T(e,t),T(t,i),T(t,r),T(t,l),T(l,s),S(b,o,y),S(b,a,y),T(a,u),_[f].m(u,null),h=!0},p(b,y){(!h||y&128)&&Se(s,b[7]);let A=f;f=v(b),f===A?_[f].p(b,y):(Ne(),x(_[A],1,1,()=>{_[A]=null}),Me(),c=_[f],c?c.p(b,y):(c=_[f]=p[f](b),c.c()),F(c,1),c.m(u,null))},i(b){h||(F(c),h=!0)},o(b){x(c),h=!1},d(b){b&&(E(e),E(o),E(a)),_[f].d()}}}function D0e(n){let e,t,i,r;return e=new Fa({}),i=new Nl({props:{$$slots:{default:[L0e]},$$scope:{ctx:n}}}),{c(){ee(e.$$.fragment),t=D(),ee(i.$$.fragment)},m(l,s){Q(e,l,s),S(l,t,s),Q(i,l,s),r=!0},p(l,[s]){const o={};s&33554687&&(o.$$scope={dirty:s,ctx:l}),i.$set(o)},i(l){r||(F(e.$$.fragment,l),F(i.$$.fragment,l),r=!0)},o(l){x(e.$$.fragment,l),x(i.$$.fragment,l),r=!1},d(l){l&&E(t),J(e,l),J(i,l)}}}function R0e(n,e,t){let i,r,l,s;Wt(n,Hi,B=>t(7,s=B)),Cr(Hi,s="Export collections",s);const o="export_"+re.randomString(5);let a,u=[],f={},c=!1;h();async function h(){var B;t(4,c=!0);try{t(0,u=await xe.collections.getFullList({batch:100,$cancelKey:o})),t(0,u=re.sortCollections(u));for(let H of u)delete H.created,delete H.updated,(B=H.oauth2)==null||delete B.providers;y()}catch(H){xe.error(H)}t(4,c=!1)}function p(){re.downloadJson(Object.values(f),"pb_schema")}function _(){re.copyToClipboard(i),Dc("The configuration was copied to your clipboard!",3e3)}function v(){l?b():y()}function b(){t(1,f={})}function y(){t(1,f={});for(const B of u)t(1,f[B.id]=B,f)}function A(B){f[B.id]?delete f[B.id]:t(1,f[B.id]=B,f),t(1,f)}const M=()=>v(),N=B=>A(B),L=()=>_();function I(B){ye[B?"unshift":"push"](()=>{a=B,t(3,a)})}const R=B=>{if(B.ctrlKey&&B.code==="KeyA"){B.preventDefault();const H=window.getSelection(),q=document.createRange();q.selectNodeContents(a),H.removeAllRanges(),H.addRange(q)}},$=()=>p();return n.$$.update=()=>{n.$$.dirty&2&&t(6,i=JSON.stringify(Object.values(f),null,4)),n.$$.dirty&2&&t(2,r=Object.keys(f).length),n.$$.dirty&5&&t(5,l=u.length&&r===u.length)},[u,f,r,a,c,l,i,s,p,_,v,A,o,M,N,L,I,R,$]}class P0e extends je{constructor(e){super(),qe(this,e,R0e,D0e,We,{})}}function ZE(n,e,t){const i=n.slice();return i[14]=e[t],i}function QE(n,e,t){const i=n.slice();return i[17]=e[t][0],i[18]=e[t][1],i}function JE(n,e,t){const i=n.slice();return i[14]=e[t],i}function eS(n,e,t){const i=n.slice();return i[17]=e[t][0],i[23]=e[t][1],i}function tS(n,e,t){const i=n.slice();return i[14]=e[t],i}function nS(n,e,t){const i=n.slice();return i[17]=e[t][0],i[18]=e[t][1],i}function iS(n,e,t){const i=n.slice();return i[30]=e[t],i}function F0e(n){let e,t,i,r,l=n[1].name+"",s,o=n[10]&&rS(),a=n[0].name!==n[1].name&&lS(n);return{c(){e=k("div"),o&&o.c(),t=D(),a&&a.c(),i=D(),r=k("strong"),s=le(l),m(r,"class","txt"),m(e,"class","inline-flex fleg-gap-5")},m(u,f){S(u,e,f),o&&o.m(e,null),T(e,t),a&&a.m(e,null),T(e,i),T(e,r),T(r,s)},p(u,f){u[10]?o||(o=rS(),o.c(),o.m(e,t)):o&&(o.d(1),o=null),u[0].name!==u[1].name?a?a.p(u,f):(a=lS(u),a.c(),a.m(e,i)):a&&(a.d(1),a=null),f[0]&2&&l!==(l=u[1].name+"")&&Se(s,l)},d(u){u&&E(e),o&&o.d(),a&&a.d()}}}function $0e(n){var s;let e,t,i,r=((s=n[0])==null?void 0:s.name)+"",l;return{c(){e=k("span"),e.textContent="Deleted",t=D(),i=k("strong"),l=le(r),m(e,"class","label label-danger")},m(o,a){S(o,e,a),S(o,t,a),S(o,i,a),T(i,l)},p(o,a){var u;a[0]&1&&r!==(r=((u=o[0])==null?void 0:u.name)+"")&&Se(l,r)},d(o){o&&(E(e),E(t),E(i))}}}function H0e(n){var s;let e,t,i,r=((s=n[1])==null?void 0:s.name)+"",l;return{c(){e=k("span"),e.textContent="Added",t=D(),i=k("strong"),l=le(r),m(e,"class","label label-success")},m(o,a){S(o,e,a),S(o,t,a),S(o,i,a),T(i,l)},p(o,a){var u;a[0]&2&&r!==(r=((u=o[1])==null?void 0:u.name)+"")&&Se(l,r)},d(o){o&&(E(e),E(t),E(i))}}}function rS(n){let e;return{c(){e=k("span"),e.textContent="Changed",m(e,"class","label label-warning")},m(t,i){S(t,e,i)},d(t){t&&E(e)}}}function lS(n){let e,t=n[0].name+"",i,r,l;return{c(){e=k("strong"),i=le(t),r=D(),l=k("i"),m(e,"class","txt-strikethrough txt-hint"),m(l,"class","ri-arrow-right-line txt-sm")},m(s,o){S(s,e,o),T(e,i),S(s,r,o),S(s,l,o)},p(s,o){o[0]&1&&t!==(t=s[0].name+"")&&Se(i,t)},d(s){s&&(E(e),E(r),E(l))}}}function sS(n){var b,y;let e,t,i,r=n[30]+"",l,s,o,a,u=n[12]((b=n[0])==null?void 0:b[n[30]])+"",f,c,h,p,_=n[12]((y=n[1])==null?void 0:y[n[30]])+"",v;return{c(){var A,M,N,L,I,R;e=k("tr"),t=k("td"),i=k("span"),l=le(r),s=D(),o=k("td"),a=k("pre"),f=le(u),c=D(),h=k("td"),p=k("pre"),v=le(_),m(t,"class","min-width svelte-qs0w8h"),m(a,"class","txt diff-value svelte-qs0w8h"),m(o,"class","svelte-qs0w8h"),he(o,"changed-old-col",!n[11]&&zr((A=n[0])==null?void 0:A[n[30]],(M=n[1])==null?void 0:M[n[30]])),he(o,"changed-none-col",n[11]),m(p,"class","txt diff-value svelte-qs0w8h"),m(h,"class","svelte-qs0w8h"),he(h,"changed-new-col",!n[5]&&zr((N=n[0])==null?void 0:N[n[30]],(L=n[1])==null?void 0:L[n[30]])),he(h,"changed-none-col",n[5]),m(e,"class","svelte-qs0w8h"),he(e,"txt-primary",zr((I=n[0])==null?void 0:I[n[30]],(R=n[1])==null?void 0:R[n[30]]))},m(A,M){S(A,e,M),T(e,t),T(t,i),T(i,l),T(e,s),T(e,o),T(o,a),T(a,f),T(e,c),T(e,h),T(h,p),T(p,v)},p(A,M){var N,L,I,R,$,B,H,q;M[0]&512&&r!==(r=A[30]+"")&&Se(l,r),M[0]&513&&u!==(u=A[12]((N=A[0])==null?void 0:N[A[30]])+"")&&Se(f,u),M[0]&2563&&he(o,"changed-old-col",!A[11]&&zr((L=A[0])==null?void 0:L[A[30]],(I=A[1])==null?void 0:I[A[30]])),M[0]&2048&&he(o,"changed-none-col",A[11]),M[0]&514&&_!==(_=A[12]((R=A[1])==null?void 0:R[A[30]])+"")&&Se(v,_),M[0]&547&&he(h,"changed-new-col",!A[5]&&zr(($=A[0])==null?void 0:$[A[30]],(B=A[1])==null?void 0:B[A[30]])),M[0]&32&&he(h,"changed-none-col",A[5]),M[0]&515&&he(e,"txt-primary",zr((H=A[0])==null?void 0:H[A[30]],(q=A[1])==null?void 0:q[A[30]]))},d(A){A&&E(e)}}}function oS(n){let e,t=Re(n[6]),i=[];for(let r=0;r<t.length;r+=1)i[r]=uS(tS(n,t,r));return{c(){for(let r=0;r<i.length;r+=1)i[r].c();e=ze()},m(r,l){for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(r,l);S(r,e,l)},p(r,l){if(l[0]&4160){t=Re(r[6]);let s;for(s=0;s<t.length;s+=1){const o=tS(r,t,s);i[s]?i[s].p(o,l):(i[s]=uS(o),i[s].c(),i[s].m(e.parentNode,e))}for(;s<i.length;s+=1)i[s].d(1);i.length=t.length}},d(r){r&&E(e),fn(i,r)}}}function aS(n){let e,t,i=n[17]+"",r,l,s,o,a=n[12](n[18])+"",u,f,c,h;return{c(){e=k("tr"),t=k("td"),r=le(i),l=D(),s=k("td"),o=k("pre"),u=le(a),f=D(),c=k("td"),h=D(),m(t,"class","min-width field-key-col svelte-qs0w8h"),m(o,"class","txt"),m(s,"class","changed-old-col svelte-qs0w8h"),m(c,"class","changed-none-col svelte-qs0w8h"),m(e,"class","txt-primary svelte-qs0w8h")},m(p,_){S(p,e,_),T(e,t),T(t,r),T(e,l),T(e,s),T(s,o),T(o,u),T(e,f),T(e,c),T(e,h)},p(p,_){_[0]&64&&i!==(i=p[17]+"")&&Se(r,i),_[0]&64&&a!==(a=p[12](p[18])+"")&&Se(u,a)},d(p){p&&E(e)}}}function uS(n){let e,t,i,r,l=n[14].name+"",s,o,a,u,f,c,h,p=n[14].name+"",_,v,b,y,A=Re(Object.entries(n[14])),M=[];for(let N=0;N<A.length;N+=1)M[N]=aS(nS(n,A,N));return{c(){e=k("tr"),t=k("th"),i=k("span"),r=le("field: "),s=le(l),o=D(),a=k("span"),u=le("Deleted - "),f=k("small"),c=le("All stored data related to "),h=k("strong"),_=le(p),v=le(" will be deleted!"),b=D();for(let N=0;N<M.length;N+=1)M[N].c();y=ze(),m(i,"class","txt"),m(a,"class","label label-danger m-l-5 svelte-qs0w8h"),m(t,"class","min-width svelte-qs0w8h"),m(t,"colspan","3"),m(e,"class","svelte-qs0w8h")},m(N,L){S(N,e,L),T(e,t),T(t,i),T(i,r),T(i,s),T(t,o),T(t,a),T(a,u),T(a,f),T(f,c),T(f,h),T(h,_),T(f,v),S(N,b,L);for(let I=0;I<M.length;I+=1)M[I]&&M[I].m(N,L);S(N,y,L)},p(N,L){if(L[0]&64&&l!==(l=N[14].name+"")&&Se(s,l),L[0]&64&&p!==(p=N[14].name+"")&&Se(_,p),L[0]&4160){A=Re(Object.entries(N[14]));let I;for(I=0;I<A.length;I+=1){const R=nS(N,A,I);M[I]?M[I].p(R,L):(M[I]=aS(R),M[I].c(),M[I].m(y.parentNode,y))}for(;I<M.length;I+=1)M[I].d(1);M.length=A.length}},d(N){N&&(E(e),E(b),E(y)),fn(M,N)}}}function fS(n){let e;return{c(){e=k("span"),e.textContent="Changed",m(e,"class","label label-warning m-l-5 svelte-qs0w8h")},m(t,i){S(t,e,i)},d(t){t&&E(e)}}}function cS(n){var v;let e,t,i=n[17]+"",r,l,s,o,a=n[12]((v=bl(n[3],n[14].id))==null?void 0:v[n[17]])+"",u,f,c,h,p=n[12](n[23])+"",_;return{c(){var b,y,A;e=k("tr"),t=k("td"),r=le(i),l=D(),s=k("td"),o=k("pre"),u=le(a),f=D(),c=k("td"),h=k("pre"),_=le(p),m(t,"class","min-width field-key-col svelte-qs0w8h"),m(o,"class","txt"),m(s,"class","svelte-qs0w8h"),he(s,"changed-old-col",zr((b=bl(n[3],n[14].id))==null?void 0:b[n[17]],n[23])),m(h,"class","txt"),m(c,"class","svelte-qs0w8h"),he(c,"changed-new-col",zr((y=bl(n[3],n[14].id))==null?void 0:y[n[17]],n[23])),m(e,"class","svelte-qs0w8h"),he(e,"txt-primary",zr((A=bl(n[3],n[14].id))==null?void 0:A[n[17]],n[23]))},m(b,y){S(b,e,y),T(e,t),T(t,r),T(e,l),T(e,s),T(s,o),T(o,u),T(e,f),T(e,c),T(c,h),T(h,_)},p(b,y){var A,M,N,L;y[0]&128&&i!==(i=b[17]+"")&&Se(r,i),y[0]&136&&a!==(a=b[12]((A=bl(b[3],b[14].id))==null?void 0:A[b[17]])+"")&&Se(u,a),y[0]&136&&he(s,"changed-old-col",zr((M=bl(b[3],b[14].id))==null?void 0:M[b[17]],b[23])),y[0]&128&&p!==(p=b[12](b[23])+"")&&Se(_,p),y[0]&136&&he(c,"changed-new-col",zr((N=bl(b[3],b[14].id))==null?void 0:N[b[17]],b[23])),y[0]&136&&he(e,"txt-primary",zr((L=bl(b[3],b[14].id))==null?void 0:L[b[17]],b[23]))},d(b){b&&E(e)}}}function dS(n){let e,t,i,r,l=n[14].name+"",s,o,a=zr(bl(n[3],n[14].id),bl(n[4],n[14].id)),u,f,c=a&&fS(),h=Re(Object.entries(n[14])),p=[];for(let _=0;_<h.length;_+=1)p[_]=cS(eS(n,h,_));return{c(){e=k("tr"),t=k("th"),i=k("span"),r=le("field: "),s=le(l),o=D(),c&&c.c(),u=D();for(let _=0;_<p.length;_+=1)p[_].c();f=ze(),m(i,"class","txt"),m(t,"class","min-width svelte-qs0w8h"),m(t,"colspan","3"),m(e,"class","svelte-qs0w8h")},m(_,v){S(_,e,v),T(e,t),T(t,i),T(i,r),T(i,s),T(t,o),c&&c.m(t,null),S(_,u,v);for(let b=0;b<p.length;b+=1)p[b]&&p[b].m(_,v);S(_,f,v)},p(_,v){if(v[0]&128&&l!==(l=_[14].name+"")&&Se(s,l),v[0]&152&&(a=zr(bl(_[3],_[14].id),bl(_[4],_[14].id))),a?c||(c=fS(),c.c(),c.m(t,null)):c&&(c.d(1),c=null),v[0]&4232){h=Re(Object.entries(_[14]));let b;for(b=0;b<h.length;b+=1){const y=eS(_,h,b);p[b]?p[b].p(y,v):(p[b]=cS(y),p[b].c(),p[b].m(f.parentNode,f))}for(;b<p.length;b+=1)p[b].d(1);p.length=h.length}},d(_){_&&(E(e),E(u),E(f)),c&&c.d(),fn(p,_)}}}function hS(n){let e,t,i=n[17]+"",r,l,s,o,a,u,f=n[12](n[18])+"",c,h;return{c(){e=k("tr"),t=k("td"),r=le(i),l=D(),s=k("td"),o=D(),a=k("td"),u=k("pre"),c=le(f),h=D(),m(t,"class","min-width field-key-col svelte-qs0w8h"),m(s,"class","changed-none-col svelte-qs0w8h"),m(u,"class","txt"),m(a,"class","changed-new-col svelte-qs0w8h"),m(e,"class","txt-primary svelte-qs0w8h")},m(p,_){S(p,e,_),T(e,t),T(t,r),T(e,l),T(e,s),T(e,o),T(e,a),T(a,u),T(u,c),T(e,h)},p(p,_){_[0]&256&&i!==(i=p[17]+"")&&Se(r,i),_[0]&256&&f!==(f=p[12](p[18])+"")&&Se(c,f)},d(p){p&&E(e)}}}function pS(n){let e,t,i,r,l=n[14].name+"",s,o,a,u,f,c=Re(Object.entries(n[14])),h=[];for(let p=0;p<c.length;p+=1)h[p]=hS(QE(n,c,p));return{c(){e=k("tr"),t=k("th"),i=k("span"),r=le("field: "),s=le(l),o=D(),a=k("span"),a.textContent="Added",u=D();for(let p=0;p<h.length;p+=1)h[p].c();f=ze(),m(i,"class","txt"),m(a,"class","label label-success m-l-5 svelte-qs0w8h"),m(t,"class","min-width svelte-qs0w8h"),m(t,"colspan","3"),m(e,"class","svelte-qs0w8h")},m(p,_){S(p,e,_),T(e,t),T(t,i),T(i,r),T(i,s),T(t,o),T(t,a),S(p,u,_);for(let v=0;v<h.length;v+=1)h[v]&&h[v].m(p,_);S(p,f,_)},p(p,_){if(_[0]&256&&l!==(l=p[14].name+"")&&Se(s,l),_[0]&4352){c=Re(Object.entries(p[14]));let v;for(v=0;v<c.length;v+=1){const b=QE(p,c,v);h[v]?h[v].p(b,_):(h[v]=hS(b),h[v].c(),h[v].m(f.parentNode,f))}for(;v<h.length;v+=1)h[v].d(1);h.length=c.length}},d(p){p&&(E(e),E(u),E(f)),fn(h,p)}}}function B0e(n){let e,t,i,r,l,s,o,a,u;function f(N,L){var I,R;return(I=N[0])!=null&&I.id?(R=N[1])!=null&&R.id?F0e:$0e:H0e}let c=f(n),h=c(n),p=Re(n[9]),_=[];for(let N=0;N<p.length;N+=1)_[N]=sS(iS(n,p,N));let v=(n[2]||n[5])&&oS(n),b=Re(n[7]),y=[];for(let N=0;N<b.length;N+=1)y[N]=dS(JE(n,b,N));let A=Re(n[8]),M=[];for(let N=0;N<A.length;N+=1)M[N]=pS(ZE(n,A,N));return{c(){e=k("div"),h.c(),t=D(),i=k("table"),r=k("thead"),r.innerHTML='<tr class="svelte-qs0w8h"><th class="svelte-qs0w8h">Props</th> <th width="10%" class="svelte-qs0w8h">Old</th> <th width="10%" class="svelte-qs0w8h">New</th></tr>',l=D(),s=k("tbody");for(let N=0;N<_.length;N+=1)_[N].c();o=D(),v&&v.c(),a=D();for(let N=0;N<y.length;N+=1)y[N].c();u=D();for(let N=0;N<M.length;N+=1)M[N].c();m(e,"class","section-title"),m(i,"class","table collections-diff-table m-b-base svelte-qs0w8h")},m(N,L){S(N,e,L),h.m(e,null),S(N,t,L),S(N,i,L),T(i,r),T(i,l),T(i,s);for(let I=0;I<_.length;I+=1)_[I]&&_[I].m(s,null);T(s,o),v&&v.m(s,null),T(s,a);for(let I=0;I<y.length;I+=1)y[I]&&y[I].m(s,null);T(s,u);for(let I=0;I<M.length;I+=1)M[I]&&M[I].m(s,null)},p(N,L){if(c===(c=f(N))&&h?h.p(N,L):(h.d(1),h=c(N),h&&(h.c(),h.m(e,null))),L[0]&6691){p=Re(N[9]);let I;for(I=0;I<p.length;I+=1){const R=iS(N,p,I);_[I]?_[I].p(R,L):(_[I]=sS(R),_[I].c(),_[I].m(s,o))}for(;I<_.length;I+=1)_[I].d(1);_.length=p.length}if(N[2]||N[5]?v?v.p(N,L):(v=oS(N),v.c(),v.m(s,a)):v&&(v.d(1),v=null),L[0]&4248){b=Re(N[7]);let I;for(I=0;I<b.length;I+=1){const R=JE(N,b,I);y[I]?y[I].p(R,L):(y[I]=dS(R),y[I].c(),y[I].m(s,u))}for(;I<y.length;I+=1)y[I].d(1);y.length=b.length}if(L[0]&4352){A=Re(N[8]);let I;for(I=0;I<A.length;I+=1){const R=ZE(N,A,I);M[I]?M[I].p(R,L):(M[I]=pS(R),M[I].c(),M[I].m(s,null))}for(;I<M.length;I+=1)M[I].d(1);M.length=A.length}},i:ge,o:ge,d(N){N&&(E(e),E(t),E(i)),h.d(),fn(_,N),v&&v.d(),fn(y,N),fn(M,N)}}}function bl(n,e){n=n||[];for(let t of n)if(t.id==e)return t;return null}function zr(n,e){return n===e?!1:JSON.stringify(n)!==JSON.stringify(e)}function x0e(n,e,t){let i,r,l,s,{collectionA:o={}}=e,{collectionB:a={}}=e,{deleteMissing:u=!1}=e,f=[],c=[],h=[],p=[],_=[];function v(){t(4,c=Array.isArray(a==null?void 0:a.fields)?a==null?void 0:a.fields.concat():[]),u||t(4,c=c.concat(f.filter(y=>!c.find(A=>y.id==A.id))))}function b(y){return typeof y>"u"?"":re.isObject(y)?JSON.stringify(y,null,4):y}return n.$$set=y=>{"collectionA"in y&&t(0,o=y.collectionA),"collectionB"in y&&t(1,a=y.collectionB),"deleteMissing"in y&&t(2,u=y.deleteMissing)},n.$$.update=()=>{n.$$.dirty[0]&2&&t(5,i=!(a!=null&&a.id)&&!(a!=null&&a.name)),n.$$.dirty[0]&33&&t(11,r=!i&&!(o!=null&&o.id)),n.$$.dirty[0]&1&&t(3,f=Array.isArray(o==null?void 0:o.fields)?o==null?void 0:o.fields.concat():[]),n.$$.dirty[0]&7&&(typeof(o==null?void 0:o.fields)<"u"||typeof(a==null?void 0:a.fields)<"u"||typeof u<"u")&&v(),n.$$.dirty[0]&24&&t(6,h=f.filter(y=>!c.find(A=>y.id==A.id))),n.$$.dirty[0]&24&&t(7,p=c.filter(y=>f.find(A=>A.id==y.id))),n.$$.dirty[0]&24&&t(8,_=c.filter(y=>!f.find(A=>A.id==y.id))),n.$$.dirty[0]&7&&t(10,l=re.hasCollectionChanges(o,a,u)),n.$$.dirty[0]&3&&t(9,s=re.mergeUnique(Object.keys(o||{}),Object.keys(a||{})).filter(y=>!["fields","created","updated"].includes(y)))},[o,a,u,f,c,i,h,p,_,s,l,r,b]}class U0e extends je{constructor(e){super(),qe(this,e,x0e,B0e,We,{collectionA:0,collectionB:1,deleteMissing:2},null,[-1,-1])}}function mS(n,e,t){const i=n.slice();return i[17]=e[t],i}function gS(n){let e,t;return e=new U0e({props:{collectionA:n[17].old,collectionB:n[17].new,deleteMissing:n[3]}}),{c(){ee(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,r){const l={};r&4&&(l.collectionA=i[17].old),r&4&&(l.collectionB=i[17].new),r&8&&(l.deleteMissing=i[3]),e.$set(l)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){x(e.$$.fragment,i),t=!1},d(i){J(e,i)}}}function z0e(n){let e,t,i=Re(n[2]),r=[];for(let s=0;s<i.length;s+=1)r[s]=gS(mS(n,i,s));const l=s=>x(r[s],1,1,()=>{r[s]=null});return{c(){for(let s=0;s<r.length;s+=1)r[s].c();e=ze()},m(s,o){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(s,o);S(s,e,o),t=!0},p(s,o){if(o&12){i=Re(s[2]);let a;for(a=0;a<i.length;a+=1){const u=mS(s,i,a);r[a]?(r[a].p(u,o),F(r[a],1)):(r[a]=gS(u),r[a].c(),F(r[a],1),r[a].m(e.parentNode,e))}for(Ne(),a=i.length;a<r.length;a+=1)l(a);Me()}},i(s){if(!t){for(let o=0;o<i.length;o+=1)F(r[o]);t=!0}},o(s){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)x(r[o]);t=!1},d(s){s&&E(e),fn(r,s)}}}function q0e(n){let e;return{c(){e=k("h4"),e.textContent="Side-by-side diff",m(e,"class","center txt-break")},m(t,i){S(t,e,i)},p:ge,d(t){t&&E(e)}}}function j0e(n){let e,t,i,r,l,s,o;return{c(){e=k("button"),t=le("Close"),i=D(),r=k("button"),l=k("span"),l.textContent="Confirm and import",m(e,"type","button"),m(e,"class","btn btn-transparent"),e.disabled=n[4],m(l,"class","txt"),m(r,"type","button"),m(r,"class","btn btn-expanded"),r.disabled=n[4],he(r,"btn-loading",n[4])},m(a,u){S(a,e,u),T(e,t),S(a,i,u),S(a,r,u),T(r,l),s||(o=[se(e,"click",n[0]),se(r,"click",n[9])],s=!0)},p(a,u){u&16&&(e.disabled=a[4]),u&16&&(r.disabled=a[4]),u&16&&he(r,"btn-loading",a[4])},d(a){a&&(E(e),E(i),E(r)),s=!1,it(o)}}}function W0e(n){let e,t,i={class:"full-width-popup import-popup",overlayClose:!1,escClose:!n[4],beforeHide:n[10],popup:!0,$$slots:{footer:[j0e],header:[q0e],default:[z0e]},$$scope:{ctx:n}};return e=new Mi({props:i}),n[11](e),e.$on("show",n[12]),e.$on("hide",n[13]),{c(){ee(e.$$.fragment)},m(r,l){Q(e,r,l),t=!0},p(r,[l]){const s={};l&16&&(s.escClose=!r[4]),l&16&&(s.beforeHide=r[10]),l&1048604&&(s.$$scope={dirty:l,ctx:r}),e.$set(s)},i(r){t||(F(e.$$.fragment,r),t=!0)},o(r){x(e.$$.fragment,r),t=!1},d(r){n[11](null),J(e,r)}}}function K0e(n,e,t){const i=Sn();let r,l=[],s=[],o=[],a=!1,u=!1;function f(N,L,I=!1){t(7,l=N),t(8,s=L),t(3,a=I),r==null||r.show()}function c(){return r==null?void 0:r.hide()}function h(){t(2,o=[]);for(const N of l){const L=re.findByKey(s,"id",N.id)||null;(a&&!(L!=null&&L.id)||L!=null&&L.id&&re.hasCollectionChanges(N,L,a))&&o.push({old:N,new:L})}for(const N of s){const L=re.findByKey(l,"id",N.id)||null;L!=null&&L.id||o.push({old:L,new:N})}}function p(){const N=[];if(a)for(const L of l){const I=re.findByKey(s,"id",L.id);if(!I)N.push(L.name+".*");else{const R=Array.isArray(L.fields)?L.fields:[];for(const $ of R)re.findByKey(I.fields,"id",$.id)||N.push(`${L.name}.${$.name} (${$.id})`)}}N.length?ar(`Do you really want to delete the following collection fields and their related records data:
- ${N.join(`
- `)}`,()=>{_()}):_()}async function _(){if(!u){t(4,u=!0);try{await xe.collections.import(s,a),Oi("Successfully imported collections configuration."),i("submit")}catch(N){xe.error(N)}t(4,u=!1),c()}}const v=()=>p(),b=()=>!u;function y(N){ye[N?"unshift":"push"](()=>{r=N,t(1,r)})}function A(N){ut.call(this,n,N)}function M(N){ut.call(this,n,N)}return n.$$.update=()=>{n.$$.dirty&384&&Array.isArray(l)&&Array.isArray(s)&&h()},[c,r,o,a,u,p,f,l,s,v,b,y,A,M]}class V0e extends je{constructor(e){super(),qe(this,e,K0e,W0e,We,{show:6,hide:0})}get show(){return this.$$.ctx[6]}get hide(){return this.$$.ctx[0]}}function _S(n,e,t){const i=n.slice();return i[34]=e[t],i}function bS(n,e,t){const i=n.slice();return i[37]=e[t],i}function vS(n,e,t){const i=n.slice();return i[34]=e[t],i}function G0e(n){let e,t,i,r,l,s,o,a,u,f,c,h,p,_,v,b,y,A,M,N,L,I,R,$;a=new Pe({props:{class:"form-field "+(n[6]?"":"field-error"),name:"collections",$$slots:{default:[X0e,({uniqueId:G})=>({42:G}),({uniqueId:G})=>[0,G?2048:0]]},$$scope:{ctx:n}}});let B=n[1].length&&kS(n),H=!1,q=n[6]&&n[1].length&&!n[7]&&TS(),z=n[6]&&n[1].length&&n[7]&&wS(n),j=n[13].length&&RS(n),W=!!n[0]&&PS(n);return{c(){e=k("input"),t=D(),i=k("div"),r=k("p"),l=le(`Paste below the collections configuration you want to import or
                        `),s=k("button"),s.innerHTML='<span class="txt">Load from JSON file</span>',o=D(),ee(a.$$.fragment),u=D(),B&&B.c(),f=D(),c=D(),q&&q.c(),h=D(),z&&z.c(),p=D(),j&&j.c(),_=D(),v=k("div"),W&&W.c(),b=D(),y=k("div"),A=D(),M=k("button"),N=k("span"),N.textContent="Review",m(e,"type","file"),m(e,"class","hidden"),m(e,"accept",".json"),m(s,"class","btn btn-outline btn-sm m-l-5"),he(s,"btn-loading",n[12]),m(i,"class","content txt-xl m-b-base"),m(y,"class","flex-fill"),m(N,"class","txt"),m(M,"type","button"),m(M,"class","btn btn-expanded btn-warning m-l-auto"),M.disabled=L=!n[14],m(v,"class","flex m-t-base")},m(G,ie){S(G,e,ie),n[22](e),S(G,t,ie),S(G,i,ie),T(i,r),T(r,l),T(r,s),S(G,o,ie),Q(a,G,ie),S(G,u,ie),B&&B.m(G,ie),S(G,f,ie),S(G,c,ie),q&&q.m(G,ie),S(G,h,ie),z&&z.m(G,ie),S(G,p,ie),j&&j.m(G,ie),S(G,_,ie),S(G,v,ie),W&&W.m(v,null),T(v,b),T(v,y),T(v,A),T(v,M),T(M,N),I=!0,R||($=[se(e,"change",n[23]),se(s,"click",n[24]),se(M,"click",n[20])],R=!0)},p(G,ie){(!I||ie[0]&4096)&&he(s,"btn-loading",G[12]);const te={};ie[0]&64&&(te.class="form-field "+(G[6]?"":"field-error")),ie[0]&65|ie[1]&6144&&(te.$$scope={dirty:ie,ctx:G}),a.$set(te),G[1].length?B?(B.p(G,ie),ie[0]&2&&F(B,1)):(B=kS(G),B.c(),F(B,1),B.m(f.parentNode,f)):B&&(Ne(),x(B,1,1,()=>{B=null}),Me()),G[6]&&G[1].length&&!G[7]?q||(q=TS(),q.c(),q.m(h.parentNode,h)):q&&(q.d(1),q=null),G[6]&&G[1].length&&G[7]?z?z.p(G,ie):(z=wS(G),z.c(),z.m(p.parentNode,p)):z&&(z.d(1),z=null),G[13].length?j?j.p(G,ie):(j=RS(G),j.c(),j.m(_.parentNode,_)):j&&(j.d(1),j=null),G[0]?W?W.p(G,ie):(W=PS(G),W.c(),W.m(v,b)):W&&(W.d(1),W=null),(!I||ie[0]&16384&&L!==(L=!G[14]))&&(M.disabled=L)},i(G){I||(F(a.$$.fragment,G),F(B),F(H),I=!0)},o(G){x(a.$$.fragment,G),x(B),x(H),I=!1},d(G){G&&(E(e),E(t),E(i),E(o),E(u),E(f),E(c),E(h),E(p),E(_),E(v)),n[22](null),J(a,G),B&&B.d(G),q&&q.d(G),z&&z.d(G),j&&j.d(G),W&&W.d(),R=!1,it($)}}}function Y0e(n){let e;return{c(){e=k("div"),m(e,"class","loader")},m(t,i){S(t,e,i)},p:ge,i:ge,o:ge,d(t){t&&E(e)}}}function yS(n){let e;return{c(){e=k("div"),e.textContent="Invalid collections configuration.",m(e,"class","help-block help-block-error")},m(t,i){S(t,e,i)},d(t){t&&E(e)}}}function X0e(n){let e,t,i,r,l,s,o,a,u,f,c=!!n[0]&&!n[6]&&yS();return{c(){e=k("label"),t=le("Collections"),r=D(),l=k("textarea"),o=D(),c&&c.c(),a=ze(),m(e,"for",i=n[42]),m(e,"class","p-b-10"),m(l,"id",s=n[42]),m(l,"class","code"),m(l,"spellcheck","false"),m(l,"rows","15"),l.required=!0},m(h,p){S(h,e,p),T(e,t),S(h,r,p),S(h,l,p),He(l,n[0]),S(h,o,p),c&&c.m(h,p),S(h,a,p),u||(f=se(l,"input",n[25]),u=!0)},p(h,p){p[1]&2048&&i!==(i=h[42])&&m(e,"for",i),p[1]&2048&&s!==(s=h[42])&&m(l,"id",s),p[0]&1&&He(l,h[0]),h[0]&&!h[6]?c||(c=yS(),c.c(),c.m(a.parentNode,a)):c&&(c.d(1),c=null)},d(h){h&&(E(e),E(r),E(l),E(o),E(a)),c&&c.d(h),u=!1,f()}}}function kS(n){let e,t;return e=new Pe({props:{class:"form-field form-field-toggle",$$slots:{default:[Z0e,({uniqueId:i})=>({42:i}),({uniqueId:i})=>[0,i?2048:0]]},$$scope:{ctx:n}}}),{c(){ee(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,r){const l={};r[0]&96|r[1]&6144&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){x(e.$$.fragment,i),t=!1},d(i){J(e,i)}}}function Z0e(n){let e,t,i,r,l,s,o,a,u;return{c(){e=k("input"),r=D(),l=k("label"),s=le("Merge with the existing collections"),m(e,"type","checkbox"),m(e,"id",t=n[42]),e.disabled=i=!n[6],m(l,"for",o=n[42])},m(f,c){S(f,e,c),e.checked=n[5],S(f,r,c),S(f,l,c),T(l,s),a||(u=se(e,"change",n[26]),a=!0)},p(f,c){c[1]&2048&&t!==(t=f[42])&&m(e,"id",t),c[0]&64&&i!==(i=!f[6])&&(e.disabled=i),c[0]&32&&(e.checked=f[5]),c[1]&2048&&o!==(o=f[42])&&m(l,"for",o)},d(f){f&&(E(e),E(r),E(l)),a=!1,u()}}}function TS(n){let e;return{c(){e=k("div"),e.innerHTML='<div class="icon"><i class="ri-information-line"></i></div> <div class="content"><string>Your collections configuration is already up-to-date!</string></div>',m(e,"class","alert alert-info")},m(t,i){S(t,e,i)},d(t){t&&E(e)}}}function wS(n){let e,t,i,r,l,s=n[9].length&&ES(n),o=n[3].length&&AS(n),a=n[8].length&&IS(n);return{c(){e=k("h5"),e.textContent="Detected changes",t=D(),i=k("div"),s&&s.c(),r=D(),o&&o.c(),l=D(),a&&a.c(),m(e,"class","section-title"),m(i,"class","list")},m(u,f){S(u,e,f),S(u,t,f),S(u,i,f),s&&s.m(i,null),T(i,r),o&&o.m(i,null),T(i,l),a&&a.m(i,null)},p(u,f){u[9].length?s?s.p(u,f):(s=ES(u),s.c(),s.m(i,r)):s&&(s.d(1),s=null),u[3].length?o?o.p(u,f):(o=AS(u),o.c(),o.m(i,l)):o&&(o.d(1),o=null),u[8].length?a?a.p(u,f):(a=IS(u),a.c(),a.m(i,null)):a&&(a.d(1),a=null)},d(u){u&&(E(e),E(t),E(i)),s&&s.d(),o&&o.d(),a&&a.d()}}}function ES(n){let e=[],t=new Map,i,r=Re(n[9]);const l=s=>s[34].id;for(let s=0;s<r.length;s+=1){let o=vS(n,r,s),a=l(o);t.set(a,e[s]=CS(a,o))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();i=ze()},m(s,o){for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(s,o);S(s,i,o)},p(s,o){o[0]&512&&(r=Re(s[9]),e=In(e,o,l,1,s,r,t,i.parentNode,Ol,CS,i,vS))},d(s){s&&E(i);for(let o=0;o<e.length;o+=1)e[o].d(s)}}}function SS(n){let e,t=n[34].id+"",i;return{c(){e=k("small"),i=le(t),m(e,"class","txt-hint")},m(r,l){S(r,e,l),T(e,i)},p(r,l){l[0]&512&&t!==(t=r[34].id+"")&&Se(i,t)},d(r){r&&E(e)}}}function CS(n,e){let t,i,r,l,s,o=e[34].name+"",a,u,f,c=e[34].id&&SS(e);return{key:n,first:null,c(){t=k("div"),i=k("span"),i.textContent="Deleted",r=D(),l=k("div"),s=k("strong"),a=le(o),u=D(),c&&c.c(),f=D(),m(i,"class","label label-danger list-label svelte-1jx20fl"),m(l,"class","inline-flex flex-gap-5"),m(t,"class","list-item"),this.first=t},m(h,p){S(h,t,p),T(t,i),T(t,r),T(t,l),T(l,s),T(s,a),T(l,u),c&&c.m(l,null),T(t,f)},p(h,p){e=h,p[0]&512&&o!==(o=e[34].name+"")&&Se(a,o),e[34].id?c?c.p(e,p):(c=SS(e),c.c(),c.m(l,null)):c&&(c.d(1),c=null)},d(h){h&&E(t),c&&c.d()}}}function AS(n){let e=[],t=new Map,i,r=Re(n[3]);const l=s=>s[37].old.id+s[37].new.id;for(let s=0;s<r.length;s+=1){let o=bS(n,r,s),a=l(o);t.set(a,e[s]=MS(a,o))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();i=ze()},m(s,o){for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(s,o);S(s,i,o)},p(s,o){o[0]&8&&(r=Re(s[3]),e=In(e,o,l,1,s,r,t,i.parentNode,Ol,MS,i,bS))},d(s){s&&E(i);for(let o=0;o<e.length;o+=1)e[o].d(s)}}}function OS(n){let e,t=n[37].old.name+"",i,r,l;return{c(){e=k("strong"),i=le(t),r=D(),l=k("i"),m(e,"class","txt-strikethrough txt-hint"),m(l,"class","ri-arrow-right-line txt-sm")},m(s,o){S(s,e,o),T(e,i),S(s,r,o),S(s,l,o)},p(s,o){o[0]&8&&t!==(t=s[37].old.name+"")&&Se(i,t)},d(s){s&&(E(e),E(r),E(l))}}}function NS(n){let e,t=n[37].new.id+"",i;return{c(){e=k("small"),i=le(t),m(e,"class","txt-hint")},m(r,l){S(r,e,l),T(e,i)},p(r,l){l[0]&8&&t!==(t=r[37].new.id+"")&&Se(i,t)},d(r){r&&E(e)}}}function MS(n,e){let t,i,r,l,s,o,a=e[37].new.name+"",u,f,c,h=e[37].old.name!==e[37].new.name&&OS(e),p=e[37].new.id&&NS(e);return{key:n,first:null,c(){t=k("div"),i=k("span"),i.textContent="Changed",r=D(),l=k("div"),h&&h.c(),s=D(),o=k("strong"),u=le(a),f=D(),p&&p.c(),c=D(),m(i,"class","label label-warning list-label svelte-1jx20fl"),m(l,"class","inline-flex flex-gap-5"),m(t,"class","list-item"),this.first=t},m(_,v){S(_,t,v),T(t,i),T(t,r),T(t,l),h&&h.m(l,null),T(l,s),T(l,o),T(o,u),T(l,f),p&&p.m(l,null),T(t,c)},p(_,v){e=_,e[37].old.name!==e[37].new.name?h?h.p(e,v):(h=OS(e),h.c(),h.m(l,s)):h&&(h.d(1),h=null),v[0]&8&&a!==(a=e[37].new.name+"")&&Se(u,a),e[37].new.id?p?p.p(e,v):(p=NS(e),p.c(),p.m(l,null)):p&&(p.d(1),p=null)},d(_){_&&E(t),h&&h.d(),p&&p.d()}}}function IS(n){let e=[],t=new Map,i,r=Re(n[8]);const l=s=>s[34].id;for(let s=0;s<r.length;s+=1){let o=_S(n,r,s),a=l(o);t.set(a,e[s]=DS(a,o))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();i=ze()},m(s,o){for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(s,o);S(s,i,o)},p(s,o){o[0]&256&&(r=Re(s[8]),e=In(e,o,l,1,s,r,t,i.parentNode,Ol,DS,i,_S))},d(s){s&&E(i);for(let o=0;o<e.length;o+=1)e[o].d(s)}}}function LS(n){let e,t=n[34].id+"",i;return{c(){e=k("small"),i=le(t),m(e,"class","txt-hint")},m(r,l){S(r,e,l),T(e,i)},p(r,l){l[0]&256&&t!==(t=r[34].id+"")&&Se(i,t)},d(r){r&&E(e)}}}function DS(n,e){let t,i,r,l,s,o=e[34].name+"",a,u,f,c=e[34].id&&LS(e);return{key:n,first:null,c(){t=k("div"),i=k("span"),i.textContent="Added",r=D(),l=k("div"),s=k("strong"),a=le(o),u=D(),c&&c.c(),f=D(),m(i,"class","label label-success list-label svelte-1jx20fl"),m(l,"class","inline-flex flex-gap-5"),m(t,"class","list-item"),this.first=t},m(h,p){S(h,t,p),T(t,i),T(t,r),T(t,l),T(l,s),T(s,a),T(l,u),c&&c.m(l,null),T(t,f)},p(h,p){e=h,p[0]&256&&o!==(o=e[34].name+"")&&Se(a,o),e[34].id?c?c.p(e,p):(c=LS(e),c.c(),c.m(l,null)):c&&(c.d(1),c=null)},d(h){h&&E(t),c&&c.d()}}}function RS(n){let e,t,i,r,l,s,o,a;return{c(){e=k("div"),t=k("div"),t.innerHTML='<i class="ri-error-warning-line"></i>',i=D(),r=k("div"),r.innerHTML=`<string>Some of the imported collections share the same name and/or fields but are
                                imported with different IDs. You can replace them in the import if you want
                                to.</string>`,l=D(),s=k("button"),s.innerHTML='<span class="txt">Replace with original ids</span>',m(t,"class","icon"),m(r,"class","content"),m(s,"type","button"),m(s,"class","btn btn-warning btn-sm btn-outline"),m(e,"class","alert alert-warning m-t-base")},m(u,f){S(u,e,f),T(e,t),T(e,i),T(e,r),T(e,l),T(e,s),o||(a=se(s,"click",n[28]),o=!0)},p:ge,d(u){u&&E(e),o=!1,a()}}}function PS(n){let e,t,i;return{c(){e=k("button"),e.innerHTML='<span class="txt">Clear</span>',m(e,"type","button"),m(e,"class","btn btn-transparent link-hint")},m(r,l){S(r,e,l),t||(i=se(e,"click",n[29]),t=!0)},p:ge,d(r){r&&E(e),t=!1,i()}}}function Q0e(n){let e,t,i,r,l,s,o,a,u,f,c,h;const p=[Y0e,G0e],_=[];function v(b,y){return b[4]?0:1}return f=v(n),c=_[f]=p[f](n),{c(){e=k("header"),t=k("nav"),i=k("div"),i.textContent="Settings",r=D(),l=k("div"),s=le(n[15]),o=D(),a=k("div"),u=k("div"),c.c(),m(i,"class","breadcrumb-item"),m(l,"class","breadcrumb-item"),m(t,"class","breadcrumbs"),m(e,"class","page-header"),m(u,"class","panel"),m(a,"class","wrapper")},m(b,y){S(b,e,y),T(e,t),T(t,i),T(t,r),T(t,l),T(l,s),S(b,o,y),S(b,a,y),T(a,u),_[f].m(u,null),h=!0},p(b,y){(!h||y[0]&32768)&&Se(s,b[15]);let A=f;f=v(b),f===A?_[f].p(b,y):(Ne(),x(_[A],1,1,()=>{_[A]=null}),Me(),c=_[f],c?c.p(b,y):(c=_[f]=p[f](b),c.c()),F(c,1),c.m(u,null))},i(b){h||(F(c),h=!0)},o(b){x(c),h=!1},d(b){b&&(E(e),E(o),E(a)),_[f].d()}}}function J0e(n){let e,t,i,r,l,s;e=new Fa({}),i=new Nl({props:{$$slots:{default:[Q0e]},$$scope:{ctx:n}}});let o={};return l=new V0e({props:o}),n[30](l),l.$on("submit",n[31]),{c(){ee(e.$$.fragment),t=D(),ee(i.$$.fragment),r=D(),ee(l.$$.fragment)},m(a,u){Q(e,a,u),S(a,t,u),Q(i,a,u),S(a,r,u),Q(l,a,u),s=!0},p(a,u){const f={};u[0]&63487|u[1]&4096&&(f.$$scope={dirty:u,ctx:a}),i.$set(f);const c={};l.$set(c)},i(a){s||(F(e.$$.fragment,a),F(i.$$.fragment,a),F(l.$$.fragment,a),s=!0)},o(a){x(e.$$.fragment,a),x(i.$$.fragment,a),x(l.$$.fragment,a),s=!1},d(a){a&&(E(t),E(r)),J(e,a),J(i,a),n[30](null),J(l,a)}}}function ege(n,e,t){let i,r,l,s,o,a,u;Wt(n,Hi,X=>t(15,u=X)),Cr(Hi,u="Import collections",u);let f,c,h="",p=!1,_=[],v=[],b=!0,y=[],A=!1,M=!1;N();async function N(){var X;t(4,A=!0);try{t(21,v=await xe.collections.getFullList(200));for(let _e of v)delete _e.created,delete _e.updated,(X=_e.oauth2)==null||delete X.providers}catch(_e){xe.error(_e)}t(4,A=!1)}function L(){if(t(3,y=[]),!!i)for(let X of _){const _e=re.findByKey(v,"id",X.id);!(_e!=null&&_e.id)||!re.hasCollectionChanges(_e,X,b)||y.push({new:X,old:_e})}}function I(){t(1,_=[]);try{t(1,_=JSON.parse(h))}catch{}Array.isArray(_)?t(1,_=re.filterDuplicatesByKey(_)):t(1,_=[]);for(let X of _)delete X.created,delete X.updated,X.fields=re.filterDuplicatesByKey(X.fields)}function R(){var X;for(let _e of _){const oe=re.findByKey(v,"name",_e.name)||re.findByKey(v,"id",_e.id);if(!oe)continue;const Le=_e.id,lt=oe.id;_e.id=lt;const St=Array.isArray(oe.fields)?oe.fields:[],bt=Array.isArray(_e.fields)?_e.fields:[];for(const At of bt){const ot=re.findByKey(St,"name",At.name);ot&&ot.id&&(At.id=ot.id)}for(let At of _)if(Array.isArray(At.fields))for(let ot of At.fields)ot.collectionId&&ot.collectionId===Le&&(ot.collectionId=lt);for(let At=0;At<((X=_e.indexes)==null?void 0:X.length);At++)_e.indexes[At]=_e.indexes[At].replace(/create\s+(?:unique\s+)?\s*index\s*(?:if\s+not\s+exists\s+)?(\S*)\s+on/gim,ot=>ot.replace(Le,lt))}t(0,h=JSON.stringify(_,null,4))}function $(X){t(12,p=!0);const _e=new FileReader;_e.onload=async oe=>{t(12,p=!1),t(10,f.value="",f),t(0,h=oe.target.result),await Ni(),_.length||(Ts("Invalid collections configuration."),B())},_e.onerror=oe=>{console.warn(oe),Ts("Failed to load the imported JSON."),t(12,p=!1),t(10,f.value="",f)},_e.readAsText(X)}function B(){t(0,h=""),t(10,f.value="",f),mi({})}function H(){const X=M?re.filterDuplicatesByKey(v.concat(_)):_;c==null||c.show(v,X,b)}function q(X){ye[X?"unshift":"push"](()=>{f=X,t(10,f)})}const z=()=>{f.files.length&&$(f.files[0])},j=()=>{f.click()};function W(){h=this.value,t(0,h)}function G(){M=this.checked,t(5,M)}function ie(){b=this.checked,t(2,b)}const te=()=>R(),ae=()=>B();function ue(X){ye[X?"unshift":"push"](()=>{c=X,t(11,c)})}const K=()=>{B(),N()};return n.$$.update=()=>{n.$$.dirty[0]&33&&typeof h<"u"&&M!==null&&I(),n.$$.dirty[0]&3&&t(6,i=!!h&&_.length&&_.length===_.filter(X=>!!X.id&&!!X.name).length),n.$$.dirty[0]&2097254&&t(9,r=v.filter(X=>i&&!M&&b&&!re.findByKey(_,"id",X.id))),n.$$.dirty[0]&2097218&&t(8,l=_.filter(X=>i&&!re.findByKey(v,"id",X.id))),n.$$.dirty[0]&6&&(typeof _<"u"||typeof b<"u")&&L(),n.$$.dirty[0]&777&&t(7,s=!!h&&(r.length||l.length||y.length)),n.$$.dirty[0]&208&&t(14,o=!A&&i&&s),n.$$.dirty[0]&2097154&&t(13,a=_.filter(X=>{let _e=re.findByKey(v,"name",X.name)||re.findByKey(v,"id",X.id);if(!_e)return!1;if(_e.id!=X.id)return!0;const oe=Array.isArray(_e.fields)?_e.fields:[],Le=Array.isArray(X.fields)?X.fields:[];for(const lt of Le){if(re.findByKey(oe,"id",lt.id))continue;const bt=re.findByKey(oe,"name",lt.name);if(bt&&lt.id!=bt.id)return!0}return!1}))},[h,_,b,y,A,M,i,s,l,r,f,c,p,a,o,u,N,R,$,B,H,v,q,z,j,W,G,ie,te,ae,ue,K]}class tge extends je{constructor(e){super(),qe(this,e,ege,J0e,We,{},null,[-1,-1])}}function nge(n){let e,t,i,r,l,s,o,a,u,f,c,h,p,_;i=new Pe({props:{class:"form-field required",name:"meta.senderName",$$slots:{default:[rge,({uniqueId:M})=>({33:M}),({uniqueId:M})=>[0,M?4:0]]},$$scope:{ctx:n}}}),s=new Pe({props:{class:"form-field required",name:"meta.senderAddress",$$slots:{default:[lge,({uniqueId:M})=>({33:M}),({uniqueId:M})=>[0,M?4:0]]},$$scope:{ctx:n}}}),a=new Pe({props:{class:"form-field form-field-toggle m-b-sm",$$slots:{default:[sge,({uniqueId:M})=>({33:M}),({uniqueId:M})=>[0,M?4:0]]},$$scope:{ctx:n}}});let v=n[0].smtp.enabled&&FS(n);function b(M,N){return M[6]?_ge:gge}let y=b(n),A=y(n);return{c(){e=k("div"),t=k("div"),ee(i.$$.fragment),r=D(),l=k("div"),ee(s.$$.fragment),o=D(),ee(a.$$.fragment),u=D(),v&&v.c(),f=D(),c=k("div"),h=k("div"),p=D(),A.c(),m(t,"class","col-lg-6"),m(l,"class","col-lg-6"),m(e,"class","grid m-b-base"),m(h,"class","flex-fill"),m(c,"class","flex")},m(M,N){S(M,e,N),T(e,t),Q(i,t,null),T(e,r),T(e,l),Q(s,l,null),S(M,o,N),Q(a,M,N),S(M,u,N),v&&v.m(M,N),S(M,f,N),S(M,c,N),T(c,h),T(c,p),A.m(c,null),_=!0},p(M,N){const L={};N[0]&1|N[1]&12&&(L.$$scope={dirty:N,ctx:M}),i.$set(L);const I={};N[0]&1|N[1]&12&&(I.$$scope={dirty:N,ctx:M}),s.$set(I);const R={};N[0]&1|N[1]&12&&(R.$$scope={dirty:N,ctx:M}),a.$set(R),M[0].smtp.enabled?v?(v.p(M,N),N[0]&1&&F(v,1)):(v=FS(M),v.c(),F(v,1),v.m(f.parentNode,f)):v&&(Ne(),x(v,1,1,()=>{v=null}),Me()),y===(y=b(M))&&A?A.p(M,N):(A.d(1),A=y(M),A&&(A.c(),A.m(c,null)))},i(M){_||(F(i.$$.fragment,M),F(s.$$.fragment,M),F(a.$$.fragment,M),F(v),_=!0)},o(M){x(i.$$.fragment,M),x(s.$$.fragment,M),x(a.$$.fragment,M),x(v),_=!1},d(M){M&&(E(e),E(o),E(u),E(f),E(c)),J(i),J(s),J(a,M),v&&v.d(M),A.d()}}}function ige(n){let e;return{c(){e=k("div"),m(e,"class","loader")},m(t,i){S(t,e,i)},p:ge,i:ge,o:ge,d(t){t&&E(e)}}}function rge(n){let e,t,i,r,l,s,o,a;return{c(){e=k("label"),t=le("Sender name"),r=D(),l=k("input"),m(e,"for",i=n[33]),m(l,"type","text"),m(l,"id",s=n[33]),l.required=!0},m(u,f){S(u,e,f),T(e,t),S(u,r,f),S(u,l,f),He(l,n[0].meta.senderName),o||(a=se(l,"input",n[14]),o=!0)},p(u,f){f[1]&4&&i!==(i=u[33])&&m(e,"for",i),f[1]&4&&s!==(s=u[33])&&m(l,"id",s),f[0]&1&&l.value!==u[0].meta.senderName&&He(l,u[0].meta.senderName)},d(u){u&&(E(e),E(r),E(l)),o=!1,a()}}}function lge(n){let e,t,i,r,l,s,o,a;return{c(){e=k("label"),t=le("Sender address"),r=D(),l=k("input"),m(e,"for",i=n[33]),m(l,"type","email"),m(l,"id",s=n[33]),l.required=!0},m(u,f){S(u,e,f),T(e,t),S(u,r,f),S(u,l,f),He(l,n[0].meta.senderAddress),o||(a=se(l,"input",n[15]),o=!0)},p(u,f){f[1]&4&&i!==(i=u[33])&&m(e,"for",i),f[1]&4&&s!==(s=u[33])&&m(l,"id",s),f[0]&1&&l.value!==u[0].meta.senderAddress&&He(l,u[0].meta.senderAddress)},d(u){u&&(E(e),E(r),E(l)),o=!1,a()}}}function sge(n){let e,t,i,r,l,s,o,a,u,f;return{c(){e=k("input"),i=D(),r=k("label"),l=k("span"),l.innerHTML="Use SMTP mail server <strong>(recommended)</strong>",s=D(),o=k("i"),m(e,"type","checkbox"),m(e,"id",t=n[33]),e.required=!0,m(l,"class","txt"),m(o,"class","ri-information-line link-hint"),m(r,"for",a=n[33])},m(c,h){S(c,e,h),e.checked=n[0].smtp.enabled,S(c,i,h),S(c,r,h),T(r,l),T(r,s),T(r,o),u||(f=[se(e,"change",n[16]),nt(_t.call(null,o,{text:'By default PocketBase uses the unix "sendmail" command for sending emails. For better emails deliverability it is recommended to use a SMTP mail server.',position:"top"}))],u=!0)},p(c,h){h[1]&4&&t!==(t=c[33])&&m(e,"id",t),h[0]&1&&(e.checked=c[0].smtp.enabled),h[1]&4&&a!==(a=c[33])&&m(r,"for",a)},d(c){c&&(E(e),E(i),E(r)),u=!1,it(f)}}}function FS(n){let e,t,i,r,l,s,o,a,u,f,c,h,p,_,v,b,y,A,M,N;r=new Pe({props:{class:"form-field required",name:"smtp.host",$$slots:{default:[oge,({uniqueId:B})=>({33:B}),({uniqueId:B})=>[0,B?4:0]]},$$scope:{ctx:n}}}),o=new Pe({props:{class:"form-field required",name:"smtp.port",$$slots:{default:[age,({uniqueId:B})=>({33:B}),({uniqueId:B})=>[0,B?4:0]]},$$scope:{ctx:n}}}),f=new Pe({props:{class:"form-field",name:"smtp.username",$$slots:{default:[uge,({uniqueId:B})=>({33:B}),({uniqueId:B})=>[0,B?4:0]]},$$scope:{ctx:n}}}),p=new Pe({props:{class:"form-field",name:"smtp.password",$$slots:{default:[fge,({uniqueId:B})=>({33:B}),({uniqueId:B})=>[0,B?4:0]]},$$scope:{ctx:n}}});function L(B,H){return B[5]?dge:cge}let I=L(n),R=I(n),$=n[5]&&$S(n);return{c(){e=k("div"),t=k("div"),i=k("div"),ee(r.$$.fragment),l=D(),s=k("div"),ee(o.$$.fragment),a=D(),u=k("div"),ee(f.$$.fragment),c=D(),h=k("div"),ee(p.$$.fragment),_=D(),v=k("button"),R.c(),b=D(),$&&$.c(),m(i,"class","col-lg-4"),m(s,"class","col-lg-2"),m(u,"class","col-lg-3"),m(h,"class","col-lg-3"),m(t,"class","grid"),m(v,"type","button"),m(v,"class","btn btn-sm btn-secondary m-t-sm m-b-sm")},m(B,H){S(B,e,H),T(e,t),T(t,i),Q(r,i,null),T(t,l),T(t,s),Q(o,s,null),T(t,a),T(t,u),Q(f,u,null),T(t,c),T(t,h),Q(p,h,null),T(e,_),T(e,v),R.m(v,null),T(e,b),$&&$.m(e,null),A=!0,M||(N=se(v,"click",ln(n[22])),M=!0)},p(B,H){const q={};H[0]&1|H[1]&12&&(q.$$scope={dirty:H,ctx:B}),r.$set(q);const z={};H[0]&1|H[1]&12&&(z.$$scope={dirty:H,ctx:B}),o.$set(z);const j={};H[0]&1|H[1]&12&&(j.$$scope={dirty:H,ctx:B}),f.$set(j);const W={};H[0]&17|H[1]&12&&(W.$$scope={dirty:H,ctx:B}),p.$set(W),I!==(I=L(B))&&(R.d(1),R=I(B),R&&(R.c(),R.m(v,null))),B[5]?$?($.p(B,H),H[0]&32&&F($,1)):($=$S(B),$.c(),F($,1),$.m(e,null)):$&&(Ne(),x($,1,1,()=>{$=null}),Me())},i(B){A||(F(r.$$.fragment,B),F(o.$$.fragment,B),F(f.$$.fragment,B),F(p.$$.fragment,B),F($),B&&tn(()=>{A&&(y||(y=Et(e,En,{duration:150},!0)),y.run(1))}),A=!0)},o(B){x(r.$$.fragment,B),x(o.$$.fragment,B),x(f.$$.fragment,B),x(p.$$.fragment,B),x($),B&&(y||(y=Et(e,En,{duration:150},!1)),y.run(0)),A=!1},d(B){B&&E(e),J(r),J(o),J(f),J(p),R.d(),$&&$.d(),B&&y&&y.end(),M=!1,N()}}}function oge(n){let e,t,i,r,l,s,o,a;return{c(){e=k("label"),t=le("SMTP server host"),r=D(),l=k("input"),m(e,"for",i=n[33]),m(l,"type","text"),m(l,"id",s=n[33]),l.required=!0},m(u,f){S(u,e,f),T(e,t),S(u,r,f),S(u,l,f),He(l,n[0].smtp.host),o||(a=se(l,"input",n[17]),o=!0)},p(u,f){f[1]&4&&i!==(i=u[33])&&m(e,"for",i),f[1]&4&&s!==(s=u[33])&&m(l,"id",s),f[0]&1&&l.value!==u[0].smtp.host&&He(l,u[0].smtp.host)},d(u){u&&(E(e),E(r),E(l)),o=!1,a()}}}function age(n){let e,t,i,r,l,s,o,a;return{c(){e=k("label"),t=le("Port"),r=D(),l=k("input"),m(e,"for",i=n[33]),m(l,"type","number"),m(l,"id",s=n[33]),l.required=!0},m(u,f){S(u,e,f),T(e,t),S(u,r,f),S(u,l,f),He(l,n[0].smtp.port),o||(a=se(l,"input",n[18]),o=!0)},p(u,f){f[1]&4&&i!==(i=u[33])&&m(e,"for",i),f[1]&4&&s!==(s=u[33])&&m(l,"id",s),f[0]&1&&wn(l.value)!==u[0].smtp.port&&He(l,u[0].smtp.port)},d(u){u&&(E(e),E(r),E(l)),o=!1,a()}}}function uge(n){let e,t,i,r,l,s,o,a;return{c(){e=k("label"),t=le("Username"),r=D(),l=k("input"),m(e,"for",i=n[33]),m(l,"type","text"),m(l,"id",s=n[33])},m(u,f){S(u,e,f),T(e,t),S(u,r,f),S(u,l,f),He(l,n[0].smtp.username),o||(a=se(l,"input",n[19]),o=!0)},p(u,f){f[1]&4&&i!==(i=u[33])&&m(e,"for",i),f[1]&4&&s!==(s=u[33])&&m(l,"id",s),f[0]&1&&l.value!==u[0].smtp.username&&He(l,u[0].smtp.username)},d(u){u&&(E(e),E(r),E(l)),o=!1,a()}}}function fge(n){let e,t,i,r,l,s,o,a;function u(h){n[20](h)}function f(h){n[21](h)}let c={id:n[33]};return n[4]!==void 0&&(c.mask=n[4]),n[0].smtp.password!==void 0&&(c.value=n[0].smtp.password),l=new A_({props:c}),ye.push(()=>Ke(l,"mask",u)),ye.push(()=>Ke(l,"value",f)),{c(){e=k("label"),t=le("Password"),r=D(),ee(l.$$.fragment),m(e,"for",i=n[33])},m(h,p){S(h,e,p),T(e,t),S(h,r,p),Q(l,h,p),a=!0},p(h,p){(!a||p[1]&4&&i!==(i=h[33]))&&m(e,"for",i);const _={};p[1]&4&&(_.id=h[33]),!s&&p[0]&16&&(s=!0,_.mask=h[4],Ye(()=>s=!1)),!o&&p[0]&1&&(o=!0,_.value=h[0].smtp.password,Ye(()=>o=!1)),l.$set(_)},i(h){a||(F(l.$$.fragment,h),a=!0)},o(h){x(l.$$.fragment,h),a=!1},d(h){h&&(E(e),E(r)),J(l,h)}}}function cge(n){let e,t,i;return{c(){e=k("span"),e.textContent="Show more options",t=D(),i=k("i"),m(e,"class","txt"),m(i,"class","ri-arrow-down-s-line")},m(r,l){S(r,e,l),S(r,t,l),S(r,i,l)},d(r){r&&(E(e),E(t),E(i))}}}function dge(n){let e,t,i;return{c(){e=k("span"),e.textContent="Hide more options",t=D(),i=k("i"),m(e,"class","txt"),m(i,"class","ri-arrow-up-s-line")},m(r,l){S(r,e,l),S(r,t,l),S(r,i,l)},d(r){r&&(E(e),E(t),E(i))}}}function $S(n){let e,t,i,r,l,s,o,a,u,f,c,h,p;return i=new Pe({props:{class:"form-field",name:"smtp.tls",$$slots:{default:[hge,({uniqueId:_})=>({33:_}),({uniqueId:_})=>[0,_?4:0]]},$$scope:{ctx:n}}}),s=new Pe({props:{class:"form-field",name:"smtp.authMethod",$$slots:{default:[pge,({uniqueId:_})=>({33:_}),({uniqueId:_})=>[0,_?4:0]]},$$scope:{ctx:n}}}),u=new Pe({props:{class:"form-field",name:"smtp.localName",$$slots:{default:[mge,({uniqueId:_})=>({33:_}),({uniqueId:_})=>[0,_?4:0]]},$$scope:{ctx:n}}}),{c(){e=k("div"),t=k("div"),ee(i.$$.fragment),r=D(),l=k("div"),ee(s.$$.fragment),o=D(),a=k("div"),ee(u.$$.fragment),f=D(),c=k("div"),m(t,"class","col-lg-3"),m(l,"class","col-lg-3"),m(a,"class","col-lg-6"),m(c,"class","col-lg-12"),m(e,"class","grid")},m(_,v){S(_,e,v),T(e,t),Q(i,t,null),T(e,r),T(e,l),Q(s,l,null),T(e,o),T(e,a),Q(u,a,null),T(e,f),T(e,c),p=!0},p(_,v){const b={};v[0]&1|v[1]&12&&(b.$$scope={dirty:v,ctx:_}),i.$set(b);const y={};v[0]&1|v[1]&12&&(y.$$scope={dirty:v,ctx:_}),s.$set(y);const A={};v[0]&1|v[1]&12&&(A.$$scope={dirty:v,ctx:_}),u.$set(A)},i(_){p||(F(i.$$.fragment,_),F(s.$$.fragment,_),F(u.$$.fragment,_),_&&tn(()=>{p&&(h||(h=Et(e,En,{duration:150},!0)),h.run(1))}),p=!0)},o(_){x(i.$$.fragment,_),x(s.$$.fragment,_),x(u.$$.fragment,_),_&&(h||(h=Et(e,En,{duration:150},!1)),h.run(0)),p=!1},d(_){_&&E(e),J(i),J(s),J(u),_&&h&&h.end()}}}function hge(n){let e,t,i,r,l,s,o;function a(f){n[23](f)}let u={id:n[33],items:n[8]};return n[0].smtp.tls!==void 0&&(u.keyOfSelected=n[0].smtp.tls),l=new Nr({props:u}),ye.push(()=>Ke(l,"keyOfSelected",a)),{c(){e=k("label"),t=le("TLS encryption"),r=D(),ee(l.$$.fragment),m(e,"for",i=n[33])},m(f,c){S(f,e,c),T(e,t),S(f,r,c),Q(l,f,c),o=!0},p(f,c){(!o||c[1]&4&&i!==(i=f[33]))&&m(e,"for",i);const h={};c[1]&4&&(h.id=f[33]),!s&&c[0]&1&&(s=!0,h.keyOfSelected=f[0].smtp.tls,Ye(()=>s=!1)),l.$set(h)},i(f){o||(F(l.$$.fragment,f),o=!0)},o(f){x(l.$$.fragment,f),o=!1},d(f){f&&(E(e),E(r)),J(l,f)}}}function pge(n){let e,t,i,r,l,s,o;function a(f){n[24](f)}let u={id:n[33],items:n[9]};return n[0].smtp.authMethod!==void 0&&(u.keyOfSelected=n[0].smtp.authMethod),l=new Nr({props:u}),ye.push(()=>Ke(l,"keyOfSelected",a)),{c(){e=k("label"),t=le("AUTH method"),r=D(),ee(l.$$.fragment),m(e,"for",i=n[33])},m(f,c){S(f,e,c),T(e,t),S(f,r,c),Q(l,f,c),o=!0},p(f,c){(!o||c[1]&4&&i!==(i=f[33]))&&m(e,"for",i);const h={};c[1]&4&&(h.id=f[33]),!s&&c[0]&1&&(s=!0,h.keyOfSelected=f[0].smtp.authMethod,Ye(()=>s=!1)),l.$set(h)},i(f){o||(F(l.$$.fragment,f),o=!0)},o(f){x(l.$$.fragment,f),o=!1},d(f){f&&(E(e),E(r)),J(l,f)}}}function mge(n){let e,t,i,r,l,s,o,a,u,f;return{c(){e=k("label"),t=k("span"),t.textContent="EHLO/HELO domain",i=D(),r=k("i"),s=D(),o=k("input"),m(t,"class","txt"),m(r,"class","ri-information-line link-hint"),m(e,"for",l=n[33]),m(o,"type","text"),m(o,"id",a=n[33]),m(o,"placeholder","Default to localhost")},m(c,h){S(c,e,h),T(e,t),T(e,i),T(e,r),S(c,s,h),S(c,o,h),He(o,n[0].smtp.localName),u||(f=[nt(_t.call(null,r,{text:"Some SMTP servers, such as the Gmail SMTP-relay, requires a proper domain name in the inital EHLO/HELO exchange and will reject attempts to use localhost.",position:"top"})),se(o,"input",n[25])],u=!0)},p(c,h){h[1]&4&&l!==(l=c[33])&&m(e,"for",l),h[1]&4&&a!==(a=c[33])&&m(o,"id",a),h[0]&1&&o.value!==c[0].smtp.localName&&He(o,c[0].smtp.localName)},d(c){c&&(E(e),E(s),E(o)),u=!1,it(f)}}}function gge(n){let e,t,i;return{c(){e=k("button"),e.innerHTML='<i class="ri-mail-check-line"></i> <span class="txt">Send test email</span>',m(e,"type","button"),m(e,"class","btn btn-expanded btn-outline")},m(r,l){S(r,e,l),t||(i=se(e,"click",n[28]),t=!0)},p:ge,d(r){r&&E(e),t=!1,i()}}}function _ge(n){let e,t,i,r,l,s,o,a;return{c(){e=k("button"),t=k("span"),t.textContent="Cancel",i=D(),r=k("button"),l=k("span"),l.textContent="Save changes",m(t,"class","txt"),m(e,"type","button"),m(e,"class","btn btn-transparent btn-hint"),e.disabled=n[3],m(l,"class","txt"),m(r,"type","submit"),m(r,"class","btn btn-expanded"),r.disabled=s=!n[6]||n[3],he(r,"btn-loading",n[3])},m(u,f){S(u,e,f),T(e,t),S(u,i,f),S(u,r,f),T(r,l),o||(a=[se(e,"click",n[26]),se(r,"click",n[27])],o=!0)},p(u,f){f[0]&8&&(e.disabled=u[3]),f[0]&72&&s!==(s=!u[6]||u[3])&&(r.disabled=s),f[0]&8&&he(r,"btn-loading",u[3])},d(u){u&&(E(e),E(i),E(r)),o=!1,it(a)}}}function bge(n){let e,t,i,r,l,s,o,a,u,f,c,h,p,_,v,b;const y=[ige,nge],A=[];function M(N,L){return N[2]?0:1}return h=M(n),p=A[h]=y[h](n),{c(){e=k("header"),t=k("nav"),i=k("div"),i.textContent="Settings",r=D(),l=k("div"),s=le(n[7]),o=D(),a=k("div"),u=k("form"),f=k("div"),f.innerHTML="<p>Configure common settings for sending emails.</p>",c=D(),p.c(),m(i,"class","breadcrumb-item"),m(l,"class","breadcrumb-item"),m(t,"class","breadcrumbs"),m(e,"class","page-header"),m(f,"class","content txt-xl m-b-base"),m(u,"class","panel"),m(u,"autocomplete","off"),m(a,"class","wrapper")},m(N,L){S(N,e,L),T(e,t),T(t,i),T(t,r),T(t,l),T(l,s),S(N,o,L),S(N,a,L),T(a,u),T(u,f),T(u,c),A[h].m(u,null),_=!0,v||(b=se(u,"submit",ln(n[29])),v=!0)},p(N,L){(!_||L[0]&128)&&Se(s,N[7]);let I=h;h=M(N),h===I?A[h].p(N,L):(Ne(),x(A[I],1,1,()=>{A[I]=null}),Me(),p=A[h],p?p.p(N,L):(p=A[h]=y[h](N),p.c()),F(p,1),p.m(u,null))},i(N){_||(F(p),_=!0)},o(N){x(p),_=!1},d(N){N&&(E(e),E(o),E(a)),A[h].d(),v=!1,b()}}}function vge(n){let e,t,i,r,l,s;e=new Fa({}),i=new Nl({props:{$$slots:{default:[bge]},$$scope:{ctx:n}}});let o={};return l=new SA({props:o}),n[30](l),{c(){ee(e.$$.fragment),t=D(),ee(i.$$.fragment),r=D(),ee(l.$$.fragment)},m(a,u){Q(e,a,u),S(a,t,u),Q(i,a,u),S(a,r,u),Q(l,a,u),s=!0},p(a,u){const f={};u[0]&255|u[1]&8&&(f.$$scope={dirty:u,ctx:a}),i.$set(f);const c={};l.$set(c)},i(a){s||(F(e.$$.fragment,a),F(i.$$.fragment,a),F(l.$$.fragment,a),s=!0)},o(a){x(e.$$.fragment,a),x(i.$$.fragment,a),x(l.$$.fragment,a),s=!1},d(a){a&&(E(t),E(r)),J(e,a),J(i,a),n[30](null),J(l,a)}}}function yge(n,e,t){let i,r,l;Wt(n,Hi,K=>t(7,l=K));const s=[{label:"Auto (StartTLS)",value:!1},{label:"Always",value:!0}],o=[{label:"PLAIN (default)",value:"PLAIN"},{label:"LOGIN",value:"LOGIN"}];Cr(Hi,l="Mail settings",l);let a,u={},f={},c=!1,h=!1,p=!1,_=!1;v();async function v(){t(2,c=!0);try{const K=await xe.settings.getAll()||{};y(K)}catch(K){xe.error(K)}t(2,c=!1)}async function b(){if(!(h||!r)){t(3,h=!0);try{const K=await xe.settings.update(re.filterRedactedProps(f));y(K),mi({}),Oi("Successfully saved mail settings.")}catch(K){xe.error(K)}t(3,h=!1)}}function y(K={}){t(0,f={meta:(K==null?void 0:K.meta)||{},smtp:(K==null?void 0:K.smtp)||{}}),f.smtp.authMethod||t(0,f.smtp.authMethod=o[0].value,f),t(12,u=JSON.parse(JSON.stringify(f))),t(4,p=!!f.smtp.username)}function A(){t(0,f=JSON.parse(JSON.stringify(u||{})))}function M(){f.meta.senderName=this.value,t(0,f)}function N(){f.meta.senderAddress=this.value,t(0,f)}function L(){f.smtp.enabled=this.checked,t(0,f)}function I(){f.smtp.host=this.value,t(0,f)}function R(){f.smtp.port=wn(this.value),t(0,f)}function $(){f.smtp.username=this.value,t(0,f)}function B(K){p=K,t(4,p)}function H(K){n.$$.not_equal(f.smtp.password,K)&&(f.smtp.password=K,t(0,f))}const q=()=>{t(5,_=!_)};function z(K){n.$$.not_equal(f.smtp.tls,K)&&(f.smtp.tls=K,t(0,f))}function j(K){n.$$.not_equal(f.smtp.authMethod,K)&&(f.smtp.authMethod=K,t(0,f))}function W(){f.smtp.localName=this.value,t(0,f)}const G=()=>A(),ie=()=>b(),te=()=>a==null?void 0:a.show(),ae=()=>b();function ue(K){ye[K?"unshift":"push"](()=>{a=K,t(1,a)})}return n.$$.update=()=>{n.$$.dirty[0]&4096&&t(13,i=JSON.stringify(u)),n.$$.dirty[0]&8193&&t(6,r=i!=JSON.stringify(f))},[f,a,c,h,p,_,r,l,s,o,b,A,u,i,M,N,L,I,R,$,B,H,q,z,j,W,G,ie,te,ae,ue]}class kge extends je{constructor(e){super(),qe(this,e,yge,vge,We,{},null,[-1,-1])}}function Tge(n){var R;let e,t,i,r,l,s,o,a,u,f,c,h,p,_,v,b;function y($){n[11]($)}function A($){n[12]($)}function M($){n[13]($)}let N={toggleLabel:"Use S3 storage",originalConfig:n[0].s3,$$slots:{default:[Ege]},$$scope:{ctx:n}};n[1].s3!==void 0&&(N.config=n[1].s3),n[4]!==void 0&&(N.isTesting=n[4]),n[5]!==void 0&&(N.testError=n[5]),e=new eM({props:N}),ye.push(()=>Ke(e,"config",y)),ye.push(()=>Ke(e,"isTesting",A)),ye.push(()=>Ke(e,"testError",M));let L=((R=n[1].s3)==null?void 0:R.enabled)&&!n[6]&&!n[3]&&BS(n),I=n[6]&&xS(n);return{c(){ee(e.$$.fragment),l=D(),s=k("div"),o=k("div"),a=D(),L&&L.c(),u=D(),I&&I.c(),f=D(),c=k("button"),h=k("span"),h.textContent="Save changes",m(o,"class","flex-fill"),m(h,"class","txt"),m(c,"type","submit"),m(c,"class","btn btn-expanded"),c.disabled=p=!n[6]||n[3],he(c,"btn-loading",n[3]),m(s,"class","flex")},m($,B){Q(e,$,B),S($,l,B),S($,s,B),T(s,o),T(s,a),L&&L.m(s,null),T(s,u),I&&I.m(s,null),T(s,f),T(s,c),T(c,h),_=!0,v||(b=se(c,"click",n[15]),v=!0)},p($,B){var q;const H={};B&1&&(H.originalConfig=$[0].s3),B&524291&&(H.$$scope={dirty:B,ctx:$}),!t&&B&2&&(t=!0,H.config=$[1].s3,Ye(()=>t=!1)),!i&&B&16&&(i=!0,H.isTesting=$[4],Ye(()=>i=!1)),!r&&B&32&&(r=!0,H.testError=$[5],Ye(()=>r=!1)),e.$set(H),(q=$[1].s3)!=null&&q.enabled&&!$[6]&&!$[3]?L?L.p($,B):(L=BS($),L.c(),L.m(s,u)):L&&(L.d(1),L=null),$[6]?I?I.p($,B):(I=xS($),I.c(),I.m(s,f)):I&&(I.d(1),I=null),(!_||B&72&&p!==(p=!$[6]||$[3]))&&(c.disabled=p),(!_||B&8)&&he(c,"btn-loading",$[3])},i($){_||(F(e.$$.fragment,$),_=!0)},o($){x(e.$$.fragment,$),_=!1},d($){$&&(E(l),E(s)),J(e,$),L&&L.d(),I&&I.d(),v=!1,b()}}}function wge(n){let e;return{c(){e=k("div"),m(e,"class","loader")},m(t,i){S(t,e,i)},p:ge,i:ge,o:ge,d(t){t&&E(e)}}}function HS(n){var B;let e,t,i,r,l,s,o,a=(B=n[0].s3)!=null&&B.enabled?"S3 storage":"local file system",u,f,c,h=n[1].s3.enabled?"S3 storage":"local file system",p,_,v,b,y,A,M,N,L,I,R,$;return{c(){e=k("div"),t=k("div"),i=k("div"),i.innerHTML='<i class="ri-error-warning-line"></i>',r=D(),l=k("div"),s=le(`If you have existing uploaded files, you'll have to migrate them manually
                                    from the
                                    `),o=k("strong"),u=le(a),f=le(`
                                    to the
                                    `),c=k("strong"),p=le(h),_=le(`.
                                    `),v=k("br"),b=le(`
                                    There are numerous command line tools that can help you, such as:
                                    `),y=k("a"),y.textContent=`rclone
                                    `,A=le(`,
                                    `),M=k("a"),M.textContent=`s5cmd
                                    `,N=le(", etc."),L=D(),I=k("div"),m(i,"class","icon"),m(y,"href","https://github.com/rclone/rclone"),m(y,"target","_blank"),m(y,"rel","noopener noreferrer"),m(y,"class","txt-bold"),m(M,"href","https://github.com/peak/s5cmd"),m(M,"target","_blank"),m(M,"rel","noopener noreferrer"),m(M,"class","txt-bold"),m(l,"class","content"),m(t,"class","alert alert-warning m-0"),m(I,"class","clearfix m-t-base")},m(H,q){S(H,e,q),T(e,t),T(t,i),T(t,r),T(t,l),T(l,s),T(l,o),T(o,u),T(l,f),T(l,c),T(c,p),T(l,_),T(l,v),T(l,b),T(l,y),T(l,A),T(l,M),T(l,N),T(e,L),T(e,I),$=!0},p(H,q){var z;(!$||q&1)&&a!==(a=(z=H[0].s3)!=null&&z.enabled?"S3 storage":"local file system")&&Se(u,a),(!$||q&2)&&h!==(h=H[1].s3.enabled?"S3 storage":"local file system")&&Se(p,h)},i(H){$||(H&&tn(()=>{$&&(R||(R=Et(e,En,{duration:150},!0)),R.run(1))}),$=!0)},o(H){H&&(R||(R=Et(e,En,{duration:150},!1)),R.run(0)),$=!1},d(H){H&&E(e),H&&R&&R.end()}}}function Ege(n){var i;let e,t=((i=n[0].s3)==null?void 0:i.enabled)!=n[1].s3.enabled&&HS(n);return{c(){t&&t.c(),e=ze()},m(r,l){t&&t.m(r,l),S(r,e,l)},p(r,l){var s;((s=r[0].s3)==null?void 0:s.enabled)!=r[1].s3.enabled?t?(t.p(r,l),l&3&&F(t,1)):(t=HS(r),t.c(),F(t,1),t.m(e.parentNode,e)):t&&(Ne(),x(t,1,1,()=>{t=null}),Me())},d(r){r&&E(e),t&&t.d(r)}}}function BS(n){let e;function t(l,s){return l[4]?Age:l[5]?Cge:Sge}let i=t(n),r=i(n);return{c(){r.c(),e=ze()},m(l,s){r.m(l,s),S(l,e,s)},p(l,s){i===(i=t(l))&&r?r.p(l,s):(r.d(1),r=i(l),r&&(r.c(),r.m(e.parentNode,e)))},d(l){l&&E(e),r.d(l)}}}function Sge(n){let e;return{c(){e=k("div"),e.innerHTML='<i class="ri-checkbox-circle-line txt-success"></i> <span class="txt">S3 connected successfully</span>',m(e,"class","label label-sm label-success entrance-right")},m(t,i){S(t,e,i)},p:ge,d(t){t&&E(e)}}}function Cge(n){let e,t,i,r;return{c(){e=k("div"),e.innerHTML='<i class="ri-error-warning-line txt-warning"></i> <span class="txt">Failed to establish S3 connection</span>',m(e,"class","label label-sm label-warning entrance-right")},m(l,s){var o;S(l,e,s),i||(r=nt(t=_t.call(null,e,(o=n[5].data)==null?void 0:o.message)),i=!0)},p(l,s){var o;t&&Kn(t.update)&&s&32&&t.update.call(null,(o=l[5].data)==null?void 0:o.message)},d(l){l&&E(e),i=!1,r()}}}function Age(n){let e;return{c(){e=k("span"),m(e,"class","loader loader-sm")},m(t,i){S(t,e,i)},p:ge,d(t){t&&E(e)}}}function xS(n){let e,t,i,r;return{c(){e=k("button"),t=k("span"),t.textContent="Reset",m(t,"class","txt"),m(e,"type","button"),m(e,"class","btn btn-transparent btn-hint"),e.disabled=n[3]},m(l,s){S(l,e,s),T(e,t),i||(r=se(e,"click",n[14]),i=!0)},p(l,s){s&8&&(e.disabled=l[3])},d(l){l&&E(e),i=!1,r()}}}function Oge(n){let e,t,i,r,l,s,o,a,u,f,c,h,p,_,v,b;const y=[wge,Tge],A=[];function M(N,L){return N[2]?0:1}return h=M(n),p=A[h]=y[h](n),{c(){e=k("header"),t=k("nav"),i=k("div"),i.textContent="Settings",r=D(),l=k("div"),s=le(n[7]),o=D(),a=k("div"),u=k("form"),f=k("div"),f.innerHTML="<p>By default PocketBase uses the local file system to store uploaded files.</p> <p>If you have limited disk space, you could optionally connect to an S3 compatible storage.</p>",c=D(),p.c(),m(i,"class","breadcrumb-item"),m(l,"class","breadcrumb-item"),m(t,"class","breadcrumbs"),m(e,"class","page-header"),m(f,"class","content txt-xl m-b-base"),m(u,"class","panel"),m(u,"autocomplete","off"),m(a,"class","wrapper")},m(N,L){S(N,e,L),T(e,t),T(t,i),T(t,r),T(t,l),T(l,s),S(N,o,L),S(N,a,L),T(a,u),T(u,f),T(u,c),A[h].m(u,null),_=!0,v||(b=se(u,"submit",ln(n[16])),v=!0)},p(N,L){(!_||L&128)&&Se(s,N[7]);let I=h;h=M(N),h===I?A[h].p(N,L):(Ne(),x(A[I],1,1,()=>{A[I]=null}),Me(),p=A[h],p?p.p(N,L):(p=A[h]=y[h](N),p.c()),F(p,1),p.m(u,null))},i(N){_||(F(p),_=!0)},o(N){x(p),_=!1},d(N){N&&(E(e),E(o),E(a)),A[h].d(),v=!1,b()}}}function Nge(n){let e,t,i,r;return e=new Fa({}),i=new Nl({props:{$$slots:{default:[Oge]},$$scope:{ctx:n}}}),{c(){ee(e.$$.fragment),t=D(),ee(i.$$.fragment)},m(l,s){Q(e,l,s),S(l,t,s),Q(i,l,s),r=!0},p(l,[s]){const o={};s&524543&&(o.$$scope={dirty:s,ctx:l}),i.$set(o)},i(l){r||(F(e.$$.fragment,l),F(i.$$.fragment,l),r=!0)},o(l){x(e.$$.fragment,l),x(i.$$.fragment,l),r=!1},d(l){l&&E(t),J(e,l),J(i,l)}}}const Mge="s3_test_request";function Ige(n,e,t){let i,r,l;Wt(n,Hi,I=>t(7,l=I)),Cr(Hi,l="Files storage",l);let s={},o={},a=!1,u=!1,f=!1,c=null;h();async function h(){t(2,a=!0);try{const I=await xe.settings.getAll()||{};_(I)}catch(I){xe.error(I)}t(2,a=!1)}async function p(){if(!(u||!r)){t(3,u=!0);try{xe.cancelRequest(Mge);const I=await xe.settings.update(re.filterRedactedProps(o));mi({}),await _(I),oc(),Oi("Successfully saved storage settings.")}catch(I){xe.error(I)}t(3,u=!1)}}async function _(I={}){t(1,o={s3:(I==null?void 0:I.s3)||{}}),t(0,s=JSON.parse(JSON.stringify(o)))}async function v(){t(1,o=JSON.parse(JSON.stringify(s||{})))}function b(I){n.$$.not_equal(o.s3,I)&&(o.s3=I,t(1,o))}function y(I){f=I,t(4,f)}function A(I){c=I,t(5,c)}const M=()=>v(),N=()=>p(),L=()=>p();return n.$$.update=()=>{n.$$.dirty&1&&t(10,i=JSON.stringify(s)),n.$$.dirty&1026&&t(6,r=i!=JSON.stringify(o))},[s,o,a,u,f,c,r,l,p,v,i,b,y,A,M,N,L]}class Lge extends je{constructor(e){super(),qe(this,e,Ige,Nge,We,{})}}function US(n){let e,t,i;return{c(){e=k("div"),e.innerHTML='<figure class="logo"><img src="./images/logo.svg" alt="PocketBase logo" width="40" height="40"/> <span class="txt">Pocket<strong>Base</strong></span></figure>',t=D(),i=k("div"),m(e,"class","block txt-center m-b-lg"),m(i,"class","clearfix")},m(r,l){S(r,e,l),S(r,t,l),S(r,i,l)},d(r){r&&(E(e),E(t),E(i))}}}function Dge(n){let e,t,i,r=!n[0]&&US();const l=n[1].default,s=Zn(l,n,n[2],null);return{c(){e=k("div"),r&&r.c(),t=D(),s&&s.c(),m(e,"class","wrapper wrapper-sm m-b-xl panel-wrapper svelte-lxxzfu")},m(o,a){S(o,e,a),r&&r.m(e,null),T(e,t),s&&s.m(e,null),i=!0},p(o,a){o[0]?r&&(r.d(1),r=null):r||(r=US(),r.c(),r.m(e,t)),s&&s.p&&(!i||a&4)&&Jn(s,l,o,o[2],i?Qn(l,o[2],a,null):ei(o[2]),null)},i(o){i||(F(s,o),i=!0)},o(o){x(s,o),i=!1},d(o){o&&E(e),r&&r.d(),s&&s.d(o)}}}function Rge(n){let e,t;return e=new Nl({props:{class:"full-page",center:!0,$$slots:{default:[Dge]},$$scope:{ctx:n}}}),{c(){ee(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,[r]){const l={};r&5&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){x(e.$$.fragment,i),t=!1},d(i){J(e,i)}}}function Pge(n,e,t){let{$$slots:i={},$$scope:r}=e,{nobranding:l=!1}=e;return n.$$set=s=>{"nobranding"in s&&t(0,l=s.nobranding),"$$scope"in s&&t(2,r=s.$$scope)},[l,i,r]}class Fge extends je{constructor(e){super(),qe(this,e,Pge,Rge,We,{nobranding:0})}}function zS(n){let e,t,i,r,l;return{c(){e=le("("),t=le(n[1]),i=le("/"),r=le(n[2]),l=le(")")},m(s,o){S(s,e,o),S(s,t,o),S(s,i,o),S(s,r,o),S(s,l,o)},p(s,o){o&2&&Se(t,s[1]),o&4&&Se(r,s[2])},d(s){s&&(E(e),E(t),E(i),E(r),E(l))}}}function $ge(n){let e,t,i,r;const l=[Uge,xge],s=[];function o(a,u){return a[4]?1:0}return e=o(n),t=s[e]=l[e](n),{c(){t.c(),i=ze()},m(a,u){s[e].m(a,u),S(a,i,u),r=!0},p(a,u){let f=e;e=o(a),e===f?s[e].p(a,u):(Ne(),x(s[f],1,1,()=>{s[f]=null}),Me(),t=s[e],t?t.p(a,u):(t=s[e]=l[e](a),t.c()),F(t,1),t.m(i.parentNode,i))},i(a){r||(F(t),r=!0)},o(a){x(t),r=!1},d(a){a&&E(i),s[e].d(a)}}}function Hge(n){let e,t,i,r,l,s,o,a=n[2]>1?"Next":"Login",u,f,c,h,p,_;return t=new Pe({props:{class:"form-field required",name:"identity",$$slots:{default:[Wge,({uniqueId:v})=>({26:v}),({uniqueId:v})=>v?67108864:0]},$$scope:{ctx:n}}}),r=new Pe({props:{class:"form-field required",name:"password",$$slots:{default:[Kge,({uniqueId:v})=>({26:v}),({uniqueId:v})=>v?67108864:0]},$$scope:{ctx:n}}}),{c(){e=k("form"),ee(t.$$.fragment),i=D(),ee(r.$$.fragment),l=D(),s=k("button"),o=k("span"),u=le(a),f=D(),c=k("i"),m(o,"class","txt"),m(c,"class","ri-arrow-right-line"),m(s,"type","submit"),m(s,"class","btn btn-lg btn-block btn-next"),he(s,"btn-disabled",n[7]),he(s,"btn-loading",n[7]),m(e,"class","block")},m(v,b){S(v,e,b),Q(t,e,null),T(e,i),Q(r,e,null),T(e,l),T(e,s),T(s,o),T(o,u),T(s,f),T(s,c),h=!0,p||(_=se(e,"submit",ln(n[14])),p=!0)},p(v,b){const y={};b&201326625&&(y.$$scope={dirty:b,ctx:v}),t.$set(y);const A={};b&201326656&&(A.$$scope={dirty:b,ctx:v}),r.$set(A),(!h||b&4)&&a!==(a=v[2]>1?"Next":"Login")&&Se(u,a),(!h||b&128)&&he(s,"btn-disabled",v[7]),(!h||b&128)&&he(s,"btn-loading",v[7])},i(v){h||(F(t.$$.fragment,v),F(r.$$.fragment,v),h=!0)},o(v){x(t.$$.fragment,v),x(r.$$.fragment,v),h=!1},d(v){v&&E(e),J(t),J(r),p=!1,_()}}}function Bge(n){let e;return{c(){e=k("div"),e.innerHTML='<span class="loader"></span>',m(e,"class","block txt-center")},m(t,i){S(t,e,i)},p:ge,i:ge,o:ge,d(t){t&&E(e)}}}function xge(n){let e,t,i,r,l,s,o,a,u,f,c,h,p,_,v=n[12]&&qS(n);return i=new Pe({props:{class:"form-field required",name:"otpId",$$slots:{default:[zge,({uniqueId:b})=>({26:b}),({uniqueId:b})=>b?67108864:0]},$$scope:{ctx:n}}}),l=new Pe({props:{class:"form-field required",name:"password",$$slots:{default:[qge,({uniqueId:b})=>({26:b}),({uniqueId:b})=>b?67108864:0]},$$scope:{ctx:n}}}),{c(){v&&v.c(),e=D(),t=k("form"),ee(i.$$.fragment),r=D(),ee(l.$$.fragment),s=D(),o=k("button"),o.innerHTML='<span class="txt">Login</span> <i class="ri-arrow-right-line"></i>',a=D(),u=k("div"),f=k("button"),c=le("Request another OTP"),m(o,"type","submit"),m(o,"class","btn btn-lg btn-block btn-next"),he(o,"btn-disabled",n[9]),he(o,"btn-loading",n[9]),m(t,"class","block"),m(f,"type","button"),m(f,"class","link-hint"),f.disabled=n[9],m(u,"class","content txt-center m-t-sm")},m(b,y){v&&v.m(b,y),S(b,e,y),S(b,t,y),Q(i,t,null),T(t,r),Q(l,t,null),T(t,s),T(t,o),S(b,a,y),S(b,u,y),T(u,f),T(f,c),h=!0,p||(_=[se(t,"submit",ln(n[16])),se(f,"click",n[22])],p=!0)},p(b,y){b[12]?v?v.p(b,y):(v=qS(b),v.c(),v.m(e.parentNode,e)):v&&(v.d(1),v=null);const A={};y&201328656&&(A.$$scope={dirty:y,ctx:b}),i.$set(A);const M={};y&201334784&&(M.$$scope={dirty:y,ctx:b}),l.$set(M),(!h||y&512)&&he(o,"btn-disabled",b[9]),(!h||y&512)&&he(o,"btn-loading",b[9]),(!h||y&512)&&(f.disabled=b[9])},i(b){h||(F(i.$$.fragment,b),F(l.$$.fragment,b),h=!0)},o(b){x(i.$$.fragment,b),x(l.$$.fragment,b),h=!1},d(b){b&&(E(e),E(t),E(a),E(u)),v&&v.d(b),J(i),J(l),p=!1,it(_)}}}function Uge(n){let e,t,i,r,l,s,o;return t=new Pe({props:{class:"form-field required",name:"email",$$slots:{default:[jge,({uniqueId:a})=>({26:a}),({uniqueId:a})=>a?67108864:0]},$$scope:{ctx:n}}}),{c(){e=k("form"),ee(t.$$.fragment),i=D(),r=k("button"),r.innerHTML='<i class="ri-mail-send-line"></i> <span class="txt">Send OTP</span>',m(r,"type","submit"),m(r,"class","btn btn-lg btn-block btn-next"),he(r,"btn-disabled",n[8]),he(r,"btn-loading",n[8]),m(e,"class","block")},m(a,u){S(a,e,u),Q(t,e,null),T(e,i),T(e,r),l=!0,s||(o=se(e,"submit",ln(n[15])),s=!0)},p(a,u){const f={};u&201330688&&(f.$$scope={dirty:u,ctx:a}),t.$set(f),(!l||u&256)&&he(r,"btn-disabled",a[8]),(!l||u&256)&&he(r,"btn-loading",a[8])},i(a){l||(F(t.$$.fragment,a),l=!0)},o(a){x(t.$$.fragment,a),l=!1},d(a){a&&E(e),J(t),s=!1,o()}}}function qS(n){let e,t,i,r,l,s;return{c(){e=k("div"),t=k("p"),i=le("Check your "),r=k("strong"),l=le(n[12]),s=le(` inbox and enter in the input below the received
                        One-time password (OTP).`),m(e,"class","content txt-center m-b-sm")},m(o,a){S(o,e,a),T(e,t),T(t,i),T(t,r),T(r,l),T(t,s)},p(o,a){a&4096&&Se(l,o[12])},d(o){o&&E(e)}}}function zge(n){let e,t,i,r,l,s,o,a;return{c(){e=k("label"),t=le("Id"),r=D(),l=k("input"),m(e,"for",i=n[26]),m(l,"type","text"),m(l,"id",s=n[26]),l.value=n[4],m(l,"placeholder",n[11]),l.required=!0},m(u,f){S(u,e,f),T(e,t),S(u,r,f),S(u,l,f),o||(a=se(l,"change",n[20]),o=!0)},p(u,f){f&67108864&&i!==(i=u[26])&&m(e,"for",i),f&67108864&&s!==(s=u[26])&&m(l,"id",s),f&16&&l.value!==u[4]&&(l.value=u[4]),f&2048&&m(l,"placeholder",u[11])},d(u){u&&(E(e),E(r),E(l)),o=!1,a()}}}function qge(n){let e,t,i,r,l,s,o,a;return{c(){e=k("label"),t=le("One-time password"),r=D(),l=k("input"),m(e,"for",i=n[26]),m(l,"type","password"),m(l,"id",s=n[26]),l.required=!0,l.autofocus=!0},m(u,f){S(u,e,f),T(e,t),S(u,r,f),S(u,l,f),He(l,n[13]),l.focus(),o||(a=se(l,"input",n[21]),o=!0)},p(u,f){f&67108864&&i!==(i=u[26])&&m(e,"for",i),f&67108864&&s!==(s=u[26])&&m(l,"id",s),f&8192&&l.value!==u[13]&&He(l,u[13])},d(u){u&&(E(e),E(r),E(l)),o=!1,a()}}}function jge(n){let e,t,i,r,l,s,o,a;return{c(){e=k("label"),t=le("Email"),r=D(),l=k("input"),m(e,"for",i=n[26]),m(l,"type","email"),m(l,"id",s=n[26]),l.required=!0},m(u,f){S(u,e,f),T(e,t),S(u,r,f),S(u,l,f),He(l,n[12]),o||(a=se(l,"input",n[19]),o=!0)},p(u,f){f&67108864&&i!==(i=u[26])&&m(e,"for",i),f&67108864&&s!==(s=u[26])&&m(l,"id",s),f&4096&&l.value!==u[12]&&He(l,u[12])},d(u){u&&(E(e),E(r),E(l)),o=!1,a()}}}function Wge(n){let e,t=re.sentenize(n[0].password.identityFields.join(" or "),!1)+"",i,r,l,s,o,a,u,f;return{c(){e=k("label"),i=le(t),l=D(),s=k("input"),m(e,"for",r=n[26]),m(s,"id",o=n[26]),m(s,"type",a=n[0].password.identityFields.length==1&&n[0].password.identityFields[0]=="email"?"email":"text"),s.value=n[5],s.required=!0,s.autofocus=!0},m(c,h){S(c,e,h),T(e,i),S(c,l,h),S(c,s,h),s.focus(),u||(f=se(s,"input",n[17]),u=!0)},p(c,h){h&1&&t!==(t=re.sentenize(c[0].password.identityFields.join(" or "),!1)+"")&&Se(i,t),h&67108864&&r!==(r=c[26])&&m(e,"for",r),h&67108864&&o!==(o=c[26])&&m(s,"id",o),h&1&&a!==(a=c[0].password.identityFields.length==1&&c[0].password.identityFields[0]=="email"?"email":"text")&&m(s,"type",a),h&32&&s.value!==c[5]&&(s.value=c[5])},d(c){c&&(E(e),E(l),E(s)),u=!1,f()}}}function Kge(n){let e,t,i,r,l,s,o,a,u,f,c;return{c(){e=k("label"),t=le("Password"),r=D(),l=k("input"),o=D(),a=k("div"),u=k("a"),u.textContent="Forgotten password?",m(e,"for",i=n[26]),m(l,"type","password"),m(l,"id",s=n[26]),l.required=!0,m(u,"href","/request-password-reset"),m(u,"class","link-hint"),m(a,"class","help-block")},m(h,p){S(h,e,p),T(e,t),S(h,r,p),S(h,l,p),He(l,n[6]),S(h,o,p),S(h,a,p),T(a,u),f||(c=[se(l,"input",n[18]),nt(qr.call(null,u))],f=!0)},p(h,p){p&67108864&&i!==(i=h[26])&&m(e,"for",i),p&67108864&&s!==(s=h[26])&&m(l,"id",s),p&64&&l.value!==h[6]&&He(l,h[6])},d(h){h&&(E(e),E(r),E(l),E(o),E(a)),f=!1,it(c)}}}function Vge(n){let e,t,i,r,l,s,o,a,u=n[2]>1&&zS(n);const f=[Bge,Hge,$ge],c=[];function h(p,_){return p[10]?0:p[0].password.enabled&&!p[3]?1:p[0].otp.enabled?2:-1}return~(l=h(n))&&(s=c[l]=f[l](n)),{c(){e=k("div"),t=k("h4"),i=le(`Superuser login
            `),u&&u.c(),r=D(),s&&s.c(),o=ze(),m(e,"class","content txt-center m-b-base")},m(p,_){S(p,e,_),T(e,t),T(t,i),u&&u.m(t,null),S(p,r,_),~l&&c[l].m(p,_),S(p,o,_),a=!0},p(p,_){p[2]>1?u?u.p(p,_):(u=zS(p),u.c(),u.m(t,null)):u&&(u.d(1),u=null);let v=l;l=h(p),l===v?~l&&c[l].p(p,_):(s&&(Ne(),x(c[v],1,1,()=>{c[v]=null}),Me()),~l?(s=c[l],s?s.p(p,_):(s=c[l]=f[l](p),s.c()),F(s,1),s.m(o.parentNode,o)):s=null)},i(p){a||(F(s),a=!0)},o(p){x(s),a=!1},d(p){p&&(E(e),E(r),E(o)),u&&u.d(),~l&&c[l].d(p)}}}function Gge(n){let e,t;return e=new Fge({props:{$$slots:{default:[Vge]},$$scope:{ctx:n}}}),{c(){ee(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,[r]){const l={};r&134234111&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){x(e.$$.fragment,i),t=!1},d(i){J(e,i)}}}function Yge(n,e,t){let i;Wt(n,o_,j=>t(23,i=j));const r=new URLSearchParams(i);let l=r.get("demoEmail")||"",s=r.get("demoPassword")||"",o={},a=1,u=1,f=!1,c=!1,h=!1,p=!1,_="",v="",b="",y="",A="";M();async function M(){if(!p){t(10,p=!0);try{t(0,o=await xe.collection("_superusers").listAuthMethods())}catch(j){xe.error(j)}t(10,p=!1)}}async function N(){var j,W;if(!f){t(7,f=!0);try{await xe.collection("_superusers").authWithPassword(l,s),oc(),mi({}),Hu("/")}catch(G){G.status==401?(t(3,_=G.response.mfaId),((W=(j=o==null?void 0:o.password)==null?void 0:j.identityFields)==null?void 0:W.length)==1&&o.password.identityFields[0]=="email"?(t(12,y=l),await L()):/^[^@\s]+@[^@\s]+$/.test(l)&&t(12,y=l)):G.status!=400?xe.error(G):Ts("Invalid login credentials.")}t(7,f=!1)}}async function L(){if(!c){t(8,c=!0);try{const j=await xe.collection("_superusers").requestOTP(y);t(4,v=j.otpId),t(11,b=v),oc(),mi({})}catch(j){j.status==429&&t(4,v=b),xe.error(j)}t(8,c=!1)}}async function I(){if(!h){t(9,h=!0);try{await xe.collection("_superusers").authWithOTP(v||b,A,{mfaId:_}),oc(),mi({}),Hu("/")}catch(j){xe.error(j)}t(9,h=!1)}}const R=j=>{t(5,l=j.target.value)};function $(){s=this.value,t(6,s)}function B(){y=this.value,t(12,y)}const H=j=>{t(4,v=j.target.value||b),j.target.value=v};function q(){A=this.value,t(13,A)}const z=()=>{t(4,v="")};return n.$$.update=()=>{var j,W;n.$$.dirty&31&&(t(2,u=1),t(1,a=1),(j=o==null?void 0:o.mfa)!=null&&j.enabled&&t(2,u++,u),(W=o==null?void 0:o.otp)!=null&&W.enabled&&t(2,u++,u),_!=""&&t(1,a++,a),v!=""&&t(1,a++,a))},[o,a,u,_,v,l,s,f,c,h,p,b,y,A,N,L,I,R,$,B,H,q,z]}class Xge extends je{constructor(e){super(),qe(this,e,Yge,Gge,We,{})}}function yi(n){if(!n)throw Error("Parameter args is required");if(!n.component==!n.asyncComponent)throw Error("One and only one of component and asyncComponent is required");if(n.component&&(n.asyncComponent=()=>Promise.resolve(n.component)),typeof n.asyncComponent!="function")throw Error("Parameter asyncComponent must be a function");if(n.conditions){Array.isArray(n.conditions)||(n.conditions=[n.conditions]);for(let t=0;t<n.conditions.length;t++)if(!n.conditions[t]||typeof n.conditions[t]!="function")throw Error("Invalid parameter conditions["+t+"]")}return n.loadingComponent&&(n.asyncComponent.loading=n.loadingComponent,n.asyncComponent.loadingParams=n.loadingParams||void 0),{component:n.asyncComponent,userData:n.userData,conditions:n.conditions&&n.conditions.length?n.conditions:void 0,props:n.props&&Object.keys(n.props).length?n.props:{},_sveltesparouter:!0}}const Zge={"/pbinstal/:token":yi({asyncComponent:()=>Dn(()=>import("./PageInstaller-c7owcCz2.js"),[],import.meta.url),conditions:[n=>n.params.token&&!Gh(n.params.token)],userData:{showAppSidebar:!1}}),"/login":yi({component:Xge,conditions:[n=>!xe.authStore.isValid],userData:{showAppSidebar:!1}}),"/request-password-reset":yi({asyncComponent:()=>Dn(()=>import("./PageSuperuserRequestPasswordReset-CblMs1gq.js"),[],import.meta.url),conditions:[n=>!xe.authStore.isValid],userData:{showAppSidebar:!1}}),"/confirm-password-reset/:token":yi({asyncComponent:()=>Dn(()=>import("./PageSuperuserConfirmPasswordReset-ACAiC6cn.js"),[],import.meta.url),conditions:[n=>!xe.authStore.isValid],userData:{showAppSidebar:!1}}),"/collections":yi({component:Npe,conditions:[n=>xe.authStore.isValid],userData:{showAppSidebar:!0}}),"/logs":yi({component:YU,conditions:[n=>xe.authStore.isValid],userData:{showAppSidebar:!0}}),"/settings":yi({component:Ome,conditions:[n=>xe.authStore.isValid],userData:{showAppSidebar:!0}}),"/settings/mail":yi({component:kge,conditions:[n=>xe.authStore.isValid],userData:{showAppSidebar:!0}}),"/settings/storage":yi({component:Lge,conditions:[n=>xe.authStore.isValid],userData:{showAppSidebar:!0}}),"/settings/export-collections":yi({component:P0e,conditions:[n=>xe.authStore.isValid],userData:{showAppSidebar:!0}}),"/settings/import-collections":yi({component:tge,conditions:[n=>xe.authStore.isValid],userData:{showAppSidebar:!0}}),"/settings/backups":yi({component:k0e,conditions:[n=>xe.authStore.isValid],userData:{showAppSidebar:!0}}),"/settings/crons":yi({component:A0e,conditions:[n=>xe.authStore.isValid],userData:{showAppSidebar:!0}}),"/users/confirm-password-reset/:token":yi({asyncComponent:()=>Dn(()=>import("./PageRecordConfirmPasswordReset-DRFjjHkS.js"),[],import.meta.url),userData:{showAppSidebar:!1}}),"/auth/confirm-password-reset/:token":yi({asyncComponent:()=>Dn(()=>import("./PageRecordConfirmPasswordReset-DRFjjHkS.js"),[],import.meta.url),userData:{showAppSidebar:!1}}),"/users/confirm-verification/:token":yi({asyncComponent:()=>Dn(()=>import("./PageRecordConfirmVerification-8qvthclE.js"),[],import.meta.url),userData:{showAppSidebar:!1}}),"/auth/confirm-verification/:token":yi({asyncComponent:()=>Dn(()=>import("./PageRecordConfirmVerification-8qvthclE.js"),[],import.meta.url),userData:{showAppSidebar:!1}}),"/users/confirm-email-change/:token":yi({asyncComponent:()=>Dn(()=>import("./PageRecordConfirmEmailChange-CbjuBUxL.js"),[],import.meta.url),userData:{showAppSidebar:!1}}),"/auth/confirm-email-change/:token":yi({asyncComponent:()=>Dn(()=>import("./PageRecordConfirmEmailChange-CbjuBUxL.js"),[],import.meta.url),userData:{showAppSidebar:!1}}),"/auth/oauth2-redirect-success":yi({asyncComponent:()=>Dn(()=>import("./PageOAuth2RedirectSuccess-lUjk4kD2.js"),[],import.meta.url),userData:{showAppSidebar:!1}}),"/auth/oauth2-redirect-failure":yi({asyncComponent:()=>Dn(()=>import("./PageOAuth2RedirectFailure-BJM_zmIG.js"),[],import.meta.url),userData:{showAppSidebar:!1}}),"*":yi({component:EP,userData:{showAppSidebar:!1}})};function Qge(n){let e;return{c(){e=k("link"),m(e,"rel","shortcut icon"),m(e,"type","image/png"),m(e,"href","./images/favicon/favicon_prod.png")},m(t,i){S(t,e,i)},d(t){t&&E(e)}}}function jS(n){let e,t,i,r,l,s,o,a,u,f,c,h,p=re.getInitials(n[0].email)+"",_,v,b,y,A,M,N;return b=new Ar({props:{class:"dropdown dropdown-nowrap dropdown-upside dropdown-left",$$slots:{default:[Jge]},$$scope:{ctx:n}}}),{c(){e=k("aside"),t=k("a"),t.innerHTML='<img src="./images/logo.svg" alt="PocketBase logo" width="40" height="40"/>',i=D(),r=k("nav"),l=k("a"),l.innerHTML='<i class="ri-database-2-line"></i>',s=D(),o=k("a"),o.innerHTML='<i class="ri-line-chart-line"></i>',a=D(),u=k("a"),u.innerHTML='<i class="ri-tools-line"></i>',f=D(),c=k("div"),h=k("span"),_=le(p),v=D(),ee(b.$$.fragment),m(t,"href","/"),m(t,"class","logo logo-sm"),m(l,"href","/collections"),m(l,"class","menu-item"),m(l,"aria-label","Collections"),m(o,"href","/logs"),m(o,"class","menu-item"),m(o,"aria-label","Logs"),m(u,"href","/settings"),m(u,"class","menu-item"),m(u,"aria-label","Settings"),m(r,"class","main-menu"),m(h,"class","initials"),m(c,"tabindex","0"),m(c,"role","button"),m(c,"aria-label","Logged superuser menu"),m(c,"class","thumb thumb-circle link-hint"),m(c,"title",y=n[0].email),m(e,"class","app-sidebar")},m(L,I){S(L,e,I),T(e,t),T(e,i),T(e,r),T(r,l),T(r,s),T(r,o),T(r,a),T(r,u),T(e,f),T(e,c),T(c,h),T(h,_),T(c,v),Q(b,c,null),A=!0,M||(N=[nt(qr.call(null,t)),nt(qr.call(null,l)),nt(hs.call(null,l,{path:"/collections/?.*",className:"current-route"})),nt(_t.call(null,l,{text:"Collections",position:"right"})),nt(qr.call(null,o)),nt(hs.call(null,o,{path:"/logs/?.*",className:"current-route"})),nt(_t.call(null,o,{text:"Logs",position:"right"})),nt(qr.call(null,u)),nt(hs.call(null,u,{path:"/settings/?.*",className:"current-route"})),nt(_t.call(null,u,{text:"Settings",position:"right"}))],M=!0)},p(L,I){(!A||I&1)&&p!==(p=re.getInitials(L[0].email)+"")&&Se(_,p);const R={};I&4097&&(R.$$scope={dirty:I,ctx:L}),b.$set(R),(!A||I&1&&y!==(y=L[0].email))&&m(c,"title",y)},i(L){A||(F(b.$$.fragment,L),A=!0)},o(L){x(b.$$.fragment,L),A=!1},d(L){L&&E(e),J(b),M=!1,it(N)}}}function Jge(n){let e,t=n[0].email+"",i,r,l,s,o,a,u,f,c,h;return{c(){e=k("div"),i=le(t),l=D(),s=k("hr"),o=D(),a=k("a"),a.innerHTML='<i class="ri-shield-user-line" aria-hidden="true"></i> <span class="txt">Manage superusers</span>',u=D(),f=k("button"),f.innerHTML='<i class="ri-logout-circle-line" aria-hidden="true"></i> <span class="txt">Logout</span>',m(e,"class","txt-ellipsis current-superuser svelte-1ahgi3o"),m(e,"title",r=n[0].email),m(a,"href","/collections?collection=_superusers"),m(a,"class","dropdown-item closable"),m(a,"role","menuitem"),m(f,"type","button"),m(f,"class","dropdown-item closable"),m(f,"role","menuitem")},m(p,_){S(p,e,_),T(e,i),S(p,l,_),S(p,s,_),S(p,o,_),S(p,a,_),S(p,u,_),S(p,f,_),c||(h=[nt(qr.call(null,a)),se(f,"click",n[7])],c=!0)},p(p,_){_&1&&t!==(t=p[0].email+"")&&Se(i,t),_&1&&r!==(r=p[0].email)&&m(e,"title",r)},d(p){p&&(E(e),E(l),E(s),E(o),E(a),E(u),E(f)),c=!1,it(h)}}}function WS(n){let e,t,i;return t=new Jg({props:{conf:re.defaultEditorOptions()}}),t.$on("init",n[8]),{c(){e=k("div"),ee(t.$$.fragment),m(e,"class","tinymce-preloader hidden")},m(r,l){S(r,e,l),Q(t,e,null),i=!0},p:ge,i(r){i||(F(t.$$.fragment,r),i=!0)},o(r){x(t.$$.fragment,r),i=!1},d(r){r&&E(e),J(t)}}}function e_e(n){var A;let e,t,i,r,l,s,o,a,u,f,c,h,p,_;document.title=e=re.joinNonEmpty([n[4],n[3],"PocketBase"]," - ");let v=window.location.protocol=="https:"&&Qge(),b=((A=n[0])==null?void 0:A.id)&&n[1]&&jS(n);o=new vP({props:{routes:Zge}}),o.$on("routeLoading",n[5]),o.$on("conditionsFailed",n[6]),u=new jR({}),c=new MR({});let y=n[1]&&!n[2]&&WS(n);return{c(){v&&v.c(),t=ze(),i=D(),r=k("div"),b&&b.c(),l=D(),s=k("div"),ee(o.$$.fragment),a=D(),ee(u.$$.fragment),f=D(),ee(c.$$.fragment),h=D(),y&&y.c(),p=ze(),m(s,"class","app-body"),m(r,"class","app-layout")},m(M,N){v&&v.m(document.head,null),T(document.head,t),S(M,i,N),S(M,r,N),b&&b.m(r,null),T(r,l),T(r,s),Q(o,s,null),T(s,a),Q(u,s,null),S(M,f,N),Q(c,M,N),S(M,h,N),y&&y.m(M,N),S(M,p,N),_=!0},p(M,[N]){var L;(!_||N&24)&&e!==(e=re.joinNonEmpty([M[4],M[3],"PocketBase"]," - "))&&(document.title=e),(L=M[0])!=null&&L.id&&M[1]?b?(b.p(M,N),N&3&&F(b,1)):(b=jS(M),b.c(),F(b,1),b.m(r,l)):b&&(Ne(),x(b,1,1,()=>{b=null}),Me()),M[1]&&!M[2]?y?(y.p(M,N),N&6&&F(y,1)):(y=WS(M),y.c(),F(y,1),y.m(p.parentNode,p)):y&&(Ne(),x(y,1,1,()=>{y=null}),Me())},i(M){_||(F(b),F(o.$$.fragment,M),F(u.$$.fragment,M),F(c.$$.fragment,M),F(y),_=!0)},o(M){x(b),x(o.$$.fragment,M),x(u.$$.fragment,M),x(c.$$.fragment,M),x(y),_=!1},d(M){M&&(E(i),E(r),E(f),E(h),E(p)),v&&v.d(M),E(t),b&&b.d(),J(o),J(u),J(c,M),y&&y.d(M)}}}function t_e(n,e,t){let i,r,l,s;Wt(n,Sa,v=>t(10,i=v)),Wt(n,ch,v=>t(3,r=v)),Wt(n,Vh,v=>t(0,l=v)),Wt(n,Hi,v=>t(4,s=v));let o,a=!1,u=!1;function f(v){var b,y,A,M;((b=v==null?void 0:v.detail)==null?void 0:b.location)!==o&&(t(1,a=!!((A=(y=v==null?void 0:v.detail)==null?void 0:y.userData)!=null&&A.showAppSidebar)),o=(M=v==null?void 0:v.detail)==null?void 0:M.location,Cr(Hi,s="",s),mi({}),c7())}function c(){Hu("/")}async function h(){var v,b;if(l!=null&&l.id)try{const y=await xe.settings.getAll({$cancelKey:"initialAppSettings"});Cr(ch,r=((v=y==null?void 0:y.meta)==null?void 0:v.appName)||"",r),Cr(Sa,i=!!((b=y==null?void 0:y.meta)!=null&&b.hideControls),i)}catch(y){y!=null&&y.isAbort||console.warn("Failed to load app settings.",y)}}function p(){xe.logout()}const _=()=>{t(2,u=!0)};return n.$$.update=()=>{n.$$.dirty&1&&l!=null&&l.id&&h()},[l,a,u,r,s,f,c,p,_]}class n_e extends je{constructor(e){super(),qe(this,e,t_e,e_e,We,{})}}new n_e({target:document.getElementById("app")});export{di as $,le as A,Dc as B,Ne as C,Me as D,nt as E,Fge as F,qr as G,ge as H,Se as I,re as J,Oi as K,ze as L,t1 as M,Gh as N,Wt as O,Cr as P,hi as Q,Hi as R,je as S,Or as T,Sn as U,ghe as V,C_ as W,Re as X,fn as Y,In as Z,Ol as _,F as a,ri as a0,Bg as a1,Ju as a2,s_e as a3,_t as a4,Ts as b,ee as c,J as d,Ni as e,Pe as f,Iu as g,E as h,qe as i,it as j,he as k,S as l,Q as m,T as n,se as o,xe as p,ln as q,Hu as r,We as s,x as t,k as u,D as v,m as w,ar as x,ye as y,He as z};
